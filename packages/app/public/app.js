var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __require = /* @__PURE__ */ ((x2) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x2, {
  get: (a2, b3) => (typeof require !== "undefined" ? require : a2)[b3]
}) : x2)(function(x2) {
  if (typeof require !== "undefined")
    return require.apply(this, arguments);
  throw new Error('Dynamic require of "' + x2 + '" is not supported');
});
var __commonJS = (cb2, mod) => function __require2() {
  return mod || (0, cb2[__getOwnPropNames(cb2)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key2 of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key2) && key2 !== except)
        __defProp(to, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js
var require_eventemitter3 = __commonJS({
  "../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js"(exports2, module2) {
    "use strict";
    var has = Object.prototype.hasOwnProperty;
    var prefix2 = "~";
    function Events() {
    }
    if (Object.create) {
      Events.prototype = /* @__PURE__ */ Object.create(null);
      if (!new Events().__proto__)
        prefix2 = false;
    }
    function EE(fn, context2, once) {
      this.fn = fn;
      this.context = context2;
      this.once = once || false;
    }
    function addListener(emitter, event, fn, context2, once) {
      if (typeof fn !== "function") {
        throw new TypeError("The listener must be a function");
      }
      var listener = new EE(fn, context2 || emitter, once), evt = prefix2 ? prefix2 + event : event;
      if (!emitter._events[evt])
        emitter._events[evt] = listener, emitter._eventsCount++;
      else if (!emitter._events[evt].fn)
        emitter._events[evt].push(listener);
      else
        emitter._events[evt] = [emitter._events[evt], listener];
      return emitter;
    }
    function clearEvent(emitter, evt) {
      if (--emitter._eventsCount === 0)
        emitter._events = new Events();
      else
        delete emitter._events[evt];
    }
    function EventEmitter() {
      this._events = new Events();
      this._eventsCount = 0;
    }
    EventEmitter.prototype.eventNames = function eventNames() {
      var names = [], events, name;
      if (this._eventsCount === 0)
        return names;
      for (name in events = this._events) {
        if (has.call(events, name))
          names.push(prefix2 ? name.slice(1) : name);
      }
      if (Object.getOwnPropertySymbols) {
        return names.concat(Object.getOwnPropertySymbols(events));
      }
      return names;
    };
    EventEmitter.prototype.listeners = function listeners(event) {
      var evt = prefix2 ? prefix2 + event : event, handlers = this._events[evt];
      if (!handlers)
        return [];
      if (handlers.fn)
        return [handlers.fn];
      for (var i3 = 0, l3 = handlers.length, ee = new Array(l3); i3 < l3; i3++) {
        ee[i3] = handlers[i3].fn;
      }
      return ee;
    };
    EventEmitter.prototype.listenerCount = function listenerCount(event) {
      var evt = prefix2 ? prefix2 + event : event, listeners = this._events[evt];
      if (!listeners)
        return 0;
      if (listeners.fn)
        return 1;
      return listeners.length;
    };
    EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
      var evt = prefix2 ? prefix2 + event : event;
      if (!this._events[evt])
        return false;
      var listeners = this._events[evt], len = arguments.length, args, i3;
      if (listeners.fn) {
        if (listeners.once)
          this.removeListener(event, listeners.fn, void 0, true);
        switch (len) {
          case 1:
            return listeners.fn.call(listeners.context), true;
          case 2:
            return listeners.fn.call(listeners.context, a1), true;
          case 3:
            return listeners.fn.call(listeners.context, a1, a2), true;
          case 4:
            return listeners.fn.call(listeners.context, a1, a2, a3), true;
          case 5:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
          case 6:
            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
        }
        for (i3 = 1, args = new Array(len - 1); i3 < len; i3++) {
          args[i3 - 1] = arguments[i3];
        }
        listeners.fn.apply(listeners.context, args);
      } else {
        var length = listeners.length, j3;
        for (i3 = 0; i3 < length; i3++) {
          if (listeners[i3].once)
            this.removeListener(event, listeners[i3].fn, void 0, true);
          switch (len) {
            case 1:
              listeners[i3].fn.call(listeners[i3].context);
              break;
            case 2:
              listeners[i3].fn.call(listeners[i3].context, a1);
              break;
            case 3:
              listeners[i3].fn.call(listeners[i3].context, a1, a2);
              break;
            case 4:
              listeners[i3].fn.call(listeners[i3].context, a1, a2, a3);
              break;
            default:
              if (!args)
                for (j3 = 1, args = new Array(len - 1); j3 < len; j3++) {
                  args[j3 - 1] = arguments[j3];
                }
              listeners[i3].fn.apply(listeners[i3].context, args);
          }
        }
      }
      return true;
    };
    EventEmitter.prototype.on = function on(event, fn, context2) {
      return addListener(this, event, fn, context2, false);
    };
    EventEmitter.prototype.once = function once(event, fn, context2) {
      return addListener(this, event, fn, context2, true);
    };
    EventEmitter.prototype.removeListener = function removeListener(event, fn, context2, once) {
      var evt = prefix2 ? prefix2 + event : event;
      if (!this._events[evt])
        return this;
      if (!fn) {
        clearEvent(this, evt);
        return this;
      }
      var listeners = this._events[evt];
      if (listeners.fn) {
        if (listeners.fn === fn && (!once || listeners.once) && (!context2 || listeners.context === context2)) {
          clearEvent(this, evt);
        }
      } else {
        for (var i3 = 0, events = [], length = listeners.length; i3 < length; i3++) {
          if (listeners[i3].fn !== fn || once && !listeners[i3].once || context2 && listeners[i3].context !== context2) {
            events.push(listeners[i3]);
          }
        }
        if (events.length)
          this._events[evt] = events.length === 1 ? events[0] : events;
        else
          clearEvent(this, evt);
      }
      return this;
    };
    EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
      var evt;
      if (event) {
        evt = prefix2 ? prefix2 + event : event;
        if (this._events[evt])
          clearEvent(this, evt);
      } else {
        this._events = new Events();
        this._eventsCount = 0;
      }
      return this;
    };
    EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
    EventEmitter.prototype.addListener = EventEmitter.prototype.on;
    EventEmitter.prefixed = prefix2;
    EventEmitter.EventEmitter = EventEmitter;
    if ("undefined" !== typeof module2) {
      module2.exports = EventEmitter;
    }
  }
});

// ../../node_modules/.pnpm/earcut@2.2.4/node_modules/earcut/src/earcut.js
var require_earcut = __commonJS({
  "../../node_modules/.pnpm/earcut@2.2.4/node_modules/earcut/src/earcut.js"(exports2, module2) {
    "use strict";
    module2.exports = earcut;
    module2.exports.default = earcut;
    function earcut(data, holeIndices, dim) {
      dim = dim || 2;
      var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
      if (!outerNode || outerNode.next === outerNode.prev)
        return triangles;
      var minX, minY, maxX, maxY, x2, y2, invSize;
      if (hasHoles)
        outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
      if (data.length > 80 * dim) {
        minX = maxX = data[0];
        minY = maxY = data[1];
        for (var i3 = dim; i3 < outerLen; i3 += dim) {
          x2 = data[i3];
          y2 = data[i3 + 1];
          if (x2 < minX)
            minX = x2;
          if (y2 < minY)
            minY = y2;
          if (x2 > maxX)
            maxX = x2;
          if (y2 > maxY)
            maxY = y2;
        }
        invSize = Math.max(maxX - minX, maxY - minY);
        invSize = invSize !== 0 ? 32767 / invSize : 0;
      }
      earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
      return triangles;
    }
    function linkedList(data, start, end, dim, clockwise) {
      var i3, last;
      if (clockwise === signedArea(data, start, end, dim) > 0) {
        for (i3 = start; i3 < end; i3 += dim)
          last = insertNode(i3, data[i3], data[i3 + 1], last);
      } else {
        for (i3 = end - dim; i3 >= start; i3 -= dim)
          last = insertNode(i3, data[i3], data[i3 + 1], last);
      }
      if (last && equals(last, last.next)) {
        removeNode(last);
        last = last.next;
      }
      return last;
    }
    function filterPoints(start, end) {
      if (!start)
        return start;
      if (!end)
        end = start;
      var p3 = start, again;
      do {
        again = false;
        if (!p3.steiner && (equals(p3, p3.next) || area(p3.prev, p3, p3.next) === 0)) {
          removeNode(p3);
          p3 = end = p3.prev;
          if (p3 === p3.next)
            break;
          again = true;
        } else {
          p3 = p3.next;
        }
      } while (again || p3 !== end);
      return end;
    }
    function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
      if (!ear)
        return;
      if (!pass && invSize)
        indexCurve(ear, minX, minY, invSize);
      var stop = ear, prev, next;
      while (ear.prev !== ear.next) {
        prev = ear.prev;
        next = ear.next;
        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
          triangles.push(prev.i / dim | 0);
          triangles.push(ear.i / dim | 0);
          triangles.push(next.i / dim | 0);
          removeNode(ear);
          ear = next.next;
          stop = next.next;
          continue;
        }
        ear = next;
        if (ear === stop) {
          if (!pass) {
            earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
          } else if (pass === 1) {
            ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
            earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
          } else if (pass === 2) {
            splitEarcut(ear, triangles, dim, minX, minY, invSize);
          }
          break;
        }
      }
    }
    function isEar(ear) {
      var a2 = ear.prev, b3 = ear, c2 = ear.next;
      if (area(a2, b3, c2) >= 0)
        return false;
      var ax = a2.x, bx = b3.x, cx = c2.x, ay = a2.y, by = b3.y, cy = c2.y;
      var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
      var p3 = c2.next;
      while (p3 !== a2) {
        if (p3.x >= x0 && p3.x <= x1 && p3.y >= y0 && p3.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p3.x, p3.y) && area(p3.prev, p3, p3.next) >= 0)
          return false;
        p3 = p3.next;
      }
      return true;
    }
    function isEarHashed(ear, minX, minY, invSize) {
      var a2 = ear.prev, b3 = ear, c2 = ear.next;
      if (area(a2, b3, c2) >= 0)
        return false;
      var ax = a2.x, bx = b3.x, cx = c2.x, ay = a2.y, by = b3.y, cy = c2.y;
      var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
      var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
      var p3 = ear.prevZ, n2 = ear.nextZ;
      while (p3 && p3.z >= minZ && n2 && n2.z <= maxZ) {
        if (p3.x >= x0 && p3.x <= x1 && p3.y >= y0 && p3.y <= y1 && p3 !== a2 && p3 !== c2 && pointInTriangle(ax, ay, bx, by, cx, cy, p3.x, p3.y) && area(p3.prev, p3, p3.next) >= 0)
          return false;
        p3 = p3.prevZ;
        if (n2.x >= x0 && n2.x <= x1 && n2.y >= y0 && n2.y <= y1 && n2 !== a2 && n2 !== c2 && pointInTriangle(ax, ay, bx, by, cx, cy, n2.x, n2.y) && area(n2.prev, n2, n2.next) >= 0)
          return false;
        n2 = n2.nextZ;
      }
      while (p3 && p3.z >= minZ) {
        if (p3.x >= x0 && p3.x <= x1 && p3.y >= y0 && p3.y <= y1 && p3 !== a2 && p3 !== c2 && pointInTriangle(ax, ay, bx, by, cx, cy, p3.x, p3.y) && area(p3.prev, p3, p3.next) >= 0)
          return false;
        p3 = p3.prevZ;
      }
      while (n2 && n2.z <= maxZ) {
        if (n2.x >= x0 && n2.x <= x1 && n2.y >= y0 && n2.y <= y1 && n2 !== a2 && n2 !== c2 && pointInTriangle(ax, ay, bx, by, cx, cy, n2.x, n2.y) && area(n2.prev, n2, n2.next) >= 0)
          return false;
        n2 = n2.nextZ;
      }
      return true;
    }
    function cureLocalIntersections(start, triangles, dim) {
      var p3 = start;
      do {
        var a2 = p3.prev, b3 = p3.next.next;
        if (!equals(a2, b3) && intersects(a2, p3, p3.next, b3) && locallyInside(a2, b3) && locallyInside(b3, a2)) {
          triangles.push(a2.i / dim | 0);
          triangles.push(p3.i / dim | 0);
          triangles.push(b3.i / dim | 0);
          removeNode(p3);
          removeNode(p3.next);
          p3 = start = b3;
        }
        p3 = p3.next;
      } while (p3 !== start);
      return filterPoints(p3);
    }
    function splitEarcut(start, triangles, dim, minX, minY, invSize) {
      var a2 = start;
      do {
        var b3 = a2.next.next;
        while (b3 !== a2.prev) {
          if (a2.i !== b3.i && isValidDiagonal(a2, b3)) {
            var c2 = splitPolygon(a2, b3);
            a2 = filterPoints(a2, a2.next);
            c2 = filterPoints(c2, c2.next);
            earcutLinked(a2, triangles, dim, minX, minY, invSize, 0);
            earcutLinked(c2, triangles, dim, minX, minY, invSize, 0);
            return;
          }
          b3 = b3.next;
        }
        a2 = a2.next;
      } while (a2 !== start);
    }
    function eliminateHoles(data, holeIndices, outerNode, dim) {
      var queue = [], i3, len, start, end, list;
      for (i3 = 0, len = holeIndices.length; i3 < len; i3++) {
        start = holeIndices[i3] * dim;
        end = i3 < len - 1 ? holeIndices[i3 + 1] * dim : data.length;
        list = linkedList(data, start, end, dim, false);
        if (list === list.next)
          list.steiner = true;
        queue.push(getLeftmost(list));
      }
      queue.sort(compareX);
      for (i3 = 0; i3 < queue.length; i3++) {
        outerNode = eliminateHole(queue[i3], outerNode);
      }
      return outerNode;
    }
    function compareX(a2, b3) {
      return a2.x - b3.x;
    }
    function eliminateHole(hole, outerNode) {
      var bridge = findHoleBridge(hole, outerNode);
      if (!bridge) {
        return outerNode;
      }
      var bridgeReverse = splitPolygon(bridge, hole);
      filterPoints(bridgeReverse, bridgeReverse.next);
      return filterPoints(bridge, bridge.next);
    }
    function findHoleBridge(hole, outerNode) {
      var p3 = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m2;
      do {
        if (hy <= p3.y && hy >= p3.next.y && p3.next.y !== p3.y) {
          var x2 = p3.x + (hy - p3.y) * (p3.next.x - p3.x) / (p3.next.y - p3.y);
          if (x2 <= hx && x2 > qx) {
            qx = x2;
            m2 = p3.x < p3.next.x ? p3 : p3.next;
            if (x2 === hx)
              return m2;
          }
        }
        p3 = p3.next;
      } while (p3 !== outerNode);
      if (!m2)
        return null;
      var stop = m2, mx = m2.x, my = m2.y, tanMin = Infinity, tan;
      p3 = m2;
      do {
        if (hx >= p3.x && p3.x >= mx && hx !== p3.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p3.x, p3.y)) {
          tan = Math.abs(hy - p3.y) / (hx - p3.x);
          if (locallyInside(p3, hole) && (tan < tanMin || tan === tanMin && (p3.x > m2.x || p3.x === m2.x && sectorContainsSector(m2, p3)))) {
            m2 = p3;
            tanMin = tan;
          }
        }
        p3 = p3.next;
      } while (p3 !== stop);
      return m2;
    }
    function sectorContainsSector(m2, p3) {
      return area(m2.prev, m2, p3.prev) < 0 && area(p3.next, m2, m2.next) < 0;
    }
    function indexCurve(start, minX, minY, invSize) {
      var p3 = start;
      do {
        if (p3.z === 0)
          p3.z = zOrder(p3.x, p3.y, minX, minY, invSize);
        p3.prevZ = p3.prev;
        p3.nextZ = p3.next;
        p3 = p3.next;
      } while (p3 !== start);
      p3.prevZ.nextZ = null;
      p3.prevZ = null;
      sortLinked(p3);
    }
    function sortLinked(list) {
      var i3, p3, q2, e3, tail, numMerges, pSize, qSize, inSize = 1;
      do {
        p3 = list;
        list = null;
        tail = null;
        numMerges = 0;
        while (p3) {
          numMerges++;
          q2 = p3;
          pSize = 0;
          for (i3 = 0; i3 < inSize; i3++) {
            pSize++;
            q2 = q2.nextZ;
            if (!q2)
              break;
          }
          qSize = inSize;
          while (pSize > 0 || qSize > 0 && q2) {
            if (pSize !== 0 && (qSize === 0 || !q2 || p3.z <= q2.z)) {
              e3 = p3;
              p3 = p3.nextZ;
              pSize--;
            } else {
              e3 = q2;
              q2 = q2.nextZ;
              qSize--;
            }
            if (tail)
              tail.nextZ = e3;
            else
              list = e3;
            e3.prevZ = tail;
            tail = e3;
          }
          p3 = q2;
        }
        tail.nextZ = null;
        inSize *= 2;
      } while (numMerges > 1);
      return list;
    }
    function zOrder(x2, y2, minX, minY, invSize) {
      x2 = (x2 - minX) * invSize | 0;
      y2 = (y2 - minY) * invSize | 0;
      x2 = (x2 | x2 << 8) & 16711935;
      x2 = (x2 | x2 << 4) & 252645135;
      x2 = (x2 | x2 << 2) & 858993459;
      x2 = (x2 | x2 << 1) & 1431655765;
      y2 = (y2 | y2 << 8) & 16711935;
      y2 = (y2 | y2 << 4) & 252645135;
      y2 = (y2 | y2 << 2) & 858993459;
      y2 = (y2 | y2 << 1) & 1431655765;
      return x2 | y2 << 1;
    }
    function getLeftmost(start) {
      var p3 = start, leftmost = start;
      do {
        if (p3.x < leftmost.x || p3.x === leftmost.x && p3.y < leftmost.y)
          leftmost = p3;
        p3 = p3.next;
      } while (p3 !== start);
      return leftmost;
    }
    function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
      return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
    }
    function isValidDiagonal(a2, b3) {
      return a2.next.i !== b3.i && a2.prev.i !== b3.i && !intersectsPolygon(a2, b3) && // dones't intersect other edges
      (locallyInside(a2, b3) && locallyInside(b3, a2) && middleInside(a2, b3) && // locally visible
      (area(a2.prev, a2, b3.prev) || area(a2, b3.prev, b3)) || // does not create opposite-facing sectors
      equals(a2, b3) && area(a2.prev, a2, a2.next) > 0 && area(b3.prev, b3, b3.next) > 0);
    }
    function area(p3, q2, r2) {
      return (q2.y - p3.y) * (r2.x - q2.x) - (q2.x - p3.x) * (r2.y - q2.y);
    }
    function equals(p1, p22) {
      return p1.x === p22.x && p1.y === p22.y;
    }
    function intersects(p1, q1, p22, q2) {
      var o1 = sign2(area(p1, q1, p22));
      var o22 = sign2(area(p1, q1, q2));
      var o3 = sign2(area(p22, q2, p1));
      var o4 = sign2(area(p22, q2, q1));
      if (o1 !== o22 && o3 !== o4)
        return true;
      if (o1 === 0 && onSegment(p1, p22, q1))
        return true;
      if (o22 === 0 && onSegment(p1, q2, q1))
        return true;
      if (o3 === 0 && onSegment(p22, p1, q2))
        return true;
      if (o4 === 0 && onSegment(p22, q1, q2))
        return true;
      return false;
    }
    function onSegment(p3, q2, r2) {
      return q2.x <= Math.max(p3.x, r2.x) && q2.x >= Math.min(p3.x, r2.x) && q2.y <= Math.max(p3.y, r2.y) && q2.y >= Math.min(p3.y, r2.y);
    }
    function sign2(num2) {
      return num2 > 0 ? 1 : num2 < 0 ? -1 : 0;
    }
    function intersectsPolygon(a2, b3) {
      var p3 = a2;
      do {
        if (p3.i !== a2.i && p3.next.i !== a2.i && p3.i !== b3.i && p3.next.i !== b3.i && intersects(p3, p3.next, a2, b3))
          return true;
        p3 = p3.next;
      } while (p3 !== a2);
      return false;
    }
    function locallyInside(a2, b3) {
      return area(a2.prev, a2, a2.next) < 0 ? area(a2, b3, a2.next) >= 0 && area(a2, a2.prev, b3) >= 0 : area(a2, b3, a2.prev) < 0 || area(a2, a2.next, b3) < 0;
    }
    function middleInside(a2, b3) {
      var p3 = a2, inside = false, px = (a2.x + b3.x) / 2, py = (a2.y + b3.y) / 2;
      do {
        if (p3.y > py !== p3.next.y > py && p3.next.y !== p3.y && px < (p3.next.x - p3.x) * (py - p3.y) / (p3.next.y - p3.y) + p3.x)
          inside = !inside;
        p3 = p3.next;
      } while (p3 !== a2);
      return inside;
    }
    function splitPolygon(a2, b3) {
      var a22 = new Node2(a2.i, a2.x, a2.y), b22 = new Node2(b3.i, b3.x, b3.y), an = a2.next, bp = b3.prev;
      a2.next = b3;
      b3.prev = a2;
      a22.next = an;
      an.prev = a22;
      b22.next = a22;
      a22.prev = b22;
      bp.next = b22;
      b22.prev = bp;
      return b22;
    }
    function insertNode(i3, x2, y2, last) {
      var p3 = new Node2(i3, x2, y2);
      if (!last) {
        p3.prev = p3;
        p3.next = p3;
      } else {
        p3.next = last.next;
        p3.prev = last;
        last.next.prev = p3;
        last.next = p3;
      }
      return p3;
    }
    function removeNode(p3) {
      p3.next.prev = p3.prev;
      p3.prev.next = p3.next;
      if (p3.prevZ)
        p3.prevZ.nextZ = p3.nextZ;
      if (p3.nextZ)
        p3.nextZ.prevZ = p3.prevZ;
    }
    function Node2(i3, x2, y2) {
      this.i = i3;
      this.x = x2;
      this.y = y2;
      this.prev = null;
      this.next = null;
      this.z = 0;
      this.prevZ = null;
      this.nextZ = null;
      this.steiner = false;
    }
    earcut.deviation = function(data, holeIndices, dim, triangles) {
      var hasHoles = holeIndices && holeIndices.length;
      var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
      var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
      if (hasHoles) {
        for (var i3 = 0, len = holeIndices.length; i3 < len; i3++) {
          var start = holeIndices[i3] * dim;
          var end = i3 < len - 1 ? holeIndices[i3 + 1] * dim : data.length;
          polygonArea -= Math.abs(signedArea(data, start, end, dim));
        }
      }
      var trianglesArea = 0;
      for (i3 = 0; i3 < triangles.length; i3 += 3) {
        var a2 = triangles[i3] * dim;
        var b3 = triangles[i3 + 1] * dim;
        var c2 = triangles[i3 + 2] * dim;
        trianglesArea += Math.abs(
          (data[a2] - data[c2]) * (data[b3 + 1] - data[a2 + 1]) - (data[a2] - data[b3]) * (data[c2 + 1] - data[a2 + 1])
        );
      }
      return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
    };
    function signedArea(data, start, end, dim) {
      var sum = 0;
      for (var i3 = start, j3 = end - dim; i3 < end; i3 += dim) {
        sum += (data[j3] - data[i3]) * (data[i3 + 1] + data[j3 + 1]);
        j3 = i3;
      }
      return sum;
    }
    earcut.flatten = function(data) {
      var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
      for (var i3 = 0; i3 < data.length; i3++) {
        for (var j3 = 0; j3 < data[i3].length; j3++) {
          for (var d2 = 0; d2 < dim; d2++)
            result.vertices.push(data[i3][j3][d2]);
        }
        if (i3 > 0) {
          holeIndex += data[i3 - 1].length;
          result.holes.push(holeIndex);
        }
      }
      return result;
    };
  }
});

// ../../node_modules/.pnpm/punycode@1.4.1/node_modules/punycode/punycode.js
var require_punycode = __commonJS({
  "../../node_modules/.pnpm/punycode@1.4.1/node_modules/punycode/punycode.js"(exports2, module2) {
    (function(root) {
      var freeExports = typeof exports2 == "object" && exports2 && !exports2.nodeType && exports2;
      var freeModule = typeof module2 == "object" && module2 && !module2.nodeType && module2;
      var freeGlobal = typeof global == "object" && global;
      if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {
        root = freeGlobal;
      }
      var punycode, maxInt = 2147483647, base = 36, tMin = 1, tMax = 26, skew = 38, damp = 700, initialBias = 72, initialN = 128, delimiter = "-", regexPunycode = /^xn--/, regexNonASCII = /[^\x20-\x7E]/, regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, errors = {
        "overflow": "Overflow: input needs wider integers to process",
        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
        "invalid-input": "Invalid input"
      }, baseMinusTMin = base - tMin, floor = Math.floor, stringFromCharCode = String.fromCharCode, key2;
      function error(type2) {
        throw new RangeError(errors[type2]);
      }
      function map4(array, fn) {
        var length = array.length;
        var result = [];
        while (length--) {
          result[length] = fn(array[length]);
        }
        return result;
      }
      function mapDomain(string, fn) {
        var parts = string.split("@");
        var result = "";
        if (parts.length > 1) {
          result = parts[0] + "@";
          string = parts[1];
        }
        string = string.replace(regexSeparators, ".");
        var labels = string.split(".");
        var encoded = map4(labels, fn).join(".");
        return result + encoded;
      }
      function ucs2decode(string) {
        var output = [], counter = 0, length = string.length, value, extra;
        while (counter < length) {
          value = string.charCodeAt(counter++);
          if (value >= 55296 && value <= 56319 && counter < length) {
            extra = string.charCodeAt(counter++);
            if ((extra & 64512) == 56320) {
              output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
            } else {
              output.push(value);
              counter--;
            }
          } else {
            output.push(value);
          }
        }
        return output;
      }
      function ucs2encode(array) {
        return map4(array, function(value) {
          var output = "";
          if (value > 65535) {
            value -= 65536;
            output += stringFromCharCode(value >>> 10 & 1023 | 55296);
            value = 56320 | value & 1023;
          }
          output += stringFromCharCode(value);
          return output;
        }).join("");
      }
      function basicToDigit(codePoint) {
        if (codePoint - 48 < 10) {
          return codePoint - 22;
        }
        if (codePoint - 65 < 26) {
          return codePoint - 65;
        }
        if (codePoint - 97 < 26) {
          return codePoint - 97;
        }
        return base;
      }
      function digitToBasic(digit, flag) {
        return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
      }
      function adapt(delta, numPoints, firstTime) {
        var k3 = 0;
        delta = firstTime ? floor(delta / damp) : delta >> 1;
        delta += floor(delta / numPoints);
        for (; delta > baseMinusTMin * tMax >> 1; k3 += base) {
          delta = floor(delta / baseMinusTMin);
        }
        return floor(k3 + (baseMinusTMin + 1) * delta / (delta + skew));
      }
      function decode(input) {
        var output = [], inputLength = input.length, out, i3 = 0, n2 = initialN, bias = initialBias, basic, j3, index, oldi, w3, k3, digit, t2, baseMinusT;
        basic = input.lastIndexOf(delimiter);
        if (basic < 0) {
          basic = 0;
        }
        for (j3 = 0; j3 < basic; ++j3) {
          if (input.charCodeAt(j3) >= 128) {
            error("not-basic");
          }
          output.push(input.charCodeAt(j3));
        }
        for (index = basic > 0 ? basic + 1 : 0; index < inputLength; ) {
          for (oldi = i3, w3 = 1, k3 = base; ; k3 += base) {
            if (index >= inputLength) {
              error("invalid-input");
            }
            digit = basicToDigit(input.charCodeAt(index++));
            if (digit >= base || digit > floor((maxInt - i3) / w3)) {
              error("overflow");
            }
            i3 += digit * w3;
            t2 = k3 <= bias ? tMin : k3 >= bias + tMax ? tMax : k3 - bias;
            if (digit < t2) {
              break;
            }
            baseMinusT = base - t2;
            if (w3 > floor(maxInt / baseMinusT)) {
              error("overflow");
            }
            w3 *= baseMinusT;
          }
          out = output.length + 1;
          bias = adapt(i3 - oldi, out, oldi == 0);
          if (floor(i3 / out) > maxInt - n2) {
            error("overflow");
          }
          n2 += floor(i3 / out);
          i3 %= out;
          output.splice(i3++, 0, n2);
        }
        return ucs2encode(output);
      }
      function encode(input) {
        var n2, delta, handledCPCount, basicLength, bias, j3, m2, q2, k3, t2, currentValue, output = [], inputLength, handledCPCountPlusOne, baseMinusT, qMinusT;
        input = ucs2decode(input);
        inputLength = input.length;
        n2 = initialN;
        delta = 0;
        bias = initialBias;
        for (j3 = 0; j3 < inputLength; ++j3) {
          currentValue = input[j3];
          if (currentValue < 128) {
            output.push(stringFromCharCode(currentValue));
          }
        }
        handledCPCount = basicLength = output.length;
        if (basicLength) {
          output.push(delimiter);
        }
        while (handledCPCount < inputLength) {
          for (m2 = maxInt, j3 = 0; j3 < inputLength; ++j3) {
            currentValue = input[j3];
            if (currentValue >= n2 && currentValue < m2) {
              m2 = currentValue;
            }
          }
          handledCPCountPlusOne = handledCPCount + 1;
          if (m2 - n2 > floor((maxInt - delta) / handledCPCountPlusOne)) {
            error("overflow");
          }
          delta += (m2 - n2) * handledCPCountPlusOne;
          n2 = m2;
          for (j3 = 0; j3 < inputLength; ++j3) {
            currentValue = input[j3];
            if (currentValue < n2 && ++delta > maxInt) {
              error("overflow");
            }
            if (currentValue == n2) {
              for (q2 = delta, k3 = base; ; k3 += base) {
                t2 = k3 <= bias ? tMin : k3 >= bias + tMax ? tMax : k3 - bias;
                if (q2 < t2) {
                  break;
                }
                qMinusT = q2 - t2;
                baseMinusT = base - t2;
                output.push(
                  stringFromCharCode(digitToBasic(t2 + qMinusT % baseMinusT, 0))
                );
                q2 = floor(qMinusT / baseMinusT);
              }
              output.push(stringFromCharCode(digitToBasic(q2, 0)));
              bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
              delta = 0;
              ++handledCPCount;
            }
          }
          ++delta;
          ++n2;
        }
        return output.join("");
      }
      function toUnicode(input) {
        return mapDomain(input, function(string) {
          return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
        });
      }
      function toASCII(input) {
        return mapDomain(input, function(string) {
          return regexNonASCII.test(string) ? "xn--" + encode(string) : string;
        });
      }
      punycode = {
        /**
         * A string representing the current Punycode.js version number.
         * @memberOf punycode
         * @type String
         */
        "version": "1.4.1",
        /**
         * An object of methods to convert from JavaScript's internal character
         * representation (UCS-2) to Unicode code points, and back.
         * @see <https://mathiasbynens.be/notes/javascript-encoding>
         * @memberOf punycode
         * @type Object
         */
        "ucs2": {
          "decode": ucs2decode,
          "encode": ucs2encode
        },
        "decode": decode,
        "encode": encode,
        "toASCII": toASCII,
        "toUnicode": toUnicode
      };
      if (typeof define == "function" && typeof define.amd == "object" && define.amd) {
        define("punycode", function() {
          return punycode;
        });
      } else if (freeExports && freeModule) {
        if (module2.exports == freeExports) {
          freeModule.exports = punycode;
        } else {
          for (key2 in punycode) {
            punycode.hasOwnProperty(key2) && (freeExports[key2] = punycode[key2]);
          }
        }
      } else {
        root.punycode = punycode;
      }
    })(exports2);
  }
});

// ../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js"(exports2, module2) {
    "use strict";
    module2.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// ../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "../../node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js"(exports2, module2) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module2.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// ../../node_modules/.pnpm/has-proto@1.0.1/node_modules/has-proto/index.js
var require_has_proto = __commonJS({
  "../../node_modules/.pnpm/has-proto@1.0.1/node_modules/has-proto/index.js"(exports2, module2) {
    "use strict";
    var test = {
      foo: {}
    };
    var $Object = Object;
    module2.exports = function hasProto() {
      return { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);
    };
  }
});

// ../../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/implementation.js
var require_implementation = __commonJS({
  "../../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/implementation.js"(exports2, module2) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var slice = Array.prototype.slice;
    var toStr = Object.prototype.toString;
    var funcType = "[object Function]";
    module2.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slice.call(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(
            this,
            args.concat(slice.call(arguments))
          );
          if (Object(result) === result) {
            return result;
          }
          return this;
        } else {
          return target.apply(
            that,
            args.concat(slice.call(arguments))
          );
        }
      };
      var boundLength = Math.max(0, target.length - args.length);
      var boundArgs = [];
      for (var i3 = 0; i3 < boundLength; i3++) {
        boundArgs.push("$" + i3);
      }
      bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// ../../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "../../node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/index.js"(exports2, module2) {
    "use strict";
    var implementation = require_implementation();
    module2.exports = Function.prototype.bind || implementation;
  }
});

// ../../node_modules/.pnpm/has@1.0.3/node_modules/has/src/index.js
var require_src = __commonJS({
  "../../node_modules/.pnpm/has@1.0.3/node_modules/has/src/index.js"(exports2, module2) {
    "use strict";
    var bind = require_function_bind();
    module2.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
  }
});

// ../../node_modules/.pnpm/get-intrinsic@1.2.1/node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "../../node_modules/.pnpm/get-intrinsic@1.2.1/node_modules/get-intrinsic/index.js"(exports2, module2) {
    "use strict";
    var undefined2;
    var $SyntaxError = SyntaxError;
    var $Function = Function;
    var $TypeError = TypeError;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e3) {
      }
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) {
      try {
        $gOPD({}, "");
      } catch (e3) {
        $gOPD = null;
      }
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var hasProto = require_has_proto()();
    var getProto = Object.getPrototypeOf || (hasProto ? function(x2) {
      return x2.__proto__;
    } : null);
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" || !getProto ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%BigInt64Array%": typeof BigInt64Array === "undefined" ? undefined2 : BigInt64Array,
      "%BigUint64Array%": typeof BigUint64Array === "undefined" ? undefined2 : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": Error,
      "%eval%": eval,
      // eslint-disable-line no-eval
      "%EvalError%": EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": RangeError,
      "%ReferenceError%": ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet
    };
    if (getProto) {
      try {
        null.error;
      } catch (e3) {
        errorProto = getProto(getProto(e3));
        INTRINSICS["%Error.prototype%"] = errorProto;
      }
    }
    var errorProto;
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen && getProto) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_src();
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var $exec = bind.call(Function.call, RegExp.prototype.exec);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module2.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      if ($exec(/^%?[^%]*%?$/, name) === null) {
        throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i3 = 1, isOwn = true; i3 < parts.length; i3 += 1) {
        var part = parts[i3];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i3 + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// ../../node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "../../node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/index.js"(exports2, module2) {
    "use strict";
    var bind = require_function_bind();
    var GetIntrinsic = require_get_intrinsic();
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true);
    var $max = GetIntrinsic("%Math.max%");
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e3) {
        $defineProperty = null;
      }
    }
    module2.exports = function callBind(originalFunction) {
      var func2 = $reflectApply(bind, $call, arguments);
      if ($gOPD && $defineProperty) {
        var desc = $gOPD(func2, "length");
        if (desc.configurable) {
          $defineProperty(
            func2,
            "length",
            { value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }
          );
        }
      }
      return func2;
    };
    var applyBind = function applyBind2() {
      return $reflectApply(bind, $apply, arguments);
    };
    if ($defineProperty) {
      $defineProperty(module2.exports, "apply", { value: applyBind });
    } else {
      module2.exports.apply = applyBind;
    }
  }
});

// ../../node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/callBound.js
var require_callBound = __commonJS({
  "../../node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/callBound.js"(exports2, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module2.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBind(intrinsic);
      }
      return intrinsic;
    };
  }
});

// (disabled):../../node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/util.inspect
var require_util = __commonJS({
  "(disabled):../../node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/util.inspect"() {
  }
});

// ../../node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/index.js
var require_object_inspect = __commonJS({
  "../../node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/index.js"(exports2, module2) {
    var hasMap = typeof Map === "function" && Map.prototype;
    var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null;
    var mapSize2 = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === "function" ? mapSizeDescriptor.get : null;
    var mapForEach = hasMap && Map.prototype.forEach;
    var hasSet = typeof Set === "function" && Set.prototype;
    var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null;
    var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === "function" ? setSizeDescriptor.get : null;
    var setForEach = hasSet && Set.prototype.forEach;
    var hasWeakMap = typeof WeakMap === "function" && WeakMap.prototype;
    var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
    var hasWeakSet = typeof WeakSet === "function" && WeakSet.prototype;
    var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
    var hasWeakRef = typeof WeakRef === "function" && WeakRef.prototype;
    var weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;
    var booleanValueOf = Boolean.prototype.valueOf;
    var objectToString = Object.prototype.toString;
    var functionToString = Function.prototype.toString;
    var $match = String.prototype.match;
    var $slice = String.prototype.slice;
    var $replace = String.prototype.replace;
    var $toUpperCase = String.prototype.toUpperCase;
    var $toLowerCase = String.prototype.toLowerCase;
    var $test = RegExp.prototype.test;
    var $concat = Array.prototype.concat;
    var $join = Array.prototype.join;
    var $arrSlice = Array.prototype.slice;
    var $floor = Math.floor;
    var bigIntValueOf = typeof BigInt === "function" ? BigInt.prototype.valueOf : null;
    var gOPS = Object.getOwnPropertySymbols;
    var symToString = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? Symbol.prototype.toString : null;
    var hasShammedSymbols = typeof Symbol === "function" && typeof Symbol.iterator === "object";
    var toStringTag = typeof Symbol === "function" && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? "object" : "symbol") ? Symbol.toStringTag : null;
    var isEnumerable = Object.prototype.propertyIsEnumerable;
    var gPO = (typeof Reflect === "function" ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(O) {
      return O.__proto__;
    } : null);
    function addNumericSeparator(num2, str) {
      if (num2 === Infinity || num2 === -Infinity || num2 !== num2 || num2 && num2 > -1e3 && num2 < 1e3 || $test.call(/e/, str)) {
        return str;
      }
      var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
      if (typeof num2 === "number") {
        var int = num2 < 0 ? -$floor(-num2) : $floor(num2);
        if (int !== num2) {
          var intStr = String(int);
          var dec = $slice.call(str, intStr.length + 1);
          return $replace.call(intStr, sepRegex, "$&_") + "." + $replace.call($replace.call(dec, /([0-9]{3})/g, "$&_"), /_$/, "");
        }
      }
      return $replace.call(str, sepRegex, "$&_");
    }
    var utilInspect = require_util();
    var inspectCustom = utilInspect.custom;
    var inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;
    module2.exports = function inspect_(obj, options, depth, seen) {
      var opts = options || {};
      if (has(opts, "quoteStyle") && (opts.quoteStyle !== "single" && opts.quoteStyle !== "double")) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
      }
      if (has(opts, "maxStringLength") && (typeof opts.maxStringLength === "number" ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity : opts.maxStringLength !== null)) {
        throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
      }
      var customInspect = has(opts, "customInspect") ? opts.customInspect : true;
      if (typeof customInspect !== "boolean" && customInspect !== "symbol") {
        throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
      }
      if (has(opts, "indent") && opts.indent !== null && opts.indent !== "	" && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)) {
        throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
      }
      if (has(opts, "numericSeparator") && typeof opts.numericSeparator !== "boolean") {
        throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
      }
      var numericSeparator = opts.numericSeparator;
      if (typeof obj === "undefined") {
        return "undefined";
      }
      if (obj === null) {
        return "null";
      }
      if (typeof obj === "boolean") {
        return obj ? "true" : "false";
      }
      if (typeof obj === "string") {
        return inspectString(obj, opts);
      }
      if (typeof obj === "number") {
        if (obj === 0) {
          return Infinity / obj > 0 ? "0" : "-0";
        }
        var str = String(obj);
        return numericSeparator ? addNumericSeparator(obj, str) : str;
      }
      if (typeof obj === "bigint") {
        var bigIntStr = String(obj) + "n";
        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;
      }
      var maxDepth = typeof opts.depth === "undefined" ? 5 : opts.depth;
      if (typeof depth === "undefined") {
        depth = 0;
      }
      if (depth >= maxDepth && maxDepth > 0 && typeof obj === "object") {
        return isArray(obj) ? "[Array]" : "[Object]";
      }
      var indent = getIndent(opts, depth);
      if (typeof seen === "undefined") {
        seen = [];
      } else if (indexOf(seen, obj) >= 0) {
        return "[Circular]";
      }
      function inspect(value, from, noIndent) {
        if (from) {
          seen = $arrSlice.call(seen);
          seen.push(from);
        }
        if (noIndent) {
          var newOpts = {
            depth: opts.depth
          };
          if (has(opts, "quoteStyle")) {
            newOpts.quoteStyle = opts.quoteStyle;
          }
          return inspect_(value, newOpts, depth + 1, seen);
        }
        return inspect_(value, opts, depth + 1, seen);
      }
      if (typeof obj === "function" && !isRegExp(obj)) {
        var name = nameOf(obj);
        var keys = arrObjKeys(obj, inspect);
        return "[Function" + (name ? ": " + name : " (anonymous)") + "]" + (keys.length > 0 ? " { " + $join.call(keys, ", ") + " }" : "");
      }
      if (isSymbol(obj)) {
        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\(.*\))_[^)]*$/, "$1") : symToString.call(obj);
        return typeof obj === "object" && !hasShammedSymbols ? markBoxed(symString) : symString;
      }
      if (isElement(obj)) {
        var s2 = "<" + $toLowerCase.call(String(obj.nodeName));
        var attrs = obj.attributes || [];
        for (var i3 = 0; i3 < attrs.length; i3++) {
          s2 += " " + attrs[i3].name + "=" + wrapQuotes(quote(attrs[i3].value), "double", opts);
        }
        s2 += ">";
        if (obj.childNodes && obj.childNodes.length) {
          s2 += "...";
        }
        s2 += "</" + $toLowerCase.call(String(obj.nodeName)) + ">";
        return s2;
      }
      if (isArray(obj)) {
        if (obj.length === 0) {
          return "[]";
        }
        var xs = arrObjKeys(obj, inspect);
        if (indent && !singleLineValues(xs)) {
          return "[" + indentedJoin(xs, indent) + "]";
        }
        return "[ " + $join.call(xs, ", ") + " ]";
      }
      if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (!("cause" in Error.prototype) && "cause" in obj && !isEnumerable.call(obj, "cause")) {
          return "{ [" + String(obj) + "] " + $join.call($concat.call("[cause]: " + inspect(obj.cause), parts), ", ") + " }";
        }
        if (parts.length === 0) {
          return "[" + String(obj) + "]";
        }
        return "{ [" + String(obj) + "] " + $join.call(parts, ", ") + " }";
      }
      if (typeof obj === "object" && customInspect) {
        if (inspectSymbol && typeof obj[inspectSymbol] === "function" && utilInspect) {
          return utilInspect(obj, { depth: maxDepth - depth });
        } else if (customInspect !== "symbol" && typeof obj.inspect === "function") {
          return obj.inspect();
        }
      }
      if (isMap(obj)) {
        var mapParts = [];
        if (mapForEach) {
          mapForEach.call(obj, function(value, key2) {
            mapParts.push(inspect(key2, obj, true) + " => " + inspect(value, obj));
          });
        }
        return collectionOf("Map", mapSize2.call(obj), mapParts, indent);
      }
      if (isSet(obj)) {
        var setParts = [];
        if (setForEach) {
          setForEach.call(obj, function(value) {
            setParts.push(inspect(value, obj));
          });
        }
        return collectionOf("Set", setSize.call(obj), setParts, indent);
      }
      if (isWeakMap(obj)) {
        return weakCollectionOf("WeakMap");
      }
      if (isWeakSet(obj)) {
        return weakCollectionOf("WeakSet");
      }
      if (isWeakRef(obj)) {
        return weakCollectionOf("WeakRef");
      }
      if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
      }
      if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
      }
      if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
      }
      if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
      }
      if (!isDate(obj) && !isRegExp(obj)) {
        var ys = arrObjKeys(obj, inspect);
        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;
        var protoTag = obj instanceof Object ? "" : "null prototype";
        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? "Object" : "";
        var constructorTag = isPlainObject || typeof obj.constructor !== "function" ? "" : obj.constructor.name ? obj.constructor.name + " " : "";
        var tag = constructorTag + (stringTag || protoTag ? "[" + $join.call($concat.call([], stringTag || [], protoTag || []), ": ") + "] " : "");
        if (ys.length === 0) {
          return tag + "{}";
        }
        if (indent) {
          return tag + "{" + indentedJoin(ys, indent) + "}";
        }
        return tag + "{ " + $join.call(ys, ", ") + " }";
      }
      return String(obj);
    };
    function wrapQuotes(s2, defaultStyle, opts) {
      var quoteChar = (opts.quoteStyle || defaultStyle) === "double" ? '"' : "'";
      return quoteChar + s2 + quoteChar;
    }
    function quote(s2) {
      return $replace.call(String(s2), /"/g, "&quot;");
    }
    function isArray(obj) {
      return toStr(obj) === "[object Array]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isDate(obj) {
      return toStr(obj) === "[object Date]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isRegExp(obj) {
      return toStr(obj) === "[object RegExp]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isError(obj) {
      return toStr(obj) === "[object Error]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isString(obj) {
      return toStr(obj) === "[object String]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isNumber(obj) {
      return toStr(obj) === "[object Number]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isBoolean(obj) {
      return toStr(obj) === "[object Boolean]" && (!toStringTag || !(typeof obj === "object" && toStringTag in obj));
    }
    function isSymbol(obj) {
      if (hasShammedSymbols) {
        return obj && typeof obj === "object" && obj instanceof Symbol;
      }
      if (typeof obj === "symbol") {
        return true;
      }
      if (!obj || typeof obj !== "object" || !symToString) {
        return false;
      }
      try {
        symToString.call(obj);
        return true;
      } catch (e3) {
      }
      return false;
    }
    function isBigInt(obj) {
      if (!obj || typeof obj !== "object" || !bigIntValueOf) {
        return false;
      }
      try {
        bigIntValueOf.call(obj);
        return true;
      } catch (e3) {
      }
      return false;
    }
    var hasOwn = Object.prototype.hasOwnProperty || function(key2) {
      return key2 in this;
    };
    function has(obj, key2) {
      return hasOwn.call(obj, key2);
    }
    function toStr(obj) {
      return objectToString.call(obj);
    }
    function nameOf(f4) {
      if (f4.name) {
        return f4.name;
      }
      var m2 = $match.call(functionToString.call(f4), /^function\s*([\w$]+)/);
      if (m2) {
        return m2[1];
      }
      return null;
    }
    function indexOf(xs, x2) {
      if (xs.indexOf) {
        return xs.indexOf(x2);
      }
      for (var i3 = 0, l3 = xs.length; i3 < l3; i3++) {
        if (xs[i3] === x2) {
          return i3;
        }
      }
      return -1;
    }
    function isMap(x2) {
      if (!mapSize2 || !x2 || typeof x2 !== "object") {
        return false;
      }
      try {
        mapSize2.call(x2);
        try {
          setSize.call(x2);
        } catch (s2) {
          return true;
        }
        return x2 instanceof Map;
      } catch (e3) {
      }
      return false;
    }
    function isWeakMap(x2) {
      if (!weakMapHas || !x2 || typeof x2 !== "object") {
        return false;
      }
      try {
        weakMapHas.call(x2, weakMapHas);
        try {
          weakSetHas.call(x2, weakSetHas);
        } catch (s2) {
          return true;
        }
        return x2 instanceof WeakMap;
      } catch (e3) {
      }
      return false;
    }
    function isWeakRef(x2) {
      if (!weakRefDeref || !x2 || typeof x2 !== "object") {
        return false;
      }
      try {
        weakRefDeref.call(x2);
        return true;
      } catch (e3) {
      }
      return false;
    }
    function isSet(x2) {
      if (!setSize || !x2 || typeof x2 !== "object") {
        return false;
      }
      try {
        setSize.call(x2);
        try {
          mapSize2.call(x2);
        } catch (m2) {
          return true;
        }
        return x2 instanceof Set;
      } catch (e3) {
      }
      return false;
    }
    function isWeakSet(x2) {
      if (!weakSetHas || !x2 || typeof x2 !== "object") {
        return false;
      }
      try {
        weakSetHas.call(x2, weakSetHas);
        try {
          weakMapHas.call(x2, weakMapHas);
        } catch (s2) {
          return true;
        }
        return x2 instanceof WeakSet;
      } catch (e3) {
      }
      return false;
    }
    function isElement(x2) {
      if (!x2 || typeof x2 !== "object") {
        return false;
      }
      if (typeof HTMLElement !== "undefined" && x2 instanceof HTMLElement) {
        return true;
      }
      return typeof x2.nodeName === "string" && typeof x2.getAttribute === "function";
    }
    function inspectString(str, opts) {
      if (str.length > opts.maxStringLength) {
        var remaining = str.length - opts.maxStringLength;
        var trailer = "... " + remaining + " more character" + (remaining > 1 ? "s" : "");
        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;
      }
      var s2 = $replace.call($replace.call(str, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, lowbyte);
      return wrapQuotes(s2, "single", opts);
    }
    function lowbyte(c2) {
      var n2 = c2.charCodeAt(0);
      var x2 = {
        8: "b",
        9: "t",
        10: "n",
        12: "f",
        13: "r"
      }[n2];
      if (x2) {
        return "\\" + x2;
      }
      return "\\x" + (n2 < 16 ? "0" : "") + $toUpperCase.call(n2.toString(16));
    }
    function markBoxed(str) {
      return "Object(" + str + ")";
    }
    function weakCollectionOf(type2) {
      return type2 + " { ? }";
    }
    function collectionOf(type2, size, entries, indent) {
      var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ", ");
      return type2 + " (" + size + ") {" + joinedEntries + "}";
    }
    function singleLineValues(xs) {
      for (var i3 = 0; i3 < xs.length; i3++) {
        if (indexOf(xs[i3], "\n") >= 0) {
          return false;
        }
      }
      return true;
    }
    function getIndent(opts, depth) {
      var baseIndent;
      if (opts.indent === "	") {
        baseIndent = "	";
      } else if (typeof opts.indent === "number" && opts.indent > 0) {
        baseIndent = $join.call(Array(opts.indent + 1), " ");
      } else {
        return null;
      }
      return {
        base: baseIndent,
        prev: $join.call(Array(depth + 1), baseIndent)
      };
    }
    function indentedJoin(xs, indent) {
      if (xs.length === 0) {
        return "";
      }
      var lineJoiner = "\n" + indent.prev + indent.base;
      return lineJoiner + $join.call(xs, "," + lineJoiner) + "\n" + indent.prev;
    }
    function arrObjKeys(obj, inspect) {
      var isArr = isArray(obj);
      var xs = [];
      if (isArr) {
        xs.length = obj.length;
        for (var i3 = 0; i3 < obj.length; i3++) {
          xs[i3] = has(obj, i3) ? inspect(obj[i3], obj) : "";
        }
      }
      var syms = typeof gOPS === "function" ? gOPS(obj) : [];
      var symMap;
      if (hasShammedSymbols) {
        symMap = {};
        for (var k3 = 0; k3 < syms.length; k3++) {
          symMap["$" + syms[k3]] = syms[k3];
        }
      }
      for (var key2 in obj) {
        if (!has(obj, key2)) {
          continue;
        }
        if (isArr && String(Number(key2)) === key2 && key2 < obj.length) {
          continue;
        }
        if (hasShammedSymbols && symMap["$" + key2] instanceof Symbol) {
          continue;
        } else if ($test.call(/[^\w$]/, key2)) {
          xs.push(inspect(key2, obj) + ": " + inspect(obj[key2], obj));
        } else {
          xs.push(key2 + ": " + inspect(obj[key2], obj));
        }
      }
      if (typeof gOPS === "function") {
        for (var j3 = 0; j3 < syms.length; j3++) {
          if (isEnumerable.call(obj, syms[j3])) {
            xs.push("[" + inspect(syms[j3]) + "]: " + inspect(obj[syms[j3]], obj));
          }
        }
      }
      return xs;
    }
  }
});

// ../../node_modules/.pnpm/side-channel@1.0.4/node_modules/side-channel/index.js
var require_side_channel = __commonJS({
  "../../node_modules/.pnpm/side-channel@1.0.4/node_modules/side-channel/index.js"(exports2, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBound = require_callBound();
    var inspect = require_object_inspect();
    var $TypeError = GetIntrinsic("%TypeError%");
    var $WeakMap = GetIntrinsic("%WeakMap%", true);
    var $Map = GetIntrinsic("%Map%", true);
    var $weakMapGet = callBound("WeakMap.prototype.get", true);
    var $weakMapSet = callBound("WeakMap.prototype.set", true);
    var $weakMapHas = callBound("WeakMap.prototype.has", true);
    var $mapGet = callBound("Map.prototype.get", true);
    var $mapSet = callBound("Map.prototype.set", true);
    var $mapHas = callBound("Map.prototype.has", true);
    var listGetNode = function(list, key2) {
      for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {
        if (curr.key === key2) {
          prev.next = curr.next;
          curr.next = list.next;
          list.next = curr;
          return curr;
        }
      }
    };
    var listGet = function(objects, key2) {
      var node = listGetNode(objects, key2);
      return node && node.value;
    };
    var listSet = function(objects, key2, value) {
      var node = listGetNode(objects, key2);
      if (node) {
        node.value = value;
      } else {
        objects.next = {
          // eslint-disable-line no-param-reassign
          key: key2,
          next: objects.next,
          value
        };
      }
    };
    var listHas = function(objects, key2) {
      return !!listGetNode(objects, key2);
    };
    module2.exports = function getSideChannel() {
      var $wm;
      var $m;
      var $o;
      var channel = {
        assert: function(key2) {
          if (!channel.has(key2)) {
            throw new $TypeError("Side channel does not contain " + inspect(key2));
          }
        },
        get: function(key2) {
          if ($WeakMap && key2 && (typeof key2 === "object" || typeof key2 === "function")) {
            if ($wm) {
              return $weakMapGet($wm, key2);
            }
          } else if ($Map) {
            if ($m) {
              return $mapGet($m, key2);
            }
          } else {
            if ($o) {
              return listGet($o, key2);
            }
          }
        },
        has: function(key2) {
          if ($WeakMap && key2 && (typeof key2 === "object" || typeof key2 === "function")) {
            if ($wm) {
              return $weakMapHas($wm, key2);
            }
          } else if ($Map) {
            if ($m) {
              return $mapHas($m, key2);
            }
          } else {
            if ($o) {
              return listHas($o, key2);
            }
          }
          return false;
        },
        set: function(key2, value) {
          if ($WeakMap && key2 && (typeof key2 === "object" || typeof key2 === "function")) {
            if (!$wm) {
              $wm = new $WeakMap();
            }
            $weakMapSet($wm, key2, value);
          } else if ($Map) {
            if (!$m) {
              $m = new $Map();
            }
            $mapSet($m, key2, value);
          } else {
            if (!$o) {
              $o = { key: {}, next: null };
            }
            listSet($o, key2, value);
          }
        }
      };
      return channel;
    };
  }
});

// ../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/formats.js
var require_formats = __commonJS({
  "../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/formats.js"(exports2, module2) {
    "use strict";
    var replace = String.prototype.replace;
    var percentTwenties = /%20/g;
    var Format = {
      RFC1738: "RFC1738",
      RFC3986: "RFC3986"
    };
    module2.exports = {
      "default": Format.RFC3986,
      formatters: {
        RFC1738: function(value) {
          return replace.call(value, percentTwenties, "+");
        },
        RFC3986: function(value) {
          return String(value);
        }
      },
      RFC1738: Format.RFC1738,
      RFC3986: Format.RFC3986
    };
  }
});

// ../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/utils.js
var require_utils = __commonJS({
  "../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/utils.js"(exports2, module2) {
    "use strict";
    var formats2 = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var hexTable = function() {
      var array = [];
      for (var i3 = 0; i3 < 256; ++i3) {
        array.push("%" + ((i3 < 16 ? "0" : "") + i3.toString(16)).toUpperCase());
      }
      return array;
    }();
    var compactQueue = function compactQueue2(queue) {
      while (queue.length > 1) {
        var item = queue.pop();
        var obj = item.obj[item.prop];
        if (isArray(obj)) {
          var compacted = [];
          for (var j3 = 0; j3 < obj.length; ++j3) {
            if (typeof obj[j3] !== "undefined") {
              compacted.push(obj[j3]);
            }
          }
          item.obj[item.prop] = compacted;
        }
      }
    };
    var arrayToObject = function arrayToObject2(source, options) {
      var obj = options && options.plainObjects ? /* @__PURE__ */ Object.create(null) : {};
      for (var i3 = 0; i3 < source.length; ++i3) {
        if (typeof source[i3] !== "undefined") {
          obj[i3] = source[i3];
        }
      }
      return obj;
    };
    var merge = function merge2(target, source, options) {
      if (!source) {
        return target;
      }
      if (typeof source !== "object") {
        if (isArray(target)) {
          target.push(source);
        } else if (target && typeof target === "object") {
          if (options && (options.plainObjects || options.allowPrototypes) || !has.call(Object.prototype, source)) {
            target[source] = true;
          }
        } else {
          return [target, source];
        }
        return target;
      }
      if (!target || typeof target !== "object") {
        return [target].concat(source);
      }
      var mergeTarget = target;
      if (isArray(target) && !isArray(source)) {
        mergeTarget = arrayToObject(target, options);
      }
      if (isArray(target) && isArray(source)) {
        source.forEach(function(item, i3) {
          if (has.call(target, i3)) {
            var targetItem = target[i3];
            if (targetItem && typeof targetItem === "object" && item && typeof item === "object") {
              target[i3] = merge2(targetItem, item, options);
            } else {
              target.push(item);
            }
          } else {
            target[i3] = item;
          }
        });
        return target;
      }
      return Object.keys(source).reduce(function(acc, key2) {
        var value = source[key2];
        if (has.call(acc, key2)) {
          acc[key2] = merge2(acc[key2], value, options);
        } else {
          acc[key2] = value;
        }
        return acc;
      }, mergeTarget);
    };
    var assign = function assignSingleSource(target, source) {
      return Object.keys(source).reduce(function(acc, key2) {
        acc[key2] = source[key2];
        return acc;
      }, target);
    };
    var decode = function(str, decoder, charset) {
      var strWithoutPlus = str.replace(/\+/g, " ");
      if (charset === "iso-8859-1") {
        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);
      }
      try {
        return decodeURIComponent(strWithoutPlus);
      } catch (e3) {
        return strWithoutPlus;
      }
    };
    var encode = function encode2(str, defaultEncoder, charset, kind, format3) {
      if (str.length === 0) {
        return str;
      }
      var string = str;
      if (typeof str === "symbol") {
        string = Symbol.prototype.toString.call(str);
      } else if (typeof str !== "string") {
        string = String(str);
      }
      if (charset === "iso-8859-1") {
        return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {
          return "%26%23" + parseInt($0.slice(2), 16) + "%3B";
        });
      }
      var out = "";
      for (var i3 = 0; i3 < string.length; ++i3) {
        var c2 = string.charCodeAt(i3);
        if (c2 === 45 || c2 === 46 || c2 === 95 || c2 === 126 || c2 >= 48 && c2 <= 57 || c2 >= 65 && c2 <= 90 || c2 >= 97 && c2 <= 122 || format3 === formats2.RFC1738 && (c2 === 40 || c2 === 41)) {
          out += string.charAt(i3);
          continue;
        }
        if (c2 < 128) {
          out = out + hexTable[c2];
          continue;
        }
        if (c2 < 2048) {
          out = out + (hexTable[192 | c2 >> 6] + hexTable[128 | c2 & 63]);
          continue;
        }
        if (c2 < 55296 || c2 >= 57344) {
          out = out + (hexTable[224 | c2 >> 12] + hexTable[128 | c2 >> 6 & 63] + hexTable[128 | c2 & 63]);
          continue;
        }
        i3 += 1;
        c2 = 65536 + ((c2 & 1023) << 10 | string.charCodeAt(i3) & 1023);
        out += hexTable[240 | c2 >> 18] + hexTable[128 | c2 >> 12 & 63] + hexTable[128 | c2 >> 6 & 63] + hexTable[128 | c2 & 63];
      }
      return out;
    };
    var compact = function compact2(value) {
      var queue = [{ obj: { o: value }, prop: "o" }];
      var refs = [];
      for (var i3 = 0; i3 < queue.length; ++i3) {
        var item = queue[i3];
        var obj = item.obj[item.prop];
        var keys = Object.keys(obj);
        for (var j3 = 0; j3 < keys.length; ++j3) {
          var key2 = keys[j3];
          var val = obj[key2];
          if (typeof val === "object" && val !== null && refs.indexOf(val) === -1) {
            queue.push({ obj, prop: key2 });
            refs.push(val);
          }
        }
      }
      compactQueue(queue);
      return value;
    };
    var isRegExp = function isRegExp2(obj) {
      return Object.prototype.toString.call(obj) === "[object RegExp]";
    };
    var isBuffer = function isBuffer2(obj) {
      if (!obj || typeof obj !== "object") {
        return false;
      }
      return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));
    };
    var combine = function combine2(a2, b3) {
      return [].concat(a2, b3);
    };
    var maybeMap = function maybeMap2(val, fn) {
      if (isArray(val)) {
        var mapped = [];
        for (var i3 = 0; i3 < val.length; i3 += 1) {
          mapped.push(fn(val[i3]));
        }
        return mapped;
      }
      return fn(val);
    };
    module2.exports = {
      arrayToObject,
      assign,
      combine,
      compact,
      decode,
      encode,
      isBuffer,
      isRegExp,
      maybeMap,
      merge
    };
  }
});

// ../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/stringify.js
var require_stringify = __commonJS({
  "../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/stringify.js"(exports2, module2) {
    "use strict";
    var getSideChannel = require_side_channel();
    var utils = require_utils();
    var formats2 = require_formats();
    var has = Object.prototype.hasOwnProperty;
    var arrayPrefixGenerators = {
      brackets: function brackets(prefix2) {
        return prefix2 + "[]";
      },
      comma: "comma",
      indices: function indices2(prefix2, key2) {
        return prefix2 + "[" + key2 + "]";
      },
      repeat: function repeat(prefix2) {
        return prefix2;
      }
    };
    var isArray = Array.isArray;
    var push = Array.prototype.push;
    var pushToArray = function(arr, valueOrArray) {
      push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);
    };
    var toISO = Date.prototype.toISOString;
    var defaultFormat = formats2["default"];
    var defaults = {
      addQueryPrefix: false,
      allowDots: false,
      charset: "utf-8",
      charsetSentinel: false,
      delimiter: "&",
      encode: true,
      encoder: utils.encode,
      encodeValuesOnly: false,
      format: defaultFormat,
      formatter: formats2.formatters[defaultFormat],
      // deprecated
      indices: false,
      serializeDate: function serializeDate(date) {
        return toISO.call(date);
      },
      skipNulls: false,
      strictNullHandling: false
    };
    var isNonNullishPrimitive = function isNonNullishPrimitive2(v2) {
      return typeof v2 === "string" || typeof v2 === "number" || typeof v2 === "boolean" || typeof v2 === "symbol" || typeof v2 === "bigint";
    };
    var sentinel = {};
    var stringify = function stringify2(object, prefix2, generateArrayPrefix, commaRoundTrip, strictNullHandling, skipNulls, encoder, filter, sort, allowDots, serializeDate, format3, formatter, encodeValuesOnly, charset, sideChannel) {
      var obj = object;
      var tmpSc = sideChannel;
      var step = 0;
      var findFlag = false;
      while ((tmpSc = tmpSc.get(sentinel)) !== void 0 && !findFlag) {
        var pos = tmpSc.get(object);
        step += 1;
        if (typeof pos !== "undefined") {
          if (pos === step) {
            throw new RangeError("Cyclic object value");
          } else {
            findFlag = true;
          }
        }
        if (typeof tmpSc.get(sentinel) === "undefined") {
          step = 0;
        }
      }
      if (typeof filter === "function") {
        obj = filter(prefix2, obj);
      } else if (obj instanceof Date) {
        obj = serializeDate(obj);
      } else if (generateArrayPrefix === "comma" && isArray(obj)) {
        obj = utils.maybeMap(obj, function(value2) {
          if (value2 instanceof Date) {
            return serializeDate(value2);
          }
          return value2;
        });
      }
      if (obj === null) {
        if (strictNullHandling) {
          return encoder && !encodeValuesOnly ? encoder(prefix2, defaults.encoder, charset, "key", format3) : prefix2;
        }
        obj = "";
      }
      if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {
        if (encoder) {
          var keyValue = encodeValuesOnly ? prefix2 : encoder(prefix2, defaults.encoder, charset, "key", format3);
          return [formatter(keyValue) + "=" + formatter(encoder(obj, defaults.encoder, charset, "value", format3))];
        }
        return [formatter(prefix2) + "=" + formatter(String(obj))];
      }
      var values = [];
      if (typeof obj === "undefined") {
        return values;
      }
      var objKeys;
      if (generateArrayPrefix === "comma" && isArray(obj)) {
        if (encodeValuesOnly && encoder) {
          obj = utils.maybeMap(obj, encoder);
        }
        objKeys = [{ value: obj.length > 0 ? obj.join(",") || null : void 0 }];
      } else if (isArray(filter)) {
        objKeys = filter;
      } else {
        var keys = Object.keys(obj);
        objKeys = sort ? keys.sort(sort) : keys;
      }
      var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix2 + "[]" : prefix2;
      for (var j3 = 0; j3 < objKeys.length; ++j3) {
        var key2 = objKeys[j3];
        var value = typeof key2 === "object" && typeof key2.value !== "undefined" ? key2.value : obj[key2];
        if (skipNulls && value === null) {
          continue;
        }
        var keyPrefix = isArray(obj) ? typeof generateArrayPrefix === "function" ? generateArrayPrefix(adjustedPrefix, key2) : adjustedPrefix : adjustedPrefix + (allowDots ? "." + key2 : "[" + key2 + "]");
        sideChannel.set(object, step);
        var valueSideChannel = getSideChannel();
        valueSideChannel.set(sentinel, sideChannel);
        pushToArray(values, stringify2(
          value,
          keyPrefix,
          generateArrayPrefix,
          commaRoundTrip,
          strictNullHandling,
          skipNulls,
          generateArrayPrefix === "comma" && encodeValuesOnly && isArray(obj) ? null : encoder,
          filter,
          sort,
          allowDots,
          serializeDate,
          format3,
          formatter,
          encodeValuesOnly,
          charset,
          valueSideChannel
        ));
      }
      return values;
    };
    var normalizeStringifyOptions = function normalizeStringifyOptions2(opts) {
      if (!opts) {
        return defaults;
      }
      if (opts.encoder !== null && typeof opts.encoder !== "undefined" && typeof opts.encoder !== "function") {
        throw new TypeError("Encoder has to be a function.");
      }
      var charset = opts.charset || defaults.charset;
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var format3 = formats2["default"];
      if (typeof opts.format !== "undefined") {
        if (!has.call(formats2.formatters, opts.format)) {
          throw new TypeError("Unknown format option provided.");
        }
        format3 = opts.format;
      }
      var formatter = formats2.formatters[format3];
      var filter = defaults.filter;
      if (typeof opts.filter === "function" || isArray(opts.filter)) {
        filter = opts.filter;
      }
      return {
        addQueryPrefix: typeof opts.addQueryPrefix === "boolean" ? opts.addQueryPrefix : defaults.addQueryPrefix,
        allowDots: typeof opts.allowDots === "undefined" ? defaults.allowDots : !!opts.allowDots,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults.charsetSentinel,
        delimiter: typeof opts.delimiter === "undefined" ? defaults.delimiter : opts.delimiter,
        encode: typeof opts.encode === "boolean" ? opts.encode : defaults.encode,
        encoder: typeof opts.encoder === "function" ? opts.encoder : defaults.encoder,
        encodeValuesOnly: typeof opts.encodeValuesOnly === "boolean" ? opts.encodeValuesOnly : defaults.encodeValuesOnly,
        filter,
        format: format3,
        formatter,
        serializeDate: typeof opts.serializeDate === "function" ? opts.serializeDate : defaults.serializeDate,
        skipNulls: typeof opts.skipNulls === "boolean" ? opts.skipNulls : defaults.skipNulls,
        sort: typeof opts.sort === "function" ? opts.sort : null,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults.strictNullHandling
      };
    };
    module2.exports = function(object, opts) {
      var obj = object;
      var options = normalizeStringifyOptions(opts);
      var objKeys;
      var filter;
      if (typeof options.filter === "function") {
        filter = options.filter;
        obj = filter("", obj);
      } else if (isArray(options.filter)) {
        filter = options.filter;
        objKeys = filter;
      }
      var keys = [];
      if (typeof obj !== "object" || obj === null) {
        return "";
      }
      var arrayFormat;
      if (opts && opts.arrayFormat in arrayPrefixGenerators) {
        arrayFormat = opts.arrayFormat;
      } else if (opts && "indices" in opts) {
        arrayFormat = opts.indices ? "indices" : "repeat";
      } else {
        arrayFormat = "indices";
      }
      var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];
      if (opts && "commaRoundTrip" in opts && typeof opts.commaRoundTrip !== "boolean") {
        throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
      }
      var commaRoundTrip = generateArrayPrefix === "comma" && opts && opts.commaRoundTrip;
      if (!objKeys) {
        objKeys = Object.keys(obj);
      }
      if (options.sort) {
        objKeys.sort(options.sort);
      }
      var sideChannel = getSideChannel();
      for (var i3 = 0; i3 < objKeys.length; ++i3) {
        var key2 = objKeys[i3];
        if (options.skipNulls && obj[key2] === null) {
          continue;
        }
        pushToArray(keys, stringify(
          obj[key2],
          key2,
          generateArrayPrefix,
          commaRoundTrip,
          options.strictNullHandling,
          options.skipNulls,
          options.encode ? options.encoder : null,
          options.filter,
          options.sort,
          options.allowDots,
          options.serializeDate,
          options.format,
          options.formatter,
          options.encodeValuesOnly,
          options.charset,
          sideChannel
        ));
      }
      var joined = keys.join(options.delimiter);
      var prefix2 = options.addQueryPrefix === true ? "?" : "";
      if (options.charsetSentinel) {
        if (options.charset === "iso-8859-1") {
          prefix2 += "utf8=%26%2310003%3B&";
        } else {
          prefix2 += "utf8=%E2%9C%93&";
        }
      }
      return joined.length > 0 ? prefix2 + joined : "";
    };
  }
});

// ../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/parse.js
var require_parse = __commonJS({
  "../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/parse.js"(exports2, module2) {
    "use strict";
    var utils = require_utils();
    var has = Object.prototype.hasOwnProperty;
    var isArray = Array.isArray;
    var defaults = {
      allowDots: false,
      allowPrototypes: false,
      allowSparse: false,
      arrayLimit: 20,
      charset: "utf-8",
      charsetSentinel: false,
      comma: false,
      decoder: utils.decode,
      delimiter: "&",
      depth: 5,
      ignoreQueryPrefix: false,
      interpretNumericEntities: false,
      parameterLimit: 1e3,
      parseArrays: true,
      plainObjects: false,
      strictNullHandling: false
    };
    var interpretNumericEntities = function(str) {
      return str.replace(/&#(\d+);/g, function($0, numberStr) {
        return String.fromCharCode(parseInt(numberStr, 10));
      });
    };
    var parseArrayValue = function(val, options) {
      if (val && typeof val === "string" && options.comma && val.indexOf(",") > -1) {
        return val.split(",");
      }
      return val;
    };
    var isoSentinel = "utf8=%26%2310003%3B";
    var charsetSentinel = "utf8=%E2%9C%93";
    var parseValues = function parseQueryStringValues(str, options) {
      var obj = { __proto__: null };
      var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\?/, "") : str;
      var limit = options.parameterLimit === Infinity ? void 0 : options.parameterLimit;
      var parts = cleanStr.split(options.delimiter, limit);
      var skipIndex = -1;
      var i3;
      var charset = options.charset;
      if (options.charsetSentinel) {
        for (i3 = 0; i3 < parts.length; ++i3) {
          if (parts[i3].indexOf("utf8=") === 0) {
            if (parts[i3] === charsetSentinel) {
              charset = "utf-8";
            } else if (parts[i3] === isoSentinel) {
              charset = "iso-8859-1";
            }
            skipIndex = i3;
            i3 = parts.length;
          }
        }
      }
      for (i3 = 0; i3 < parts.length; ++i3) {
        if (i3 === skipIndex) {
          continue;
        }
        var part = parts[i3];
        var bracketEqualsPos = part.indexOf("]=");
        var pos = bracketEqualsPos === -1 ? part.indexOf("=") : bracketEqualsPos + 1;
        var key2, val;
        if (pos === -1) {
          key2 = options.decoder(part, defaults.decoder, charset, "key");
          val = options.strictNullHandling ? null : "";
        } else {
          key2 = options.decoder(part.slice(0, pos), defaults.decoder, charset, "key");
          val = utils.maybeMap(
            parseArrayValue(part.slice(pos + 1), options),
            function(encodedVal) {
              return options.decoder(encodedVal, defaults.decoder, charset, "value");
            }
          );
        }
        if (val && options.interpretNumericEntities && charset === "iso-8859-1") {
          val = interpretNumericEntities(val);
        }
        if (part.indexOf("[]=") > -1) {
          val = isArray(val) ? [val] : val;
        }
        if (has.call(obj, key2)) {
          obj[key2] = utils.combine(obj[key2], val);
        } else {
          obj[key2] = val;
        }
      }
      return obj;
    };
    var parseObject = function(chain, val, options, valuesParsed) {
      var leaf = valuesParsed ? val : parseArrayValue(val, options);
      for (var i3 = chain.length - 1; i3 >= 0; --i3) {
        var obj;
        var root = chain[i3];
        if (root === "[]" && options.parseArrays) {
          obj = [].concat(leaf);
        } else {
          obj = options.plainObjects ? /* @__PURE__ */ Object.create(null) : {};
          var cleanRoot = root.charAt(0) === "[" && root.charAt(root.length - 1) === "]" ? root.slice(1, -1) : root;
          var index = parseInt(cleanRoot, 10);
          if (!options.parseArrays && cleanRoot === "") {
            obj = { 0: leaf };
          } else if (!isNaN(index) && root !== cleanRoot && String(index) === cleanRoot && index >= 0 && (options.parseArrays && index <= options.arrayLimit)) {
            obj = [];
            obj[index] = leaf;
          } else if (cleanRoot !== "__proto__") {
            obj[cleanRoot] = leaf;
          }
        }
        leaf = obj;
      }
      return leaf;
    };
    var parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {
      if (!givenKey) {
        return;
      }
      var key2 = options.allowDots ? givenKey.replace(/\.([^.[]+)/g, "[$1]") : givenKey;
      var brackets = /(\[[^[\]]*])/;
      var child = /(\[[^[\]]*])/g;
      var segment = options.depth > 0 && brackets.exec(key2);
      var parent = segment ? key2.slice(0, segment.index) : key2;
      var keys = [];
      if (parent) {
        if (!options.plainObjects && has.call(Object.prototype, parent)) {
          if (!options.allowPrototypes) {
            return;
          }
        }
        keys.push(parent);
      }
      var i3 = 0;
      while (options.depth > 0 && (segment = child.exec(key2)) !== null && i3 < options.depth) {
        i3 += 1;
        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {
          if (!options.allowPrototypes) {
            return;
          }
        }
        keys.push(segment[1]);
      }
      if (segment) {
        keys.push("[" + key2.slice(segment.index) + "]");
      }
      return parseObject(keys, val, options, valuesParsed);
    };
    var normalizeParseOptions = function normalizeParseOptions2(opts) {
      if (!opts) {
        return defaults;
      }
      if (opts.decoder !== null && opts.decoder !== void 0 && typeof opts.decoder !== "function") {
        throw new TypeError("Decoder has to be a function.");
      }
      if (typeof opts.charset !== "undefined" && opts.charset !== "utf-8" && opts.charset !== "iso-8859-1") {
        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
      }
      var charset = typeof opts.charset === "undefined" ? defaults.charset : opts.charset;
      return {
        allowDots: typeof opts.allowDots === "undefined" ? defaults.allowDots : !!opts.allowDots,
        allowPrototypes: typeof opts.allowPrototypes === "boolean" ? opts.allowPrototypes : defaults.allowPrototypes,
        allowSparse: typeof opts.allowSparse === "boolean" ? opts.allowSparse : defaults.allowSparse,
        arrayLimit: typeof opts.arrayLimit === "number" ? opts.arrayLimit : defaults.arrayLimit,
        charset,
        charsetSentinel: typeof opts.charsetSentinel === "boolean" ? opts.charsetSentinel : defaults.charsetSentinel,
        comma: typeof opts.comma === "boolean" ? opts.comma : defaults.comma,
        decoder: typeof opts.decoder === "function" ? opts.decoder : defaults.decoder,
        delimiter: typeof opts.delimiter === "string" || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,
        // eslint-disable-next-line no-implicit-coercion, no-extra-parens
        depth: typeof opts.depth === "number" || opts.depth === false ? +opts.depth : defaults.depth,
        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,
        interpretNumericEntities: typeof opts.interpretNumericEntities === "boolean" ? opts.interpretNumericEntities : defaults.interpretNumericEntities,
        parameterLimit: typeof opts.parameterLimit === "number" ? opts.parameterLimit : defaults.parameterLimit,
        parseArrays: opts.parseArrays !== false,
        plainObjects: typeof opts.plainObjects === "boolean" ? opts.plainObjects : defaults.plainObjects,
        strictNullHandling: typeof opts.strictNullHandling === "boolean" ? opts.strictNullHandling : defaults.strictNullHandling
      };
    };
    module2.exports = function(str, opts) {
      var options = normalizeParseOptions(opts);
      if (str === "" || str === null || typeof str === "undefined") {
        return options.plainObjects ? /* @__PURE__ */ Object.create(null) : {};
      }
      var tempObj = typeof str === "string" ? parseValues(str, options) : str;
      var obj = options.plainObjects ? /* @__PURE__ */ Object.create(null) : {};
      var keys = Object.keys(tempObj);
      for (var i3 = 0; i3 < keys.length; ++i3) {
        var key2 = keys[i3];
        var newObj = parseKeys(key2, tempObj[key2], options, typeof str === "string");
        obj = utils.merge(obj, newObj, options);
      }
      if (options.allowSparse === true) {
        return obj;
      }
      return utils.compact(obj);
    };
  }
});

// ../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/index.js
var require_lib = __commonJS({
  "../../node_modules/.pnpm/qs@6.11.2/node_modules/qs/lib/index.js"(exports2, module2) {
    "use strict";
    var stringify = require_stringify();
    var parse2 = require_parse();
    var formats2 = require_formats();
    module2.exports = {
      formats: formats2,
      parse: parse2,
      stringify
    };
  }
});

// ../../node_modules/.pnpm/url@0.11.1/node_modules/url/url.js
var require_url = __commonJS({
  "../../node_modules/.pnpm/url@0.11.1/node_modules/url/url.js"(exports2) {
    "use strict";
    var punycode = require_punycode();
    function Url() {
      this.protocol = null;
      this.slashes = null;
      this.auth = null;
      this.host = null;
      this.port = null;
      this.hostname = null;
      this.hash = null;
      this.search = null;
      this.query = null;
      this.pathname = null;
      this.path = null;
      this.href = null;
    }
    var protocolPattern = /^([a-z0-9.+-]+:)/i;
    var portPattern = /:[0-9]*$/;
    var simplePathPattern = /^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/;
    var delims = [
      "<",
      ">",
      '"',
      "`",
      " ",
      "\r",
      "\n",
      "	"
    ];
    var unwise = [
      "{",
      "}",
      "|",
      "\\",
      "^",
      "`"
    ].concat(delims);
    var autoEscape = ["'"].concat(unwise);
    var nonHostChars = [
      "%",
      "/",
      "?",
      ";",
      "#"
    ].concat(autoEscape);
    var hostEndingChars = [
      "/",
      "?",
      "#"
    ];
    var hostnameMaxLen = 255;
    var hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/;
    var hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/;
    var unsafeProtocol = {
      javascript: true,
      "javascript:": true
    };
    var hostlessProtocol = {
      javascript: true,
      "javascript:": true
    };
    var slashedProtocol = {
      http: true,
      https: true,
      ftp: true,
      gopher: true,
      file: true,
      "http:": true,
      "https:": true,
      "ftp:": true,
      "gopher:": true,
      "file:": true
    };
    var querystring = require_lib();
    function urlParse(url2, parseQueryString, slashesDenoteHost) {
      if (url2 && typeof url2 === "object" && url2 instanceof Url) {
        return url2;
      }
      var u2 = new Url();
      u2.parse(url2, parseQueryString, slashesDenoteHost);
      return u2;
    }
    Url.prototype.parse = function(url2, parseQueryString, slashesDenoteHost) {
      if (typeof url2 !== "string") {
        throw new TypeError("Parameter 'url' must be a string, not " + typeof url2);
      }
      var queryIndex = url2.indexOf("?"), splitter = queryIndex !== -1 && queryIndex < url2.indexOf("#") ? "?" : "#", uSplit = url2.split(splitter), slashRegex = /\\/g;
      uSplit[0] = uSplit[0].replace(slashRegex, "/");
      url2 = uSplit.join(splitter);
      var rest = url2;
      rest = rest.trim();
      if (!slashesDenoteHost && url2.split("#").length === 1) {
        var simplePath = simplePathPattern.exec(rest);
        if (simplePath) {
          this.path = rest;
          this.href = rest;
          this.pathname = simplePath[1];
          if (simplePath[2]) {
            this.search = simplePath[2];
            if (parseQueryString) {
              this.query = querystring.parse(this.search.substr(1));
            } else {
              this.query = this.search.substr(1);
            }
          } else if (parseQueryString) {
            this.search = "";
            this.query = {};
          }
          return this;
        }
      }
      var proto = protocolPattern.exec(rest);
      if (proto) {
        proto = proto[0];
        var lowerProto = proto.toLowerCase();
        this.protocol = lowerProto;
        rest = rest.substr(proto.length);
      }
      if (slashesDenoteHost || proto || rest.match(/^\/\/[^@/]+@[^@/]+/)) {
        var slashes = rest.substr(0, 2) === "//";
        if (slashes && !(proto && hostlessProtocol[proto])) {
          rest = rest.substr(2);
          this.slashes = true;
        }
      }
      if (!hostlessProtocol[proto] && (slashes || proto && !slashedProtocol[proto])) {
        var hostEnd = -1;
        for (var i3 = 0; i3 < hostEndingChars.length; i3++) {
          var hec = rest.indexOf(hostEndingChars[i3]);
          if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {
            hostEnd = hec;
          }
        }
        var auth, atSign;
        if (hostEnd === -1) {
          atSign = rest.lastIndexOf("@");
        } else {
          atSign = rest.lastIndexOf("@", hostEnd);
        }
        if (atSign !== -1) {
          auth = rest.slice(0, atSign);
          rest = rest.slice(atSign + 1);
          this.auth = decodeURIComponent(auth);
        }
        hostEnd = -1;
        for (var i3 = 0; i3 < nonHostChars.length; i3++) {
          var hec = rest.indexOf(nonHostChars[i3]);
          if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {
            hostEnd = hec;
          }
        }
        if (hostEnd === -1) {
          hostEnd = rest.length;
        }
        this.host = rest.slice(0, hostEnd);
        rest = rest.slice(hostEnd);
        this.parseHost();
        this.hostname = this.hostname || "";
        var ipv6Hostname = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
        if (!ipv6Hostname) {
          var hostparts = this.hostname.split(/\./);
          for (var i3 = 0, l3 = hostparts.length; i3 < l3; i3++) {
            var part = hostparts[i3];
            if (!part) {
              continue;
            }
            if (!part.match(hostnamePartPattern)) {
              var newpart = "";
              for (var j3 = 0, k3 = part.length; j3 < k3; j3++) {
                if (part.charCodeAt(j3) > 127) {
                  newpart += "x";
                } else {
                  newpart += part[j3];
                }
              }
              if (!newpart.match(hostnamePartPattern)) {
                var validParts = hostparts.slice(0, i3);
                var notHost = hostparts.slice(i3 + 1);
                var bit = part.match(hostnamePartStart);
                if (bit) {
                  validParts.push(bit[1]);
                  notHost.unshift(bit[2]);
                }
                if (notHost.length) {
                  rest = "/" + notHost.join(".") + rest;
                }
                this.hostname = validParts.join(".");
                break;
              }
            }
          }
        }
        if (this.hostname.length > hostnameMaxLen) {
          this.hostname = "";
        } else {
          this.hostname = this.hostname.toLowerCase();
        }
        if (!ipv6Hostname) {
          this.hostname = punycode.toASCII(this.hostname);
        }
        var p3 = this.port ? ":" + this.port : "";
        var h2 = this.hostname || "";
        this.host = h2 + p3;
        this.href += this.host;
        if (ipv6Hostname) {
          this.hostname = this.hostname.substr(1, this.hostname.length - 2);
          if (rest[0] !== "/") {
            rest = "/" + rest;
          }
        }
      }
      if (!unsafeProtocol[lowerProto]) {
        for (var i3 = 0, l3 = autoEscape.length; i3 < l3; i3++) {
          var ae = autoEscape[i3];
          if (rest.indexOf(ae) === -1) {
            continue;
          }
          var esc = encodeURIComponent(ae);
          if (esc === ae) {
            esc = escape(ae);
          }
          rest = rest.split(ae).join(esc);
        }
      }
      var hash = rest.indexOf("#");
      if (hash !== -1) {
        this.hash = rest.substr(hash);
        rest = rest.slice(0, hash);
      }
      var qm = rest.indexOf("?");
      if (qm !== -1) {
        this.search = rest.substr(qm);
        this.query = rest.substr(qm + 1);
        if (parseQueryString) {
          this.query = querystring.parse(this.query);
        }
        rest = rest.slice(0, qm);
      } else if (parseQueryString) {
        this.search = "";
        this.query = {};
      }
      if (rest) {
        this.pathname = rest;
      }
      if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {
        this.pathname = "/";
      }
      if (this.pathname || this.search) {
        var p3 = this.pathname || "";
        var s2 = this.search || "";
        this.path = p3 + s2;
      }
      this.href = this.format();
      return this;
    };
    function urlFormat(obj) {
      if (typeof obj === "string") {
        obj = urlParse(obj);
      }
      if (!(obj instanceof Url)) {
        return Url.prototype.format.call(obj);
      }
      return obj.format();
    }
    Url.prototype.format = function() {
      var auth = this.auth || "";
      if (auth) {
        auth = encodeURIComponent(auth);
        auth = auth.replace(/%3A/i, ":");
        auth += "@";
      }
      var protocol = this.protocol || "", pathname = this.pathname || "", hash = this.hash || "", host = false, query = "";
      if (this.host) {
        host = auth + this.host;
      } else if (this.hostname) {
        host = auth + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]");
        if (this.port) {
          host += ":" + this.port;
        }
      }
      if (this.query && typeof this.query === "object" && Object.keys(this.query).length) {
        query = querystring.stringify(this.query);
      }
      var search = this.search || query && "?" + query || "";
      if (protocol && protocol.substr(-1) !== ":") {
        protocol += ":";
      }
      if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {
        host = "//" + (host || "");
        if (pathname && pathname.charAt(0) !== "/") {
          pathname = "/" + pathname;
        }
      } else if (!host) {
        host = "";
      }
      if (hash && hash.charAt(0) !== "#") {
        hash = "#" + hash;
      }
      if (search && search.charAt(0) !== "?") {
        search = "?" + search;
      }
      pathname = pathname.replace(/[?#]/g, function(match) {
        return encodeURIComponent(match);
      });
      search = search.replace("#", "%23");
      return protocol + host + pathname + search + hash;
    };
    function urlResolve(source, relative) {
      return urlParse(source, false, true).resolve(relative);
    }
    Url.prototype.resolve = function(relative) {
      return this.resolveObject(urlParse(relative, false, true)).format();
    };
    function urlResolveObject(source, relative) {
      if (!source) {
        return relative;
      }
      return urlParse(source, false, true).resolveObject(relative);
    }
    Url.prototype.resolveObject = function(relative) {
      if (typeof relative === "string") {
        var rel = new Url();
        rel.parse(relative, false, true);
        relative = rel;
      }
      var result = new Url();
      var tkeys = Object.keys(this);
      for (var tk = 0; tk < tkeys.length; tk++) {
        var tkey = tkeys[tk];
        result[tkey] = this[tkey];
      }
      result.hash = relative.hash;
      if (relative.href === "") {
        result.href = result.format();
        return result;
      }
      if (relative.slashes && !relative.protocol) {
        var rkeys = Object.keys(relative);
        for (var rk = 0; rk < rkeys.length; rk++) {
          var rkey = rkeys[rk];
          if (rkey !== "protocol") {
            result[rkey] = relative[rkey];
          }
        }
        if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {
          result.pathname = "/";
          result.path = result.pathname;
        }
        result.href = result.format();
        return result;
      }
      if (relative.protocol && relative.protocol !== result.protocol) {
        if (!slashedProtocol[relative.protocol]) {
          var keys = Object.keys(relative);
          for (var v2 = 0; v2 < keys.length; v2++) {
            var k3 = keys[v2];
            result[k3] = relative[k3];
          }
          result.href = result.format();
          return result;
        }
        result.protocol = relative.protocol;
        if (!relative.host && !hostlessProtocol[relative.protocol]) {
          var relPath = (relative.pathname || "").split("/");
          while (relPath.length && !(relative.host = relPath.shift())) {
          }
          if (!relative.host) {
            relative.host = "";
          }
          if (!relative.hostname) {
            relative.hostname = "";
          }
          if (relPath[0] !== "") {
            relPath.unshift("");
          }
          if (relPath.length < 2) {
            relPath.unshift("");
          }
          result.pathname = relPath.join("/");
        } else {
          result.pathname = relative.pathname;
        }
        result.search = relative.search;
        result.query = relative.query;
        result.host = relative.host || "";
        result.auth = relative.auth;
        result.hostname = relative.hostname || relative.host;
        result.port = relative.port;
        if (result.pathname || result.search) {
          var p3 = result.pathname || "";
          var s2 = result.search || "";
          result.path = p3 + s2;
        }
        result.slashes = result.slashes || relative.slashes;
        result.href = result.format();
        return result;
      }
      var isSourceAbs = result.pathname && result.pathname.charAt(0) === "/", isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === "/", mustEndAbs = isRelAbs || isSourceAbs || result.host && relative.pathname, removeAllDots = mustEndAbs, srcPath = result.pathname && result.pathname.split("/") || [], relPath = relative.pathname && relative.pathname.split("/") || [], psychotic = result.protocol && !slashedProtocol[result.protocol];
      if (psychotic) {
        result.hostname = "";
        result.port = null;
        if (result.host) {
          if (srcPath[0] === "") {
            srcPath[0] = result.host;
          } else {
            srcPath.unshift(result.host);
          }
        }
        result.host = "";
        if (relative.protocol) {
          relative.hostname = null;
          relative.port = null;
          if (relative.host) {
            if (relPath[0] === "") {
              relPath[0] = relative.host;
            } else {
              relPath.unshift(relative.host);
            }
          }
          relative.host = null;
        }
        mustEndAbs = mustEndAbs && (relPath[0] === "" || srcPath[0] === "");
      }
      if (isRelAbs) {
        result.host = relative.host || relative.host === "" ? relative.host : result.host;
        result.hostname = relative.hostname || relative.hostname === "" ? relative.hostname : result.hostname;
        result.search = relative.search;
        result.query = relative.query;
        srcPath = relPath;
      } else if (relPath.length) {
        if (!srcPath) {
          srcPath = [];
        }
        srcPath.pop();
        srcPath = srcPath.concat(relPath);
        result.search = relative.search;
        result.query = relative.query;
      } else if (relative.search != null) {
        if (psychotic) {
          result.host = srcPath.shift();
          result.hostname = result.host;
          var authInHost = result.host && result.host.indexOf("@") > 0 ? result.host.split("@") : false;
          if (authInHost) {
            result.auth = authInHost.shift();
            result.hostname = authInHost.shift();
            result.host = result.hostname;
          }
        }
        result.search = relative.search;
        result.query = relative.query;
        if (result.pathname !== null || result.search !== null) {
          result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "");
        }
        result.href = result.format();
        return result;
      }
      if (!srcPath.length) {
        result.pathname = null;
        if (result.search) {
          result.path = "/" + result.search;
        } else {
          result.path = null;
        }
        result.href = result.format();
        return result;
      }
      var last = srcPath.slice(-1)[0];
      var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === "." || last === "..") || last === "";
      var up = 0;
      for (var i3 = srcPath.length; i3 >= 0; i3--) {
        last = srcPath[i3];
        if (last === ".") {
          srcPath.splice(i3, 1);
        } else if (last === "..") {
          srcPath.splice(i3, 1);
          up++;
        } else if (up) {
          srcPath.splice(i3, 1);
          up--;
        }
      }
      if (!mustEndAbs && !removeAllDots) {
        for (; up--; up) {
          srcPath.unshift("..");
        }
      }
      if (mustEndAbs && srcPath[0] !== "" && (!srcPath[0] || srcPath[0].charAt(0) !== "/")) {
        srcPath.unshift("");
      }
      if (hasTrailingSlash && srcPath.join("/").substr(-1) !== "/") {
        srcPath.push("");
      }
      var isAbsolute = srcPath[0] === "" || srcPath[0] && srcPath[0].charAt(0) === "/";
      if (psychotic) {
        result.hostname = isAbsolute ? "" : srcPath.length ? srcPath.shift() : "";
        result.host = result.hostname;
        var authInHost = result.host && result.host.indexOf("@") > 0 ? result.host.split("@") : false;
        if (authInHost) {
          result.auth = authInHost.shift();
          result.hostname = authInHost.shift();
          result.host = result.hostname;
        }
      }
      mustEndAbs = mustEndAbs || result.host && srcPath.length;
      if (mustEndAbs && !isAbsolute) {
        srcPath.unshift("");
      }
      if (srcPath.length > 0) {
        result.pathname = srcPath.join("/");
      } else {
        result.pathname = null;
        result.path = null;
      }
      if (result.pathname !== null || result.search !== null) {
        result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "");
      }
      result.auth = relative.auth || result.auth;
      result.slashes = result.slashes || relative.slashes;
      result.href = result.format();
      return result;
    };
    Url.prototype.parseHost = function() {
      var host = this.host;
      var port = portPattern.exec(host);
      if (port) {
        port = port[0];
        if (port !== ":") {
          this.port = port.substr(1);
        }
        host = host.substr(0, host.length - port.length);
      }
      if (host) {
        this.hostname = host;
      }
    };
    exports2.parse = urlParse;
    exports2.resolve = urlResolve;
    exports2.resolveObject = urlResolveObject;
    exports2.format = urlFormat;
    exports2.Url = Url;
  }
});

// ../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/YGEnums.js
var require_YGEnums = __commonJS({
  "../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/YGEnums.js"(exports2, module2) {
    "use strict";
    var CONSTANTS = {
      ALIGN_COUNT: 8,
      ALIGN_AUTO: 0,
      ALIGN_FLEX_START: 1,
      ALIGN_CENTER: 2,
      ALIGN_FLEX_END: 3,
      ALIGN_STRETCH: 4,
      ALIGN_BASELINE: 5,
      ALIGN_SPACE_BETWEEN: 6,
      ALIGN_SPACE_AROUND: 7,
      DIMENSION_COUNT: 2,
      DIMENSION_WIDTH: 0,
      DIMENSION_HEIGHT: 1,
      DIRECTION_COUNT: 3,
      DIRECTION_INHERIT: 0,
      DIRECTION_LTR: 1,
      DIRECTION_RTL: 2,
      DISPLAY_COUNT: 2,
      DISPLAY_FLEX: 0,
      DISPLAY_NONE: 1,
      EDGE_COUNT: 9,
      EDGE_LEFT: 0,
      EDGE_TOP: 1,
      EDGE_RIGHT: 2,
      EDGE_BOTTOM: 3,
      EDGE_START: 4,
      EDGE_END: 5,
      EDGE_HORIZONTAL: 6,
      EDGE_VERTICAL: 7,
      EDGE_ALL: 8,
      EXPERIMENTAL_FEATURE_COUNT: 1,
      EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS: 0,
      FLEX_DIRECTION_COUNT: 4,
      FLEX_DIRECTION_COLUMN: 0,
      FLEX_DIRECTION_COLUMN_REVERSE: 1,
      FLEX_DIRECTION_ROW: 2,
      FLEX_DIRECTION_ROW_REVERSE: 3,
      JUSTIFY_COUNT: 6,
      JUSTIFY_FLEX_START: 0,
      JUSTIFY_CENTER: 1,
      JUSTIFY_FLEX_END: 2,
      JUSTIFY_SPACE_BETWEEN: 3,
      JUSTIFY_SPACE_AROUND: 4,
      JUSTIFY_SPACE_EVENLY: 5,
      LOG_LEVEL_COUNT: 6,
      LOG_LEVEL_ERROR: 0,
      LOG_LEVEL_WARN: 1,
      LOG_LEVEL_INFO: 2,
      LOG_LEVEL_DEBUG: 3,
      LOG_LEVEL_VERBOSE: 4,
      LOG_LEVEL_FATAL: 5,
      MEASURE_MODE_COUNT: 3,
      MEASURE_MODE_UNDEFINED: 0,
      MEASURE_MODE_EXACTLY: 1,
      MEASURE_MODE_AT_MOST: 2,
      NODE_TYPE_COUNT: 2,
      NODE_TYPE_DEFAULT: 0,
      NODE_TYPE_TEXT: 1,
      OVERFLOW_COUNT: 3,
      OVERFLOW_VISIBLE: 0,
      OVERFLOW_HIDDEN: 1,
      OVERFLOW_SCROLL: 2,
      POSITION_TYPE_COUNT: 2,
      POSITION_TYPE_RELATIVE: 0,
      POSITION_TYPE_ABSOLUTE: 1,
      PRINT_OPTIONS_COUNT: 3,
      PRINT_OPTIONS_LAYOUT: 1,
      PRINT_OPTIONS_STYLE: 2,
      PRINT_OPTIONS_CHILDREN: 4,
      UNIT_COUNT: 4,
      UNIT_UNDEFINED: 0,
      UNIT_POINT: 1,
      UNIT_PERCENT: 2,
      UNIT_AUTO: 3,
      WRAP_COUNT: 3,
      WRAP_NO_WRAP: 0,
      WRAP_WRAP: 1,
      WRAP_WRAP_REVERSE: 2
    };
    module2.exports = CONSTANTS;
  }
});

// ../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/entry-common.js
var require_entry_common = __commonJS({
  "../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/entry-common.js"(exports2, module2) {
    "use strict";
    var _extends = Object.assign || function(target) {
      for (var i3 = 1; i3 < arguments.length; i3++) {
        var source = arguments[i3];
        for (var key2 in source) {
          if (Object.prototype.hasOwnProperty.call(source, key2)) {
            target[key2] = source[key2];
          }
        }
      }
      return target;
    };
    var _createClass = function() {
      function defineProperties(target, props) {
        for (var i3 = 0; i3 < props.length; i3++) {
          var descriptor = props[i3];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, descriptor.key, descriptor);
        }
      }
      return function(Constructor, protoProps, staticProps) {
        if (protoProps)
          defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          defineProperties(Constructor, staticProps);
        return Constructor;
      };
    }();
    function _defineProperty(obj, key2, value) {
      if (key2 in obj) {
        Object.defineProperty(obj, key2, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key2] = value;
      }
      return obj;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var CONSTANTS = require_YGEnums();
    var Layout = function() {
      function Layout2(left, right, top, bottom, width, height) {
        _classCallCheck(this, Layout2);
        this.left = left;
        this.right = right;
        this.top = top;
        this.bottom = bottom;
        this.width = width;
        this.height = height;
      }
      _createClass(Layout2, [{
        key: "fromJS",
        value: function fromJS(expose) {
          expose(this.left, this.right, this.top, this.bottom, this.width, this.height);
        }
      }, {
        key: "toString",
        value: function toString() {
          return "<Layout#" + this.left + ":" + this.right + ";" + this.top + ":" + this.bottom + ";" + this.width + ":" + this.height + ">";
        }
      }]);
      return Layout2;
    }();
    var Size = function() {
      _createClass(Size2, null, [{
        key: "fromJS",
        value: function fromJS(_ref) {
          var width = _ref.width, height = _ref.height;
          return new Size2(width, height);
        }
      }]);
      function Size2(width, height) {
        _classCallCheck(this, Size2);
        this.width = width;
        this.height = height;
      }
      _createClass(Size2, [{
        key: "fromJS",
        value: function fromJS(expose) {
          expose(this.width, this.height);
        }
      }, {
        key: "toString",
        value: function toString() {
          return "<Size#" + this.width + "x" + this.height + ">";
        }
      }]);
      return Size2;
    }();
    var Value = function() {
      function Value2(unit, value) {
        _classCallCheck(this, Value2);
        this.unit = unit;
        this.value = value;
      }
      _createClass(Value2, [{
        key: "fromJS",
        value: function fromJS(expose) {
          expose(this.unit, this.value);
        }
      }, {
        key: "toString",
        value: function toString() {
          switch (this.unit) {
            case CONSTANTS.UNIT_POINT:
              return String(this.value);
            case CONSTANTS.UNIT_PERCENT:
              return this.value + "%";
            case CONSTANTS.UNIT_AUTO:
              return "auto";
            default: {
              return this.value + "?";
            }
          }
        }
      }, {
        key: "valueOf",
        value: function valueOf() {
          return this.value;
        }
      }]);
      return Value2;
    }();
    module2.exports = function(bind, lib) {
      function patch(prototype, name, fn) {
        var original = prototype[name];
        prototype[name] = function() {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          return fn.call.apply(fn, [this, original].concat(args));
        };
      }
      var _arr = ["setPosition", "setMargin", "setFlexBasis", "setWidth", "setHeight", "setMinWidth", "setMinHeight", "setMaxWidth", "setMaxHeight", "setPadding"];
      var _loop = function _loop2() {
        var _methods;
        var fnName = _arr[_i];
        var methods = (_methods = {}, _defineProperty(_methods, CONSTANTS.UNIT_POINT, lib.Node.prototype[fnName]), _defineProperty(_methods, CONSTANTS.UNIT_PERCENT, lib.Node.prototype[fnName + "Percent"]), _defineProperty(_methods, CONSTANTS.UNIT_AUTO, lib.Node.prototype[fnName + "Auto"]), _methods);
        patch(lib.Node.prototype, fnName, function(original) {
          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }
          var value = args.pop();
          var unit = void 0, asNumber = void 0;
          if (value === "auto") {
            unit = CONSTANTS.UNIT_AUTO;
            asNumber = void 0;
          } else if (value instanceof Value) {
            unit = value.unit;
            asNumber = value.valueOf();
          } else {
            unit = typeof value === "string" && value.endsWith("%") ? CONSTANTS.UNIT_PERCENT : CONSTANTS.UNIT_POINT;
            asNumber = parseFloat(value);
            if (!Number.isNaN(value) && Number.isNaN(asNumber)) {
              throw new Error("Invalid value " + value + " for " + fnName);
            }
          }
          if (!methods[unit])
            throw new Error('Failed to execute "' + fnName + `": Unsupported unit '` + value + "'");
          if (asNumber !== void 0) {
            var _methods$unit;
            return (_methods$unit = methods[unit]).call.apply(_methods$unit, [this].concat(args, [asNumber]));
          } else {
            var _methods$unit2;
            return (_methods$unit2 = methods[unit]).call.apply(_methods$unit2, [this].concat(args));
          }
        });
      };
      for (var _i = 0; _i < _arr.length; _i++) {
        _loop();
      }
      patch(lib.Config.prototype, "free", function() {
        lib.Config.destroy(this);
      });
      patch(lib.Node, "create", function(_2, config) {
        return config ? lib.Node.createWithConfig(config) : lib.Node.createDefault();
      });
      patch(lib.Node.prototype, "free", function() {
        lib.Node.destroy(this);
      });
      patch(lib.Node.prototype, "freeRecursive", function() {
        for (var t2 = 0, T2 = this.getChildCount(); t2 < T2; ++t2) {
          this.getChild(0).freeRecursive();
        }
        this.free();
      });
      patch(lib.Node.prototype, "setMeasureFunc", function(original, measureFunc) {
        if (measureFunc) {
          return original.call(this, function() {
            return Size.fromJS(measureFunc.apply(void 0, arguments));
          });
        } else {
          return this.unsetMeasureFunc();
        }
      });
      patch(lib.Node.prototype, "calculateLayout", function(original) {
        var width = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : NaN;
        var height = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : NaN;
        var direction = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : CONSTANTS.DIRECTION_LTR;
        return original.call(this, width, height, direction);
      });
      return _extends({
        Config: lib.Config,
        Node: lib.Node,
        Layout: bind("Layout", Layout),
        Size: bind("Size", Size),
        Value: bind("Value", Value),
        getInstanceCount: function getInstanceCount() {
          return lib.getInstanceCount.apply(lib, arguments);
        }
      }, CONSTANTS);
    };
  }
});

// ../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/build/Release/nbind.js
var require_nbind = __commonJS({
  "../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/build/Release/nbind.js"(exports, module) {
    (function(root, wrapper) {
      if (typeof define == "function" && define.amd)
        define([], function() {
          return wrapper;
        });
      else if (typeof module == "object" && module.exports)
        module.exports = wrapper;
      else
        (root.nbind = root.nbind || {}).init = wrapper;
    })(exports, function(Module, cb) {
      if (typeof Module == "function") {
        cb = Module;
        Module = {};
      }
      Module.onRuntimeInitialized = function(init2, cb2) {
        return function() {
          if (init2)
            init2.apply(this, arguments);
          try {
            Module.ccall("nbind_init");
          } catch (err2) {
            cb2(err2);
            return;
          }
          cb2(null, { bind: Module._nbind_value, reflect: Module.NBind.reflect, queryType: Module.NBind.queryType, toggleLightGC: Module.toggleLightGC, lib: Module });
        };
      }(Module.onRuntimeInitialized, cb);
      var Module;
      if (!Module)
        Module = (typeof Module !== "undefined" ? Module : null) || {};
      var moduleOverrides = {};
      for (var key in Module) {
        if (Module.hasOwnProperty(key)) {
          moduleOverrides[key] = Module[key];
        }
      }
      var ENVIRONMENT_IS_WEB = false;
      var ENVIRONMENT_IS_WORKER = false;
      var ENVIRONMENT_IS_NODE = false;
      var ENVIRONMENT_IS_SHELL = false;
      if (Module["ENVIRONMENT"]) {
        if (Module["ENVIRONMENT"] === "WEB") {
          ENVIRONMENT_IS_WEB = true;
        } else if (Module["ENVIRONMENT"] === "WORKER") {
          ENVIRONMENT_IS_WORKER = true;
        } else if (Module["ENVIRONMENT"] === "NODE") {
          ENVIRONMENT_IS_NODE = true;
        } else if (Module["ENVIRONMENT"] === "SHELL") {
          ENVIRONMENT_IS_SHELL = true;
        } else {
          throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");
        }
      } else {
        ENVIRONMENT_IS_WEB = typeof window === "object";
        ENVIRONMENT_IS_WORKER = typeof importScripts === "function";
        ENVIRONMENT_IS_NODE = typeof process === "object" && typeof __require === "function" && !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_WORKER;
        ENVIRONMENT_IS_SHELL = !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;
      }
      if (ENVIRONMENT_IS_NODE) {
        if (!Module["print"])
          Module["print"] = console.log;
        if (!Module["printErr"])
          Module["printErr"] = console.warn;
        var nodeFS;
        var nodePath;
        Module["read"] = function shell_read(filename, binary) {
          if (!nodeFS)
            nodeFS = {}("");
          if (!nodePath)
            nodePath = {}("");
          filename = nodePath["normalize"](filename);
          var ret = nodeFS["readFileSync"](filename);
          return binary ? ret : ret.toString();
        };
        Module["readBinary"] = function readBinary(filename) {
          var ret = Module["read"](filename, true);
          if (!ret.buffer) {
            ret = new Uint8Array(ret);
          }
          assert(ret.buffer);
          return ret;
        };
        Module["load"] = function load(f4) {
          globalEval(read(f4));
        };
        if (!Module["thisProgram"]) {
          if (process["argv"].length > 1) {
            Module["thisProgram"] = process["argv"][1].replace(/\\/g, "/");
          } else {
            Module["thisProgram"] = "unknown-program";
          }
        }
        Module["arguments"] = process["argv"].slice(2);
        if (typeof module !== "undefined") {
          module["exports"] = Module;
        }
        process["on"]("uncaughtException", function(ex) {
          if (!(ex instanceof ExitStatus)) {
            throw ex;
          }
        });
        Module["inspect"] = function() {
          return "[Emscripten Module object]";
        };
      } else if (ENVIRONMENT_IS_SHELL) {
        if (!Module["print"])
          Module["print"] = print;
        if (typeof printErr != "undefined")
          Module["printErr"] = printErr;
        if (typeof read != "undefined") {
          Module["read"] = read;
        } else {
          Module["read"] = function shell_read() {
            throw "no read() available";
          };
        }
        Module["readBinary"] = function readBinary(f4) {
          if (typeof readbuffer === "function") {
            return new Uint8Array(readbuffer(f4));
          }
          var data = read(f4, "binary");
          assert(typeof data === "object");
          return data;
        };
        if (typeof scriptArgs != "undefined") {
          Module["arguments"] = scriptArgs;
        } else if (typeof arguments != "undefined") {
          Module["arguments"] = arguments;
        }
        if (typeof quit === "function") {
          Module["quit"] = function(status, toThrow) {
            quit(status);
          };
        }
      } else if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {
        Module["read"] = function shell_read(url2) {
          var xhr = new XMLHttpRequest();
          xhr.open("GET", url2, false);
          xhr.send(null);
          return xhr.responseText;
        };
        if (ENVIRONMENT_IS_WORKER) {
          Module["readBinary"] = function readBinary(url2) {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", url2, false);
            xhr.responseType = "arraybuffer";
            xhr.send(null);
            return new Uint8Array(xhr.response);
          };
        }
        Module["readAsync"] = function readAsync(url2, onload, onerror) {
          var xhr = new XMLHttpRequest();
          xhr.open("GET", url2, true);
          xhr.responseType = "arraybuffer";
          xhr.onload = function xhr_onload() {
            if (xhr.status == 200 || xhr.status == 0 && xhr.response) {
              onload(xhr.response);
            } else {
              onerror();
            }
          };
          xhr.onerror = onerror;
          xhr.send(null);
        };
        if (typeof arguments != "undefined") {
          Module["arguments"] = arguments;
        }
        if (typeof console !== "undefined") {
          if (!Module["print"])
            Module["print"] = function shell_print(x2) {
              console.log(x2);
            };
          if (!Module["printErr"])
            Module["printErr"] = function shell_printErr(x2) {
              console.warn(x2);
            };
        } else {
          var TRY_USE_DUMP = false;
          if (!Module["print"])
            Module["print"] = TRY_USE_DUMP && typeof dump !== "undefined" ? function(x2) {
              dump(x2);
            } : function(x2) {
            };
        }
        if (ENVIRONMENT_IS_WORKER) {
          Module["load"] = importScripts;
        }
        if (typeof Module["setWindowTitle"] === "undefined") {
          Module["setWindowTitle"] = function(title) {
            document.title = title;
          };
        }
      } else {
        throw "Unknown runtime environment. Where are we?";
      }
      function globalEval(x2) {
        eval.call(null, x2);
      }
      if (!Module["load"] && Module["read"]) {
        Module["load"] = function load(f4) {
          globalEval(Module["read"](f4));
        };
      }
      if (!Module["print"]) {
        Module["print"] = function() {
        };
      }
      if (!Module["printErr"]) {
        Module["printErr"] = Module["print"];
      }
      if (!Module["arguments"]) {
        Module["arguments"] = [];
      }
      if (!Module["thisProgram"]) {
        Module["thisProgram"] = "./this.program";
      }
      if (!Module["quit"]) {
        Module["quit"] = function(status, toThrow) {
          throw toThrow;
        };
      }
      Module.print = Module["print"];
      Module.printErr = Module["printErr"];
      Module["preRun"] = [];
      Module["postRun"] = [];
      for (var key in moduleOverrides) {
        if (moduleOverrides.hasOwnProperty(key)) {
          Module[key] = moduleOverrides[key];
        }
      }
      moduleOverrides = void 0;
      var Runtime = { setTempRet0: function(value) {
        tempRet0 = value;
        return value;
      }, getTempRet0: function() {
        return tempRet0;
      }, stackSave: function() {
        return STACKTOP;
      }, stackRestore: function(stackTop) {
        STACKTOP = stackTop;
      }, getNativeTypeSize: function(type2) {
        switch (type2) {
          case "i1":
          case "i8":
            return 1;
          case "i16":
            return 2;
          case "i32":
            return 4;
          case "i64":
            return 8;
          case "float":
            return 4;
          case "double":
            return 8;
          default: {
            if (type2[type2.length - 1] === "*") {
              return Runtime.QUANTUM_SIZE;
            } else if (type2[0] === "i") {
              var bits = parseInt(type2.substr(1));
              assert(bits % 8 === 0);
              return bits / 8;
            } else {
              return 0;
            }
          }
        }
      }, getNativeFieldSize: function(type2) {
        return Math.max(Runtime.getNativeTypeSize(type2), Runtime.QUANTUM_SIZE);
      }, STACK_ALIGN: 16, prepVararg: function(ptr2, type2) {
        if (type2 === "double" || type2 === "i64") {
          if (ptr2 & 7) {
            assert((ptr2 & 7) === 4);
            ptr2 += 4;
          }
        } else {
          assert((ptr2 & 3) === 0);
        }
        return ptr2;
      }, getAlignSize: function(type2, size, vararg) {
        if (!vararg && (type2 == "i64" || type2 == "double"))
          return 8;
        if (!type2)
          return Math.min(size, 8);
        return Math.min(size || (type2 ? Runtime.getNativeFieldSize(type2) : 0), Runtime.QUANTUM_SIZE);
      }, dynCall: function(sig, ptr2, args) {
        if (args && args.length) {
          return Module["dynCall_" + sig].apply(null, [ptr2].concat(args));
        } else {
          return Module["dynCall_" + sig].call(null, ptr2);
        }
      }, functionPointers: [], addFunction: function(func2) {
        for (var i3 = 0; i3 < Runtime.functionPointers.length; i3++) {
          if (!Runtime.functionPointers[i3]) {
            Runtime.functionPointers[i3] = func2;
            return 2 * (1 + i3);
          }
        }
        throw "Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.";
      }, removeFunction: function(index) {
        Runtime.functionPointers[(index - 2) / 2] = null;
      }, warnOnce: function(text) {
        if (!Runtime.warnOnce.shown)
          Runtime.warnOnce.shown = {};
        if (!Runtime.warnOnce.shown[text]) {
          Runtime.warnOnce.shown[text] = 1;
          Module.printErr(text);
        }
      }, funcWrappers: {}, getFuncWrapper: function(func2, sig) {
        if (!func2)
          return;
        assert(sig);
        if (!Runtime.funcWrappers[sig]) {
          Runtime.funcWrappers[sig] = {};
        }
        var sigCache = Runtime.funcWrappers[sig];
        if (!sigCache[func2]) {
          if (sig.length === 1) {
            sigCache[func2] = function dynCall_wrapper() {
              return Runtime.dynCall(sig, func2);
            };
          } else if (sig.length === 2) {
            sigCache[func2] = function dynCall_wrapper(arg2) {
              return Runtime.dynCall(sig, func2, [arg2]);
            };
          } else {
            sigCache[func2] = function dynCall_wrapper() {
              return Runtime.dynCall(sig, func2, Array.prototype.slice.call(arguments));
            };
          }
        }
        return sigCache[func2];
      }, getCompilerSetting: function(name) {
        throw "You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work";
      }, stackAlloc: function(size) {
        var ret = STACKTOP;
        STACKTOP = STACKTOP + size | 0;
        STACKTOP = STACKTOP + 15 & -16;
        return ret;
      }, staticAlloc: function(size) {
        var ret = STATICTOP;
        STATICTOP = STATICTOP + size | 0;
        STATICTOP = STATICTOP + 15 & -16;
        return ret;
      }, dynamicAlloc: function(size) {
        var ret = HEAP32[DYNAMICTOP_PTR >> 2];
        var end = (ret + size + 15 | 0) & -16;
        HEAP32[DYNAMICTOP_PTR >> 2] = end;
        if (end >= TOTAL_MEMORY) {
          var success = enlargeMemory();
          if (!success) {
            HEAP32[DYNAMICTOP_PTR >> 2] = ret;
            return 0;
          }
        }
        return ret;
      }, alignMemory: function(size, quantum) {
        var ret = size = Math.ceil(size / (quantum ? quantum : 16)) * (quantum ? quantum : 16);
        return ret;
      }, makeBigInt: function(low, high, unsigned) {
        var ret = unsigned ? +(low >>> 0) + +(high >>> 0) * 4294967296 : +(low >>> 0) + +(high | 0) * 4294967296;
        return ret;
      }, GLOBAL_BASE: 8, QUANTUM_SIZE: 4, __dummy__: 0 };
      Module["Runtime"] = Runtime;
      var ABORT = 0;
      var EXITSTATUS = 0;
      function assert(condition, text) {
        if (!condition) {
          abort("Assertion failed: " + text);
        }
      }
      function getCFunc(ident) {
        var func = Module["_" + ident];
        if (!func) {
          try {
            func = eval("_" + ident);
          } catch (e3) {
          }
        }
        assert(func, "Cannot call unknown function " + ident + " (perhaps LLVM optimizations or closure removed it?)");
        return func;
      }
      var cwrap, ccall;
      (function() {
        var JSfuncs = { "stackSave": function() {
          Runtime.stackSave();
        }, "stackRestore": function() {
          Runtime.stackRestore();
        }, "arrayToC": function(arr) {
          var ret = Runtime.stackAlloc(arr.length);
          writeArrayToMemory(arr, ret);
          return ret;
        }, "stringToC": function(str) {
          var ret = 0;
          if (str !== null && str !== void 0 && str !== 0) {
            var len = (str.length << 2) + 1;
            ret = Runtime.stackAlloc(len);
            stringToUTF8(str, ret, len);
          }
          return ret;
        } };
        var toC = { "string": JSfuncs["stringToC"], "array": JSfuncs["arrayToC"] };
        ccall = function ccallFunc(ident2, returnType2, argTypes2, args, opts) {
          var func2 = getCFunc(ident2);
          var cArgs = [];
          var stack = 0;
          if (args) {
            for (var i3 = 0; i3 < args.length; i3++) {
              var converter = toC[argTypes2[i3]];
              if (converter) {
                if (stack === 0)
                  stack = Runtime.stackSave();
                cArgs[i3] = converter(args[i3]);
              } else {
                cArgs[i3] = args[i3];
              }
            }
          }
          var ret = func2.apply(null, cArgs);
          if (returnType2 === "string")
            ret = Pointer_stringify(ret);
          if (stack !== 0) {
            if (opts && opts.async) {
              EmterpreterAsync.asyncFinalizers.push(function() {
                Runtime.stackRestore(stack);
              });
              return;
            }
            Runtime.stackRestore(stack);
          }
          return ret;
        };
        var sourceRegex = /^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;
        function parseJSFunc(jsfunc) {
          var parsed = jsfunc.toString().match(sourceRegex).slice(1);
          return { arguments: parsed[0], body: parsed[1], returnValue: parsed[2] };
        }
        var JSsource = null;
        function ensureJSsource() {
          if (!JSsource) {
            JSsource = {};
            for (var fun in JSfuncs) {
              if (JSfuncs.hasOwnProperty(fun)) {
                JSsource[fun] = parseJSFunc(JSfuncs[fun]);
              }
            }
          }
        }
        cwrap = function cwrap(ident, returnType, argTypes) {
          argTypes = argTypes || [];
          var cfunc = getCFunc(ident);
          var numericArgs = argTypes.every(function(type2) {
            return type2 === "number";
          });
          var numericRet = returnType !== "string";
          if (numericRet && numericArgs) {
            return cfunc;
          }
          var argNames = argTypes.map(function(x2, i3) {
            return "$" + i3;
          });
          var funcstr = "(function(" + argNames.join(",") + ") {";
          var nargs = argTypes.length;
          if (!numericArgs) {
            ensureJSsource();
            funcstr += "var stack = " + JSsource["stackSave"].body + ";";
            for (var i = 0; i < nargs; i++) {
              var arg = argNames[i], type = argTypes[i];
              if (type === "number")
                continue;
              var convertCode = JSsource[type + "ToC"];
              funcstr += "var " + convertCode.arguments + " = " + arg + ";";
              funcstr += convertCode.body + ";";
              funcstr += arg + "=(" + convertCode.returnValue + ");";
            }
          }
          var cfuncname = parseJSFunc(function() {
            return cfunc;
          }).returnValue;
          funcstr += "var ret = " + cfuncname + "(" + argNames.join(",") + ");";
          if (!numericRet) {
            var strgfy = parseJSFunc(function() {
              return Pointer_stringify;
            }).returnValue;
            funcstr += "ret = " + strgfy + "(ret);";
          }
          if (!numericArgs) {
            ensureJSsource();
            funcstr += JSsource["stackRestore"].body.replace("()", "(stack)") + ";";
          }
          funcstr += "return ret})";
          return eval(funcstr);
        };
      })();
      Module["ccall"] = ccall;
      Module["cwrap"] = cwrap;
      function setValue(ptr2, value, type2, noSafe) {
        type2 = type2 || "i8";
        if (type2.charAt(type2.length - 1) === "*")
          type2 = "i32";
        switch (type2) {
          case "i1":
            HEAP8[ptr2 >> 0] = value;
            break;
          case "i8":
            HEAP8[ptr2 >> 0] = value;
            break;
          case "i16":
            HEAP16[ptr2 >> 1] = value;
            break;
          case "i32":
            HEAP32[ptr2 >> 2] = value;
            break;
          case "i64":
            tempI64 = [value >>> 0, (tempDouble = value, +Math_abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math_min(+Math_floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math_ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[ptr2 >> 2] = tempI64[0], HEAP32[ptr2 + 4 >> 2] = tempI64[1];
            break;
          case "float":
            HEAPF32[ptr2 >> 2] = value;
            break;
          case "double":
            HEAPF64[ptr2 >> 3] = value;
            break;
          default:
            abort("invalid type for setValue: " + type2);
        }
      }
      Module["setValue"] = setValue;
      function getValue(ptr2, type2, noSafe) {
        type2 = type2 || "i8";
        if (type2.charAt(type2.length - 1) === "*")
          type2 = "i32";
        switch (type2) {
          case "i1":
            return HEAP8[ptr2 >> 0];
          case "i8":
            return HEAP8[ptr2 >> 0];
          case "i16":
            return HEAP16[ptr2 >> 1];
          case "i32":
            return HEAP32[ptr2 >> 2];
          case "i64":
            return HEAP32[ptr2 >> 2];
          case "float":
            return HEAPF32[ptr2 >> 2];
          case "double":
            return HEAPF64[ptr2 >> 3];
          default:
            abort("invalid type for setValue: " + type2);
        }
        return null;
      }
      Module["getValue"] = getValue;
      var ALLOC_NORMAL = 0;
      var ALLOC_STACK = 1;
      var ALLOC_STATIC = 2;
      var ALLOC_DYNAMIC = 3;
      var ALLOC_NONE = 4;
      Module["ALLOC_NORMAL"] = ALLOC_NORMAL;
      Module["ALLOC_STACK"] = ALLOC_STACK;
      Module["ALLOC_STATIC"] = ALLOC_STATIC;
      Module["ALLOC_DYNAMIC"] = ALLOC_DYNAMIC;
      Module["ALLOC_NONE"] = ALLOC_NONE;
      function allocate(slab, types, allocator, ptr2) {
        var zeroinit, size;
        if (typeof slab === "number") {
          zeroinit = true;
          size = slab;
        } else {
          zeroinit = false;
          size = slab.length;
        }
        var singleType = typeof types === "string" ? types : null;
        var ret;
        if (allocator == ALLOC_NONE) {
          ret = ptr2;
        } else {
          ret = [typeof _malloc === "function" ? _malloc : Runtime.staticAlloc, Runtime.stackAlloc, Runtime.staticAlloc, Runtime.dynamicAlloc][allocator === void 0 ? ALLOC_STATIC : allocator](Math.max(size, singleType ? 1 : types.length));
        }
        if (zeroinit) {
          var ptr2 = ret, stop;
          assert((ret & 3) == 0);
          stop = ret + (size & ~3);
          for (; ptr2 < stop; ptr2 += 4) {
            HEAP32[ptr2 >> 2] = 0;
          }
          stop = ret + size;
          while (ptr2 < stop) {
            HEAP8[ptr2++ >> 0] = 0;
          }
          return ret;
        }
        if (singleType === "i8") {
          if (slab.subarray || slab.slice) {
            HEAPU8.set(slab, ret);
          } else {
            HEAPU8.set(new Uint8Array(slab), ret);
          }
          return ret;
        }
        var i3 = 0, type2, typeSize, previousType;
        while (i3 < size) {
          var curr = slab[i3];
          if (typeof curr === "function") {
            curr = Runtime.getFunctionIndex(curr);
          }
          type2 = singleType || types[i3];
          if (type2 === 0) {
            i3++;
            continue;
          }
          if (type2 == "i64")
            type2 = "i32";
          setValue(ret + i3, curr, type2);
          if (previousType !== type2) {
            typeSize = Runtime.getNativeTypeSize(type2);
            previousType = type2;
          }
          i3 += typeSize;
        }
        return ret;
      }
      Module["allocate"] = allocate;
      function getMemory(size) {
        if (!staticSealed)
          return Runtime.staticAlloc(size);
        if (!runtimeInitialized)
          return Runtime.dynamicAlloc(size);
        return _malloc(size);
      }
      Module["getMemory"] = getMemory;
      function Pointer_stringify(ptr2, length) {
        if (length === 0 || !ptr2)
          return "";
        var hasUtf = 0;
        var t2;
        var i3 = 0;
        while (1) {
          t2 = HEAPU8[ptr2 + i3 >> 0];
          hasUtf |= t2;
          if (t2 == 0 && !length)
            break;
          i3++;
          if (length && i3 == length)
            break;
        }
        if (!length)
          length = i3;
        var ret = "";
        if (hasUtf < 128) {
          var MAX_CHUNK = 1024;
          var curr;
          while (length > 0) {
            curr = String.fromCharCode.apply(String, HEAPU8.subarray(ptr2, ptr2 + Math.min(length, MAX_CHUNK)));
            ret = ret ? ret + curr : curr;
            ptr2 += MAX_CHUNK;
            length -= MAX_CHUNK;
          }
          return ret;
        }
        return Module["UTF8ToString"](ptr2);
      }
      Module["Pointer_stringify"] = Pointer_stringify;
      function AsciiToString(ptr2) {
        var str = "";
        while (1) {
          var ch = HEAP8[ptr2++ >> 0];
          if (!ch)
            return str;
          str += String.fromCharCode(ch);
        }
      }
      Module["AsciiToString"] = AsciiToString;
      function stringToAscii(str, outPtr) {
        return writeAsciiToMemory(str, outPtr, false);
      }
      Module["stringToAscii"] = stringToAscii;
      var UTF8Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf8") : void 0;
      function UTF8ArrayToString(u8Array, idx) {
        var endPtr = idx;
        while (u8Array[endPtr])
          ++endPtr;
        if (endPtr - idx > 16 && u8Array.subarray && UTF8Decoder) {
          return UTF8Decoder.decode(u8Array.subarray(idx, endPtr));
        } else {
          var u0, u1, u2, u3, u4, u5;
          var str = "";
          while (1) {
            u0 = u8Array[idx++];
            if (!u0)
              return str;
            if (!(u0 & 128)) {
              str += String.fromCharCode(u0);
              continue;
            }
            u1 = u8Array[idx++] & 63;
            if ((u0 & 224) == 192) {
              str += String.fromCharCode((u0 & 31) << 6 | u1);
              continue;
            }
            u2 = u8Array[idx++] & 63;
            if ((u0 & 240) == 224) {
              u0 = (u0 & 15) << 12 | u1 << 6 | u2;
            } else {
              u3 = u8Array[idx++] & 63;
              if ((u0 & 248) == 240) {
                u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | u3;
              } else {
                u4 = u8Array[idx++] & 63;
                if ((u0 & 252) == 248) {
                  u0 = (u0 & 3) << 24 | u1 << 18 | u2 << 12 | u3 << 6 | u4;
                } else {
                  u5 = u8Array[idx++] & 63;
                  u0 = (u0 & 1) << 30 | u1 << 24 | u2 << 18 | u3 << 12 | u4 << 6 | u5;
                }
              }
            }
            if (u0 < 65536) {
              str += String.fromCharCode(u0);
            } else {
              var ch = u0 - 65536;
              str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);
            }
          }
        }
      }
      Module["UTF8ArrayToString"] = UTF8ArrayToString;
      function UTF8ToString(ptr2) {
        return UTF8ArrayToString(HEAPU8, ptr2);
      }
      Module["UTF8ToString"] = UTF8ToString;
      function stringToUTF8Array(str, outU8Array, outIdx, maxBytesToWrite) {
        if (!(maxBytesToWrite > 0))
          return 0;
        var startIdx = outIdx;
        var endIdx = outIdx + maxBytesToWrite - 1;
        for (var i3 = 0; i3 < str.length; ++i3) {
          var u2 = str.charCodeAt(i3);
          if (u2 >= 55296 && u2 <= 57343)
            u2 = 65536 + ((u2 & 1023) << 10) | str.charCodeAt(++i3) & 1023;
          if (u2 <= 127) {
            if (outIdx >= endIdx)
              break;
            outU8Array[outIdx++] = u2;
          } else if (u2 <= 2047) {
            if (outIdx + 1 >= endIdx)
              break;
            outU8Array[outIdx++] = 192 | u2 >> 6;
            outU8Array[outIdx++] = 128 | u2 & 63;
          } else if (u2 <= 65535) {
            if (outIdx + 2 >= endIdx)
              break;
            outU8Array[outIdx++] = 224 | u2 >> 12;
            outU8Array[outIdx++] = 128 | u2 >> 6 & 63;
            outU8Array[outIdx++] = 128 | u2 & 63;
          } else if (u2 <= 2097151) {
            if (outIdx + 3 >= endIdx)
              break;
            outU8Array[outIdx++] = 240 | u2 >> 18;
            outU8Array[outIdx++] = 128 | u2 >> 12 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 6 & 63;
            outU8Array[outIdx++] = 128 | u2 & 63;
          } else if (u2 <= 67108863) {
            if (outIdx + 4 >= endIdx)
              break;
            outU8Array[outIdx++] = 248 | u2 >> 24;
            outU8Array[outIdx++] = 128 | u2 >> 18 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 12 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 6 & 63;
            outU8Array[outIdx++] = 128 | u2 & 63;
          } else {
            if (outIdx + 5 >= endIdx)
              break;
            outU8Array[outIdx++] = 252 | u2 >> 30;
            outU8Array[outIdx++] = 128 | u2 >> 24 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 18 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 12 & 63;
            outU8Array[outIdx++] = 128 | u2 >> 6 & 63;
            outU8Array[outIdx++] = 128 | u2 & 63;
          }
        }
        outU8Array[outIdx] = 0;
        return outIdx - startIdx;
      }
      Module["stringToUTF8Array"] = stringToUTF8Array;
      function stringToUTF8(str, outPtr, maxBytesToWrite) {
        return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);
      }
      Module["stringToUTF8"] = stringToUTF8;
      function lengthBytesUTF8(str) {
        var len = 0;
        for (var i3 = 0; i3 < str.length; ++i3) {
          var u2 = str.charCodeAt(i3);
          if (u2 >= 55296 && u2 <= 57343)
            u2 = 65536 + ((u2 & 1023) << 10) | str.charCodeAt(++i3) & 1023;
          if (u2 <= 127) {
            ++len;
          } else if (u2 <= 2047) {
            len += 2;
          } else if (u2 <= 65535) {
            len += 3;
          } else if (u2 <= 2097151) {
            len += 4;
          } else if (u2 <= 67108863) {
            len += 5;
          } else {
            len += 6;
          }
        }
        return len;
      }
      Module["lengthBytesUTF8"] = lengthBytesUTF8;
      var UTF16Decoder = typeof TextDecoder !== "undefined" ? new TextDecoder("utf-16le") : void 0;
      function demangle(func2) {
        var __cxa_demangle_func = Module["___cxa_demangle"] || Module["__cxa_demangle"];
        if (__cxa_demangle_func) {
          try {
            var s2 = func2.substr(1);
            var len = lengthBytesUTF8(s2) + 1;
            var buf = _malloc(len);
            stringToUTF8(s2, buf, len);
            var status = _malloc(4);
            var ret = __cxa_demangle_func(buf, 0, 0, status);
            if (getValue(status, "i32") === 0 && ret) {
              return Pointer_stringify(ret);
            }
          } catch (e3) {
          } finally {
            if (buf)
              _free(buf);
            if (status)
              _free(status);
            if (ret)
              _free(ret);
          }
          return func2;
        }
        Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling");
        return func2;
      }
      function demangleAll(text) {
        var regex = /__Z[\w\d_]+/g;
        return text.replace(regex, function(x2) {
          var y2 = demangle(x2);
          return x2 === y2 ? x2 : x2 + " [" + y2 + "]";
        });
      }
      function jsStackTrace() {
        var err2 = new Error();
        if (!err2.stack) {
          try {
            throw new Error(0);
          } catch (e3) {
            err2 = e3;
          }
          if (!err2.stack) {
            return "(no stack trace available)";
          }
        }
        return err2.stack.toString();
      }
      function stackTrace() {
        var js = jsStackTrace();
        if (Module["extraStackTrace"])
          js += "\n" + Module["extraStackTrace"]();
        return demangleAll(js);
      }
      Module["stackTrace"] = stackTrace;
      var HEAP, buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;
      function updateGlobalBufferViews() {
        Module["HEAP8"] = HEAP8 = new Int8Array(buffer);
        Module["HEAP16"] = HEAP16 = new Int16Array(buffer);
        Module["HEAP32"] = HEAP32 = new Int32Array(buffer);
        Module["HEAPU8"] = HEAPU8 = new Uint8Array(buffer);
        Module["HEAPU16"] = HEAPU16 = new Uint16Array(buffer);
        Module["HEAPU32"] = HEAPU32 = new Uint32Array(buffer);
        Module["HEAPF32"] = HEAPF32 = new Float32Array(buffer);
        Module["HEAPF64"] = HEAPF64 = new Float64Array(buffer);
      }
      var STATIC_BASE, STATICTOP, staticSealed;
      var STACK_BASE, STACKTOP, STACK_MAX;
      var DYNAMIC_BASE, DYNAMICTOP_PTR;
      STATIC_BASE = STATICTOP = STACK_BASE = STACKTOP = STACK_MAX = DYNAMIC_BASE = DYNAMICTOP_PTR = 0;
      staticSealed = false;
      function abortOnCannotGrowMemory() {
        abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value " + TOTAL_MEMORY + ", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ");
      }
      function enlargeMemory() {
        abortOnCannotGrowMemory();
      }
      var TOTAL_STACK = Module["TOTAL_STACK"] || 5242880;
      var TOTAL_MEMORY = Module["TOTAL_MEMORY"] || 134217728;
      if (TOTAL_MEMORY < TOTAL_STACK)
        Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was " + TOTAL_MEMORY + "! (TOTAL_STACK=" + TOTAL_STACK + ")");
      if (Module["buffer"]) {
        buffer = Module["buffer"];
      } else {
        {
          buffer = new ArrayBuffer(TOTAL_MEMORY);
        }
      }
      updateGlobalBufferViews();
      function getTotalMemory() {
        return TOTAL_MEMORY;
      }
      HEAP32[0] = 1668509029;
      HEAP16[1] = 25459;
      if (HEAPU8[2] !== 115 || HEAPU8[3] !== 99)
        throw "Runtime error: expected the system to be little-endian!";
      Module["HEAP"] = HEAP;
      Module["buffer"] = buffer;
      Module["HEAP8"] = HEAP8;
      Module["HEAP16"] = HEAP16;
      Module["HEAP32"] = HEAP32;
      Module["HEAPU8"] = HEAPU8;
      Module["HEAPU16"] = HEAPU16;
      Module["HEAPU32"] = HEAPU32;
      Module["HEAPF32"] = HEAPF32;
      Module["HEAPF64"] = HEAPF64;
      function callRuntimeCallbacks(callbacks) {
        while (callbacks.length > 0) {
          var callback = callbacks.shift();
          if (typeof callback == "function") {
            callback();
            continue;
          }
          var func2 = callback.func;
          if (typeof func2 === "number") {
            if (callback.arg === void 0) {
              Module["dynCall_v"](func2);
            } else {
              Module["dynCall_vi"](func2, callback.arg);
            }
          } else {
            func2(callback.arg === void 0 ? null : callback.arg);
          }
        }
      }
      var __ATPRERUN__ = [];
      var __ATINIT__ = [];
      var __ATMAIN__ = [];
      var __ATEXIT__ = [];
      var __ATPOSTRUN__ = [];
      var runtimeInitialized = false;
      var runtimeExited = false;
      function preRun() {
        if (Module["preRun"]) {
          if (typeof Module["preRun"] == "function")
            Module["preRun"] = [Module["preRun"]];
          while (Module["preRun"].length) {
            addOnPreRun(Module["preRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPRERUN__);
      }
      function ensureInitRuntime() {
        if (runtimeInitialized)
          return;
        runtimeInitialized = true;
        callRuntimeCallbacks(__ATINIT__);
      }
      function preMain() {
        callRuntimeCallbacks(__ATMAIN__);
      }
      function exitRuntime() {
        callRuntimeCallbacks(__ATEXIT__);
        runtimeExited = true;
      }
      function postRun() {
        if (Module["postRun"]) {
          if (typeof Module["postRun"] == "function")
            Module["postRun"] = [Module["postRun"]];
          while (Module["postRun"].length) {
            addOnPostRun(Module["postRun"].shift());
          }
        }
        callRuntimeCallbacks(__ATPOSTRUN__);
      }
      function addOnPreRun(cb2) {
        __ATPRERUN__.unshift(cb2);
      }
      Module["addOnPreRun"] = addOnPreRun;
      function addOnInit(cb2) {
        __ATINIT__.unshift(cb2);
      }
      Module["addOnInit"] = addOnInit;
      function addOnPreMain(cb2) {
        __ATMAIN__.unshift(cb2);
      }
      Module["addOnPreMain"] = addOnPreMain;
      function addOnExit(cb2) {
        __ATEXIT__.unshift(cb2);
      }
      Module["addOnExit"] = addOnExit;
      function addOnPostRun(cb2) {
        __ATPOSTRUN__.unshift(cb2);
      }
      Module["addOnPostRun"] = addOnPostRun;
      function intArrayFromString(stringy, dontAddNull, length) {
        var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;
        var u8array = new Array(len);
        var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);
        if (dontAddNull)
          u8array.length = numBytesWritten;
        return u8array;
      }
      Module["intArrayFromString"] = intArrayFromString;
      function intArrayToString(array) {
        var ret = [];
        for (var i3 = 0; i3 < array.length; i3++) {
          var chr = array[i3];
          if (chr > 255) {
            chr &= 255;
          }
          ret.push(String.fromCharCode(chr));
        }
        return ret.join("");
      }
      Module["intArrayToString"] = intArrayToString;
      function writeStringToMemory(string, buffer2, dontAddNull) {
        Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");
        var lastChar, end;
        if (dontAddNull) {
          end = buffer2 + lengthBytesUTF8(string);
          lastChar = HEAP8[end];
        }
        stringToUTF8(string, buffer2, Infinity);
        if (dontAddNull)
          HEAP8[end] = lastChar;
      }
      Module["writeStringToMemory"] = writeStringToMemory;
      function writeArrayToMemory(array, buffer2) {
        HEAP8.set(array, buffer2);
      }
      Module["writeArrayToMemory"] = writeArrayToMemory;
      function writeAsciiToMemory(str, buffer2, dontAddNull) {
        for (var i3 = 0; i3 < str.length; ++i3) {
          HEAP8[buffer2++ >> 0] = str.charCodeAt(i3);
        }
        if (!dontAddNull)
          HEAP8[buffer2 >> 0] = 0;
      }
      Module["writeAsciiToMemory"] = writeAsciiToMemory;
      if (!Math["imul"] || Math["imul"](4294967295, 5) !== -5)
        Math["imul"] = function imul(a2, b3) {
          var ah = a2 >>> 16;
          var al = a2 & 65535;
          var bh = b3 >>> 16;
          var bl = b3 & 65535;
          return al * bl + (ah * bl + al * bh << 16) | 0;
        };
      Math.imul = Math["imul"];
      if (!Math["fround"]) {
        var froundBuffer = new Float32Array(1);
        Math["fround"] = function(x2) {
          froundBuffer[0] = x2;
          return froundBuffer[0];
        };
      }
      Math.fround = Math["fround"];
      if (!Math["clz32"])
        Math["clz32"] = function(x2) {
          x2 = x2 >>> 0;
          for (var i3 = 0; i3 < 32; i3++) {
            if (x2 & 1 << 31 - i3)
              return i3;
          }
          return 32;
        };
      Math.clz32 = Math["clz32"];
      if (!Math["trunc"])
        Math["trunc"] = function(x2) {
          return x2 < 0 ? Math.ceil(x2) : Math.floor(x2);
        };
      Math.trunc = Math["trunc"];
      var Math_abs = Math.abs;
      var Math_cos = Math.cos;
      var Math_sin = Math.sin;
      var Math_tan = Math.tan;
      var Math_acos = Math.acos;
      var Math_asin = Math.asin;
      var Math_atan = Math.atan;
      var Math_atan2 = Math.atan2;
      var Math_exp = Math.exp;
      var Math_log = Math.log;
      var Math_sqrt = Math.sqrt;
      var Math_ceil = Math.ceil;
      var Math_floor = Math.floor;
      var Math_pow = Math.pow;
      var Math_imul = Math.imul;
      var Math_fround = Math.fround;
      var Math_round = Math.round;
      var Math_min = Math.min;
      var Math_clz32 = Math.clz32;
      var Math_trunc = Math.trunc;
      var runDependencies = 0;
      var runDependencyWatcher = null;
      var dependenciesFulfilled = null;
      function getUniqueRunDependency(id) {
        return id;
      }
      function addRunDependency(id) {
        runDependencies++;
        if (Module["monitorRunDependencies"]) {
          Module["monitorRunDependencies"](runDependencies);
        }
      }
      Module["addRunDependency"] = addRunDependency;
      function removeRunDependency(id) {
        runDependencies--;
        if (Module["monitorRunDependencies"]) {
          Module["monitorRunDependencies"](runDependencies);
        }
        if (runDependencies == 0) {
          if (runDependencyWatcher !== null) {
            clearInterval(runDependencyWatcher);
            runDependencyWatcher = null;
          }
          if (dependenciesFulfilled) {
            var callback = dependenciesFulfilled;
            dependenciesFulfilled = null;
            callback();
          }
        }
      }
      Module["removeRunDependency"] = removeRunDependency;
      Module["preloadedImages"] = {};
      Module["preloadedAudios"] = {};
      var ASM_CONSTS = [function($0, $1, $22, $3, $4, $5, $6, $7) {
        return _nbind.callbackSignatureList[$0].apply(this, arguments);
      }];
      function _emscripten_asm_const_iiiiiiii(code, a0, a1, a2, a3, a4, a5, a6) {
        return ASM_CONSTS[code](a0, a1, a2, a3, a4, a5, a6);
      }
      function _emscripten_asm_const_iiiii(code, a0, a1, a2, a3) {
        return ASM_CONSTS[code](a0, a1, a2, a3);
      }
      function _emscripten_asm_const_iiidddddd(code, a0, a1, a2, a3, a4, a5, a6, a7) {
        return ASM_CONSTS[code](a0, a1, a2, a3, a4, a5, a6, a7);
      }
      function _emscripten_asm_const_iiididi(code, a0, a1, a2, a3, a4, a5) {
        return ASM_CONSTS[code](a0, a1, a2, a3, a4, a5);
      }
      function _emscripten_asm_const_iiii(code, a0, a1, a2) {
        return ASM_CONSTS[code](a0, a1, a2);
      }
      function _emscripten_asm_const_iiiid(code, a0, a1, a2, a3) {
        return ASM_CONSTS[code](a0, a1, a2, a3);
      }
      function _emscripten_asm_const_iiiiii(code, a0, a1, a2, a3, a4) {
        return ASM_CONSTS[code](a0, a1, a2, a3, a4);
      }
      STATIC_BASE = Runtime.GLOBAL_BASE;
      STATICTOP = STATIC_BASE + 12800;
      __ATINIT__.push({ func: function() {
        __GLOBAL__sub_I_Yoga_cpp();
      } }, { func: function() {
        __GLOBAL__sub_I_nbind_cc();
      } }, { func: function() {
        __GLOBAL__sub_I_common_cc();
      } }, { func: function() {
        __GLOBAL__sub_I_Binding_cc();
      } });
      allocate([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 192, 127, 0, 0, 192, 127, 0, 0, 192, 127, 3, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 3, 0, 0, 0, 0, 0, 192, 127, 3, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 127, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 128, 191, 0, 0, 128, 191, 0, 0, 192, 127, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 63, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 190, 12, 0, 0, 200, 12, 0, 0, 208, 12, 0, 0, 216, 12, 0, 0, 230, 12, 0, 0, 242, 12, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 192, 127, 3, 0, 0, 0, 180, 45, 0, 0, 181, 45, 0, 0, 182, 45, 0, 0, 181, 45, 0, 0, 182, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0, 4, 0, 0, 0, 183, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 184, 45, 0, 0, 185, 45, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 182, 45, 0, 0, 186, 45, 0, 0, 185, 45, 0, 0, 148, 4, 0, 0, 3, 0, 0, 0, 187, 45, 0, 0, 164, 4, 0, 0, 188, 45, 0, 0, 2, 0, 0, 0, 189, 45, 0, 0, 164, 4, 0, 0, 188, 45, 0, 0, 185, 45, 0, 0, 164, 4, 0, 0, 185, 45, 0, 0, 164, 4, 0, 0, 188, 45, 0, 0, 181, 45, 0, 0, 182, 45, 0, 0, 181, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 5, 0, 0, 0, 6, 0, 0, 0, 1, 0, 0, 0, 7, 0, 0, 0, 183, 45, 0, 0, 182, 45, 0, 0, 181, 45, 0, 0, 190, 45, 0, 0, 190, 45, 0, 0, 182, 45, 0, 0, 182, 45, 0, 0, 185, 45, 0, 0, 181, 45, 0, 0, 185, 45, 0, 0, 182, 45, 0, 0, 181, 45, 0, 0, 185, 45, 0, 0, 182, 45, 0, 0, 185, 45, 0, 0, 48, 5, 0, 0, 3, 0, 0, 0, 56, 5, 0, 0, 1, 0, 0, 0, 189, 45, 0, 0, 185, 45, 0, 0, 164, 4, 0, 0, 76, 5, 0, 0, 2, 0, 0, 0, 191, 45, 0, 0, 186, 45, 0, 0, 182, 45, 0, 0, 185, 45, 0, 0, 192, 45, 0, 0, 185, 45, 0, 0, 182, 45, 0, 0, 186, 45, 0, 0, 185, 45, 0, 0, 76, 5, 0, 0, 76, 5, 0, 0, 136, 5, 0, 0, 182, 45, 0, 0, 181, 45, 0, 0, 2, 0, 0, 0, 190, 45, 0, 0, 136, 5, 0, 0, 56, 19, 0, 0, 156, 5, 0, 0, 2, 0, 0, 0, 184, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 8, 0, 0, 0, 9, 0, 0, 0, 1, 0, 0, 0, 10, 0, 0, 0, 204, 5, 0, 0, 181, 45, 0, 0, 181, 45, 0, 0, 2, 0, 0, 0, 180, 45, 0, 0, 204, 5, 0, 0, 2, 0, 0, 0, 195, 45, 0, 0, 236, 5, 0, 0, 97, 19, 0, 0, 198, 45, 0, 0, 211, 45, 0, 0, 212, 45, 0, 0, 213, 45, 0, 0, 214, 45, 0, 0, 215, 45, 0, 0, 188, 45, 0, 0, 182, 45, 0, 0, 216, 45, 0, 0, 217, 45, 0, 0, 218, 45, 0, 0, 219, 45, 0, 0, 192, 45, 0, 0, 181, 45, 0, 0, 0, 0, 0, 0, 185, 45, 0, 0, 110, 19, 0, 0, 186, 45, 0, 0, 115, 19, 0, 0, 221, 45, 0, 0, 120, 19, 0, 0, 148, 4, 0, 0, 132, 19, 0, 0, 96, 6, 0, 0, 145, 19, 0, 0, 222, 45, 0, 0, 164, 19, 0, 0, 223, 45, 0, 0, 173, 19, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 104, 6, 0, 0, 1, 0, 0, 0, 187, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 11, 0, 0, 0, 12, 0, 0, 0, 1, 0, 0, 0, 13, 0, 0, 0, 185, 45, 0, 0, 224, 45, 0, 0, 164, 6, 0, 0, 188, 45, 0, 0, 172, 6, 0, 0, 180, 6, 0, 0, 2, 0, 0, 0, 188, 6, 0, 0, 7, 0, 0, 0, 224, 45, 0, 0, 7, 0, 0, 0, 164, 6, 0, 0, 1, 0, 0, 0, 213, 45, 0, 0, 185, 45, 0, 0, 224, 45, 0, 0, 172, 6, 0, 0, 185, 45, 0, 0, 224, 45, 0, 0, 164, 6, 0, 0, 185, 45, 0, 0, 224, 45, 0, 0, 211, 45, 0, 0, 211, 45, 0, 0, 222, 45, 0, 0, 211, 45, 0, 0, 224, 45, 0, 0, 222, 45, 0, 0, 211, 45, 0, 0, 224, 45, 0, 0, 172, 6, 0, 0, 222, 45, 0, 0, 211, 45, 0, 0, 224, 45, 0, 0, 188, 45, 0, 0, 222, 45, 0, 0, 211, 45, 0, 0, 40, 7, 0, 0, 188, 45, 0, 0, 2, 0, 0, 0, 224, 45, 0, 0, 185, 45, 0, 0, 188, 45, 0, 0, 188, 45, 0, 0, 188, 45, 0, 0, 188, 45, 0, 0, 222, 45, 0, 0, 224, 45, 0, 0, 148, 4, 0, 0, 185, 45, 0, 0, 148, 4, 0, 0, 148, 4, 0, 0, 148, 4, 0, 0, 148, 4, 0, 0, 148, 4, 0, 0, 185, 45, 0, 0, 164, 6, 0, 0, 148, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 14, 0, 0, 0, 15, 0, 0, 0, 1, 0, 0, 0, 16, 0, 0, 0, 148, 7, 0, 0, 2, 0, 0, 0, 225, 45, 0, 0, 183, 45, 0, 0, 188, 45, 0, 0, 168, 7, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 234, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 148, 45, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 9, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 2, 0, 0, 0, 242, 45, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 67, 111, 117, 108, 100, 32, 110, 111, 116, 32, 97, 108, 108, 111, 99, 97, 116, 101, 32, 109, 101, 109, 111, 114, 121, 32, 102, 111, 114, 32, 110, 111, 100, 101, 0, 67, 97, 110, 110, 111, 116, 32, 114, 101, 115, 101, 116, 32, 97, 32, 110, 111, 100, 101, 32, 119, 104, 105, 99, 104, 32, 115, 116, 105, 108, 108, 32, 104, 97, 115, 32, 99, 104, 105, 108, 100, 114, 101, 110, 32, 97, 116, 116, 97, 99, 104, 101, 100, 0, 67, 97, 110, 110, 111, 116, 32, 114, 101, 115, 101, 116, 32, 97, 32, 110, 111, 100, 101, 32, 115, 116, 105, 108, 108, 32, 97, 116, 116, 97, 99, 104, 101, 100, 32, 116, 111, 32, 97, 32, 112, 97, 114, 101, 110, 116, 0, 67, 111, 117, 108, 100, 32, 110, 111, 116, 32, 97, 108, 108, 111, 99, 97, 116, 101, 32, 109, 101, 109, 111, 114, 121, 32, 102, 111, 114, 32, 99, 111, 110, 102, 105, 103, 0, 67, 97, 110, 110, 111, 116, 32, 115, 101, 116, 32, 109, 101, 97, 115, 117, 114, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 58, 32, 78, 111, 100, 101, 115, 32, 119, 105, 116, 104, 32, 109, 101, 97, 115, 117, 114, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 115, 32, 99, 97, 110, 110, 111, 116, 32, 104, 97, 118, 101, 32, 99, 104, 105, 108, 100, 114, 101, 110, 46, 0, 67, 104, 105, 108, 100, 32, 97, 108, 114, 101, 97, 100, 121, 32, 104, 97, 115, 32, 97, 32, 112, 97, 114, 101, 110, 116, 44, 32, 105, 116, 32, 109, 117, 115, 116, 32, 98, 101, 32, 114, 101, 109, 111, 118, 101, 100, 32, 102, 105, 114, 115, 116, 46, 0, 67, 97, 110, 110, 111, 116, 32, 97, 100, 100, 32, 99, 104, 105, 108, 100, 58, 32, 78, 111, 100, 101, 115, 32, 119, 105, 116, 104, 32, 109, 101, 97, 115, 117, 114, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 115, 32, 99, 97, 110, 110, 111, 116, 32, 104, 97, 118, 101, 32, 99, 104, 105, 108, 100, 114, 101, 110, 46, 0, 79, 110, 108, 121, 32, 108, 101, 97, 102, 32, 110, 111, 100, 101, 115, 32, 119, 105, 116, 104, 32, 99, 117, 115, 116, 111, 109, 32, 109, 101, 97, 115, 117, 114, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 115, 115, 104, 111, 117, 108, 100, 32, 109, 97, 110, 117, 97, 108, 108, 121, 32, 109, 97, 114, 107, 32, 116, 104, 101, 109, 115, 101, 108, 118, 101, 115, 32, 97, 115, 32, 100, 105, 114, 116, 121, 0, 67, 97, 110, 110, 111, 116, 32, 103, 101, 116, 32, 108, 97, 121, 111, 117, 116, 32, 112, 114, 111, 112, 101, 114, 116, 105, 101, 115, 32, 111, 102, 32, 109, 117, 108, 116, 105, 45, 101, 100, 103, 101, 32, 115, 104, 111, 114, 116, 104, 97, 110, 100, 115, 0, 37, 115, 37, 100, 46, 123, 91, 115, 107, 105, 112, 112, 101, 100, 93, 32, 0, 119, 109, 58, 32, 37, 115, 44, 32, 104, 109, 58, 32, 37, 115, 44, 32, 97, 119, 58, 32, 37, 102, 32, 97, 104, 58, 32, 37, 102, 32, 61, 62, 32, 100, 58, 32, 40, 37, 102, 44, 32, 37, 102, 41, 32, 37, 115, 10, 0, 37, 115, 37, 100, 46, 123, 37, 115, 0, 42, 0, 119, 109, 58, 32, 37, 115, 44, 32, 104, 109, 58, 32, 37, 115, 44, 32, 97, 119, 58, 32, 37, 102, 32, 97, 104, 58, 32, 37, 102, 32, 37, 115, 10, 0, 37, 115, 37, 100, 46, 125, 37, 115, 0, 119, 109, 58, 32, 37, 115, 44, 32, 104, 109, 58, 32, 37, 115, 44, 32, 100, 58, 32, 40, 37, 102, 44, 32, 37, 102, 41, 32, 37, 115, 10, 0, 79, 117, 116, 32, 111, 102, 32, 99, 97, 99, 104, 101, 32, 101, 110, 116, 114, 105, 101, 115, 33, 10, 0, 83, 99, 97, 108, 101, 32, 102, 97, 99, 116, 111, 114, 32, 115, 104, 111, 117, 108, 100, 32, 110, 111, 116, 32, 98, 101, 32, 108, 101, 115, 115, 32, 116, 104, 97, 110, 32, 122, 101, 114, 111, 0, 105, 110, 105, 116, 105, 97, 108, 0, 37, 115, 10, 0, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 0, 85, 78, 68, 69, 70, 73, 78, 69, 68, 0, 69, 88, 65, 67, 84, 76, 89, 0, 65, 84, 95, 77, 79, 83, 84, 0, 76, 65, 89, 95, 85, 78, 68, 69, 70, 73, 78, 69, 68, 0, 76, 65, 89, 95, 69, 88, 65, 67, 84, 76, 89, 0, 76, 65, 89, 95, 65, 84, 95, 77, 79, 83, 84, 0, 97, 118, 97, 105, 108, 97, 98, 108, 101, 87, 105, 100, 116, 104, 32, 105, 115, 32, 105, 110, 100, 101, 102, 105, 110, 105, 116, 101, 32, 115, 111, 32, 119, 105, 100, 116, 104, 77, 101, 97, 115, 117, 114, 101, 77, 111, 100, 101, 32, 109, 117, 115, 116, 32, 98, 101, 32, 89, 71, 77, 101, 97, 115, 117, 114, 101, 77, 111, 100, 101, 85, 110, 100, 101, 102, 105, 110, 101, 100, 0, 97, 118, 97, 105, 108, 97, 98, 108, 101, 72, 101, 105, 103, 104, 116, 32, 105, 115, 32, 105, 110, 100, 101, 102, 105, 110, 105, 116, 101, 32, 115, 111, 32, 104, 101, 105, 103, 104, 116, 77, 101, 97, 115, 117, 114, 101, 77, 111, 100, 101, 32, 109, 117, 115, 116, 32, 98, 101, 32, 89, 71, 77, 101, 97, 115, 117, 114, 101, 77, 111, 100, 101, 85, 110, 100, 101, 102, 105, 110, 101, 100, 0, 102, 108, 101, 120, 0, 115, 116, 114, 101, 116, 99, 104, 0, 109, 117, 108, 116, 105, 108, 105, 110, 101, 45, 115, 116, 114, 101, 116, 99, 104, 0, 69, 120, 112, 101, 99, 116, 101, 100, 32, 110, 111, 100, 101, 32, 116, 111, 32, 104, 97, 118, 101, 32, 99, 117, 115, 116, 111, 109, 32, 109, 101, 97, 115, 117, 114, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 0, 109, 101, 97, 115, 117, 114, 101, 0, 69, 120, 112, 101, 99, 116, 32, 99, 117, 115, 116, 111, 109, 32, 98, 97, 115, 101, 108, 105, 110, 101, 32, 102, 117, 110, 99, 116, 105, 111, 110, 32, 116, 111, 32, 110, 111, 116, 32, 114, 101, 116, 117, 114, 110, 32, 78, 97, 78, 0, 97, 98, 115, 45, 109, 101, 97, 115, 117, 114, 101, 0, 97, 98, 115, 45, 108, 97, 121, 111, 117, 116, 0, 78, 111, 100, 101, 0, 99, 114, 101, 97, 116, 101, 68, 101, 102, 97, 117, 108, 116, 0, 99, 114, 101, 97, 116, 101, 87, 105, 116, 104, 67, 111, 110, 102, 105, 103, 0, 100, 101, 115, 116, 114, 111, 121, 0, 114, 101, 115, 101, 116, 0, 99, 111, 112, 121, 83, 116, 121, 108, 101, 0, 115, 101, 116, 80, 111, 115, 105, 116, 105, 111, 110, 84, 121, 112, 101, 0, 115, 101, 116, 80, 111, 115, 105, 116, 105, 111, 110, 0, 115, 101, 116, 80, 111, 115, 105, 116, 105, 111, 110, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 65, 108, 105, 103, 110, 67, 111, 110, 116, 101, 110, 116, 0, 115, 101, 116, 65, 108, 105, 103, 110, 73, 116, 101, 109, 115, 0, 115, 101, 116, 65, 108, 105, 103, 110, 83, 101, 108, 102, 0, 115, 101, 116, 70, 108, 101, 120, 68, 105, 114, 101, 99, 116, 105, 111, 110, 0, 115, 101, 116, 70, 108, 101, 120, 87, 114, 97, 112, 0, 115, 101, 116, 74, 117, 115, 116, 105, 102, 121, 67, 111, 110, 116, 101, 110, 116, 0, 115, 101, 116, 77, 97, 114, 103, 105, 110, 0, 115, 101, 116, 77, 97, 114, 103, 105, 110, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 77, 97, 114, 103, 105, 110, 65, 117, 116, 111, 0, 115, 101, 116, 79, 118, 101, 114, 102, 108, 111, 119, 0, 115, 101, 116, 68, 105, 115, 112, 108, 97, 121, 0, 115, 101, 116, 70, 108, 101, 120, 0, 115, 101, 116, 70, 108, 101, 120, 66, 97, 115, 105, 115, 0, 115, 101, 116, 70, 108, 101, 120, 66, 97, 115, 105, 115, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 70, 108, 101, 120, 71, 114, 111, 119, 0, 115, 101, 116, 70, 108, 101, 120, 83, 104, 114, 105, 110, 107, 0, 115, 101, 116, 87, 105, 100, 116, 104, 0, 115, 101, 116, 87, 105, 100, 116, 104, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 87, 105, 100, 116, 104, 65, 117, 116, 111, 0, 115, 101, 116, 72, 101, 105, 103, 104, 116, 0, 115, 101, 116, 72, 101, 105, 103, 104, 116, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 72, 101, 105, 103, 104, 116, 65, 117, 116, 111, 0, 115, 101, 116, 77, 105, 110, 87, 105, 100, 116, 104, 0, 115, 101, 116, 77, 105, 110, 87, 105, 100, 116, 104, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 77, 105, 110, 72, 101, 105, 103, 104, 116, 0, 115, 101, 116, 77, 105, 110, 72, 101, 105, 103, 104, 116, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 77, 97, 120, 87, 105, 100, 116, 104, 0, 115, 101, 116, 77, 97, 120, 87, 105, 100, 116, 104, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 77, 97, 120, 72, 101, 105, 103, 104, 116, 0, 115, 101, 116, 77, 97, 120, 72, 101, 105, 103, 104, 116, 80, 101, 114, 99, 101, 110, 116, 0, 115, 101, 116, 65, 115, 112, 101, 99, 116, 82, 97, 116, 105, 111, 0, 115, 101, 116, 66, 111, 114, 100, 101, 114, 0, 115, 101, 116, 80, 97, 100, 100, 105, 110, 103, 0, 115, 101, 116, 80, 97, 100, 100, 105, 110, 103, 80, 101, 114, 99, 101, 110, 116, 0, 103, 101, 116, 80, 111, 115, 105, 116, 105, 111, 110, 84, 121, 112, 101, 0, 103, 101, 116, 80, 111, 115, 105, 116, 105, 111, 110, 0, 103, 101, 116, 65, 108, 105, 103, 110, 67, 111, 110, 116, 101, 110, 116, 0, 103, 101, 116, 65, 108, 105, 103, 110, 73, 116, 101, 109, 115, 0, 103, 101, 116, 65, 108, 105, 103, 110, 83, 101, 108, 102, 0, 103, 101, 116, 70, 108, 101, 120, 68, 105, 114, 101, 99, 116, 105, 111, 110, 0, 103, 101, 116, 70, 108, 101, 120, 87, 114, 97, 112, 0, 103, 101, 116, 74, 117, 115, 116, 105, 102, 121, 67, 111, 110, 116, 101, 110, 116, 0, 103, 101, 116, 77, 97, 114, 103, 105, 110, 0, 103, 101, 116, 70, 108, 101, 120, 66, 97, 115, 105, 115, 0, 103, 101, 116, 70, 108, 101, 120, 71, 114, 111, 119, 0, 103, 101, 116, 70, 108, 101, 120, 83, 104, 114, 105, 110, 107, 0, 103, 101, 116, 87, 105, 100, 116, 104, 0, 103, 101, 116, 72, 101, 105, 103, 104, 116, 0, 103, 101, 116, 77, 105, 110, 87, 105, 100, 116, 104, 0, 103, 101, 116, 77, 105, 110, 72, 101, 105, 103, 104, 116, 0, 103, 101, 116, 77, 97, 120, 87, 105, 100, 116, 104, 0, 103, 101, 116, 77, 97, 120, 72, 101, 105, 103, 104, 116, 0, 103, 101, 116, 65, 115, 112, 101, 99, 116, 82, 97, 116, 105, 111, 0, 103, 101, 116, 66, 111, 114, 100, 101, 114, 0, 103, 101, 116, 79, 118, 101, 114, 102, 108, 111, 119, 0, 103, 101, 116, 68, 105, 115, 112, 108, 97, 121, 0, 103, 101, 116, 80, 97, 100, 100, 105, 110, 103, 0, 105, 110, 115, 101, 114, 116, 67, 104, 105, 108, 100, 0, 114, 101, 109, 111, 118, 101, 67, 104, 105, 108, 100, 0, 103, 101, 116, 67, 104, 105, 108, 100, 67, 111, 117, 110, 116, 0, 103, 101, 116, 80, 97, 114, 101, 110, 116, 0, 103, 101, 116, 67, 104, 105, 108, 100, 0, 115, 101, 116, 77, 101, 97, 115, 117, 114, 101, 70, 117, 110, 99, 0, 117, 110, 115, 101, 116, 77, 101, 97, 115, 117, 114, 101, 70, 117, 110, 99, 0, 109, 97, 114, 107, 68, 105, 114, 116, 121, 0, 105, 115, 68, 105, 114, 116, 121, 0, 99, 97, 108, 99, 117, 108, 97, 116, 101, 76, 97, 121, 111, 117, 116, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 76, 101, 102, 116, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 82, 105, 103, 104, 116, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 84, 111, 112, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 66, 111, 116, 116, 111, 109, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 87, 105, 100, 116, 104, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 72, 101, 105, 103, 104, 116, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 76, 97, 121, 111, 117, 116, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 77, 97, 114, 103, 105, 110, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 66, 111, 114, 100, 101, 114, 0, 103, 101, 116, 67, 111, 109, 112, 117, 116, 101, 100, 80, 97, 100, 100, 105, 110, 103, 0, 67, 111, 110, 102, 105, 103, 0, 99, 114, 101, 97, 116, 101, 0, 115, 101, 116, 69, 120, 112, 101, 114, 105, 109, 101, 110, 116, 97, 108, 70, 101, 97, 116, 117, 114, 101, 69, 110, 97, 98, 108, 101, 100, 0, 115, 101, 116, 80, 111, 105, 110, 116, 83, 99, 97, 108, 101, 70, 97, 99, 116, 111, 114, 0, 105, 115, 69, 120, 112, 101, 114, 105, 109, 101, 110, 116, 97, 108, 70, 101, 97, 116, 117, 114, 101, 69, 110, 97, 98, 108, 101, 100, 0, 86, 97, 108, 117, 101, 0, 76, 97, 121, 111, 117, 116, 0, 83, 105, 122, 101, 0, 103, 101, 116, 73, 110, 115, 116, 97, 110, 99, 101, 67, 111, 117, 110, 116, 0, 73, 110, 116, 54, 52, 0, 1, 1, 1, 2, 2, 4, 4, 4, 4, 8, 8, 4, 8, 118, 111, 105, 100, 0, 98, 111, 111, 108, 0, 115, 116, 100, 58, 58, 115, 116, 114, 105, 110, 103, 0, 99, 98, 70, 117, 110, 99, 116, 105, 111, 110, 32, 38, 0, 99, 111, 110, 115, 116, 32, 99, 98, 70, 117, 110, 99, 116, 105, 111, 110, 32, 38, 0, 69, 120, 116, 101, 114, 110, 97, 108, 0, 66, 117, 102, 102, 101, 114, 0, 78, 66, 105, 110, 100, 73, 68, 0, 78, 66, 105, 110, 100, 0, 98, 105, 110, 100, 95, 118, 97, 108, 117, 101, 0, 114, 101, 102, 108, 101, 99, 116, 0, 113, 117, 101, 114, 121, 84, 121, 112, 101, 0, 108, 97, 108, 108, 111, 99, 0, 108, 114, 101, 115, 101, 116, 0, 123, 114, 101, 116, 117, 114, 110, 40, 95, 110, 98, 105, 110, 100, 46, 99, 97, 108, 108, 98, 97, 99, 107, 83, 105, 103, 110, 97, 116, 117, 114, 101, 76, 105, 115, 116, 91, 36, 48, 93, 46, 97, 112, 112, 108, 121, 40, 116, 104, 105, 115, 44, 97, 114, 103, 117, 109, 101, 110, 116, 115, 41, 41, 59, 125, 0, 95, 110, 98, 105, 110, 100, 95, 110, 101, 119, 0, 17, 0, 10, 0, 17, 17, 17, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 15, 10, 17, 17, 17, 3, 10, 7, 0, 1, 19, 9, 11, 11, 0, 0, 9, 6, 11, 0, 0, 11, 0, 6, 17, 0, 0, 0, 17, 17, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 10, 10, 17, 17, 17, 0, 10, 0, 0, 2, 0, 9, 11, 0, 0, 0, 9, 0, 11, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 12, 0, 0, 0, 0, 9, 12, 0, 0, 0, 0, 0, 12, 0, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13, 0, 0, 0, 4, 13, 0, 0, 0, 0, 9, 14, 0, 0, 0, 0, 0, 14, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 15, 0, 0, 0, 0, 9, 16, 0, 0, 0, 0, 0, 16, 0, 0, 16, 0, 0, 18, 0, 0, 0, 18, 18, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 0, 0, 0, 18, 18, 18, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 0, 0, 0, 0, 10, 0, 0, 0, 0, 9, 11, 0, 0, 0, 0, 0, 11, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 0, 0, 12, 0, 0, 0, 0, 9, 12, 0, 0, 0, 0, 0, 12, 0, 0, 12, 0, 0, 45, 43, 32, 32, 32, 48, 88, 48, 120, 0, 40, 110, 117, 108, 108, 41, 0, 45, 48, 88, 43, 48, 88, 32, 48, 88, 45, 48, 120, 43, 48, 120, 32, 48, 120, 0, 105, 110, 102, 0, 73, 78, 70, 0, 110, 97, 110, 0, 78, 65, 78, 0, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70, 46, 0, 84, 33, 34, 25, 13, 1, 2, 3, 17, 75, 28, 12, 16, 4, 11, 29, 18, 30, 39, 104, 110, 111, 112, 113, 98, 32, 5, 6, 15, 19, 20, 21, 26, 8, 22, 7, 40, 36, 23, 24, 9, 10, 14, 27, 31, 37, 35, 131, 130, 125, 38, 42, 43, 60, 61, 62, 63, 67, 71, 74, 77, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 99, 100, 101, 102, 103, 105, 106, 107, 108, 114, 115, 116, 121, 122, 123, 124, 0, 73, 108, 108, 101, 103, 97, 108, 32, 98, 121, 116, 101, 32, 115, 101, 113, 117, 101, 110, 99, 101, 0, 68, 111, 109, 97, 105, 110, 32, 101, 114, 114, 111, 114, 0, 82, 101, 115, 117, 108, 116, 32, 110, 111, 116, 32, 114, 101, 112, 114, 101, 115, 101, 110, 116, 97, 98, 108, 101, 0, 78, 111, 116, 32, 97, 32, 116, 116, 121, 0, 80, 101, 114, 109, 105, 115, 115, 105, 111, 110, 32, 100, 101, 110, 105, 101, 100, 0, 79, 112, 101, 114, 97, 116, 105, 111, 110, 32, 110, 111, 116, 32, 112, 101, 114, 109, 105, 116, 116, 101, 100, 0, 78, 111, 32, 115, 117, 99, 104, 32, 102, 105, 108, 101, 32, 111, 114, 32, 100, 105, 114, 101, 99, 116, 111, 114, 121, 0, 78, 111, 32, 115, 117, 99, 104, 32, 112, 114, 111, 99, 101, 115, 115, 0, 70, 105, 108, 101, 32, 101, 120, 105, 115, 116, 115, 0, 86, 97, 108, 117, 101, 32, 116, 111, 111, 32, 108, 97, 114, 103, 101, 32, 102, 111, 114, 32, 100, 97, 116, 97, 32, 116, 121, 112, 101, 0, 78, 111, 32, 115, 112, 97, 99, 101, 32, 108, 101, 102, 116, 32, 111, 110, 32, 100, 101, 118, 105, 99, 101, 0, 79, 117, 116, 32, 111, 102, 32, 109, 101, 109, 111, 114, 121, 0, 82, 101, 115, 111, 117, 114, 99, 101, 32, 98, 117, 115, 121, 0, 73, 110, 116, 101, 114, 114, 117, 112, 116, 101, 100, 32, 115, 121, 115, 116, 101, 109, 32, 99, 97, 108, 108, 0, 82, 101, 115, 111, 117, 114, 99, 101, 32, 116, 101, 109, 112, 111, 114, 97, 114, 105, 108, 121, 32, 117, 110, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 73, 110, 118, 97, 108, 105, 100, 32, 115, 101, 101, 107, 0, 67, 114, 111, 115, 115, 45, 100, 101, 118, 105, 99, 101, 32, 108, 105, 110, 107, 0, 82, 101, 97, 100, 45, 111, 110, 108, 121, 32, 102, 105, 108, 101, 32, 115, 121, 115, 116, 101, 109, 0, 68, 105, 114, 101, 99, 116, 111, 114, 121, 32, 110, 111, 116, 32, 101, 109, 112, 116, 121, 0, 67, 111, 110, 110, 101, 99, 116, 105, 111, 110, 32, 114, 101, 115, 101, 116, 32, 98, 121, 32, 112, 101, 101, 114, 0, 79, 112, 101, 114, 97, 116, 105, 111, 110, 32, 116, 105, 109, 101, 100, 32, 111, 117, 116, 0, 67, 111, 110, 110, 101, 99, 116, 105, 111, 110, 32, 114, 101, 102, 117, 115, 101, 100, 0, 72, 111, 115, 116, 32, 105, 115, 32, 100, 111, 119, 110, 0, 72, 111, 115, 116, 32, 105, 115, 32, 117, 110, 114, 101, 97, 99, 104, 97, 98, 108, 101, 0, 65, 100, 100, 114, 101, 115, 115, 32, 105, 110, 32, 117, 115, 101, 0, 66, 114, 111, 107, 101, 110, 32, 112, 105, 112, 101, 0, 73, 47, 79, 32, 101, 114, 114, 111, 114, 0, 78, 111, 32, 115, 117, 99, 104, 32, 100, 101, 118, 105, 99, 101, 32, 111, 114, 32, 97, 100, 100, 114, 101, 115, 115, 0, 66, 108, 111, 99, 107, 32, 100, 101, 118, 105, 99, 101, 32, 114, 101, 113, 117, 105, 114, 101, 100, 0, 78, 111, 32, 115, 117, 99, 104, 32, 100, 101, 118, 105, 99, 101, 0, 78, 111, 116, 32, 97, 32, 100, 105, 114, 101, 99, 116, 111, 114, 121, 0, 73, 115, 32, 97, 32, 100, 105, 114, 101, 99, 116, 111, 114, 121, 0, 84, 101, 120, 116, 32, 102, 105, 108, 101, 32, 98, 117, 115, 121, 0, 69, 120, 101, 99, 32, 102, 111, 114, 109, 97, 116, 32, 101, 114, 114, 111, 114, 0, 73, 110, 118, 97, 108, 105, 100, 32, 97, 114, 103, 117, 109, 101, 110, 116, 0, 65, 114, 103, 117, 109, 101, 110, 116, 32, 108, 105, 115, 116, 32, 116, 111, 111, 32, 108, 111, 110, 103, 0, 83, 121, 109, 98, 111, 108, 105, 99, 32, 108, 105, 110, 107, 32, 108, 111, 111, 112, 0, 70, 105, 108, 101, 110, 97, 109, 101, 32, 116, 111, 111, 32, 108, 111, 110, 103, 0, 84, 111, 111, 32, 109, 97, 110, 121, 32, 111, 112, 101, 110, 32, 102, 105, 108, 101, 115, 32, 105, 110, 32, 115, 121, 115, 116, 101, 109, 0, 78, 111, 32, 102, 105, 108, 101, 32, 100, 101, 115, 99, 114, 105, 112, 116, 111, 114, 115, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 66, 97, 100, 32, 102, 105, 108, 101, 32, 100, 101, 115, 99, 114, 105, 112, 116, 111, 114, 0, 78, 111, 32, 99, 104, 105, 108, 100, 32, 112, 114, 111, 99, 101, 115, 115, 0, 66, 97, 100, 32, 97, 100, 100, 114, 101, 115, 115, 0, 70, 105, 108, 101, 32, 116, 111, 111, 32, 108, 97, 114, 103, 101, 0, 84, 111, 111, 32, 109, 97, 110, 121, 32, 108, 105, 110, 107, 115, 0, 78, 111, 32, 108, 111, 99, 107, 115, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 82, 101, 115, 111, 117, 114, 99, 101, 32, 100, 101, 97, 100, 108, 111, 99, 107, 32, 119, 111, 117, 108, 100, 32, 111, 99, 99, 117, 114, 0, 83, 116, 97, 116, 101, 32, 110, 111, 116, 32, 114, 101, 99, 111, 118, 101, 114, 97, 98, 108, 101, 0, 80, 114, 101, 118, 105, 111, 117, 115, 32, 111, 119, 110, 101, 114, 32, 100, 105, 101, 100, 0, 79, 112, 101, 114, 97, 116, 105, 111, 110, 32, 99, 97, 110, 99, 101, 108, 101, 100, 0, 70, 117, 110, 99, 116, 105, 111, 110, 32, 110, 111, 116, 32, 105, 109, 112, 108, 101, 109, 101, 110, 116, 101, 100, 0, 78, 111, 32, 109, 101, 115, 115, 97, 103, 101, 32, 111, 102, 32, 100, 101, 115, 105, 114, 101, 100, 32, 116, 121, 112, 101, 0, 73, 100, 101, 110, 116, 105, 102, 105, 101, 114, 32, 114, 101, 109, 111, 118, 101, 100, 0, 68, 101, 118, 105, 99, 101, 32, 110, 111, 116, 32, 97, 32, 115, 116, 114, 101, 97, 109, 0, 78, 111, 32, 100, 97, 116, 97, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 68, 101, 118, 105, 99, 101, 32, 116, 105, 109, 101, 111, 117, 116, 0, 79, 117, 116, 32, 111, 102, 32, 115, 116, 114, 101, 97, 109, 115, 32, 114, 101, 115, 111, 117, 114, 99, 101, 115, 0, 76, 105, 110, 107, 32, 104, 97, 115, 32, 98, 101, 101, 110, 32, 115, 101, 118, 101, 114, 101, 100, 0, 80, 114, 111, 116, 111, 99, 111, 108, 32, 101, 114, 114, 111, 114, 0, 66, 97, 100, 32, 109, 101, 115, 115, 97, 103, 101, 0, 70, 105, 108, 101, 32, 100, 101, 115, 99, 114, 105, 112, 116, 111, 114, 32, 105, 110, 32, 98, 97, 100, 32, 115, 116, 97, 116, 101, 0, 78, 111, 116, 32, 97, 32, 115, 111, 99, 107, 101, 116, 0, 68, 101, 115, 116, 105, 110, 97, 116, 105, 111, 110, 32, 97, 100, 100, 114, 101, 115, 115, 32, 114, 101, 113, 117, 105, 114, 101, 100, 0, 77, 101, 115, 115, 97, 103, 101, 32, 116, 111, 111, 32, 108, 97, 114, 103, 101, 0, 80, 114, 111, 116, 111, 99, 111, 108, 32, 119, 114, 111, 110, 103, 32, 116, 121, 112, 101, 32, 102, 111, 114, 32, 115, 111, 99, 107, 101, 116, 0, 80, 114, 111, 116, 111, 99, 111, 108, 32, 110, 111, 116, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 80, 114, 111, 116, 111, 99, 111, 108, 32, 110, 111, 116, 32, 115, 117, 112, 112, 111, 114, 116, 101, 100, 0, 83, 111, 99, 107, 101, 116, 32, 116, 121, 112, 101, 32, 110, 111, 116, 32, 115, 117, 112, 112, 111, 114, 116, 101, 100, 0, 78, 111, 116, 32, 115, 117, 112, 112, 111, 114, 116, 101, 100, 0, 80, 114, 111, 116, 111, 99, 111, 108, 32, 102, 97, 109, 105, 108, 121, 32, 110, 111, 116, 32, 115, 117, 112, 112, 111, 114, 116, 101, 100, 0, 65, 100, 100, 114, 101, 115, 115, 32, 102, 97, 109, 105, 108, 121, 32, 110, 111, 116, 32, 115, 117, 112, 112, 111, 114, 116, 101, 100, 32, 98, 121, 32, 112, 114, 111, 116, 111, 99, 111, 108, 0, 65, 100, 100, 114, 101, 115, 115, 32, 110, 111, 116, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 78, 101, 116, 119, 111, 114, 107, 32, 105, 115, 32, 100, 111, 119, 110, 0, 78, 101, 116, 119, 111, 114, 107, 32, 117, 110, 114, 101, 97, 99, 104, 97, 98, 108, 101, 0, 67, 111, 110, 110, 101, 99, 116, 105, 111, 110, 32, 114, 101, 115, 101, 116, 32, 98, 121, 32, 110, 101, 116, 119, 111, 114, 107, 0, 67, 111, 110, 110, 101, 99, 116, 105, 111, 110, 32, 97, 98, 111, 114, 116, 101, 100, 0, 78, 111, 32, 98, 117, 102, 102, 101, 114, 32, 115, 112, 97, 99, 101, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101, 0, 83, 111, 99, 107, 101, 116, 32, 105, 115, 32, 99, 111, 110, 110, 101, 99, 116, 101, 100, 0, 83, 111, 99, 107, 101, 116, 32, 110, 111, 116, 32, 99, 111, 110, 110, 101, 99, 116, 101, 100, 0, 67, 97, 110, 110, 111, 116, 32, 115, 101, 110, 100, 32, 97, 102, 116, 101, 114, 32, 115, 111, 99, 107, 101, 116, 32, 115, 104, 117, 116, 100, 111, 119, 110, 0, 79, 112, 101, 114, 97, 116, 105, 111, 110, 32, 97, 108, 114, 101, 97, 100, 121, 32, 105, 110, 32, 112, 114, 111, 103, 114, 101, 115, 115, 0, 79, 112, 101, 114, 97, 116, 105, 111, 110, 32, 105, 110, 32, 112, 114, 111, 103, 114, 101, 115, 115, 0, 83, 116, 97, 108, 101, 32, 102, 105, 108, 101, 32, 104, 97, 110, 100, 108, 101, 0, 82, 101, 109, 111, 116, 101, 32, 73, 47, 79, 32, 101, 114, 114, 111, 114, 0, 81, 117, 111, 116, 97, 32, 101, 120, 99, 101, 101, 100, 101, 100, 0, 78, 111, 32, 109, 101, 100, 105, 117, 109, 32, 102, 111, 117, 110, 100, 0, 87, 114, 111, 110, 103, 32, 109, 101, 100, 105, 117, 109, 32, 116, 121, 112, 101, 0, 78, 111, 32, 101, 114, 114, 111, 114, 32, 105, 110, 102, 111, 114, 109, 97, 116, 105, 111, 110, 0, 0], "i8", ALLOC_NONE, Runtime.GLOBAL_BASE);
      var tempDoublePtr = STATICTOP;
      STATICTOP += 16;
      function _atexit(func2, arg2) {
        __ATEXIT__.unshift({ func: func2, arg: arg2 });
      }
      function ___cxa_atexit() {
        return _atexit.apply(null, arguments);
      }
      function _abort() {
        Module["abort"]();
      }
      function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj() {
        Module["printErr"]("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj");
        abort(-1);
      }
      function __decorate(decorators, target, key2, desc) {
        var c2 = arguments.length, r2 = c2 < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key2) : desc, d2;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
          r2 = Reflect.decorate(decorators, target, key2, desc);
        else
          for (var i3 = decorators.length - 1; i3 >= 0; i3--)
            if (d2 = decorators[i3])
              r2 = (c2 < 3 ? d2(r2) : c2 > 3 ? d2(target, key2, r2) : d2(target, key2)) || r2;
        return c2 > 3 && r2 && Object.defineProperty(target, key2, r2), r2;
      }
      function _defineHidden(value) {
        return function(target, key2) {
          Object.defineProperty(target, key2, { configurable: false, enumerable: false, value, writable: true });
        };
      }
      var _nbind = {};
      function __nbind_free_external(num2) {
        _nbind.externalList[num2].dereference(num2);
      }
      function __nbind_reference_external(num2) {
        _nbind.externalList[num2].reference();
      }
      function _llvm_stackrestore(p3) {
        var self2 = _llvm_stacksave;
        var ret = self2.LLVM_SAVEDSTACKS[p3];
        self2.LLVM_SAVEDSTACKS.splice(p3, 1);
        Runtime.stackRestore(ret);
      }
      function __nbind_register_pool(pageSize, usedPtr, rootPtr, pagePtr) {
        _nbind.Pool.pageSize = pageSize;
        _nbind.Pool.usedPtr = usedPtr / 4;
        _nbind.Pool.rootPtr = rootPtr;
        _nbind.Pool.pagePtr = pagePtr / 4;
        HEAP32[usedPtr / 4] = 16909060;
        if (HEAP8[usedPtr] == 1)
          _nbind.bigEndian = true;
        HEAP32[usedPtr / 4] = 0;
        _nbind.makeTypeKindTbl = (_a2 = {}, _a2[1024] = _nbind.PrimitiveType, _a2[64] = _nbind.Int64Type, _a2[2048] = _nbind.BindClass, _a2[3072] = _nbind.BindClassPtr, _a2[4096] = _nbind.SharedClassPtr, _a2[5120] = _nbind.ArrayType, _a2[6144] = _nbind.ArrayType, _a2[7168] = _nbind.CStringType, _a2[9216] = _nbind.CallbackType, _a2[10240] = _nbind.BindType, _a2);
        _nbind.makeTypeNameTbl = { "Buffer": _nbind.BufferType, "External": _nbind.ExternalType, "Int64": _nbind.Int64Type, "_nbind_new": _nbind.CreateValueType, "bool": _nbind.BooleanType, "cbFunction &": _nbind.CallbackType, "const cbFunction &": _nbind.CallbackType, "const std::string &": _nbind.StringType, "std::string": _nbind.StringType };
        Module["toggleLightGC"] = _nbind.toggleLightGC;
        _nbind.callUpcast = Module["dynCall_ii"];
        var globalScope = _nbind.makeType(_nbind.constructType, { flags: 2048, id: 0, name: "" });
        globalScope.proto = Module;
        _nbind.BindClass.list.push(globalScope);
        var _a2;
      }
      function _emscripten_set_main_loop_timing(mode, value) {
        Browser.mainLoop.timingMode = mode;
        Browser.mainLoop.timingValue = value;
        if (!Browser.mainLoop.func) {
          return 1;
        }
        if (mode == 0) {
          Browser.mainLoop.scheduler = function Browser_mainLoop_scheduler_setTimeout() {
            var timeUntilNextTick = Math.max(0, Browser.mainLoop.tickStartTime + value - _emscripten_get_now()) | 0;
            setTimeout(Browser.mainLoop.runner, timeUntilNextTick);
          };
          Browser.mainLoop.method = "timeout";
        } else if (mode == 1) {
          Browser.mainLoop.scheduler = function Browser_mainLoop_scheduler_rAF() {
            Browser.requestAnimationFrame(Browser.mainLoop.runner);
          };
          Browser.mainLoop.method = "rAF";
        } else if (mode == 2) {
          if (!window["setImmediate"]) {
            let Browser_setImmediate_messageHandler2 = function(event) {
              if (event.source === window && event.data === emscriptenMainLoopMessageId) {
                event.stopPropagation();
                setImmediates.shift()();
              }
            };
            var Browser_setImmediate_messageHandler = Browser_setImmediate_messageHandler2;
            var setImmediates = [];
            var emscriptenMainLoopMessageId = "setimmediate";
            window.addEventListener("message", Browser_setImmediate_messageHandler2, true);
            window["setImmediate"] = function Browser_emulated_setImmediate(func2) {
              setImmediates.push(func2);
              if (ENVIRONMENT_IS_WORKER) {
                if (Module["setImmediates"] === void 0)
                  Module["setImmediates"] = [];
                Module["setImmediates"].push(func2);
                window.postMessage({ target: emscriptenMainLoopMessageId });
              } else
                window.postMessage(emscriptenMainLoopMessageId, "*");
            };
          }
          Browser.mainLoop.scheduler = function Browser_mainLoop_scheduler_setImmediate() {
            window["setImmediate"](Browser.mainLoop.runner);
          };
          Browser.mainLoop.method = "immediate";
        }
        return 0;
      }
      function _emscripten_get_now() {
        abort();
      }
      function _emscripten_set_main_loop(func2, fps2, simulateInfiniteLoop, arg2, noSetTiming) {
        Module["noExitRuntime"] = true;
        assert(!Browser.mainLoop.func, "emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.");
        Browser.mainLoop.func = func2;
        Browser.mainLoop.arg = arg2;
        var browserIterationFunc;
        if (typeof arg2 !== "undefined") {
          browserIterationFunc = function() {
            Module["dynCall_vi"](func2, arg2);
          };
        } else {
          browserIterationFunc = function() {
            Module["dynCall_v"](func2);
          };
        }
        var thisMainLoopId = Browser.mainLoop.currentlyRunningMainloop;
        Browser.mainLoop.runner = function Browser_mainLoop_runner() {
          if (ABORT)
            return;
          if (Browser.mainLoop.queue.length > 0) {
            var start = Date.now();
            var blocker = Browser.mainLoop.queue.shift();
            blocker.func(blocker.arg);
            if (Browser.mainLoop.remainingBlockers) {
              var remaining = Browser.mainLoop.remainingBlockers;
              var next = remaining % 1 == 0 ? remaining - 1 : Math.floor(remaining);
              if (blocker.counted) {
                Browser.mainLoop.remainingBlockers = next;
              } else {
                next = next + 0.5;
                Browser.mainLoop.remainingBlockers = (8 * remaining + next) / 9;
              }
            }
            console.log('main loop blocker "' + blocker.name + '" took ' + (Date.now() - start) + " ms");
            Browser.mainLoop.updateStatus();
            if (thisMainLoopId < Browser.mainLoop.currentlyRunningMainloop)
              return;
            setTimeout(Browser.mainLoop.runner, 0);
            return;
          }
          if (thisMainLoopId < Browser.mainLoop.currentlyRunningMainloop)
            return;
          Browser.mainLoop.currentFrameNumber = Browser.mainLoop.currentFrameNumber + 1 | 0;
          if (Browser.mainLoop.timingMode == 1 && Browser.mainLoop.timingValue > 1 && Browser.mainLoop.currentFrameNumber % Browser.mainLoop.timingValue != 0) {
            Browser.mainLoop.scheduler();
            return;
          } else if (Browser.mainLoop.timingMode == 0) {
            Browser.mainLoop.tickStartTime = _emscripten_get_now();
          }
          if (Browser.mainLoop.method === "timeout" && Module.ctx) {
            Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!");
            Browser.mainLoop.method = "";
          }
          Browser.mainLoop.runIter(browserIterationFunc);
          if (thisMainLoopId < Browser.mainLoop.currentlyRunningMainloop)
            return;
          if (typeof SDL === "object" && SDL.audio && SDL.audio.queueNewAudioData)
            SDL.audio.queueNewAudioData();
          Browser.mainLoop.scheduler();
        };
        if (!noSetTiming) {
          if (fps2 && fps2 > 0)
            _emscripten_set_main_loop_timing(0, 1e3 / fps2);
          else
            _emscripten_set_main_loop_timing(1, 1);
          Browser.mainLoop.scheduler();
        }
        if (simulateInfiniteLoop) {
          throw "SimulateInfiniteLoop";
        }
      }
      var Browser = { mainLoop: { scheduler: null, method: "", currentlyRunningMainloop: 0, func: null, arg: 0, timingMode: 0, timingValue: 0, currentFrameNumber: 0, queue: [], pause: function() {
        Browser.mainLoop.scheduler = null;
        Browser.mainLoop.currentlyRunningMainloop++;
      }, resume: function() {
        Browser.mainLoop.currentlyRunningMainloop++;
        var timingMode = Browser.mainLoop.timingMode;
        var timingValue = Browser.mainLoop.timingValue;
        var func2 = Browser.mainLoop.func;
        Browser.mainLoop.func = null;
        _emscripten_set_main_loop(func2, 0, false, Browser.mainLoop.arg, true);
        _emscripten_set_main_loop_timing(timingMode, timingValue);
        Browser.mainLoop.scheduler();
      }, updateStatus: function() {
        if (Module["setStatus"]) {
          var message = Module["statusMessage"] || "Please wait...";
          var remaining = Browser.mainLoop.remainingBlockers;
          var expected = Browser.mainLoop.expectedBlockers;
          if (remaining) {
            if (remaining < expected) {
              Module["setStatus"](message + " (" + (expected - remaining) + "/" + expected + ")");
            } else {
              Module["setStatus"](message);
            }
          } else {
            Module["setStatus"]("");
          }
        }
      }, runIter: function(func2) {
        if (ABORT)
          return;
        if (Module["preMainLoop"]) {
          var preRet = Module["preMainLoop"]();
          if (preRet === false) {
            return;
          }
        }
        try {
          func2();
        } catch (e3) {
          if (e3 instanceof ExitStatus) {
            return;
          } else {
            if (e3 && typeof e3 === "object" && e3.stack)
              Module.printErr("exception thrown: " + [e3, e3.stack]);
            throw e3;
          }
        }
        if (Module["postMainLoop"])
          Module["postMainLoop"]();
      } }, isFullscreen: false, pointerLock: false, moduleContextCreatedCallbacks: [], workers: [], init: function() {
        if (!Module["preloadPlugins"])
          Module["preloadPlugins"] = [];
        if (Browser.initted)
          return;
        Browser.initted = true;
        try {
          new Blob();
          Browser.hasBlobConstructor = true;
        } catch (e3) {
          Browser.hasBlobConstructor = false;
          console.log("warning: no blob constructor, cannot create blobs with mimetypes");
        }
        Browser.BlobBuilder = typeof MozBlobBuilder != "undefined" ? MozBlobBuilder : typeof WebKitBlobBuilder != "undefined" ? WebKitBlobBuilder : !Browser.hasBlobConstructor ? console.log("warning: no BlobBuilder") : null;
        Browser.URLObject = typeof window != "undefined" ? window.URL ? window.URL : window.webkitURL : void 0;
        if (!Module.noImageDecoding && typeof Browser.URLObject === "undefined") {
          console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.");
          Module.noImageDecoding = true;
        }
        var imagePlugin = {};
        imagePlugin["canHandle"] = function imagePlugin_canHandle(name) {
          return !Module.noImageDecoding && /\.(jpg|jpeg|png|bmp)$/i.test(name);
        };
        imagePlugin["handle"] = function imagePlugin_handle(byteArray, name, onload, onerror) {
          var b3 = null;
          if (Browser.hasBlobConstructor) {
            try {
              b3 = new Blob([byteArray], { type: Browser.getMimetype(name) });
              if (b3.size !== byteArray.length) {
                b3 = new Blob([new Uint8Array(byteArray).buffer], { type: Browser.getMimetype(name) });
              }
            } catch (e3) {
              Runtime.warnOnce("Blob constructor present but fails: " + e3 + "; falling back to blob builder");
            }
          }
          if (!b3) {
            var bb = new Browser.BlobBuilder();
            bb.append(new Uint8Array(byteArray).buffer);
            b3 = bb.getBlob();
          }
          var url2 = Browser.URLObject.createObjectURL(b3);
          var img = new Image();
          img.onload = function img_onload() {
            assert(img.complete, "Image " + name + " could not be decoded");
            var canvas2 = document.createElement("canvas");
            canvas2.width = img.width;
            canvas2.height = img.height;
            var ctx = canvas2.getContext("2d");
            ctx.drawImage(img, 0, 0);
            Module["preloadedImages"][name] = canvas2;
            Browser.URLObject.revokeObjectURL(url2);
            if (onload)
              onload(byteArray);
          };
          img.onerror = function img_onerror(event) {
            console.log("Image " + url2 + " could not be decoded");
            if (onerror)
              onerror();
          };
          img.src = url2;
        };
        Module["preloadPlugins"].push(imagePlugin);
        var audioPlugin = {};
        audioPlugin["canHandle"] = function audioPlugin_canHandle(name) {
          return !Module.noAudioDecoding && name.substr(-4) in { ".ogg": 1, ".wav": 1, ".mp3": 1 };
        };
        audioPlugin["handle"] = function audioPlugin_handle(byteArray, name, onload, onerror) {
          var done = false;
          function finish(audio2) {
            if (done)
              return;
            done = true;
            Module["preloadedAudios"][name] = audio2;
            if (onload)
              onload(byteArray);
          }
          function fail() {
            if (done)
              return;
            done = true;
            Module["preloadedAudios"][name] = new Audio();
            if (onerror)
              onerror();
          }
          if (Browser.hasBlobConstructor) {
            try {
              var b3 = new Blob([byteArray], { type: Browser.getMimetype(name) });
            } catch (e3) {
              return fail();
            }
            var url2 = Browser.URLObject.createObjectURL(b3);
            var audio = new Audio();
            audio.addEventListener("canplaythrough", function() {
              finish(audio);
            }, false);
            audio.onerror = function audio_onerror(event) {
              if (done)
                return;
              console.log("warning: browser could not fully decode audio " + name + ", trying slower base64 approach");
              function encode64(data) {
                var BASE = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
                var PAD = "=";
                var ret = "";
                var leftchar = 0;
                var leftbits = 0;
                for (var i3 = 0; i3 < data.length; i3++) {
                  leftchar = leftchar << 8 | data[i3];
                  leftbits += 8;
                  while (leftbits >= 6) {
                    var curr = leftchar >> leftbits - 6 & 63;
                    leftbits -= 6;
                    ret += BASE[curr];
                  }
                }
                if (leftbits == 2) {
                  ret += BASE[(leftchar & 3) << 4];
                  ret += PAD + PAD;
                } else if (leftbits == 4) {
                  ret += BASE[(leftchar & 15) << 2];
                  ret += PAD;
                }
                return ret;
              }
              audio.src = "data:audio/x-" + name.substr(-3) + ";base64," + encode64(byteArray);
              finish(audio);
            };
            audio.src = url2;
            Browser.safeSetTimeout(function() {
              finish(audio);
            }, 1e4);
          } else {
            return fail();
          }
        };
        Module["preloadPlugins"].push(audioPlugin);
        function pointerLockChange() {
          Browser.pointerLock = document["pointerLockElement"] === Module["canvas"] || document["mozPointerLockElement"] === Module["canvas"] || document["webkitPointerLockElement"] === Module["canvas"] || document["msPointerLockElement"] === Module["canvas"];
        }
        var canvas = Module["canvas"];
        if (canvas) {
          canvas.requestPointerLock = canvas["requestPointerLock"] || canvas["mozRequestPointerLock"] || canvas["webkitRequestPointerLock"] || canvas["msRequestPointerLock"] || function() {
          };
          canvas.exitPointerLock = document["exitPointerLock"] || document["mozExitPointerLock"] || document["webkitExitPointerLock"] || document["msExitPointerLock"] || function() {
          };
          canvas.exitPointerLock = canvas.exitPointerLock.bind(document);
          document.addEventListener("pointerlockchange", pointerLockChange, false);
          document.addEventListener("mozpointerlockchange", pointerLockChange, false);
          document.addEventListener("webkitpointerlockchange", pointerLockChange, false);
          document.addEventListener("mspointerlockchange", pointerLockChange, false);
          if (Module["elementPointerLock"]) {
            canvas.addEventListener("click", function(ev) {
              if (!Browser.pointerLock && Module["canvas"].requestPointerLock) {
                Module["canvas"].requestPointerLock();
                ev.preventDefault();
              }
            }, false);
          }
        }
      }, createContext: function(canvas, useWebGL, setInModule, webGLContextAttributes) {
        if (useWebGL && Module.ctx && canvas == Module.canvas)
          return Module.ctx;
        var ctx;
        var contextHandle;
        if (useWebGL) {
          var contextAttributes = { antialias: false, alpha: false };
          if (webGLContextAttributes) {
            for (var attribute in webGLContextAttributes) {
              contextAttributes[attribute] = webGLContextAttributes[attribute];
            }
          }
          contextHandle = GL.createContext(canvas, contextAttributes);
          if (contextHandle) {
            ctx = GL.getContext(contextHandle).GLctx;
          }
        } else {
          ctx = canvas.getContext("2d");
        }
        if (!ctx)
          return null;
        if (setInModule) {
          if (!useWebGL)
            assert(typeof GLctx === "undefined", "cannot set in module if GLctx is used, but we are a non-GL context that would replace it");
          Module.ctx = ctx;
          if (useWebGL)
            GL.makeContextCurrent(contextHandle);
          Module.useWebGL = useWebGL;
          Browser.moduleContextCreatedCallbacks.forEach(function(callback) {
            callback();
          });
          Browser.init();
        }
        return ctx;
      }, destroyContext: function(canvas, useWebGL, setInModule) {
      }, fullscreenHandlersInstalled: false, lockPointer: void 0, resizeCanvas: void 0, requestFullscreen: function(lockPointer, resizeCanvas, vrDevice) {
        Browser.lockPointer = lockPointer;
        Browser.resizeCanvas = resizeCanvas;
        Browser.vrDevice = vrDevice;
        if (typeof Browser.lockPointer === "undefined")
          Browser.lockPointer = true;
        if (typeof Browser.resizeCanvas === "undefined")
          Browser.resizeCanvas = false;
        if (typeof Browser.vrDevice === "undefined")
          Browser.vrDevice = null;
        var canvas = Module["canvas"];
        function fullscreenChange() {
          Browser.isFullscreen = false;
          var canvasContainer2 = canvas.parentNode;
          if ((document["fullscreenElement"] || document["mozFullScreenElement"] || document["msFullscreenElement"] || document["webkitFullscreenElement"] || document["webkitCurrentFullScreenElement"]) === canvasContainer2) {
            canvas.exitFullscreen = document["exitFullscreen"] || document["cancelFullScreen"] || document["mozCancelFullScreen"] || document["msExitFullscreen"] || document["webkitCancelFullScreen"] || function() {
            };
            canvas.exitFullscreen = canvas.exitFullscreen.bind(document);
            if (Browser.lockPointer)
              canvas.requestPointerLock();
            Browser.isFullscreen = true;
            if (Browser.resizeCanvas)
              Browser.setFullscreenCanvasSize();
          } else {
            canvasContainer2.parentNode.insertBefore(canvas, canvasContainer2);
            canvasContainer2.parentNode.removeChild(canvasContainer2);
            if (Browser.resizeCanvas)
              Browser.setWindowedCanvasSize();
          }
          if (Module["onFullScreen"])
            Module["onFullScreen"](Browser.isFullscreen);
          if (Module["onFullscreen"])
            Module["onFullscreen"](Browser.isFullscreen);
          Browser.updateCanvasDimensions(canvas);
        }
        if (!Browser.fullscreenHandlersInstalled) {
          Browser.fullscreenHandlersInstalled = true;
          document.addEventListener("fullscreenchange", fullscreenChange, false);
          document.addEventListener("mozfullscreenchange", fullscreenChange, false);
          document.addEventListener("webkitfullscreenchange", fullscreenChange, false);
          document.addEventListener("MSFullscreenChange", fullscreenChange, false);
        }
        var canvasContainer = document.createElement("div");
        canvas.parentNode.insertBefore(canvasContainer, canvas);
        canvasContainer.appendChild(canvas);
        canvasContainer.requestFullscreen = canvasContainer["requestFullscreen"] || canvasContainer["mozRequestFullScreen"] || canvasContainer["msRequestFullscreen"] || (canvasContainer["webkitRequestFullscreen"] ? function() {
          canvasContainer["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"]);
        } : null) || (canvasContainer["webkitRequestFullScreen"] ? function() {
          canvasContainer["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"]);
        } : null);
        if (vrDevice) {
          canvasContainer.requestFullscreen({ vrDisplay: vrDevice });
        } else {
          canvasContainer.requestFullscreen();
        }
      }, requestFullScreen: function(lockPointer, resizeCanvas, vrDevice) {
        Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead.");
        Browser.requestFullScreen = function(lockPointer2, resizeCanvas2, vrDevice2) {
          return Browser.requestFullscreen(lockPointer2, resizeCanvas2, vrDevice2);
        };
        return Browser.requestFullscreen(lockPointer, resizeCanvas, vrDevice);
      }, nextRAF: 0, fakeRequestAnimationFrame: function(func2) {
        var now = Date.now();
        if (Browser.nextRAF === 0) {
          Browser.nextRAF = now + 1e3 / 60;
        } else {
          while (now + 2 >= Browser.nextRAF) {
            Browser.nextRAF += 1e3 / 60;
          }
        }
        var delay = Math.max(Browser.nextRAF - now, 0);
        setTimeout(func2, delay);
      }, requestAnimationFrame: function requestAnimationFrame2(func2) {
        if (typeof window === "undefined") {
          Browser.fakeRequestAnimationFrame(func2);
        } else {
          if (!window.requestAnimationFrame) {
            window.requestAnimationFrame = window["requestAnimationFrame"] || window["mozRequestAnimationFrame"] || window["webkitRequestAnimationFrame"] || window["msRequestAnimationFrame"] || window["oRequestAnimationFrame"] || Browser.fakeRequestAnimationFrame;
          }
          window.requestAnimationFrame(func2);
        }
      }, safeCallback: function(func2) {
        return function() {
          if (!ABORT)
            return func2.apply(null, arguments);
        };
      }, allowAsyncCallbacks: true, queuedAsyncCallbacks: [], pauseAsyncCallbacks: function() {
        Browser.allowAsyncCallbacks = false;
      }, resumeAsyncCallbacks: function() {
        Browser.allowAsyncCallbacks = true;
        if (Browser.queuedAsyncCallbacks.length > 0) {
          var callbacks = Browser.queuedAsyncCallbacks;
          Browser.queuedAsyncCallbacks = [];
          callbacks.forEach(function(func2) {
            func2();
          });
        }
      }, safeRequestAnimationFrame: function(func2) {
        return Browser.requestAnimationFrame(function() {
          if (ABORT)
            return;
          if (Browser.allowAsyncCallbacks) {
            func2();
          } else {
            Browser.queuedAsyncCallbacks.push(func2);
          }
        });
      }, safeSetTimeout: function(func2, timeout) {
        Module["noExitRuntime"] = true;
        return setTimeout(function() {
          if (ABORT)
            return;
          if (Browser.allowAsyncCallbacks) {
            func2();
          } else {
            Browser.queuedAsyncCallbacks.push(func2);
          }
        }, timeout);
      }, safeSetInterval: function(func2, timeout) {
        Module["noExitRuntime"] = true;
        return setInterval(function() {
          if (ABORT)
            return;
          if (Browser.allowAsyncCallbacks) {
            func2();
          }
        }, timeout);
      }, getMimetype: function(name) {
        return { "jpg": "image/jpeg", "jpeg": "image/jpeg", "png": "image/png", "bmp": "image/bmp", "ogg": "audio/ogg", "wav": "audio/wav", "mp3": "audio/mpeg" }[name.substr(name.lastIndexOf(".") + 1)];
      }, getUserMedia: function(func2) {
        if (!window.getUserMedia) {
          window.getUserMedia = navigator["getUserMedia"] || navigator["mozGetUserMedia"];
        }
        window.getUserMedia(func2);
      }, getMovementX: function(event) {
        return event["movementX"] || event["mozMovementX"] || event["webkitMovementX"] || 0;
      }, getMovementY: function(event) {
        return event["movementY"] || event["mozMovementY"] || event["webkitMovementY"] || 0;
      }, getMouseWheelDelta: function(event) {
        var delta = 0;
        switch (event.type) {
          case "DOMMouseScroll":
            delta = event.detail;
            break;
          case "mousewheel":
            delta = event.wheelDelta;
            break;
          case "wheel":
            delta = event["deltaY"];
            break;
          default:
            throw "unrecognized mouse wheel event: " + event.type;
        }
        return delta;
      }, mouseX: 0, mouseY: 0, mouseMovementX: 0, mouseMovementY: 0, touches: {}, lastTouches: {}, calculateMouseEvent: function(event) {
        if (Browser.pointerLock) {
          if (event.type != "mousemove" && "mozMovementX" in event) {
            Browser.mouseMovementX = Browser.mouseMovementY = 0;
          } else {
            Browser.mouseMovementX = Browser.getMovementX(event);
            Browser.mouseMovementY = Browser.getMovementY(event);
          }
          if (typeof SDL != "undefined") {
            Browser.mouseX = SDL.mouseX + Browser.mouseMovementX;
            Browser.mouseY = SDL.mouseY + Browser.mouseMovementY;
          } else {
            Browser.mouseX += Browser.mouseMovementX;
            Browser.mouseY += Browser.mouseMovementY;
          }
        } else {
          var rect = Module["canvas"].getBoundingClientRect();
          var cw = Module["canvas"].width;
          var ch = Module["canvas"].height;
          var scrollX = typeof window.scrollX !== "undefined" ? window.scrollX : window.pageXOffset;
          var scrollY = typeof window.scrollY !== "undefined" ? window.scrollY : window.pageYOffset;
          if (event.type === "touchstart" || event.type === "touchend" || event.type === "touchmove") {
            var touch = event.touch;
            if (touch === void 0) {
              return;
            }
            var adjustedX = touch.pageX - (scrollX + rect.left);
            var adjustedY = touch.pageY - (scrollY + rect.top);
            adjustedX = adjustedX * (cw / rect.width);
            adjustedY = adjustedY * (ch / rect.height);
            var coords = { x: adjustedX, y: adjustedY };
            if (event.type === "touchstart") {
              Browser.lastTouches[touch.identifier] = coords;
              Browser.touches[touch.identifier] = coords;
            } else if (event.type === "touchend" || event.type === "touchmove") {
              var last = Browser.touches[touch.identifier];
              if (!last)
                last = coords;
              Browser.lastTouches[touch.identifier] = last;
              Browser.touches[touch.identifier] = coords;
            }
            return;
          }
          var x2 = event.pageX - (scrollX + rect.left);
          var y2 = event.pageY - (scrollY + rect.top);
          x2 = x2 * (cw / rect.width);
          y2 = y2 * (ch / rect.height);
          Browser.mouseMovementX = x2 - Browser.mouseX;
          Browser.mouseMovementY = y2 - Browser.mouseY;
          Browser.mouseX = x2;
          Browser.mouseY = y2;
        }
      }, asyncLoad: function(url2, onload, onerror, noRunDep) {
        var dep = !noRunDep ? getUniqueRunDependency("al " + url2) : "";
        Module["readAsync"](url2, function(arrayBuffer) {
          assert(arrayBuffer, 'Loading data file "' + url2 + '" failed (no arrayBuffer).');
          onload(new Uint8Array(arrayBuffer));
          if (dep)
            removeRunDependency(dep);
        }, function(event) {
          if (onerror) {
            onerror();
          } else {
            throw 'Loading data file "' + url2 + '" failed.';
          }
        });
        if (dep)
          addRunDependency(dep);
      }, resizeListeners: [], updateResizeListeners: function() {
        var canvas = Module["canvas"];
        Browser.resizeListeners.forEach(function(listener) {
          listener(canvas.width, canvas.height);
        });
      }, setCanvasSize: function(width, height, noUpdates) {
        var canvas = Module["canvas"];
        Browser.updateCanvasDimensions(canvas, width, height);
        if (!noUpdates)
          Browser.updateResizeListeners();
      }, windowedWidth: 0, windowedHeight: 0, setFullscreenCanvasSize: function() {
        if (typeof SDL != "undefined") {
          var flags = HEAPU32[SDL.screen + Runtime.QUANTUM_SIZE * 0 >> 2];
          flags = flags | 8388608;
          HEAP32[SDL.screen + Runtime.QUANTUM_SIZE * 0 >> 2] = flags;
        }
        Browser.updateResizeListeners();
      }, setWindowedCanvasSize: function() {
        if (typeof SDL != "undefined") {
          var flags = HEAPU32[SDL.screen + Runtime.QUANTUM_SIZE * 0 >> 2];
          flags = flags & ~8388608;
          HEAP32[SDL.screen + Runtime.QUANTUM_SIZE * 0 >> 2] = flags;
        }
        Browser.updateResizeListeners();
      }, updateCanvasDimensions: function(canvas, wNative, hNative) {
        if (wNative && hNative) {
          canvas.widthNative = wNative;
          canvas.heightNative = hNative;
        } else {
          wNative = canvas.widthNative;
          hNative = canvas.heightNative;
        }
        var w3 = wNative;
        var h2 = hNative;
        if (Module["forcedAspectRatio"] && Module["forcedAspectRatio"] > 0) {
          if (w3 / h2 < Module["forcedAspectRatio"]) {
            w3 = Math.round(h2 * Module["forcedAspectRatio"]);
          } else {
            h2 = Math.round(w3 / Module["forcedAspectRatio"]);
          }
        }
        if ((document["fullscreenElement"] || document["mozFullScreenElement"] || document["msFullscreenElement"] || document["webkitFullscreenElement"] || document["webkitCurrentFullScreenElement"]) === canvas.parentNode && typeof screen != "undefined") {
          var factor = Math.min(screen.width / w3, screen.height / h2);
          w3 = Math.round(w3 * factor);
          h2 = Math.round(h2 * factor);
        }
        if (Browser.resizeCanvas) {
          if (canvas.width != w3)
            canvas.width = w3;
          if (canvas.height != h2)
            canvas.height = h2;
          if (typeof canvas.style != "undefined") {
            canvas.style.removeProperty("width");
            canvas.style.removeProperty("height");
          }
        } else {
          if (canvas.width != wNative)
            canvas.width = wNative;
          if (canvas.height != hNative)
            canvas.height = hNative;
          if (typeof canvas.style != "undefined") {
            if (w3 != wNative || h2 != hNative) {
              canvas.style.setProperty("width", w3 + "px", "important");
              canvas.style.setProperty("height", h2 + "px", "important");
            } else {
              canvas.style.removeProperty("width");
              canvas.style.removeProperty("height");
            }
          }
        }
      }, wgetRequests: {}, nextWgetRequestHandle: 0, getNextWgetRequestHandle: function() {
        var handle = Browser.nextWgetRequestHandle;
        Browser.nextWgetRequestHandle++;
        return handle;
      } };
      var SYSCALLS = { varargs: 0, get: function(varargs) {
        SYSCALLS.varargs += 4;
        var ret = HEAP32[SYSCALLS.varargs - 4 >> 2];
        return ret;
      }, getStr: function() {
        var ret = Pointer_stringify(SYSCALLS.get());
        return ret;
      }, get64: function() {
        var low = SYSCALLS.get(), high = SYSCALLS.get();
        if (low >= 0)
          assert(high === 0);
        else
          assert(high === -1);
        return low;
      }, getZero: function() {
        assert(SYSCALLS.get() === 0);
      } };
      function ___syscall6(which, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD();
          FS.close(stream);
          return 0;
        } catch (e3) {
          if (typeof FS === "undefined" || !(e3 instanceof FS.ErrnoError))
            abort(e3);
          return -e3.errno;
        }
      }
      function ___syscall54(which, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          return 0;
        } catch (e3) {
          if (typeof FS === "undefined" || !(e3 instanceof FS.ErrnoError))
            abort(e3);
          return -e3.errno;
        }
      }
      function _typeModule(self2) {
        var structureList = [[0, 1, "X"], [1, 1, "const X"], [128, 1, "X *"], [256, 1, "X &"], [384, 1, "X &&"], [512, 1, "std::shared_ptr<X>"], [640, 1, "std::unique_ptr<X>"], [5120, 1, "std::vector<X>"], [6144, 2, "std::array<X, Y>"], [9216, -1, "std::function<X (Y)>"]];
        function applyStructure(outerName, outerFlags, innerName, innerFlags, param, flip) {
          if (outerFlags == 1) {
            var ref = innerFlags & 896;
            if (ref == 128 || ref == 256 || ref == 384)
              outerName = "X const";
          }
          var name;
          if (flip) {
            name = innerName.replace("X", outerName).replace("Y", param);
          } else {
            name = outerName.replace("X", innerName).replace("Y", param);
          }
          return name.replace(/([*&]) (?=[*&])/g, "$1");
        }
        function reportProblem(problem, id, kind, structureType, place) {
          throw new Error(problem + " type " + kind.replace("X", id + "?") + (structureType ? " with flag " + structureType : "") + " in " + place);
        }
        function getComplexType(id, constructType2, getType2, queryType2, place, kind, prevStructure, depth) {
          if (kind === void 0) {
            kind = "X";
          }
          if (depth === void 0) {
            depth = 1;
          }
          var result = getType2(id);
          if (result)
            return result;
          var query = queryType2(id);
          var structureType = query.placeholderFlag;
          var structure = structureList[structureType];
          if (prevStructure && structure) {
            kind = applyStructure(prevStructure[2], prevStructure[0], kind, structure[0], "?", true);
          }
          var problem;
          if (structureType == 0)
            problem = "Unbound";
          if (structureType >= 10)
            problem = "Corrupt";
          if (depth > 20)
            problem = "Deeply nested";
          if (problem)
            reportProblem(problem, id, kind, structureType, place || "?");
          var subId = query.paramList[0];
          var subType = getComplexType(subId, constructType2, getType2, queryType2, place, kind, structure, depth + 1);
          var srcSpec;
          var spec = { flags: structure[0], id, name: "", paramList: [subType] };
          var argList2 = [];
          var structureParam = "?";
          switch (query.placeholderFlag) {
            case 1:
              srcSpec = subType.spec;
              break;
            case 2:
              if ((subType.flags & 15360) == 1024 && subType.spec.ptrSize == 1) {
                spec.flags = 7168;
                break;
              }
              ;
            case 3:
            case 6:
            case 5:
              srcSpec = subType.spec;
              if ((subType.flags & 15360) != 2048) {
              }
              break;
            case 8:
              structureParam = "" + query.paramList[1];
              spec.paramList.push(query.paramList[1]);
              break;
            case 9:
              for (var _i = 0, _a2 = query.paramList[1]; _i < _a2.length; _i++) {
                var paramId = _a2[_i];
                var paramType = getComplexType(paramId, constructType2, getType2, queryType2, place, kind, structure, depth + 1);
                argList2.push(paramType.name);
                spec.paramList.push(paramType);
              }
              structureParam = argList2.join(", ");
              break;
            default:
              break;
          }
          spec.name = applyStructure(structure[2], structure[0], subType.name, subType.flags, structureParam);
          if (srcSpec) {
            for (var _b = 0, _c = Object.keys(srcSpec); _b < _c.length; _b++) {
              var key2 = _c[_b];
              spec[key2] = spec[key2] || srcSpec[key2];
            }
            spec.flags |= srcSpec.flags;
          }
          return makeType(constructType2, spec);
        }
        function makeType(constructType2, spec) {
          var flags = spec.flags;
          var refKind = flags & 896;
          var kind = flags & 15360;
          if (!spec.name && kind == 1024) {
            if (spec.ptrSize == 1) {
              spec.name = (flags & 16 ? "" : (flags & 8 ? "un" : "") + "signed ") + "char";
            } else {
              spec.name = (flags & 8 ? "u" : "") + (flags & 32 ? "float" : "int") + (spec.ptrSize * 8 + "_t");
            }
          }
          if (spec.ptrSize == 8 && !(flags & 32))
            kind = 64;
          if (kind == 2048) {
            if (refKind == 512 || refKind == 640) {
              kind = 4096;
            } else if (refKind)
              kind = 3072;
          }
          return constructType2(kind, spec);
        }
        var Type = function() {
          function Type2(spec) {
            this.id = spec.id;
            this.name = spec.name;
            this.flags = spec.flags;
            this.spec = spec;
          }
          Type2.prototype.toString = function() {
            return this.name;
          };
          return Type2;
        }();
        var output = { Type, getComplexType, makeType, structureList };
        self2.output = output;
        return self2.output || output;
      }
      function __nbind_register_type(id, namePtr) {
        var name = _nbind.readAsciiString(namePtr);
        var spec = { flags: 10240, id, name };
        _nbind.makeType(_nbind.constructType, spec);
      }
      function __nbind_register_callback_signature(typeListPtr, typeCount) {
        var typeList = _nbind.readTypeIdList(typeListPtr, typeCount);
        var num2 = _nbind.callbackSignatureList.length;
        _nbind.callbackSignatureList[num2] = _nbind.makeJSCaller(typeList);
        return num2;
      }
      function __extends(Class, Parent) {
        for (var key2 in Parent)
          if (Parent.hasOwnProperty(key2))
            Class[key2] = Parent[key2];
        function Base() {
          this.constructor = Class;
        }
        Base.prototype = Parent.prototype;
        Class.prototype = new Base();
      }
      function __nbind_register_class(idListPtr, policyListPtr, superListPtr, upcastListPtr, superCount, destructorPtr, namePtr) {
        var name = _nbind.readAsciiString(namePtr);
        var policyTbl2 = _nbind.readPolicyList(policyListPtr);
        var idList = HEAPU32.subarray(idListPtr / 4, idListPtr / 4 + 2);
        var spec = { flags: 2048 | (policyTbl2["Value"] ? 2 : 0), id: idList[0], name };
        var bindClass = _nbind.makeType(_nbind.constructType, spec);
        bindClass.ptrType = _nbind.getComplexType(idList[1], _nbind.constructType, _nbind.getType, _nbind.queryType);
        bindClass.destroy = _nbind.makeMethodCaller(bindClass.ptrType, { boundID: spec.id, flags: 0, name: "destroy", num: 0, ptr: destructorPtr, title: bindClass.name + ".free", typeList: ["void", "uint32_t", "uint32_t"] });
        if (superCount) {
          bindClass.superIdList = Array.prototype.slice.call(HEAPU32.subarray(superListPtr / 4, superListPtr / 4 + superCount));
          bindClass.upcastList = Array.prototype.slice.call(HEAPU32.subarray(upcastListPtr / 4, upcastListPtr / 4 + superCount));
        }
        Module[bindClass.name] = bindClass.makeBound(policyTbl2);
        _nbind.BindClass.list.push(bindClass);
      }
      function _removeAccessorPrefix(name) {
        var prefixMatcher = /^[Gg]et_?([A-Z]?([A-Z]?))/;
        return name.replace(prefixMatcher, function(match, initial, second) {
          return second ? initial : initial.toLowerCase();
        });
      }
      function __nbind_register_function(boundID, policyListPtr, typeListPtr, typeCount, ptr2, direct, signatureType, namePtr, num2, flags) {
        var bindClass = _nbind.getType(boundID);
        var policyTbl2 = _nbind.readPolicyList(policyListPtr);
        var typeList = _nbind.readTypeIdList(typeListPtr, typeCount);
        var specList;
        if (signatureType == 5) {
          specList = [{ direct: ptr2, name: "__nbindConstructor", ptr: 0, title: bindClass.name + " constructor", typeList: ["uint32_t"].concat(typeList.slice(1)) }, { direct, name: "__nbindValueConstructor", ptr: 0, title: bindClass.name + " value constructor", typeList: ["void", "uint32_t"].concat(typeList.slice(1)) }];
        } else {
          var name_1 = _nbind.readAsciiString(namePtr);
          var title = (bindClass.name && bindClass.name + ".") + name_1;
          if (signatureType == 3 || signatureType == 4) {
            name_1 = _removeAccessorPrefix(name_1);
          }
          specList = [{ boundID, direct, name: name_1, ptr: ptr2, title, typeList }];
        }
        for (var _i = 0, specList_1 = specList; _i < specList_1.length; _i++) {
          var spec = specList_1[_i];
          spec.signatureType = signatureType;
          spec.policyTbl = policyTbl2;
          spec.num = num2;
          spec.flags = flags;
          bindClass.addMethod(spec);
        }
      }
      function _nbind_value(name, proto) {
        if (!_nbind.typeNameTbl[name])
          _nbind.throwError("Unknown value type " + name);
        Module["NBind"].bind_value(name, proto);
        _defineHidden(_nbind.typeNameTbl[name].proto.prototype.__nbindValueConstructor)(proto.prototype, "__nbindValueConstructor");
      }
      Module["_nbind_value"] = _nbind_value;
      function __nbind_get_value_object(num2, ptr2) {
        var obj = _nbind.popValue(num2);
        if (!obj.fromJS) {
          throw new Error("Object " + obj + " has no fromJS function");
        }
        obj.fromJS(function() {
          obj.__nbindValueConstructor.apply(this, Array.prototype.concat.apply([ptr2], arguments));
        });
      }
      function _emscripten_memcpy_big(dest, src, num2) {
        HEAPU8.set(HEAPU8.subarray(src, src + num2), dest);
        return dest;
      }
      function __nbind_register_primitive(id, size, flags) {
        var spec = { flags: 1024 | flags, id, ptrSize: size };
        _nbind.makeType(_nbind.constructType, spec);
      }
      var cttz_i8 = allocate([8, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 6, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 7, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 6, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 5, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0, 4, 0, 1, 0, 2, 0, 1, 0, 3, 0, 1, 0, 2, 0, 1, 0], "i8", ALLOC_STATIC);
      function ___setErrNo(value) {
        if (Module["___errno_location"])
          HEAP32[Module["___errno_location"]() >> 2] = value;
        return value;
      }
      function _llvm_stacksave() {
        var self2 = _llvm_stacksave;
        if (!self2.LLVM_SAVEDSTACKS) {
          self2.LLVM_SAVEDSTACKS = [];
        }
        self2.LLVM_SAVEDSTACKS.push(Runtime.stackSave());
        return self2.LLVM_SAVEDSTACKS.length - 1;
      }
      function ___syscall140(which, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.getStreamFromFD(), offset_high = SYSCALLS.get(), offset_low = SYSCALLS.get(), result = SYSCALLS.get(), whence = SYSCALLS.get();
          var offset = offset_low;
          FS.llseek(stream, offset, whence);
          HEAP32[result >> 2] = stream.position;
          if (stream.getdents && offset === 0 && whence === 0)
            stream.getdents = null;
          return 0;
        } catch (e3) {
          if (typeof FS === "undefined" || !(e3 instanceof FS.ErrnoError))
            abort(e3);
          return -e3.errno;
        }
      }
      function ___syscall146(which, varargs) {
        SYSCALLS.varargs = varargs;
        try {
          var stream = SYSCALLS.get(), iov = SYSCALLS.get(), iovcnt = SYSCALLS.get();
          var ret = 0;
          if (!___syscall146.buffer) {
            ___syscall146.buffers = [null, [], []];
            ___syscall146.printChar = function(stream2, curr) {
              var buffer2 = ___syscall146.buffers[stream2];
              assert(buffer2);
              if (curr === 0 || curr === 10) {
                (stream2 === 1 ? Module["print"] : Module["printErr"])(UTF8ArrayToString(buffer2, 0));
                buffer2.length = 0;
              } else {
                buffer2.push(curr);
              }
            };
          }
          for (var i3 = 0; i3 < iovcnt; i3++) {
            var ptr2 = HEAP32[iov + i3 * 8 >> 2];
            var len = HEAP32[iov + (i3 * 8 + 4) >> 2];
            for (var j3 = 0; j3 < len; j3++) {
              ___syscall146.printChar(stream, HEAPU8[ptr2 + j3]);
            }
            ret += len;
          }
          return ret;
        } catch (e3) {
          if (typeof FS === "undefined" || !(e3 instanceof FS.ErrnoError))
            abort(e3);
          return -e3.errno;
        }
      }
      function __nbind_finish() {
        for (var _i = 0, _a2 = _nbind.BindClass.list; _i < _a2.length; _i++) {
          var bindClass = _a2[_i];
          bindClass.finish();
        }
      }
      var ___dso_handle = STATICTOP;
      STATICTOP += 16;
      (function(_nbind) {
        var typeIdTbl = {};
        _nbind.typeNameTbl = {};
        var Pool = function() {
          function Pool2() {
          }
          Pool2.lalloc = function(size) {
            size = size + 7 & ~7;
            var used = HEAPU32[Pool2.usedPtr];
            if (size > Pool2.pageSize / 2 || size > Pool2.pageSize - used) {
              var NBind = _nbind.typeNameTbl["NBind"].proto;
              return NBind.lalloc(size);
            } else {
              HEAPU32[Pool2.usedPtr] = used + size;
              return Pool2.rootPtr + used;
            }
          };
          Pool2.lreset = function(used, page) {
            var topPage = HEAPU32[Pool2.pagePtr];
            if (topPage) {
              var NBind = _nbind.typeNameTbl["NBind"].proto;
              NBind.lreset(used, page);
            } else {
              HEAPU32[Pool2.usedPtr] = used;
            }
          };
          return Pool2;
        }();
        _nbind.Pool = Pool;
        function constructType(kind, spec) {
          var construct = kind == 10240 ? _nbind.makeTypeNameTbl[spec.name] || _nbind.BindType : _nbind.makeTypeKindTbl[kind];
          var bindType = new construct(spec);
          typeIdTbl[spec.id] = bindType;
          _nbind.typeNameTbl[spec.name] = bindType;
          return bindType;
        }
        _nbind.constructType = constructType;
        function getType(id) {
          return typeIdTbl[id];
        }
        _nbind.getType = getType;
        function queryType(id) {
          var placeholderFlag = HEAPU8[id];
          var paramCount = _nbind.structureList[placeholderFlag][1];
          id /= 4;
          if (paramCount < 0) {
            ++id;
            paramCount = HEAPU32[id] + 1;
          }
          var paramList = Array.prototype.slice.call(HEAPU32.subarray(id + 1, id + 1 + paramCount));
          if (placeholderFlag == 9) {
            paramList = [paramList[0], paramList.slice(1)];
          }
          return { paramList, placeholderFlag };
        }
        _nbind.queryType = queryType;
        function getTypes(idList, place) {
          return idList.map(function(id) {
            return typeof id == "number" ? _nbind.getComplexType(id, constructType, getType, queryType, place) : _nbind.typeNameTbl[id];
          });
        }
        _nbind.getTypes = getTypes;
        function readTypeIdList(typeListPtr, typeCount) {
          return Array.prototype.slice.call(HEAPU32, typeListPtr / 4, typeListPtr / 4 + typeCount);
        }
        _nbind.readTypeIdList = readTypeIdList;
        function readAsciiString(ptr2) {
          var endPtr = ptr2;
          while (HEAPU8[endPtr++])
            ;
          return String.fromCharCode.apply("", HEAPU8.subarray(ptr2, endPtr - 1));
        }
        _nbind.readAsciiString = readAsciiString;
        function readPolicyList(policyListPtr) {
          var policyTbl2 = {};
          if (policyListPtr) {
            while (1) {
              var namePtr = HEAPU32[policyListPtr / 4];
              if (!namePtr)
                break;
              policyTbl2[readAsciiString(namePtr)] = true;
              policyListPtr += 4;
            }
          }
          return policyTbl2;
        }
        _nbind.readPolicyList = readPolicyList;
        function getDynCall(typeList, name) {
          var mangleMap = { float32_t: "d", float64_t: "d", int64_t: "d", uint64_t: "d", "void": "v" };
          var signature = typeList.map(function(type2) {
            return mangleMap[type2.name] || "i";
          }).join("");
          var dynCall2 = Module["dynCall_" + signature];
          if (!dynCall2) {
            throw new Error("dynCall_" + signature + " not found for " + name + "(" + typeList.map(function(type2) {
              return type2.name;
            }).join(", ") + ")");
          }
          return dynCall2;
        }
        _nbind.getDynCall = getDynCall;
        function addMethod(obj, name, func2, arity) {
          var overload = obj[name];
          if (obj.hasOwnProperty(name) && overload) {
            if (overload.arity || overload.arity === 0) {
              overload = _nbind.makeOverloader(overload, overload.arity);
              obj[name] = overload;
            }
            overload.addMethod(func2, arity);
          } else {
            func2.arity = arity;
            obj[name] = func2;
          }
        }
        _nbind.addMethod = addMethod;
        function throwError(message) {
          throw new Error(message);
        }
        _nbind.throwError = throwError;
        _nbind.bigEndian = false;
        var _a;
        _a = _typeModule(_typeModule), _nbind.Type = _a.Type, _nbind.makeType = _a.makeType, _nbind.getComplexType = _a.getComplexType, _nbind.structureList = _a.structureList;
        var BindType = function(_super) {
          __extends(BindType2, _super);
          function BindType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.heap = HEAPU32;
            _this.ptrSize = 4;
            return _this;
          }
          BindType2.prototype.needsWireRead = function(policyTbl2) {
            return !!this.wireRead || !!this.makeWireRead;
          };
          BindType2.prototype.needsWireWrite = function(policyTbl2) {
            return !!this.wireWrite || !!this.makeWireWrite;
          };
          return BindType2;
        }(_nbind.Type);
        _nbind.BindType = BindType;
        var PrimitiveType = function(_super) {
          __extends(PrimitiveType2, _super);
          function PrimitiveType2(spec) {
            var _this = _super.call(this, spec) || this;
            var heapTbl = spec.flags & 32 ? { 32: HEAPF32, 64: HEAPF64 } : spec.flags & 8 ? { 8: HEAPU8, 16: HEAPU16, 32: HEAPU32 } : { 8: HEAP8, 16: HEAP16, 32: HEAP32 };
            _this.heap = heapTbl[spec.ptrSize * 8];
            _this.ptrSize = spec.ptrSize;
            return _this;
          }
          PrimitiveType2.prototype.needsWireWrite = function(policyTbl2) {
            return !!policyTbl2 && !!policyTbl2["Strict"];
          };
          PrimitiveType2.prototype.makeWireWrite = function(expr, policyTbl2) {
            return policyTbl2 && policyTbl2["Strict"] && function(arg2) {
              if (typeof arg2 == "number")
                return arg2;
              throw new Error("Type mismatch");
            };
          };
          return PrimitiveType2;
        }(BindType);
        _nbind.PrimitiveType = PrimitiveType;
        function pushCString(str, policyTbl2) {
          if (str === null || str === void 0) {
            if (policyTbl2 && policyTbl2["Nullable"]) {
              return 0;
            } else
              throw new Error("Type mismatch");
          }
          if (policyTbl2 && policyTbl2["Strict"]) {
            if (typeof str != "string")
              throw new Error("Type mismatch");
          } else
            str = str.toString();
          var length = Module.lengthBytesUTF8(str) + 1;
          var result = _nbind.Pool.lalloc(length);
          Module.stringToUTF8Array(str, HEAPU8, result, length);
          return result;
        }
        _nbind.pushCString = pushCString;
        function popCString(ptr2) {
          if (ptr2 === 0)
            return null;
          return Module.Pointer_stringify(ptr2);
        }
        _nbind.popCString = popCString;
        var CStringType = function(_super) {
          __extends(CStringType2, _super);
          function CStringType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireRead = popCString;
            _this.wireWrite = pushCString;
            _this.readResources = [_nbind.resources.pool];
            _this.writeResources = [_nbind.resources.pool];
            return _this;
          }
          CStringType2.prototype.makeWireWrite = function(expr, policyTbl2) {
            return function(arg2) {
              return pushCString(arg2, policyTbl2);
            };
          };
          return CStringType2;
        }(BindType);
        _nbind.CStringType = CStringType;
        var BooleanType = function(_super) {
          __extends(BooleanType2, _super);
          function BooleanType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireRead = function(arg2) {
              return !!arg2;
            };
            return _this;
          }
          BooleanType2.prototype.needsWireWrite = function(policyTbl2) {
            return !!policyTbl2 && !!policyTbl2["Strict"];
          };
          BooleanType2.prototype.makeWireRead = function(expr) {
            return "!!(" + expr + ")";
          };
          BooleanType2.prototype.makeWireWrite = function(expr, policyTbl2) {
            return policyTbl2 && policyTbl2["Strict"] && function(arg2) {
              if (typeof arg2 == "boolean")
                return arg2;
              throw new Error("Type mismatch");
            } || expr;
          };
          return BooleanType2;
        }(BindType);
        _nbind.BooleanType = BooleanType;
        var Wrapper = function() {
          function Wrapper2() {
          }
          Wrapper2.prototype.persist = function() {
            this.__nbindState |= 1;
          };
          return Wrapper2;
        }();
        _nbind.Wrapper = Wrapper;
        function makeBound(policyTbl2, bindClass) {
          var Bound = function(_super) {
            __extends(Bound2, _super);
            function Bound2(marker, flags, ptr2, shared) {
              var _this = _super.call(this) || this;
              if (!(_this instanceof Bound2)) {
                return new (Function.prototype.bind.apply(Bound2, Array.prototype.concat.apply([null], arguments)))();
              }
              var nbindFlags = flags;
              var nbindPtr = ptr2;
              var nbindShared = shared;
              if (marker !== _nbind.ptrMarker) {
                var wirePtr = _this.__nbindConstructor.apply(_this, arguments);
                nbindFlags = 4096 | 512;
                nbindShared = HEAPU32[wirePtr / 4];
                nbindPtr = HEAPU32[wirePtr / 4 + 1];
              }
              var spec = { configurable: true, enumerable: false, value: null, writable: false };
              var propTbl = { "__nbindFlags": nbindFlags, "__nbindPtr": nbindPtr };
              if (nbindShared) {
                propTbl["__nbindShared"] = nbindShared;
                _nbind.mark(_this);
              }
              for (var _i = 0, _a2 = Object.keys(propTbl); _i < _a2.length; _i++) {
                var key2 = _a2[_i];
                spec.value = propTbl[key2];
                Object.defineProperty(_this, key2, spec);
              }
              _defineHidden(0)(_this, "__nbindState");
              return _this;
            }
            Bound2.prototype.free = function() {
              bindClass.destroy.call(this, this.__nbindShared, this.__nbindFlags);
              this.__nbindState |= 2;
              disableMember(this, "__nbindShared");
              disableMember(this, "__nbindPtr");
            };
            return Bound2;
          }(Wrapper);
          __decorate([_defineHidden()], Bound.prototype, "__nbindConstructor", void 0);
          __decorate([_defineHidden()], Bound.prototype, "__nbindValueConstructor", void 0);
          __decorate([_defineHidden(policyTbl2)], Bound.prototype, "__nbindPolicies", void 0);
          return Bound;
        }
        _nbind.makeBound = makeBound;
        function disableMember(obj, name) {
          function die() {
            throw new Error("Accessing deleted object");
          }
          Object.defineProperty(obj, name, { configurable: false, enumerable: false, get: die, set: die });
        }
        _nbind.ptrMarker = {};
        var BindClass = function(_super) {
          __extends(BindClass2, _super);
          function BindClass2(spec) {
            var _this = _super.call(this, spec) || this;
            _this.wireRead = function(arg2) {
              return _nbind.popValue(arg2, _this.ptrType);
            };
            _this.wireWrite = function(arg2) {
              return pushPointer(arg2, _this.ptrType, true);
            };
            _this.pendingSuperCount = 0;
            _this.ready = false;
            _this.methodTbl = {};
            if (spec.paramList) {
              _this.classType = spec.paramList[0].classType;
              _this.proto = _this.classType.proto;
            } else
              _this.classType = _this;
            return _this;
          }
          BindClass2.prototype.makeBound = function(policyTbl2) {
            var Bound = _nbind.makeBound(policyTbl2, this);
            this.proto = Bound;
            this.ptrType.proto = Bound;
            return Bound;
          };
          BindClass2.prototype.addMethod = function(spec) {
            var overloadList = this.methodTbl[spec.name] || [];
            overloadList.push(spec);
            this.methodTbl[spec.name] = overloadList;
          };
          BindClass2.prototype.registerMethods = function(src, staticOnly) {
            var setter;
            for (var _i = 0, _a2 = Object.keys(src.methodTbl); _i < _a2.length; _i++) {
              var name_1 = _a2[_i];
              var overloadList = src.methodTbl[name_1];
              for (var _b = 0, overloadList_1 = overloadList; _b < overloadList_1.length; _b++) {
                var spec = overloadList_1[_b];
                var target = void 0;
                var caller = void 0;
                target = this.proto.prototype;
                if (staticOnly && spec.signatureType != 1)
                  continue;
                switch (spec.signatureType) {
                  case 1:
                    target = this.proto;
                  case 5:
                    caller = _nbind.makeCaller(spec);
                    _nbind.addMethod(target, spec.name, caller, spec.typeList.length - 1);
                    break;
                  case 4:
                    setter = _nbind.makeMethodCaller(src.ptrType, spec);
                    break;
                  case 3:
                    Object.defineProperty(target, spec.name, { configurable: true, enumerable: false, get: _nbind.makeMethodCaller(src.ptrType, spec), set: setter });
                    break;
                  case 2:
                    caller = _nbind.makeMethodCaller(src.ptrType, spec);
                    _nbind.addMethod(target, spec.name, caller, spec.typeList.length - 1);
                    break;
                  default:
                    break;
                }
              }
            }
          };
          BindClass2.prototype.registerSuperMethods = function(src, firstSuper, visitTbl) {
            if (visitTbl[src.name])
              return;
            visitTbl[src.name] = true;
            var superNum = 0;
            var nextFirst;
            for (var _i = 0, _a2 = src.superIdList || []; _i < _a2.length; _i++) {
              var superId = _a2[_i];
              var superClass = _nbind.getType(superId);
              if (superNum++ < firstSuper || firstSuper < 0) {
                nextFirst = -1;
              } else {
                nextFirst = 0;
              }
              this.registerSuperMethods(superClass, nextFirst, visitTbl);
            }
            this.registerMethods(src, firstSuper < 0);
          };
          BindClass2.prototype.finish = function() {
            if (this.ready)
              return this;
            this.ready = true;
            this.superList = (this.superIdList || []).map(function(superId) {
              return _nbind.getType(superId).finish();
            });
            var Bound = this.proto;
            if (this.superList.length) {
              var Proto = function() {
                this.constructor = Bound;
              };
              Proto.prototype = this.superList[0].proto.prototype;
              Bound.prototype = new Proto();
            }
            if (Bound != Module)
              Bound.prototype.__nbindType = this;
            this.registerSuperMethods(this, 1, {});
            return this;
          };
          BindClass2.prototype.upcastStep = function(dst, ptr2) {
            if (dst == this)
              return ptr2;
            for (var i3 = 0; i3 < this.superList.length; ++i3) {
              var superPtr = this.superList[i3].upcastStep(dst, _nbind.callUpcast(this.upcastList[i3], ptr2));
              if (superPtr)
                return superPtr;
            }
            return 0;
          };
          return BindClass2;
        }(_nbind.BindType);
        BindClass.list = [];
        _nbind.BindClass = BindClass;
        function popPointer(ptr2, type2) {
          return ptr2 ? new type2.proto(_nbind.ptrMarker, type2.flags, ptr2) : null;
        }
        _nbind.popPointer = popPointer;
        function pushPointer(obj, type2, tryValue) {
          if (!(obj instanceof _nbind.Wrapper)) {
            if (tryValue) {
              return _nbind.pushValue(obj);
            } else
              throw new Error("Type mismatch");
          }
          var ptr2 = obj.__nbindPtr;
          var objType = obj.__nbindType.classType;
          var classType = type2.classType;
          if (obj instanceof type2.proto) {
            while (objType != classType) {
              ptr2 = _nbind.callUpcast(objType.upcastList[0], ptr2);
              objType = objType.superList[0];
            }
          } else {
            ptr2 = objType.upcastStep(classType, ptr2);
            if (!ptr2)
              throw new Error("Type mismatch");
          }
          return ptr2;
        }
        _nbind.pushPointer = pushPointer;
        function pushMutablePointer(obj, type2) {
          var ptr2 = pushPointer(obj, type2);
          if (obj.__nbindFlags & 1) {
            throw new Error("Passing a const value as a non-const argument");
          }
          return ptr2;
        }
        var BindClassPtr = function(_super) {
          __extends(BindClassPtr2, _super);
          function BindClassPtr2(spec) {
            var _this = _super.call(this, spec) || this;
            _this.classType = spec.paramList[0].classType;
            _this.proto = _this.classType.proto;
            var isConst = spec.flags & 1;
            var isValue = (_this.flags & 896) == 256 && spec.flags & 2;
            var push = isConst ? pushPointer : pushMutablePointer;
            var pop = isValue ? _nbind.popValue : popPointer;
            _this.makeWireWrite = function(expr, policyTbl2) {
              return policyTbl2["Nullable"] ? function(arg2) {
                return arg2 ? push(arg2, _this) : 0;
              } : function(arg2) {
                return push(arg2, _this);
              };
            };
            _this.wireRead = function(arg2) {
              return pop(arg2, _this);
            };
            _this.wireWrite = function(arg2) {
              return push(arg2, _this);
            };
            return _this;
          }
          return BindClassPtr2;
        }(_nbind.BindType);
        _nbind.BindClassPtr = BindClassPtr;
        function popShared(ptr2, type2) {
          var shared = HEAPU32[ptr2 / 4];
          var unsafe = HEAPU32[ptr2 / 4 + 1];
          return unsafe ? new type2.proto(_nbind.ptrMarker, type2.flags, unsafe, shared) : null;
        }
        _nbind.popShared = popShared;
        function pushShared(obj, type2) {
          if (!(obj instanceof type2.proto))
            throw new Error("Type mismatch");
          return obj.__nbindShared;
        }
        function pushMutableShared(obj, type2) {
          if (!(obj instanceof type2.proto))
            throw new Error("Type mismatch");
          if (obj.__nbindFlags & 1) {
            throw new Error("Passing a const value as a non-const argument");
          }
          return obj.__nbindShared;
        }
        var SharedClassPtr = function(_super) {
          __extends(SharedClassPtr2, _super);
          function SharedClassPtr2(spec) {
            var _this = _super.call(this, spec) || this;
            _this.readResources = [_nbind.resources.pool];
            _this.classType = spec.paramList[0].classType;
            _this.proto = _this.classType.proto;
            var isConst = spec.flags & 1;
            var push = isConst ? pushShared : pushMutableShared;
            _this.wireRead = function(arg2) {
              return popShared(arg2, _this);
            };
            _this.wireWrite = function(arg2) {
              return push(arg2, _this);
            };
            return _this;
          }
          return SharedClassPtr2;
        }(_nbind.BindType);
        _nbind.SharedClassPtr = SharedClassPtr;
        _nbind.externalList = [0];
        var firstFreeExternal = 0;
        var External = function() {
          function External2(data) {
            this.refCount = 1;
            this.data = data;
          }
          External2.prototype.register = function() {
            var num2 = firstFreeExternal;
            if (num2) {
              firstFreeExternal = _nbind.externalList[num2];
            } else
              num2 = _nbind.externalList.length;
            _nbind.externalList[num2] = this;
            return num2;
          };
          External2.prototype.reference = function() {
            ++this.refCount;
          };
          External2.prototype.dereference = function(num2) {
            if (--this.refCount == 0) {
              if (this.free)
                this.free();
              _nbind.externalList[num2] = firstFreeExternal;
              firstFreeExternal = num2;
            }
          };
          return External2;
        }();
        _nbind.External = External;
        function popExternal(num2) {
          var obj = _nbind.externalList[num2];
          obj.dereference(num2);
          return obj.data;
        }
        function pushExternal(obj) {
          var external = new External(obj);
          external.reference();
          return external.register();
        }
        var ExternalType = function(_super) {
          __extends(ExternalType2, _super);
          function ExternalType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireRead = popExternal;
            _this.wireWrite = pushExternal;
            return _this;
          }
          return ExternalType2;
        }(_nbind.BindType);
        _nbind.ExternalType = ExternalType;
        _nbind.callbackSignatureList = [];
        var CallbackType = function(_super) {
          __extends(CallbackType2, _super);
          function CallbackType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireWrite = function(func2) {
              if (typeof func2 != "function")
                _nbind.throwError("Type mismatch");
              return new _nbind.External(func2).register();
            };
            return _this;
          }
          return CallbackType2;
        }(_nbind.BindType);
        _nbind.CallbackType = CallbackType;
        _nbind.valueList = [0];
        var firstFreeValue = 0;
        function pushValue(value) {
          var num2 = firstFreeValue;
          if (num2) {
            firstFreeValue = _nbind.valueList[num2];
          } else
            num2 = _nbind.valueList.length;
          _nbind.valueList[num2] = value;
          return num2 * 2 + 1;
        }
        _nbind.pushValue = pushValue;
        function popValue(num2, type2) {
          if (!num2)
            _nbind.throwError("Value type JavaScript class is missing or not registered");
          if (num2 & 1) {
            num2 >>= 1;
            var obj = _nbind.valueList[num2];
            _nbind.valueList[num2] = firstFreeValue;
            firstFreeValue = num2;
            return obj;
          } else if (type2) {
            return _nbind.popShared(num2, type2);
          } else
            throw new Error("Invalid value slot " + num2);
        }
        _nbind.popValue = popValue;
        var valueBase = 18446744073709552e3;
        function push64(num2) {
          if (typeof num2 == "number")
            return num2;
          return pushValue(num2) * 4096 + valueBase;
        }
        function pop64(num2) {
          if (num2 < valueBase)
            return num2;
          return popValue((num2 - valueBase) / 4096);
        }
        var CreateValueType = function(_super) {
          __extends(CreateValueType2, _super);
          function CreateValueType2() {
            return _super !== null && _super.apply(this, arguments) || this;
          }
          CreateValueType2.prototype.makeWireWrite = function(expr) {
            return "(_nbind.pushValue(new " + expr + "))";
          };
          return CreateValueType2;
        }(_nbind.BindType);
        _nbind.CreateValueType = CreateValueType;
        var Int64Type = function(_super) {
          __extends(Int64Type2, _super);
          function Int64Type2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireWrite = push64;
            _this.wireRead = pop64;
            return _this;
          }
          return Int64Type2;
        }(_nbind.BindType);
        _nbind.Int64Type = Int64Type;
        function pushArray(arr, type2) {
          if (!arr)
            return 0;
          var length = arr.length;
          if ((type2.size || type2.size === 0) && length < type2.size) {
            throw new Error("Type mismatch");
          }
          var ptrSize = type2.memberType.ptrSize;
          var result = _nbind.Pool.lalloc(4 + length * ptrSize);
          HEAPU32[result / 4] = length;
          var heap = type2.memberType.heap;
          var ptr2 = (result + 4) / ptrSize;
          var wireWrite = type2.memberType.wireWrite;
          var num2 = 0;
          if (wireWrite) {
            while (num2 < length) {
              heap[ptr2++] = wireWrite(arr[num2++]);
            }
          } else {
            while (num2 < length) {
              heap[ptr2++] = arr[num2++];
            }
          }
          return result;
        }
        _nbind.pushArray = pushArray;
        function popArray(ptr2, type2) {
          if (ptr2 === 0)
            return null;
          var length = HEAPU32[ptr2 / 4];
          var arr = new Array(length);
          var heap = type2.memberType.heap;
          ptr2 = (ptr2 + 4) / type2.memberType.ptrSize;
          var wireRead = type2.memberType.wireRead;
          var num2 = 0;
          if (wireRead) {
            while (num2 < length) {
              arr[num2++] = wireRead(heap[ptr2++]);
            }
          } else {
            while (num2 < length) {
              arr[num2++] = heap[ptr2++];
            }
          }
          return arr;
        }
        _nbind.popArray = popArray;
        var ArrayType = function(_super) {
          __extends(ArrayType2, _super);
          function ArrayType2(spec) {
            var _this = _super.call(this, spec) || this;
            _this.wireRead = function(arg2) {
              return popArray(arg2, _this);
            };
            _this.wireWrite = function(arg2) {
              return pushArray(arg2, _this);
            };
            _this.readResources = [_nbind.resources.pool];
            _this.writeResources = [_nbind.resources.pool];
            _this.memberType = spec.paramList[0];
            if (spec.paramList[1])
              _this.size = spec.paramList[1];
            return _this;
          }
          return ArrayType2;
        }(_nbind.BindType);
        _nbind.ArrayType = ArrayType;
        function pushString(str, policyTbl2) {
          if (str === null || str === void 0) {
            if (policyTbl2 && policyTbl2["Nullable"]) {
              str = "";
            } else
              throw new Error("Type mismatch");
          }
          if (policyTbl2 && policyTbl2["Strict"]) {
            if (typeof str != "string")
              throw new Error("Type mismatch");
          } else
            str = str.toString();
          var length = Module.lengthBytesUTF8(str);
          var result = _nbind.Pool.lalloc(4 + length + 1);
          HEAPU32[result / 4] = length;
          Module.stringToUTF8Array(str, HEAPU8, result + 4, length + 1);
          return result;
        }
        _nbind.pushString = pushString;
        function popString(ptr2) {
          if (ptr2 === 0)
            return null;
          var length = HEAPU32[ptr2 / 4];
          return Module.Pointer_stringify(ptr2 + 4, length);
        }
        _nbind.popString = popString;
        var StringType = function(_super) {
          __extends(StringType2, _super);
          function StringType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireRead = popString;
            _this.wireWrite = pushString;
            _this.readResources = [_nbind.resources.pool];
            _this.writeResources = [_nbind.resources.pool];
            return _this;
          }
          StringType2.prototype.makeWireWrite = function(expr, policyTbl2) {
            return function(arg2) {
              return pushString(arg2, policyTbl2);
            };
          };
          return StringType2;
        }(_nbind.BindType);
        _nbind.StringType = StringType;
        function makeArgList(argCount) {
          return Array.apply(null, Array(argCount)).map(function(dummy, num2) {
            return "a" + (num2 + 1);
          });
        }
        function anyNeedsWireWrite(typeList, policyTbl2) {
          return typeList.reduce(function(result, type2) {
            return result || type2.needsWireWrite(policyTbl2);
          }, false);
        }
        function anyNeedsWireRead(typeList, policyTbl2) {
          return typeList.reduce(function(result, type2) {
            return result || !!type2.needsWireRead(policyTbl2);
          }, false);
        }
        function makeWireRead(convertParamList2, policyTbl2, type2, expr) {
          var paramNum = convertParamList2.length;
          if (type2.makeWireRead) {
            return type2.makeWireRead(expr, convertParamList2, paramNum);
          } else if (type2.wireRead) {
            convertParamList2[paramNum] = type2.wireRead;
            return "(convertParamList[" + paramNum + "](" + expr + "))";
          } else
            return expr;
        }
        function makeWireWrite(convertParamList2, policyTbl2, type2, expr) {
          var wireWrite;
          var paramNum = convertParamList2.length;
          if (type2.makeWireWrite) {
            wireWrite = type2.makeWireWrite(expr, policyTbl2, convertParamList2, paramNum);
          } else
            wireWrite = type2.wireWrite;
          if (wireWrite) {
            if (typeof wireWrite == "string") {
              return wireWrite;
            } else {
              convertParamList2[paramNum] = wireWrite;
              return "(convertParamList[" + paramNum + "](" + expr + "))";
            }
          } else
            return expr;
        }
        function buildCallerFunction(dynCall, ptrType, ptr, num, policyTbl, needsWireWrite, prefix, returnType, argTypeList, mask, err) {
          var argList = makeArgList(argTypeList.length);
          var convertParamList = [];
          var callExpression = makeWireRead(convertParamList, policyTbl, returnType, "dynCall(" + [prefix].concat(argList.map(function(name, index) {
            return makeWireWrite(convertParamList, policyTbl, argTypeList[index], name);
          })).join(",") + ")");
          var resourceSet = _nbind.listResources([returnType], argTypeList);
          var sourceCode = "function(" + argList.join(",") + "){" + (mask ? "this.__nbindFlags&mask&&err();" : "") + resourceSet.makeOpen() + "var r=" + callExpression + ";" + resourceSet.makeClose() + "return r;}";
          return eval("(" + sourceCode + ")");
        }
        function buildJSCallerFunction(returnType, argTypeList) {
          var argList = makeArgList(argTypeList.length);
          var convertParamList = [];
          var callExpression = makeWireWrite(convertParamList, null, returnType, "_nbind.externalList[num].data(" + argList.map(function(name, index) {
            return makeWireRead(convertParamList, null, argTypeList[index], name);
          }).join(",") + ")");
          var resourceSet = _nbind.listResources(argTypeList, [returnType]);
          resourceSet.remove(_nbind.resources.pool);
          var sourceCode = "function(" + ["dummy", "num"].concat(argList).join(",") + "){" + resourceSet.makeOpen() + "var r=" + callExpression + ";" + resourceSet.makeClose() + "return r;}";
          return eval("(" + sourceCode + ")");
        }
        _nbind.buildJSCallerFunction = buildJSCallerFunction;
        function makeJSCaller(idList) {
          var argCount = idList.length - 1;
          var typeList = _nbind.getTypes(idList, "callback");
          var returnType2 = typeList[0];
          var argTypeList2 = typeList.slice(1);
          var needsWireRead = anyNeedsWireRead(argTypeList2, null);
          var needsWireWrite2 = returnType2.needsWireWrite(null);
          if (!needsWireWrite2 && !needsWireRead) {
            switch (argCount) {
              case 0:
                return function(dummy, num2) {
                  return _nbind.externalList[num2].data();
                };
              case 1:
                return function(dummy, num2, a1) {
                  return _nbind.externalList[num2].data(a1);
                };
              case 2:
                return function(dummy, num2, a1, a2) {
                  return _nbind.externalList[num2].data(a1, a2);
                };
              case 3:
                return function(dummy, num2, a1, a2, a3) {
                  return _nbind.externalList[num2].data(a1, a2, a3);
                };
              default:
                break;
            }
          }
          return buildJSCallerFunction(returnType2, argTypeList2);
        }
        _nbind.makeJSCaller = makeJSCaller;
        function makeMethodCaller(ptrType2, spec) {
          var argCount = spec.typeList.length - 1;
          var typeIdList = spec.typeList.slice(0);
          typeIdList.splice(1, 0, "uint32_t", spec.boundID);
          var typeList = _nbind.getTypes(typeIdList, spec.title);
          var returnType2 = typeList[0];
          var argTypeList2 = typeList.slice(3);
          var needsWireRead = returnType2.needsWireRead(spec.policyTbl);
          var needsWireWrite2 = anyNeedsWireWrite(argTypeList2, spec.policyTbl);
          var ptr2 = spec.ptr;
          var num2 = spec.num;
          var dynCall2 = _nbind.getDynCall(typeList, spec.title);
          var mask2 = ~spec.flags & 1;
          function err2() {
            throw new Error("Calling a non-const method on a const object");
          }
          if (!needsWireRead && !needsWireWrite2) {
            switch (argCount) {
              case 0:
                return function() {
                  return this.__nbindFlags & mask2 ? err2() : dynCall2(ptr2, num2, _nbind.pushPointer(this, ptrType2));
                };
              case 1:
                return function(a1) {
                  return this.__nbindFlags & mask2 ? err2() : dynCall2(ptr2, num2, _nbind.pushPointer(this, ptrType2), a1);
                };
              case 2:
                return function(a1, a2) {
                  return this.__nbindFlags & mask2 ? err2() : dynCall2(ptr2, num2, _nbind.pushPointer(this, ptrType2), a1, a2);
                };
              case 3:
                return function(a1, a2, a3) {
                  return this.__nbindFlags & mask2 ? err2() : dynCall2(ptr2, num2, _nbind.pushPointer(this, ptrType2), a1, a2, a3);
                };
              default:
                break;
            }
          }
          return buildCallerFunction(dynCall2, ptrType2, ptr2, num2, spec.policyTbl, needsWireWrite2, "ptr,num,pushPointer(this,ptrType)", returnType2, argTypeList2, mask2, err2);
        }
        _nbind.makeMethodCaller = makeMethodCaller;
        function makeCaller(spec) {
          var argCount = spec.typeList.length - 1;
          var typeList = _nbind.getTypes(spec.typeList, spec.title);
          var returnType2 = typeList[0];
          var argTypeList2 = typeList.slice(1);
          var needsWireRead = returnType2.needsWireRead(spec.policyTbl);
          var needsWireWrite2 = anyNeedsWireWrite(argTypeList2, spec.policyTbl);
          var direct = spec.direct;
          var ptr2 = spec.ptr;
          if (spec.direct && !needsWireRead && !needsWireWrite2) {
            var dynCall_1 = _nbind.getDynCall(typeList, spec.title);
            switch (argCount) {
              case 0:
                return function() {
                  return dynCall_1(direct);
                };
              case 1:
                return function(a1) {
                  return dynCall_1(direct, a1);
                };
              case 2:
                return function(a1, a2) {
                  return dynCall_1(direct, a1, a2);
                };
              case 3:
                return function(a1, a2, a3) {
                  return dynCall_1(direct, a1, a2, a3);
                };
              default:
                break;
            }
            ptr2 = 0;
          }
          var prefix2;
          if (ptr2) {
            var typeIdList = spec.typeList.slice(0);
            typeIdList.splice(1, 0, "uint32_t");
            typeList = _nbind.getTypes(typeIdList, spec.title);
            prefix2 = "ptr,num";
          } else {
            ptr2 = direct;
            prefix2 = "ptr";
          }
          var dynCall2 = _nbind.getDynCall(typeList, spec.title);
          return buildCallerFunction(dynCall2, null, ptr2, spec.num, spec.policyTbl, needsWireWrite2, prefix2, returnType2, argTypeList2);
        }
        _nbind.makeCaller = makeCaller;
        function makeOverloader(func2, arity) {
          var callerList = [];
          function call() {
            return callerList[arguments.length].apply(this, arguments);
          }
          call.addMethod = function(_func, _arity) {
            callerList[_arity] = _func;
          };
          call.addMethod(func2, arity);
          return call;
        }
        _nbind.makeOverloader = makeOverloader;
        var Resource = function() {
          function Resource3(open, close) {
            var _this = this;
            this.makeOpen = function() {
              return Object.keys(_this.openTbl).join("");
            };
            this.makeClose = function() {
              return Object.keys(_this.closeTbl).join("");
            };
            this.openTbl = {};
            this.closeTbl = {};
            if (open)
              this.openTbl[open] = true;
            if (close)
              this.closeTbl[close] = true;
          }
          Resource3.prototype.add = function(other) {
            for (var _i = 0, _a2 = Object.keys(other.openTbl); _i < _a2.length; _i++) {
              var key2 = _a2[_i];
              this.openTbl[key2] = true;
            }
            for (var _b = 0, _c = Object.keys(other.closeTbl); _b < _c.length; _b++) {
              var key2 = _c[_b];
              this.closeTbl[key2] = true;
            }
          };
          Resource3.prototype.remove = function(other) {
            for (var _i = 0, _a2 = Object.keys(other.openTbl); _i < _a2.length; _i++) {
              var key2 = _a2[_i];
              delete this.openTbl[key2];
            }
            for (var _b = 0, _c = Object.keys(other.closeTbl); _b < _c.length; _b++) {
              var key2 = _c[_b];
              delete this.closeTbl[key2];
            }
          };
          return Resource3;
        }();
        _nbind.Resource = Resource;
        function listResources(readList, writeList) {
          var result = new Resource();
          for (var _i = 0, readList_1 = readList; _i < readList_1.length; _i++) {
            var bindType = readList_1[_i];
            for (var _a2 = 0, _b = bindType.readResources || []; _a2 < _b.length; _a2++) {
              var resource = _b[_a2];
              result.add(resource);
            }
          }
          for (var _c = 0, writeList_1 = writeList; _c < writeList_1.length; _c++) {
            var bindType = writeList_1[_c];
            for (var _d = 0, _e = bindType.writeResources || []; _d < _e.length; _d++) {
              var resource = _e[_d];
              result.add(resource);
            }
          }
          return result;
        }
        _nbind.listResources = listResources;
        _nbind.resources = { pool: new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];", "_nbind.Pool.lreset(used,page);") };
        var ExternalBuffer = function(_super) {
          __extends(ExternalBuffer2, _super);
          function ExternalBuffer2(buf, ptr2) {
            var _this = _super.call(this, buf) || this;
            _this.ptr = ptr2;
            return _this;
          }
          ExternalBuffer2.prototype.free = function() {
            _free(this.ptr);
          };
          return ExternalBuffer2;
        }(_nbind.External);
        function getBuffer(buf) {
          if (buf instanceof ArrayBuffer) {
            return new Uint8Array(buf);
          } else if (buf instanceof DataView) {
            return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);
          } else
            return buf;
        }
        function pushBuffer(buf, policyTbl2) {
          if (buf === null || buf === void 0) {
            if (policyTbl2 && policyTbl2["Nullable"])
              buf = [];
          }
          if (typeof buf != "object")
            throw new Error("Type mismatch");
          var b3 = buf;
          var length = b3.byteLength || b3.length;
          if (!length && length !== 0 && b3.byteLength !== 0)
            throw new Error("Type mismatch");
          var result = _nbind.Pool.lalloc(8);
          var data = _malloc(length);
          var ptr2 = result / 4;
          HEAPU32[ptr2++] = length;
          HEAPU32[ptr2++] = data;
          HEAPU32[ptr2++] = new ExternalBuffer(buf, data).register();
          HEAPU8.set(getBuffer(buf), data);
          return result;
        }
        var BufferType = function(_super) {
          __extends(BufferType2, _super);
          function BufferType2() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.wireWrite = pushBuffer;
            _this.readResources = [_nbind.resources.pool];
            _this.writeResources = [_nbind.resources.pool];
            return _this;
          }
          BufferType2.prototype.makeWireWrite = function(expr, policyTbl2) {
            return function(arg2) {
              return pushBuffer(arg2, policyTbl2);
            };
          };
          return BufferType2;
        }(_nbind.BindType);
        _nbind.BufferType = BufferType;
        function commitBuffer(num2, data, length) {
          var buf = _nbind.externalList[num2].data;
          var NodeBuffer = Buffer;
          if (typeof Buffer != "function")
            NodeBuffer = function() {
            };
          if (buf instanceof Array) {
          } else {
            var src = HEAPU8.subarray(data, data + length);
            if (buf instanceof NodeBuffer) {
              var srcBuf = void 0;
              if (typeof Buffer.from == "function" && Buffer.from.length >= 3) {
                srcBuf = Buffer.from(src);
              } else
                srcBuf = new Buffer(src);
              srcBuf.copy(buf);
            } else
              getBuffer(buf).set(src);
          }
        }
        _nbind.commitBuffer = commitBuffer;
        var dirtyList = [];
        var gcTimer = 0;
        function sweep() {
          for (var _i = 0, dirtyList_1 = dirtyList; _i < dirtyList_1.length; _i++) {
            var obj = dirtyList_1[_i];
            if (!(obj.__nbindState & (1 | 2))) {
              obj.free();
            }
          }
          dirtyList = [];
          gcTimer = 0;
        }
        _nbind.mark = function(obj) {
        };
        function toggleLightGC(enable) {
          if (enable) {
            _nbind.mark = function(obj) {
              dirtyList.push(obj);
              if (!gcTimer)
                gcTimer = setTimeout(sweep, 0);
            };
          } else {
            _nbind.mark = function(obj) {
            };
          }
        }
        _nbind.toggleLightGC = toggleLightGC;
      })(_nbind);
      Module["requestFullScreen"] = function Module_requestFullScreen(lockPointer, resizeCanvas, vrDevice) {
        Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead.");
        Module["requestFullScreen"] = Module["requestFullscreen"];
        Browser.requestFullScreen(lockPointer, resizeCanvas, vrDevice);
      };
      Module["requestFullscreen"] = function Module_requestFullscreen(lockPointer, resizeCanvas, vrDevice) {
        Browser.requestFullscreen(lockPointer, resizeCanvas, vrDevice);
      };
      Module["requestAnimationFrame"] = function Module_requestAnimationFrame(func2) {
        Browser.requestAnimationFrame(func2);
      };
      Module["setCanvasSize"] = function Module_setCanvasSize(width, height, noUpdates) {
        Browser.setCanvasSize(width, height, noUpdates);
      };
      Module["pauseMainLoop"] = function Module_pauseMainLoop() {
        Browser.mainLoop.pause();
      };
      Module["resumeMainLoop"] = function Module_resumeMainLoop() {
        Browser.mainLoop.resume();
      };
      Module["getUserMedia"] = function Module_getUserMedia() {
        Browser.getUserMedia();
      };
      Module["createContext"] = function Module_createContext(canvas, useWebGL, setInModule, webGLContextAttributes) {
        return Browser.createContext(canvas, useWebGL, setInModule, webGLContextAttributes);
      };
      if (ENVIRONMENT_IS_NODE) {
        _emscripten_get_now = function _emscripten_get_now_actual() {
          var t2 = process["hrtime"]();
          return t2[0] * 1e3 + t2[1] / 1e6;
        };
      } else if (typeof dateNow !== "undefined") {
        _emscripten_get_now = dateNow;
      } else if (typeof self === "object" && self["performance"] && typeof self["performance"]["now"] === "function") {
        _emscripten_get_now = function() {
          return self["performance"]["now"]();
        };
      } else if (typeof performance === "object" && typeof performance["now"] === "function") {
        _emscripten_get_now = function() {
          return performance["now"]();
        };
      } else {
        _emscripten_get_now = Date.now;
      }
      __ATEXIT__.push(function() {
        var fflush = Module["_fflush"];
        if (fflush)
          fflush(0);
        var printChar = ___syscall146.printChar;
        if (!printChar)
          return;
        var buffers = ___syscall146.buffers;
        if (buffers[1].length)
          printChar(1, 10);
        if (buffers[2].length)
          printChar(2, 10);
      });
      DYNAMICTOP_PTR = allocate(1, "i32", ALLOC_STATIC);
      STACK_BASE = STACKTOP = Runtime.alignMemory(STATICTOP);
      STACK_MAX = STACK_BASE + TOTAL_STACK;
      DYNAMIC_BASE = Runtime.alignMemory(STACK_MAX);
      HEAP32[DYNAMICTOP_PTR >> 2] = DYNAMIC_BASE;
      staticSealed = true;
      function invoke_viiiii(index, a1, a2, a3, a4, a5) {
        try {
          Module["dynCall_viiiii"](index, a1, a2, a3, a4, a5);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_vif(index, a1, a2) {
        try {
          Module["dynCall_vif"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_vid(index, a1, a2) {
        try {
          Module["dynCall_vid"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_fiff(index, a1, a2, a3) {
        try {
          return Module["dynCall_fiff"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_vi(index, a1) {
        try {
          Module["dynCall_vi"](index, a1);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_vii(index, a1, a2) {
        try {
          Module["dynCall_vii"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_ii(index, a1) {
        try {
          return Module["dynCall_ii"](index, a1);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viddi(index, a1, a2, a3, a4) {
        try {
          Module["dynCall_viddi"](index, a1, a2, a3, a4);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_vidd(index, a1, a2, a3) {
        try {
          Module["dynCall_vidd"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_iiii(index, a1, a2, a3) {
        try {
          return Module["dynCall_iiii"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_diii(index, a1, a2, a3) {
        try {
          return Module["dynCall_diii"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_di(index, a1) {
        try {
          return Module["dynCall_di"](index, a1);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_iid(index, a1, a2) {
        try {
          return Module["dynCall_iid"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_iii(index, a1, a2) {
        try {
          return Module["dynCall_iii"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viiddi(index, a1, a2, a3, a4, a5) {
        try {
          Module["dynCall_viiddi"](index, a1, a2, a3, a4, a5);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viiiiii(index, a1, a2, a3, a4, a5, a6) {
        try {
          Module["dynCall_viiiiii"](index, a1, a2, a3, a4, a5, a6);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_dii(index, a1, a2) {
        try {
          return Module["dynCall_dii"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_i(index) {
        try {
          return Module["dynCall_i"](index);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_iiiiii(index, a1, a2, a3, a4, a5) {
        try {
          return Module["dynCall_iiiiii"](index, a1, a2, a3, a4, a5);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viiid(index, a1, a2, a3, a4) {
        try {
          Module["dynCall_viiid"](index, a1, a2, a3, a4);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viififi(index, a1, a2, a3, a4, a5, a6) {
        try {
          Module["dynCall_viififi"](index, a1, a2, a3, a4, a5, a6);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viii(index, a1, a2, a3) {
        try {
          Module["dynCall_viii"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_v(index) {
        try {
          Module["dynCall_v"](index);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viid(index, a1, a2, a3) {
        try {
          Module["dynCall_viid"](index, a1, a2, a3);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_idd(index, a1, a2) {
        try {
          return Module["dynCall_idd"](index, a1, a2);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      function invoke_viiii(index, a1, a2, a3, a4) {
        try {
          Module["dynCall_viiii"](index, a1, a2, a3, a4);
        } catch (e3) {
          if (typeof e3 !== "number" && e3 !== "longjmp")
            throw e3;
          Module["setThrew"](1, 0);
        }
      }
      Module.asmGlobalArg = { "Math": Math, "Int8Array": Int8Array, "Int16Array": Int16Array, "Int32Array": Int32Array, "Uint8Array": Uint8Array, "Uint16Array": Uint16Array, "Uint32Array": Uint32Array, "Float32Array": Float32Array, "Float64Array": Float64Array, "NaN": NaN, "Infinity": Infinity };
      Module.asmLibraryArg = { "abort": abort, "assert": assert, "enlargeMemory": enlargeMemory, "getTotalMemory": getTotalMemory, "abortOnCannotGrowMemory": abortOnCannotGrowMemory, "invoke_viiiii": invoke_viiiii, "invoke_vif": invoke_vif, "invoke_vid": invoke_vid, "invoke_fiff": invoke_fiff, "invoke_vi": invoke_vi, "invoke_vii": invoke_vii, "invoke_ii": invoke_ii, "invoke_viddi": invoke_viddi, "invoke_vidd": invoke_vidd, "invoke_iiii": invoke_iiii, "invoke_diii": invoke_diii, "invoke_di": invoke_di, "invoke_iid": invoke_iid, "invoke_iii": invoke_iii, "invoke_viiddi": invoke_viiddi, "invoke_viiiiii": invoke_viiiiii, "invoke_dii": invoke_dii, "invoke_i": invoke_i, "invoke_iiiiii": invoke_iiiiii, "invoke_viiid": invoke_viiid, "invoke_viififi": invoke_viififi, "invoke_viii": invoke_viii, "invoke_v": invoke_v, "invoke_viid": invoke_viid, "invoke_idd": invoke_idd, "invoke_viiii": invoke_viiii, "_emscripten_asm_const_iiiii": _emscripten_asm_const_iiiii, "_emscripten_asm_const_iiidddddd": _emscripten_asm_const_iiidddddd, "_emscripten_asm_const_iiiid": _emscripten_asm_const_iiiid, "__nbind_reference_external": __nbind_reference_external, "_emscripten_asm_const_iiiiiiii": _emscripten_asm_const_iiiiiiii, "_removeAccessorPrefix": _removeAccessorPrefix, "_typeModule": _typeModule, "__nbind_register_pool": __nbind_register_pool, "__decorate": __decorate, "_llvm_stackrestore": _llvm_stackrestore, "___cxa_atexit": ___cxa_atexit, "__extends": __extends, "__nbind_get_value_object": __nbind_get_value_object, "__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj": __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj, "_emscripten_set_main_loop_timing": _emscripten_set_main_loop_timing, "__nbind_register_primitive": __nbind_register_primitive, "__nbind_register_type": __nbind_register_type, "_emscripten_memcpy_big": _emscripten_memcpy_big, "__nbind_register_function": __nbind_register_function, "___setErrNo": ___setErrNo, "__nbind_register_class": __nbind_register_class, "__nbind_finish": __nbind_finish, "_abort": _abort, "_nbind_value": _nbind_value, "_llvm_stacksave": _llvm_stacksave, "___syscall54": ___syscall54, "_defineHidden": _defineHidden, "_emscripten_set_main_loop": _emscripten_set_main_loop, "_emscripten_get_now": _emscripten_get_now, "__nbind_register_callback_signature": __nbind_register_callback_signature, "_emscripten_asm_const_iiiiii": _emscripten_asm_const_iiiiii, "__nbind_free_external": __nbind_free_external, "_emscripten_asm_const_iiii": _emscripten_asm_const_iiii, "_emscripten_asm_const_iiididi": _emscripten_asm_const_iiididi, "___syscall6": ___syscall6, "_atexit": _atexit, "___syscall140": ___syscall140, "___syscall146": ___syscall146, "DYNAMICTOP_PTR": DYNAMICTOP_PTR, "tempDoublePtr": tempDoublePtr, "ABORT": ABORT, "STACKTOP": STACKTOP, "STACK_MAX": STACK_MAX, "cttz_i8": cttz_i8, "___dso_handle": ___dso_handle };
      var asm = function(global2, env, buffer2) {
        ;
        var a2 = new global2.Int8Array(buffer2);
        var b3 = new global2.Int16Array(buffer2);
        var c2 = new global2.Int32Array(buffer2);
        var d2 = new global2.Uint8Array(buffer2);
        var e3 = new global2.Uint16Array(buffer2);
        var f4 = new global2.Uint32Array(buffer2);
        var g3 = new global2.Float32Array(buffer2);
        var h2 = new global2.Float64Array(buffer2);
        var i3 = env.DYNAMICTOP_PTR | 0;
        var j3 = env.tempDoublePtr | 0;
        var k3 = env.ABORT | 0;
        var l3 = env.STACKTOP | 0;
        var m2 = env.STACK_MAX | 0;
        var n2 = env.cttz_i8 | 0;
        var o3 = env.___dso_handle | 0;
        var p3 = 0;
        var q2 = 0;
        var r2 = 0;
        var s2 = 0;
        var t2 = global2.NaN, u2 = global2.Infinity;
        var v2 = 0, w3 = 0, x2 = 0, y2 = 0, z2 = 0;
        var A2 = 0;
        var B2 = global2.Math.floor;
        var C2 = global2.Math.abs;
        var D2 = global2.Math.sqrt;
        var E2 = global2.Math.pow;
        var F2 = global2.Math.cos;
        var G2 = global2.Math.sin;
        var H3 = global2.Math.tan;
        var I2 = global2.Math.acos;
        var J2 = global2.Math.asin;
        var K2 = global2.Math.atan;
        var L2 = global2.Math.atan2;
        var M3 = global2.Math.exp;
        var N3 = global2.Math.log;
        var O = global2.Math.ceil;
        var P = global2.Math.imul;
        var Q2 = global2.Math.min;
        var R2 = global2.Math.max;
        var S3 = global2.Math.clz32;
        var T2 = global2.Math.fround;
        var U2 = env.abort;
        var V2 = env.assert;
        var W2 = env.enlargeMemory;
        var X2 = env.getTotalMemory;
        var Y2 = env.abortOnCannotGrowMemory;
        var Z2 = env.invoke_viiiii;
        var _2 = env.invoke_vif;
        var $3 = env.invoke_vid;
        var aa = env.invoke_fiff;
        var ba = env.invoke_vi;
        var ca = env.invoke_vii;
        var da = env.invoke_ii;
        var ea = env.invoke_viddi;
        var fa = env.invoke_vidd;
        var ga = env.invoke_iiii;
        var ha = env.invoke_diii;
        var ia = env.invoke_di;
        var ja = env.invoke_iid;
        var ka = env.invoke_iii;
        var la = env.invoke_viiddi;
        var ma = env.invoke_viiiiii;
        var na = env.invoke_dii;
        var oa = env.invoke_i;
        var pa = env.invoke_iiiiii;
        var qa = env.invoke_viiid;
        var ra = env.invoke_viififi;
        var sa = env.invoke_viii;
        var ta = env.invoke_v;
        var ua = env.invoke_viid;
        var va = env.invoke_idd;
        var wa = env.invoke_viiii;
        var xa = env._emscripten_asm_const_iiiii;
        var ya = env._emscripten_asm_const_iiidddddd;
        var za = env._emscripten_asm_const_iiiid;
        var Aa = env.__nbind_reference_external;
        var Ba = env._emscripten_asm_const_iiiiiiii;
        var Ca = env._removeAccessorPrefix;
        var Da = env._typeModule;
        var Ea = env.__nbind_register_pool;
        var Fa = env.__decorate;
        var Ga = env._llvm_stackrestore;
        var Ha = env.___cxa_atexit;
        var Ia = env.__extends;
        var Ja = env.__nbind_get_value_object;
        var Ka = env.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj;
        var La = env._emscripten_set_main_loop_timing;
        var Ma = env.__nbind_register_primitive;
        var Na = env.__nbind_register_type;
        var Oa = env._emscripten_memcpy_big;
        var Pa = env.__nbind_register_function;
        var Qa = env.___setErrNo;
        var Ra = env.__nbind_register_class;
        var Sa = env.__nbind_finish;
        var Ta = env._abort;
        var Ua = env._nbind_value;
        var Va = env._llvm_stacksave;
        var Wa = env.___syscall54;
        var Xa = env._defineHidden;
        var Ya = env._emscripten_set_main_loop;
        var Za = env._emscripten_get_now;
        var _a2 = env.__nbind_register_callback_signature;
        var $a = env._emscripten_asm_const_iiiiii;
        var ab = env.__nbind_free_external;
        var bb = env._emscripten_asm_const_iiii;
        var cb2 = env._emscripten_asm_const_iiididi;
        var db = env.___syscall6;
        var eb = env._atexit;
        var fb = env.___syscall140;
        var gb = env.___syscall146;
        var hb = T2(0);
        const ib = T2(0);
        function Jb(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = l3;
          l3 = l3 + a3 | 0;
          l3 = l3 + 15 & -16;
          return b4 | 0;
        }
        function Kb() {
          return l3 | 0;
        }
        function Lb(a3) {
          a3 = a3 | 0;
          l3 = a3;
        }
        function Mb(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          l3 = a3;
          m2 = b4;
        }
        function Nb(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (!p3) {
            p3 = a3;
            q2 = b4;
          }
        }
        function Ob(a3) {
          a3 = a3 | 0;
          A2 = a3;
        }
        function Pb() {
          return A2 | 0;
        }
        function Qb() {
          var b4 = 0, d3 = 0;
          BC(8104, 8, 400) | 0;
          BC(8504, 408, 540) | 0;
          b4 = 9044;
          d3 = b4 + 44 | 0;
          do {
            c2[b4 >> 2] = 0;
            b4 = b4 + 4 | 0;
          } while ((b4 | 0) < (d3 | 0));
          a2[9088] = 0;
          a2[9089] = 1;
          c2[2273] = 0;
          c2[2274] = 948;
          c2[2275] = 948;
          Ha(17, 8104, o3 | 0) | 0;
          return;
        }
        function Rb(a3) {
          a3 = a3 | 0;
          oc(a3 + 948 | 0);
          return;
        }
        function Sb(a3) {
          a3 = T2(a3);
          return ((af(a3) | 0) & 2147483647) >>> 0 > 2139095040 | 0;
        }
        function Tb(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          a:
            do
              if (!(c2[a3 + (b4 << 3) + 4 >> 2] | 0)) {
                if ((b4 | 2 | 0) == 3 ? c2[a3 + 60 >> 2] | 0 : 0) {
                  a3 = a3 + 56 | 0;
                  break;
                }
                switch (b4 | 0) {
                  case 0:
                  case 2:
                  case 4:
                  case 5: {
                    if (c2[a3 + 52 >> 2] | 0) {
                      a3 = a3 + 48 | 0;
                      break a;
                    }
                    break;
                  }
                  default: {
                  }
                }
                if (!(c2[a3 + 68 >> 2] | 0)) {
                  a3 = (b4 | 1 | 0) == 5 ? 948 : d3;
                  break;
                } else {
                  a3 = a3 + 64 | 0;
                  break;
                }
              } else
                a3 = a3 + (b4 << 3) | 0;
            while (0);
          return a3 | 0;
        }
        function Ub(b4) {
          b4 = b4 | 0;
          var d3 = 0;
          d3 = oB(1e3) | 0;
          Vb(b4, (d3 | 0) != 0, 2456);
          c2[2276] = (c2[2276] | 0) + 1;
          BC(d3 | 0, 8104, 1e3) | 0;
          if (a2[b4 + 2 >> 0] | 0) {
            c2[d3 + 4 >> 2] = 2;
            c2[d3 + 12 >> 2] = 4;
          }
          c2[d3 + 976 >> 2] = b4;
          return d3 | 0;
        }
        function Vb(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          e4 = f5;
          if (!b4) {
            c2[e4 >> 2] = d3;
            fe(a3, 5, 3197, e4);
          }
          l3 = f5;
          return;
        }
        function Wb() {
          return Ub(956) | 0;
        }
        function Xb(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = qC(1e3) | 0;
          Yb(b4, a3);
          Vb(c2[a3 + 976 >> 2] | 0, 1, 2456);
          c2[2276] = (c2[2276] | 0) + 1;
          c2[b4 + 944 >> 2] = 0;
          return b4 | 0;
        }
        function Yb(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          BC(a3 | 0, b4 | 0, 948) | 0;
          ie(a3 + 948 | 0, b4 + 948 | 0);
          d3 = a3 + 960 | 0;
          a3 = b4 + 960 | 0;
          b4 = d3 + 40 | 0;
          do {
            c2[d3 >> 2] = c2[a3 >> 2];
            d3 = d3 + 4 | 0;
            a3 = a3 + 4 | 0;
          } while ((d3 | 0) < (b4 | 0));
          return;
        }
        function Zb(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0;
          b4 = a3 + 944 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 | 0) {
            _b(d3 + 948 | 0, a3) | 0;
            c2[b4 >> 2] = 0;
          }
          d3 = $b(a3) | 0;
          if (d3 | 0) {
            b4 = 0;
            do {
              c2[(ac(a3, b4) | 0) + 944 >> 2] = 0;
              b4 = b4 + 1 | 0;
            } while ((b4 | 0) != (d3 | 0));
          }
          d3 = a3 + 948 | 0;
          e4 = c2[d3 >> 2] | 0;
          f5 = a3 + 952 | 0;
          b4 = c2[f5 >> 2] | 0;
          if ((b4 | 0) != (e4 | 0))
            c2[f5 >> 2] = b4 + (~((b4 + -4 - e4 | 0) >>> 2) << 2);
          bc(d3);
          pB(a3);
          c2[2276] = (c2[2276] | 0) + -1;
          return;
        }
        function _b(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = c2[a3 >> 2] | 0;
          i4 = a3 + 4 | 0;
          d3 = c2[i4 >> 2] | 0;
          g4 = d3;
          a:
            do
              if ((e4 | 0) == (d3 | 0)) {
                f5 = e4;
                h3 = 4;
              } else {
                a3 = e4;
                while (1) {
                  if ((c2[a3 >> 2] | 0) == (b4 | 0)) {
                    f5 = a3;
                    h3 = 4;
                    break a;
                  }
                  a3 = a3 + 4 | 0;
                  if ((a3 | 0) == (d3 | 0)) {
                    a3 = 0;
                    break;
                  }
                }
              }
            while (0);
          if ((h3 | 0) == 4)
            if ((f5 | 0) != (d3 | 0)) {
              e4 = f5 + 4 | 0;
              a3 = g4 - e4 | 0;
              b4 = a3 >> 2;
              if (b4) {
                GC(f5 | 0, e4 | 0, a3 | 0) | 0;
                d3 = c2[i4 >> 2] | 0;
              }
              a3 = f5 + (b4 << 2) | 0;
              if ((d3 | 0) == (a3 | 0))
                a3 = 1;
              else {
                c2[i4 >> 2] = d3 + (~((d3 + -4 - a3 | 0) >>> 2) << 2);
                a3 = 1;
              }
            } else
              a3 = 0;
          return a3 | 0;
        }
        function $b(a3) {
          a3 = a3 | 0;
          return (c2[a3 + 952 >> 2] | 0) - (c2[a3 + 948 >> 2] | 0) >> 2 | 0;
        }
        function ac(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[a3 + 948 >> 2] | 0;
          if ((c2[a3 + 952 >> 2] | 0) - d3 >> 2 >>> 0 > b4 >>> 0)
            a3 = c2[d3 + (b4 << 2) >> 2] | 0;
          else
            a3 = 0;
          return a3 | 0;
        }
        function bc(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          b4 = e4;
          f5 = c2[a3 >> 2] | 0;
          d3 = (c2[a3 + 4 >> 2] | 0) - f5 | 0;
          if (((c2[a3 + 8 >> 2] | 0) - f5 | 0) >>> 0 > d3 >>> 0) {
            f5 = d3 >> 2;
            bf(b4, f5, f5, a3 + 8 | 0);
            cf(a3, b4);
            df(b4);
          }
          l3 = e4;
          return;
        }
        function cc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          k4 = $b(a3) | 0;
          do
            if (k4 | 0) {
              if ((c2[(ac(a3, 0) | 0) + 944 >> 2] | 0) == (a3 | 0)) {
                if (!(_b(a3 + 948 | 0, b4) | 0))
                  break;
                BC(b4 + 400 | 0, 8504, 540) | 0;
                c2[b4 + 944 >> 2] = 0;
                nc(a3);
                break;
              }
              h3 = c2[(c2[a3 + 976 >> 2] | 0) + 12 >> 2] | 0;
              i4 = a3 + 948 | 0;
              j4 = (h3 | 0) == 0;
              d3 = 0;
              g4 = 0;
              do {
                e4 = c2[(c2[i4 >> 2] | 0) + (g4 << 2) >> 2] | 0;
                if ((e4 | 0) == (b4 | 0))
                  nc(a3);
                else {
                  f5 = Xb(e4) | 0;
                  c2[(c2[i4 >> 2] | 0) + (d3 << 2) >> 2] = f5;
                  c2[f5 + 944 >> 2] = a3;
                  if (!j4)
                    Ib[h3 & 15](e4, f5, a3, d3);
                  d3 = d3 + 1 | 0;
                }
                g4 = g4 + 1 | 0;
              } while ((g4 | 0) != (k4 | 0));
              if (d3 >>> 0 < k4 >>> 0) {
                j4 = a3 + 948 | 0;
                i4 = a3 + 952 | 0;
                h3 = d3;
                d3 = c2[i4 >> 2] | 0;
                do {
                  g4 = (c2[j4 >> 2] | 0) + (h3 << 2) | 0;
                  e4 = g4 + 4 | 0;
                  f5 = d3 - e4 | 0;
                  b4 = f5 >> 2;
                  if (!b4)
                    f5 = d3;
                  else {
                    GC(g4 | 0, e4 | 0, f5 | 0) | 0;
                    d3 = c2[i4 >> 2] | 0;
                    f5 = d3;
                  }
                  e4 = g4 + (b4 << 2) | 0;
                  if ((f5 | 0) != (e4 | 0)) {
                    d3 = f5 + (~((f5 + -4 - e4 | 0) >>> 2) << 2) | 0;
                    c2[i4 >> 2] = d3;
                  }
                  h3 = h3 + 1 | 0;
                } while ((h3 | 0) != (k4 | 0));
              }
            }
          while (0);
          return;
        }
        function dc(b4) {
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          ec(b4, ($b(b4) | 0) == 0, 2491);
          ec(b4, (c2[b4 + 944 >> 2] | 0) == 0, 2545);
          d3 = b4 + 948 | 0;
          e4 = c2[d3 >> 2] | 0;
          f5 = b4 + 952 | 0;
          g4 = c2[f5 >> 2] | 0;
          if ((g4 | 0) != (e4 | 0))
            c2[f5 >> 2] = g4 + (~((g4 + -4 - e4 | 0) >>> 2) << 2);
          bc(d3);
          d3 = b4 + 976 | 0;
          e4 = c2[d3 >> 2] | 0;
          BC(b4 | 0, 8104, 1e3) | 0;
          if (a2[e4 + 2 >> 0] | 0) {
            c2[b4 + 4 >> 2] = 2;
            c2[b4 + 12 >> 2] = 4;
          }
          c2[d3 >> 2] = e4;
          return;
        }
        function ec(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          e4 = f5;
          if (!b4) {
            c2[e4 >> 2] = d3;
            Vd(a3, 5, 3197, e4);
          }
          l3 = f5;
          return;
        }
        function fc() {
          return c2[2276] | 0;
        }
        function gc() {
          var a3 = 0;
          a3 = oB(20) | 0;
          hc((a3 | 0) != 0, 2592);
          c2[2277] = (c2[2277] | 0) + 1;
          c2[a3 >> 2] = c2[239];
          c2[a3 + 4 >> 2] = c2[240];
          c2[a3 + 8 >> 2] = c2[241];
          c2[a3 + 12 >> 2] = c2[242];
          c2[a3 + 16 >> 2] = c2[243];
          return a3 | 0;
        }
        function hc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          d3 = e4;
          if (!a3) {
            c2[d3 >> 2] = b4;
            Vd(0, 5, 3197, d3);
          }
          l3 = e4;
          return;
        }
        function ic(a3) {
          a3 = a3 | 0;
          pB(a3);
          c2[2277] = (c2[2277] | 0) + -1;
          return;
        }
        function jc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          if (!b4) {
            d3 = 0;
            b4 = 0;
          } else {
            ec(a3, ($b(a3) | 0) == 0, 2629);
            d3 = 1;
          }
          c2[a3 + 964 >> 2] = b4;
          c2[a3 + 988 >> 2] = d3;
          return;
        }
        function kc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          g4 = e4 + 8 | 0;
          f5 = e4 + 4 | 0;
          h3 = e4;
          c2[f5 >> 2] = b4;
          ec(a3, (c2[b4 + 944 >> 2] | 0) == 0, 2709);
          ec(a3, (c2[a3 + 964 >> 2] | 0) == 0, 2763);
          lc(a3);
          b4 = a3 + 948 | 0;
          c2[h3 >> 2] = (c2[b4 >> 2] | 0) + (d3 << 2);
          c2[g4 >> 2] = c2[h3 >> 2];
          mc(b4, g4, f5) | 0;
          c2[(c2[f5 >> 2] | 0) + 944 >> 2] = a3;
          nc(a3);
          l3 = e4;
          return;
        }
        function lc(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          d3 = $b(a3) | 0;
          if (d3 | 0 ? (c2[(ac(a3, 0) | 0) + 944 >> 2] | 0) != (a3 | 0) : 0) {
            e4 = c2[(c2[a3 + 976 >> 2] | 0) + 12 >> 2] | 0;
            f5 = a3 + 948 | 0;
            g4 = (e4 | 0) == 0;
            b4 = 0;
            do {
              h3 = c2[(c2[f5 >> 2] | 0) + (b4 << 2) >> 2] | 0;
              i4 = Xb(h3) | 0;
              c2[(c2[f5 >> 2] | 0) + (b4 << 2) >> 2] = i4;
              c2[i4 + 944 >> 2] = a3;
              if (!g4)
                Ib[e4 & 15](h3, i4, a3, b4);
              b4 = b4 + 1 | 0;
            } while ((b4 | 0) != (d3 | 0));
          }
          return;
        }
        function mc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0;
          s3 = l3;
          l3 = l3 + 64 | 0;
          n3 = s3 + 52 | 0;
          i4 = s3 + 48 | 0;
          o4 = s3 + 28 | 0;
          p4 = s3 + 24 | 0;
          q3 = s3 + 20 | 0;
          r3 = s3;
          e4 = c2[a3 >> 2] | 0;
          g4 = e4;
          b4 = e4 + ((c2[b4 >> 2] | 0) - g4 >> 2 << 2) | 0;
          e4 = a3 + 4 | 0;
          f5 = c2[e4 >> 2] | 0;
          h3 = a3 + 8 | 0;
          do
            if (f5 >>> 0 < (c2[h3 >> 2] | 0) >>> 0) {
              if ((b4 | 0) == (f5 | 0)) {
                c2[b4 >> 2] = c2[d3 >> 2];
                c2[e4 >> 2] = (c2[e4 >> 2] | 0) + 4;
                break;
              }
              ef(a3, b4, f5, b4 + 4 | 0);
              if (b4 >>> 0 <= d3 >>> 0)
                d3 = (c2[e4 >> 2] | 0) >>> 0 > d3 >>> 0 ? d3 + 4 | 0 : d3;
              c2[b4 >> 2] = c2[d3 >> 2];
            } else {
              e4 = (f5 - g4 >> 2) + 1 | 0;
              f5 = le(a3) | 0;
              if (f5 >>> 0 < e4 >>> 0)
                jC(a3);
              m3 = c2[a3 >> 2] | 0;
              k4 = (c2[h3 >> 2] | 0) - m3 | 0;
              g4 = k4 >> 1;
              bf(r3, k4 >> 2 >>> 0 < f5 >>> 1 >>> 0 ? g4 >>> 0 < e4 >>> 0 ? e4 : g4 : f5, b4 - m3 >> 2, a3 + 8 | 0);
              m3 = r3 + 8 | 0;
              e4 = c2[m3 >> 2] | 0;
              g4 = r3 + 12 | 0;
              k4 = c2[g4 >> 2] | 0;
              h3 = k4;
              j4 = e4;
              do
                if ((e4 | 0) == (k4 | 0)) {
                  k4 = r3 + 4 | 0;
                  e4 = c2[k4 >> 2] | 0;
                  t3 = c2[r3 >> 2] | 0;
                  f5 = t3;
                  if (e4 >>> 0 <= t3 >>> 0) {
                    e4 = h3 - f5 >> 1;
                    e4 = (e4 | 0) == 0 ? 1 : e4;
                    bf(o4, e4, e4 >>> 2, c2[r3 + 16 >> 2] | 0);
                    c2[p4 >> 2] = c2[k4 >> 2];
                    c2[q3 >> 2] = c2[m3 >> 2];
                    c2[i4 >> 2] = c2[p4 >> 2];
                    c2[n3 >> 2] = c2[q3 >> 2];
                    gf(o4, i4, n3);
                    e4 = c2[r3 >> 2] | 0;
                    c2[r3 >> 2] = c2[o4 >> 2];
                    c2[o4 >> 2] = e4;
                    e4 = o4 + 4 | 0;
                    t3 = c2[k4 >> 2] | 0;
                    c2[k4 >> 2] = c2[e4 >> 2];
                    c2[e4 >> 2] = t3;
                    e4 = o4 + 8 | 0;
                    t3 = c2[m3 >> 2] | 0;
                    c2[m3 >> 2] = c2[e4 >> 2];
                    c2[e4 >> 2] = t3;
                    e4 = o4 + 12 | 0;
                    t3 = c2[g4 >> 2] | 0;
                    c2[g4 >> 2] = c2[e4 >> 2];
                    c2[e4 >> 2] = t3;
                    df(o4);
                    e4 = c2[m3 >> 2] | 0;
                    break;
                  }
                  g4 = e4;
                  h3 = ((g4 - f5 >> 2) + 1 | 0) / -2 | 0;
                  i4 = e4 + (h3 << 2) | 0;
                  f5 = j4 - g4 | 0;
                  g4 = f5 >> 2;
                  if (g4) {
                    GC(i4 | 0, e4 | 0, f5 | 0) | 0;
                    e4 = c2[k4 >> 2] | 0;
                  }
                  t3 = i4 + (g4 << 2) | 0;
                  c2[m3 >> 2] = t3;
                  c2[k4 >> 2] = e4 + (h3 << 2);
                  e4 = t3;
                }
              while (0);
              c2[e4 >> 2] = c2[d3 >> 2];
              c2[m3 >> 2] = (c2[m3 >> 2] | 0) + 4;
              b4 = ff(a3, r3, b4) | 0;
              df(r3);
            }
          while (0);
          l3 = s3;
          return b4 | 0;
        }
        function nc(b4) {
          b4 = b4 | 0;
          var d3 = 0;
          do {
            d3 = b4 + 984 | 0;
            if (a2[d3 >> 0] | 0)
              break;
            a2[d3 >> 0] = 1;
            g3[b4 + 504 >> 2] = T2(t2);
            b4 = c2[b4 + 944 >> 2] | 0;
          } while ((b4 | 0) != 0);
          return;
        }
        function oc(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -4 - e4 | 0) >>> 2) << 2);
            sC(d3);
          }
          return;
        }
        function pc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 944 >> 2] | 0;
        }
        function qc(a3) {
          a3 = a3 | 0;
          ec(a3, (c2[a3 + 964 >> 2] | 0) != 0, 2832);
          nc(a3);
          return;
        }
        function rc(b4) {
          b4 = b4 | 0;
          return (a2[b4 + 984 >> 0] | 0) != 0 | 0;
        }
        function sc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (BB(a3, b4, 400) | 0) {
            BC(a3 | 0, b4 | 0, 400) | 0;
            nc(a3);
          }
          return;
        }
        function tc(a3) {
          a3 = a3 | 0;
          var b4 = ib;
          b4 = T2(g3[a3 + 44 >> 2]);
          a3 = Sb(b4) | 0;
          return T2(a3 ? T2(0) : b4);
        }
        function uc(b4) {
          b4 = b4 | 0;
          var d3 = ib;
          d3 = T2(g3[b4 + 48 >> 2]);
          if (Sb(d3) | 0)
            d3 = a2[(c2[b4 + 976 >> 2] | 0) + 2 >> 0] | 0 ? T2(1) : T2(0);
          return T2(d3);
        }
        function vc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 + 980 >> 2] = b4;
          return;
        }
        function wc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 980 >> 2] | 0;
        }
        function xc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 4 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function yc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 4 >> 2] | 0;
        }
        function zc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 8 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Ac(a3) {
          a3 = a3 | 0;
          return c2[a3 + 8 >> 2] | 0;
        }
        function Bc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 12 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Cc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 12 >> 2] | 0;
        }
        function Dc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 16 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Ec(a3) {
          a3 = a3 | 0;
          return c2[a3 + 16 >> 2] | 0;
        }
        function Fc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 20 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Gc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 20 >> 2] | 0;
        }
        function Hc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 24 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Ic(a3) {
          a3 = a3 | 0;
          return c2[a3 + 24 >> 2] | 0;
        }
        function Jc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 28 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Kc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 28 >> 2] | 0;
        }
        function Lc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 32 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Mc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 32 >> 2] | 0;
        }
        function Nc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 36 | 0;
          if ((c2[d3 >> 2] | 0) != (b4 | 0)) {
            c2[d3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Oc(a3) {
          a3 = a3 | 0;
          return c2[a3 + 36 >> 2] | 0;
        }
        function Pc(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var c3 = 0;
          c3 = a3 + 40 | 0;
          if (T2(g3[c3 >> 2]) != b4) {
            g3[c3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Qc(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var c3 = 0;
          c3 = a3 + 44 | 0;
          if (T2(g3[c3 >> 2]) != b4) {
            g3[c3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Rc(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var c3 = 0;
          c3 = a3 + 48 | 0;
          if (T2(g3[c3 >> 2]) != b4) {
            g3[c3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Sc(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 52 | 0;
          f5 = a3 + 56 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function Tc(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0;
          e4 = a3 + 52 | 0;
          d3 = a3 + 56 | 0;
          if (!(!(T2(g3[e4 >> 2]) != b4) ? (c2[d3 >> 2] | 0) == 2 : 0)) {
            g3[e4 >> 2] = b4;
            e4 = Sb(b4) | 0;
            c2[d3 >> 2] = e4 ? 3 : 2;
            nc(a3);
          }
          return;
        }
        function Uc(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 52 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function Vc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = (h3 ^ 1) & 1;
          f5 = a3 + 132 + (b4 << 3) | 0;
          b4 = a3 + 132 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function Wc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = h3 ? 0 : 2;
          f5 = a3 + 132 + (b4 << 3) | 0;
          b4 = a3 + 132 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function Xc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = b4 + 132 + (d3 << 3) | 0;
          b4 = c2[e4 + 4 >> 2] | 0;
          d3 = a3;
          c2[d3 >> 2] = c2[e4 >> 2];
          c2[d3 + 4 >> 2] = b4;
          return;
        }
        function Yc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = (h3 ^ 1) & 1;
          f5 = a3 + 60 + (b4 << 3) | 0;
          b4 = a3 + 60 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function Zc(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = h3 ? 0 : 2;
          f5 = a3 + 60 + (b4 << 3) | 0;
          b4 = a3 + 60 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function _c(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = b4 + 60 + (d3 << 3) | 0;
          b4 = c2[e4 + 4 >> 2] | 0;
          d3 = a3;
          c2[d3 >> 2] = c2[e4 >> 2];
          c2[d3 + 4 >> 2] = b4;
          return;
        }
        function $c(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = a3 + 60 + (b4 << 3) + 4 | 0;
          if ((c2[d3 >> 2] | 0) != 3) {
            g3[a3 + 60 + (b4 << 3) >> 2] = T2(t2);
            c2[d3 >> 2] = 3;
            nc(a3);
          }
          return;
        }
        function ad(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = (h3 ^ 1) & 1;
          f5 = a3 + 204 + (b4 << 3) | 0;
          b4 = a3 + 204 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function bd(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = h3 ? 0 : 2;
          f5 = a3 + 204 + (b4 << 3) | 0;
          b4 = a3 + 204 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function cd(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = b4 + 204 + (d3 << 3) | 0;
          b4 = c2[e4 + 4 >> 2] | 0;
          d3 = a3;
          c2[d3 >> 2] = c2[e4 >> 2];
          c2[d3 + 4 >> 2] = b4;
          return;
        }
        function dd(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(d3) | 0;
          e4 = (h3 ^ 1) & 1;
          f5 = a3 + 276 + (b4 << 3) | 0;
          b4 = a3 + 276 + (b4 << 3) + 4 | 0;
          if (!(h3 | T2(g3[f5 >> 2]) == d3 ? (c2[b4 >> 2] | 0) == (e4 | 0) : 0)) {
            g3[f5 >> 2] = d3;
            c2[b4 >> 2] = e4;
            nc(a3);
          }
          return;
        }
        function ed(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return T2(g3[a3 + 276 + (b4 << 3) >> 2]);
        }
        function fd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 348 | 0;
          f5 = a3 + 352 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function gd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0;
          e4 = a3 + 348 | 0;
          d3 = a3 + 352 | 0;
          if (!(!(T2(g3[e4 >> 2]) != b4) ? (c2[d3 >> 2] | 0) == 2 : 0)) {
            g3[e4 >> 2] = b4;
            e4 = Sb(b4) | 0;
            c2[d3 >> 2] = e4 ? 3 : 2;
            nc(a3);
          }
          return;
        }
        function hd(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = a3 + 352 | 0;
          if ((c2[b4 >> 2] | 0) != 3) {
            g3[a3 + 348 >> 2] = T2(t2);
            c2[b4 >> 2] = 3;
            nc(a3);
          }
          return;
        }
        function id(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 348 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function jd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 356 | 0;
          f5 = a3 + 360 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function kd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0;
          e4 = a3 + 356 | 0;
          d3 = a3 + 360 | 0;
          if (!(!(T2(g3[e4 >> 2]) != b4) ? (c2[d3 >> 2] | 0) == 2 : 0)) {
            g3[e4 >> 2] = b4;
            e4 = Sb(b4) | 0;
            c2[d3 >> 2] = e4 ? 3 : 2;
            nc(a3);
          }
          return;
        }
        function ld(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = a3 + 360 | 0;
          if ((c2[b4 >> 2] | 0) != 3) {
            g3[a3 + 356 >> 2] = T2(t2);
            c2[b4 >> 2] = 3;
            nc(a3);
          }
          return;
        }
        function md(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 356 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function nd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 364 | 0;
          f5 = a3 + 368 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function od(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = h3 ? 0 : 2;
          e4 = a3 + 364 | 0;
          f5 = a3 + 368 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function pd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 364 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function qd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 372 | 0;
          f5 = a3 + 376 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function rd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = h3 ? 0 : 2;
          e4 = a3 + 372 | 0;
          f5 = a3 + 376 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function sd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 372 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function td(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 380 | 0;
          f5 = a3 + 384 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function ud(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = h3 ? 0 : 2;
          e4 = a3 + 380 | 0;
          f5 = a3 + 384 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function vd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 380 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function wd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = (h3 ^ 1) & 1;
          e4 = a3 + 388 | 0;
          f5 = a3 + 392 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function xd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0;
          h3 = Sb(b4) | 0;
          d3 = h3 ? 0 : 2;
          e4 = a3 + 388 | 0;
          f5 = a3 + 392 | 0;
          if (!(h3 | T2(g3[e4 >> 2]) == b4 ? (c2[f5 >> 2] | 0) == (d3 | 0) : 0)) {
            g3[e4 >> 2] = b4;
            c2[f5 >> 2] = d3;
            nc(a3);
          }
          return;
        }
        function yd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = b4 + 388 | 0;
          d3 = c2[e4 + 4 >> 2] | 0;
          b4 = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          c2[b4 + 4 >> 2] = d3;
          return;
        }
        function zd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var c3 = 0;
          c3 = a3 + 396 | 0;
          if (T2(g3[c3 >> 2]) != b4) {
            g3[c3 >> 2] = b4;
            nc(a3);
          }
          return;
        }
        function Ad(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 396 >> 2]);
        }
        function Bd(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 400 >> 2]);
        }
        function Cd(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 404 >> 2]);
        }
        function Dd(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 408 >> 2]);
        }
        function Ed(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 412 >> 2]);
        }
        function Fd(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 416 >> 2]);
        }
        function Gd(a3) {
          a3 = a3 | 0;
          return T2(g3[a3 + 420 >> 2]);
        }
        function Hd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          ec(a3, (b4 | 0) < 6, 2918);
          switch (b4 | 0) {
            case 0: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 5 : 4;
              break;
            }
            case 2: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 4 : 5;
              break;
            }
            default: {
            }
          }
          return T2(g3[a3 + 424 + (b4 << 2) >> 2]);
        }
        function Id(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          ec(a3, (b4 | 0) < 6, 2918);
          switch (b4 | 0) {
            case 0: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 5 : 4;
              break;
            }
            case 2: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 4 : 5;
              break;
            }
            default: {
            }
          }
          return T2(g3[a3 + 448 + (b4 << 2) >> 2]);
        }
        function Jd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          ec(a3, (b4 | 0) < 6, 2918);
          switch (b4 | 0) {
            case 0: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 5 : 4;
              break;
            }
            case 2: {
              b4 = (c2[a3 + 496 >> 2] | 0) == 2 ? 4 : 5;
              break;
            }
            default: {
            }
          }
          return T2(g3[a3 + 472 + (b4 << 2) >> 2]);
        }
        function Kd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = ib;
          d3 = c2[a3 + 4 >> 2] | 0;
          if ((d3 | 0) == (c2[b4 + 4 >> 2] | 0)) {
            if (!d3)
              a3 = 1;
            else {
              e4 = T2(g3[a3 >> 2]);
              a3 = T2(C2(T2(e4 - T2(g3[b4 >> 2])))) < T2(999999974e-13);
            }
          } else
            a3 = 0;
          return a3 | 0;
        }
        function Ld(a3, b4) {
          a3 = T2(a3);
          b4 = T2(b4);
          var c3 = 0;
          if (Sb(a3) | 0)
            c3 = Sb(b4) | 0;
          else
            c3 = T2(C2(T2(a3 - b4))) < T2(999999974e-13);
          return c3 | 0;
        }
        function Md(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Nd(a3, b4);
          return;
        }
        function Nd(b4, d3) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 4 | 0;
          c2[f5 >> 2] = 0;
          c2[f5 + 4 >> 2] = 0;
          c2[f5 + 8 >> 2] = 0;
          Ka(f5 | 0, b4 | 0, d3 | 0, 0);
          Vd(b4, 3, (a2[f5 + 11 >> 0] | 0) < 0 ? c2[f5 >> 2] | 0 : f5, e4);
          tC(f5);
          l3 = e4;
          return;
        }
        function Od(a3, b4, c3, d3) {
          a3 = T2(a3);
          b4 = T2(b4);
          c3 = c3 | 0;
          d3 = d3 | 0;
          var e4 = ib;
          a3 = T2(a3 * b4);
          e4 = T2(gC(a3, T2(1)));
          do
            if (!(Ld(e4, T2(0)) | 0)) {
              a3 = T2(a3 - e4);
              if (Ld(e4, T2(1)) | 0) {
                a3 = T2(a3 + T2(1));
                break;
              }
              if (c3) {
                a3 = T2(a3 + T2(1));
                break;
              }
              if (!d3) {
                if (e4 > T2(0.5))
                  e4 = T2(1);
                else {
                  d3 = Ld(e4, T2(0.5)) | 0;
                  e4 = d3 ? T2(1) : T2(0);
                }
                a3 = T2(a3 + e4);
              }
            } else
              a3 = T2(a3 - e4);
          while (0);
          return T2(a3 / b4);
        }
        function Pd(a3, b4, c3, d3, e4, f5, h3, i4, j4, k4, l4, m3, n3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = c3 | 0;
          d3 = T2(d3);
          e4 = e4 | 0;
          f5 = T2(f5);
          h3 = h3 | 0;
          i4 = T2(i4);
          j4 = T2(j4);
          k4 = T2(k4);
          l4 = T2(l4);
          m3 = T2(m3);
          n3 = n3 | 0;
          var o4 = 0, p4 = ib, q3 = ib, r3 = ib, s3 = ib, t3 = ib, u3 = ib;
          if (j4 < T2(0) | k4 < T2(0))
            n3 = 0;
          else {
            if ((n3 | 0) != 0 ? (p4 = T2(g3[n3 + 4 >> 2]), p4 != T2(0)) : 0) {
              r3 = T2(Od(b4, p4, 0, 0));
              s3 = T2(Od(d3, p4, 0, 0));
              q3 = T2(Od(f5, p4, 0, 0));
              p4 = T2(Od(i4, p4, 0, 0));
            } else {
              q3 = f5;
              r3 = b4;
              p4 = i4;
              s3 = d3;
            }
            if ((e4 | 0) == (a3 | 0))
              o4 = Ld(q3, r3) | 0;
            else
              o4 = 0;
            if ((h3 | 0) == (c3 | 0))
              n3 = Ld(p4, s3) | 0;
            else
              n3 = 0;
            if ((!o4 ? (t3 = T2(b4 - l4), !(Qd(a3, t3, j4) | 0)) : 0) ? !(Rd(a3, t3, e4, j4) | 0) : 0)
              o4 = Sd(a3, t3, e4, f5, j4) | 0;
            else
              o4 = 1;
            if ((!n3 ? (u3 = T2(d3 - m3), !(Qd(c3, u3, k4) | 0)) : 0) ? !(Rd(c3, u3, h3, k4) | 0) : 0)
              n3 = Sd(c3, u3, h3, i4, k4) | 0;
            else
              n3 = 1;
            n3 = o4 & n3;
          }
          return n3 | 0;
        }
        function Qd(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = T2(c3);
          if ((a3 | 0) == 1)
            a3 = Ld(b4, c3) | 0;
          else
            a3 = 0;
          return a3 | 0;
        }
        function Rd(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = c3 | 0;
          d3 = T2(d3);
          if ((a3 | 0) == 2 & (c3 | 0) == 0) {
            if (!(b4 >= d3))
              a3 = Ld(b4, d3) | 0;
            else
              a3 = 1;
          } else
            a3 = 0;
          return a3 | 0;
        }
        function Sd(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = c3 | 0;
          d3 = T2(d3);
          e4 = T2(e4);
          if ((a3 | 0) == 2 & (c3 | 0) == 2 & d3 > b4) {
            if (!(e4 <= b4))
              a3 = Ld(b4, e4) | 0;
            else
              a3 = 1;
          } else
            a3 = 0;
          return a3 | 0;
        }
        function Td(b4, d3, e4, f5, i4, j4, k4, m3, n3, o4, p4) {
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = T2(e4);
          f5 = f5 | 0;
          i4 = i4 | 0;
          j4 = j4 | 0;
          k4 = T2(k4);
          m3 = T2(m3);
          n3 = n3 | 0;
          o4 = o4 | 0;
          p4 = p4 | 0;
          var q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = ib, v3 = ib, w4 = 0, x3 = 0, y3 = 0, z3 = 0, A3 = 0, B3 = 0, C3 = 0, D3 = 0, E3 = 0, F3 = 0, G3 = 0, H4 = ib, I3 = ib, J3 = ib, K3 = 0, L3 = 0;
          G3 = l3;
          l3 = l3 + 160 | 0;
          D3 = G3 + 152 | 0;
          C3 = G3 + 120 | 0;
          B3 = G3 + 104 | 0;
          y3 = G3 + 72 | 0;
          t3 = G3 + 56 | 0;
          A3 = G3 + 8 | 0;
          x3 = G3;
          z3 = (c2[2279] | 0) + 1 | 0;
          c2[2279] = z3;
          E3 = b4 + 984 | 0;
          if ((a2[E3 >> 0] | 0) != 0 ? (c2[b4 + 512 >> 2] | 0) != (c2[2278] | 0) : 0)
            w4 = 4;
          else if ((c2[b4 + 516 >> 2] | 0) == (f5 | 0))
            F3 = 0;
          else
            w4 = 4;
          if ((w4 | 0) == 4) {
            c2[b4 + 520 >> 2] = 0;
            c2[b4 + 924 >> 2] = -1;
            c2[b4 + 928 >> 2] = -1;
            g3[b4 + 932 >> 2] = T2(-1);
            g3[b4 + 936 >> 2] = T2(-1);
            F3 = 1;
          }
          a:
            do
              if (!(c2[b4 + 964 >> 2] | 0)) {
                if (n3) {
                  q3 = b4 + 916 | 0;
                  if (!(Ld(T2(g3[q3 >> 2]), d3) | 0)) {
                    w4 = 21;
                    break;
                  }
                  if (!(Ld(T2(g3[b4 + 920 >> 2]), e4) | 0)) {
                    w4 = 21;
                    break;
                  }
                  if ((c2[b4 + 924 >> 2] | 0) != (i4 | 0)) {
                    w4 = 21;
                    break;
                  }
                  q3 = (c2[b4 + 928 >> 2] | 0) == (j4 | 0) ? q3 : 0;
                  w4 = 22;
                  break;
                }
                s3 = c2[b4 + 520 >> 2] | 0;
                if (!s3)
                  w4 = 21;
                else {
                  r3 = 0;
                  while (1) {
                    q3 = b4 + 524 + (r3 * 24 | 0) | 0;
                    if (((Ld(T2(g3[q3 >> 2]), d3) | 0 ? Ld(T2(g3[b4 + 524 + (r3 * 24 | 0) + 4 >> 2]), e4) | 0 : 0) ? (c2[b4 + 524 + (r3 * 24 | 0) + 8 >> 2] | 0) == (i4 | 0) : 0) ? (c2[b4 + 524 + (r3 * 24 | 0) + 12 >> 2] | 0) == (j4 | 0) : 0) {
                      w4 = 22;
                      break a;
                    }
                    r3 = r3 + 1 | 0;
                    if (r3 >>> 0 >= s3 >>> 0) {
                      w4 = 21;
                      break;
                    }
                  }
                }
              } else {
                u3 = T2(Ud(b4, 2, k4));
                v3 = T2(Ud(b4, 0, k4));
                q3 = b4 + 916 | 0;
                J3 = T2(g3[q3 >> 2]);
                I3 = T2(g3[b4 + 920 >> 2]);
                H4 = T2(g3[b4 + 932 >> 2]);
                if (!(Pd(i4, d3, j4, e4, c2[b4 + 924 >> 2] | 0, J3, c2[b4 + 928 >> 2] | 0, I3, H4, T2(g3[b4 + 936 >> 2]), u3, v3, p4) | 0)) {
                  s3 = c2[b4 + 520 >> 2] | 0;
                  if (!s3)
                    w4 = 21;
                  else {
                    r3 = 0;
                    while (1) {
                      q3 = b4 + 524 + (r3 * 24 | 0) | 0;
                      H4 = T2(g3[q3 >> 2]);
                      I3 = T2(g3[b4 + 524 + (r3 * 24 | 0) + 4 >> 2]);
                      J3 = T2(g3[b4 + 524 + (r3 * 24 | 0) + 16 >> 2]);
                      if (Pd(i4, d3, j4, e4, c2[b4 + 524 + (r3 * 24 | 0) + 8 >> 2] | 0, H4, c2[b4 + 524 + (r3 * 24 | 0) + 12 >> 2] | 0, I3, J3, T2(g3[b4 + 524 + (r3 * 24 | 0) + 20 >> 2]), u3, v3, p4) | 0) {
                        w4 = 22;
                        break a;
                      }
                      r3 = r3 + 1 | 0;
                      if (r3 >>> 0 >= s3 >>> 0) {
                        w4 = 21;
                        break;
                      }
                    }
                  }
                } else
                  w4 = 22;
              }
            while (0);
          do
            if ((w4 | 0) == 21) {
              if (!(a2[11697] | 0)) {
                q3 = 0;
                w4 = 31;
              } else {
                q3 = 0;
                w4 = 28;
              }
            } else if ((w4 | 0) == 22) {
              r3 = (a2[11697] | 0) != 0;
              if (!((q3 | 0) != 0 & (F3 ^ 1)))
                if (r3) {
                  w4 = 28;
                  break;
                } else {
                  w4 = 31;
                  break;
                }
              t3 = q3 + 16 | 0;
              c2[b4 + 908 >> 2] = c2[t3 >> 2];
              s3 = q3 + 20 | 0;
              c2[b4 + 912 >> 2] = c2[s3 >> 2];
              if (!((a2[11698] | 0) == 0 | r3 ^ 1)) {
                c2[x3 >> 2] = Wd(z3) | 0;
                c2[x3 + 4 >> 2] = z3;
                Vd(b4, 4, 2972, x3);
                r3 = c2[b4 + 972 >> 2] | 0;
                if (r3 | 0)
                  nb[r3 & 127](b4);
                i4 = Xd(i4, n3) | 0;
                j4 = Xd(j4, n3) | 0;
                L3 = +T2(g3[t3 >> 2]);
                K3 = +T2(g3[s3 >> 2]);
                c2[A3 >> 2] = i4;
                c2[A3 + 4 >> 2] = j4;
                h2[A3 + 8 >> 3] = +d3;
                h2[A3 + 16 >> 3] = +e4;
                h2[A3 + 24 >> 3] = L3;
                h2[A3 + 32 >> 3] = K3;
                c2[A3 + 40 >> 2] = o4;
                Vd(b4, 4, 2989, A3);
              }
            }
          while (0);
          if ((w4 | 0) == 28) {
            r3 = Wd(z3) | 0;
            c2[t3 >> 2] = r3;
            c2[t3 + 4 >> 2] = z3;
            c2[t3 + 8 >> 2] = F3 ? 3047 : 11699;
            Vd(b4, 4, 3038, t3);
            r3 = c2[b4 + 972 >> 2] | 0;
            if (r3 | 0)
              nb[r3 & 127](b4);
            A3 = Xd(i4, n3) | 0;
            w4 = Xd(j4, n3) | 0;
            c2[y3 >> 2] = A3;
            c2[y3 + 4 >> 2] = w4;
            h2[y3 + 8 >> 3] = +d3;
            h2[y3 + 16 >> 3] = +e4;
            c2[y3 + 24 >> 2] = o4;
            Vd(b4, 4, 3049, y3);
            w4 = 31;
          }
          if ((w4 | 0) == 31) {
            Yd(b4, d3, e4, f5, i4, j4, k4, m3, n3, p4);
            if (a2[11697] | 0) {
              r3 = c2[2279] | 0;
              A3 = Wd(r3) | 0;
              c2[B3 >> 2] = A3;
              c2[B3 + 4 >> 2] = r3;
              c2[B3 + 8 >> 2] = F3 ? 3047 : 11699;
              Vd(b4, 4, 3083, B3);
              r3 = c2[b4 + 972 >> 2] | 0;
              if (r3 | 0)
                nb[r3 & 127](b4);
              A3 = Xd(i4, n3) | 0;
              B3 = Xd(j4, n3) | 0;
              K3 = +T2(g3[b4 + 908 >> 2]);
              L3 = +T2(g3[b4 + 912 >> 2]);
              c2[C3 >> 2] = A3;
              c2[C3 + 4 >> 2] = B3;
              h2[C3 + 8 >> 3] = K3;
              h2[C3 + 16 >> 3] = L3;
              c2[C3 + 24 >> 2] = o4;
              Vd(b4, 4, 3092, C3);
            }
            c2[b4 + 516 >> 2] = f5;
            if (!q3) {
              r3 = b4 + 520 | 0;
              q3 = c2[r3 >> 2] | 0;
              if ((q3 | 0) == 16) {
                if (a2[11697] | 0)
                  Vd(b4, 4, 3124, D3);
                c2[r3 >> 2] = 0;
                q3 = 0;
              }
              if (n3)
                q3 = b4 + 916 | 0;
              else {
                c2[r3 >> 2] = q3 + 1;
                q3 = b4 + 524 + (q3 * 24 | 0) | 0;
              }
              g3[q3 >> 2] = d3;
              g3[q3 + 4 >> 2] = e4;
              c2[q3 + 8 >> 2] = i4;
              c2[q3 + 12 >> 2] = j4;
              c2[q3 + 16 >> 2] = c2[b4 + 908 >> 2];
              c2[q3 + 20 >> 2] = c2[b4 + 912 >> 2];
              q3 = 0;
            }
          }
          if (n3) {
            c2[b4 + 416 >> 2] = c2[b4 + 908 >> 2];
            c2[b4 + 420 >> 2] = c2[b4 + 912 >> 2];
            a2[b4 + 985 >> 0] = 1;
            a2[E3 >> 0] = 0;
          }
          c2[2279] = (c2[2279] | 0) + -1;
          c2[b4 + 512 >> 2] = c2[2278];
          l3 = G3;
          return F3 | (q3 | 0) == 0 | 0;
        }
        function Ud(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          var d3 = ib;
          d3 = T2(me(a3, b4, c3));
          return T2(d3 + T2(ne(a3, b4, c3)));
        }
        function Vd(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          c2[f5 >> 2] = e4;
          if (!a3)
            e4 = 0;
          else
            e4 = c2[a3 + 976 >> 2] | 0;
          ge(e4, a3, b4, d3, f5);
          l3 = g4;
          return;
        }
        function Wd(a3) {
          a3 = a3 | 0;
          return (a3 >>> 0 > 60 ? 3201 : 3201 + (60 - a3) | 0) | 0;
        }
        function Xd(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          d3 = f5 + 12 | 0;
          e4 = f5;
          c2[d3 >> 2] = c2[254];
          c2[d3 + 4 >> 2] = c2[255];
          c2[d3 + 8 >> 2] = c2[256];
          c2[e4 >> 2] = c2[257];
          c2[e4 + 4 >> 2] = c2[258];
          c2[e4 + 8 >> 2] = c2[259];
          if ((a3 | 0) > 2)
            a3 = 11699;
          else
            a3 = c2[(b4 ? e4 : d3) + (a3 << 2) >> 2] | 0;
          l3 = f5;
          return a3 | 0;
        }
        function Yd(b4, e4, f5, h3, i4, k4, m3, n3, o4, p4) {
          b4 = b4 | 0;
          e4 = T2(e4);
          f5 = T2(f5);
          h3 = h3 | 0;
          i4 = i4 | 0;
          k4 = k4 | 0;
          m3 = T2(m3);
          n3 = T2(n3);
          o4 = o4 | 0;
          p4 = p4 | 0;
          var q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = ib, v3 = ib, w4 = ib, x3 = ib, y3 = ib, z3 = ib, A3 = ib, B3 = 0, C3 = 0, D3 = 0, E3 = ib, F3 = ib, G3 = 0, H4 = ib, I3 = 0, J3 = 0, K3 = 0, L3 = 0, M4 = 0, N4 = 0, O2 = 0, P2 = 0, Q3 = 0, R3 = 0, S4 = 0, U3 = 0, V3 = 0, W3 = 0, X3 = 0, Y3 = 0, Z3 = 0, _3 = 0, $4 = ib, aa2 = ib, ba2 = ib, ca2 = ib, da2 = ib, ea2 = 0, fa2 = 0, ga2 = 0, ha2 = 0, ia2 = 0, ja2 = ib, ka2 = ib, la2 = ib, ma2 = ib, na2 = ib, oa2 = ib, pa2 = 0, qa2 = ib, ra2 = ib, sa2 = ib, ta2 = ib, ua2 = ib, va2 = ib, wa2 = 0, xa2 = 0, ya2 = ib, za2 = ib, Aa2 = 0, Ba2 = 0, Ca2 = 0, Da2 = 0, Ea2 = ib, Fa2 = 0, Ga2 = 0, Ha2 = 0, Ia2 = 0, Ja2 = 0, Ka2 = 0, La2 = 0, Ma2 = ib, Na2 = 0, Oa2 = 0;
          La2 = l3;
          l3 = l3 + 16 | 0;
          ea2 = La2 + 12 | 0;
          fa2 = La2 + 8 | 0;
          ga2 = La2 + 4 | 0;
          ha2 = La2;
          ec(b4, (i4 | 0) == 0 | (Sb(e4) | 0) ^ 1, 3326);
          ec(b4, (k4 | 0) == 0 | (Sb(f5) | 0) ^ 1, 3406);
          Ga2 = qe(b4, h3) | 0;
          c2[b4 + 496 >> 2] = Ga2;
          Ja2 = re(2, Ga2) | 0;
          Ka2 = re(0, Ga2) | 0;
          g3[b4 + 440 >> 2] = T2(me(b4, Ja2, m3));
          g3[b4 + 444 >> 2] = T2(ne(b4, Ja2, m3));
          g3[b4 + 428 >> 2] = T2(me(b4, Ka2, m3));
          g3[b4 + 436 >> 2] = T2(ne(b4, Ka2, m3));
          g3[b4 + 464 >> 2] = T2(se(b4, Ja2));
          g3[b4 + 468 >> 2] = T2(te(b4, Ja2));
          g3[b4 + 452 >> 2] = T2(se(b4, Ka2));
          g3[b4 + 460 >> 2] = T2(te(b4, Ka2));
          g3[b4 + 488 >> 2] = T2(ue(b4, Ja2, m3));
          g3[b4 + 492 >> 2] = T2(ve(b4, Ja2, m3));
          g3[b4 + 476 >> 2] = T2(ue(b4, Ka2, m3));
          g3[b4 + 484 >> 2] = T2(ve(b4, Ka2, m3));
          do
            if (!(c2[b4 + 964 >> 2] | 0)) {
              Ha2 = b4 + 948 | 0;
              Ia2 = (c2[b4 + 952 >> 2] | 0) - (c2[Ha2 >> 2] | 0) >> 2;
              if (!Ia2) {
                xe(b4, e4, f5, i4, k4, m3, n3);
                break;
              }
              if (!o4 ? ye(b4, e4, f5, i4, k4, m3, n3) | 0 : 0)
                break;
              lc(b4);
              Y3 = b4 + 508 | 0;
              a2[Y3 >> 0] = 0;
              Ja2 = re(c2[b4 + 4 >> 2] | 0, Ga2) | 0;
              Ka2 = ze(Ja2, Ga2) | 0;
              Fa2 = oe(Ja2) | 0;
              Z3 = c2[b4 + 8 >> 2] | 0;
              Ba2 = b4 + 28 | 0;
              _3 = (c2[Ba2 >> 2] | 0) != 0;
              ua2 = Fa2 ? m3 : n3;
              ya2 = Fa2 ? n3 : m3;
              $4 = T2(Ae(b4, Ja2, m3));
              aa2 = T2(Be(b4, Ja2, m3));
              u3 = T2(Ae(b4, Ka2, m3));
              va2 = T2(Ce(b4, Ja2, m3));
              za2 = T2(Ce(b4, Ka2, m3));
              D3 = Fa2 ? i4 : k4;
              Aa2 = Fa2 ? k4 : i4;
              Ea2 = Fa2 ? va2 : za2;
              y3 = Fa2 ? za2 : va2;
              ta2 = T2(Ud(b4, 2, m3));
              x3 = T2(Ud(b4, 0, m3));
              v3 = T2(T2(be(b4 + 364 | 0, m3)) - Ea2);
              w4 = T2(T2(be(b4 + 380 | 0, m3)) - Ea2);
              z3 = T2(T2(be(b4 + 372 | 0, n3)) - y3);
              A3 = T2(T2(be(b4 + 388 | 0, n3)) - y3);
              ba2 = Fa2 ? v3 : z3;
              ca2 = Fa2 ? w4 : A3;
              ta2 = T2(e4 - ta2);
              e4 = T2(ta2 - Ea2);
              if (Sb(e4) | 0)
                Ea2 = e4;
              else
                Ea2 = T2(cC(T2(eC(e4, w4)), v3));
              ra2 = T2(f5 - x3);
              e4 = T2(ra2 - y3);
              if (Sb(e4) | 0)
                sa2 = e4;
              else
                sa2 = T2(cC(T2(eC(e4, A3)), z3));
              v3 = Fa2 ? Ea2 : sa2;
              qa2 = Fa2 ? sa2 : Ea2;
              a:
                do
                  if ((D3 | 0) == 1) {
                    h3 = 0;
                    r3 = 0;
                    while (1) {
                      q3 = ac(b4, r3) | 0;
                      if (!h3) {
                        if (T2(Ee(q3)) > T2(0) ? T2(Fe(q3)) > T2(0) : 0)
                          h3 = q3;
                        else
                          h3 = 0;
                      } else if (De(q3) | 0) {
                        t3 = 0;
                        break a;
                      }
                      r3 = r3 + 1 | 0;
                      if (r3 >>> 0 >= Ia2 >>> 0) {
                        t3 = h3;
                        break;
                      }
                    }
                  } else
                    t3 = 0;
                while (0);
              B3 = t3 + 500 | 0;
              C3 = t3 + 504 | 0;
              h3 = 0;
              q3 = 0;
              e4 = T2(0);
              s3 = 0;
              do {
                r3 = c2[(c2[Ha2 >> 2] | 0) + (s3 << 2) >> 2] | 0;
                if ((c2[r3 + 36 >> 2] | 0) == 1) {
                  Ge(r3);
                  a2[r3 + 985 >> 0] = 1;
                  a2[r3 + 984 >> 0] = 0;
                } else {
                  $d(r3);
                  if (o4)
                    ce(r3, qe(r3, Ga2) | 0, v3, qa2, Ea2);
                  do
                    if ((c2[r3 + 24 >> 2] | 0) != 1) {
                      if ((r3 | 0) == (t3 | 0)) {
                        c2[B3 >> 2] = c2[2278];
                        g3[C3 >> 2] = T2(0);
                        break;
                      } else {
                        He(b4, r3, Ea2, i4, sa2, Ea2, sa2, k4, Ga2, p4);
                        break;
                      }
                    } else {
                      if (q3 | 0)
                        c2[q3 + 960 >> 2] = r3;
                      c2[r3 + 960 >> 2] = 0;
                      q3 = r3;
                      h3 = (h3 | 0) == 0 ? r3 : h3;
                    }
                  while (0);
                  oa2 = T2(g3[r3 + 504 >> 2]);
                  e4 = T2(e4 + T2(oa2 + T2(Ud(r3, Ja2, Ea2))));
                }
                s3 = s3 + 1 | 0;
              } while ((s3 | 0) != (Ia2 | 0));
              K3 = e4 > v3;
              pa2 = _3 & ((D3 | 0) == 2 & K3) ? 1 : D3;
              I3 = (Aa2 | 0) == 1;
              M4 = I3 & (o4 ^ 1);
              N4 = (pa2 | 0) == 1;
              O2 = (pa2 | 0) == 2;
              P2 = 976 + (Ja2 << 2) | 0;
              Q3 = (Aa2 | 2 | 0) == 2;
              W3 = I3 & (_3 ^ 1);
              R3 = 1040 + (Ka2 << 2) | 0;
              S4 = 1040 + (Ja2 << 2) | 0;
              U3 = 976 + (Ka2 << 2) | 0;
              V3 = (Aa2 | 0) != 1;
              K3 = _3 & ((D3 | 0) != 0 & K3);
              J3 = b4 + 976 | 0;
              I3 = I3 ^ 1;
              e4 = v3;
              G3 = 0;
              L3 = 0;
              oa2 = T2(0);
              da2 = T2(0);
              while (1) {
                b:
                  do
                    if (G3 >>> 0 < Ia2 >>> 0) {
                      C3 = c2[Ha2 >> 2] | 0;
                      s3 = 0;
                      A3 = T2(0);
                      z3 = T2(0);
                      w4 = T2(0);
                      v3 = T2(0);
                      r3 = 0;
                      q3 = 0;
                      t3 = G3;
                      while (1) {
                        B3 = c2[C3 + (t3 << 2) >> 2] | 0;
                        if ((c2[B3 + 36 >> 2] | 0) != 1 ? (c2[B3 + 940 >> 2] = L3, (c2[B3 + 24 >> 2] | 0) != 1) : 0) {
                          x3 = T2(Ud(B3, Ja2, Ea2));
                          X3 = c2[P2 >> 2] | 0;
                          f5 = T2(be(B3 + 380 + (X3 << 3) | 0, ua2));
                          y3 = T2(g3[B3 + 504 >> 2]);
                          f5 = T2(eC(f5, y3));
                          f5 = T2(cC(T2(be(B3 + 364 + (X3 << 3) | 0, ua2)), f5));
                          if (_3 & (s3 | 0) != 0 & T2(x3 + T2(z3 + f5)) > e4) {
                            k4 = s3;
                            x3 = A3;
                            D3 = t3;
                            break b;
                          }
                          x3 = T2(x3 + f5);
                          f5 = T2(z3 + x3);
                          x3 = T2(A3 + x3);
                          if (De(B3) | 0) {
                            w4 = T2(w4 + T2(Ee(B3)));
                            v3 = T2(v3 - T2(y3 * T2(Fe(B3))));
                          }
                          if (q3 | 0)
                            c2[q3 + 960 >> 2] = B3;
                          c2[B3 + 960 >> 2] = 0;
                          s3 = s3 + 1 | 0;
                          q3 = B3;
                          r3 = (r3 | 0) == 0 ? B3 : r3;
                        } else {
                          x3 = A3;
                          f5 = z3;
                        }
                        t3 = t3 + 1 | 0;
                        if (t3 >>> 0 < Ia2 >>> 0) {
                          A3 = x3;
                          z3 = f5;
                        } else {
                          k4 = s3;
                          D3 = t3;
                          break;
                        }
                      }
                    } else {
                      k4 = 0;
                      x3 = T2(0);
                      w4 = T2(0);
                      v3 = T2(0);
                      r3 = 0;
                      D3 = G3;
                    }
                  while (0);
                X3 = w4 > T2(0) & w4 < T2(1);
                E3 = X3 ? T2(1) : w4;
                X3 = v3 > T2(0) & v3 < T2(1);
                A3 = X3 ? T2(1) : v3;
                do
                  if (!N4) {
                    if (!(x3 < ba2 & ((Sb(ba2) | 0) ^ 1))) {
                      if (!(x3 > ca2 & ((Sb(ca2) | 0) ^ 1))) {
                        if (!(a2[(c2[J3 >> 2] | 0) + 3 >> 0] | 0)) {
                          if (!(E3 == T2(0)) ? !(T2(Ee(b4)) == T2(0)) : 0) {
                            X3 = 53;
                            break;
                          }
                          e4 = x3;
                          X3 = 53;
                        } else
                          X3 = 51;
                      } else {
                        e4 = ca2;
                        X3 = 51;
                      }
                    } else {
                      e4 = ba2;
                      X3 = 51;
                    }
                  } else
                    X3 = 51;
                while (0);
                if ((X3 | 0) == 51) {
                  X3 = 0;
                  if (Sb(e4) | 0)
                    X3 = 53;
                  else {
                    F3 = T2(e4 - x3);
                    H4 = e4;
                  }
                }
                if ((X3 | 0) == 53) {
                  X3 = 0;
                  if (x3 < T2(0)) {
                    F3 = T2(-x3);
                    H4 = e4;
                  } else {
                    F3 = T2(0);
                    H4 = e4;
                  }
                }
                if (!M4 ? (ia2 = (r3 | 0) == 0, !ia2) : 0) {
                  s3 = c2[P2 >> 2] | 0;
                  t3 = F3 < T2(0);
                  y3 = T2(F3 / A3);
                  B3 = F3 > T2(0);
                  z3 = T2(F3 / E3);
                  w4 = T2(0);
                  x3 = T2(0);
                  e4 = T2(0);
                  q3 = r3;
                  do {
                    f5 = T2(be(q3 + 380 + (s3 << 3) | 0, ua2));
                    v3 = T2(be(q3 + 364 + (s3 << 3) | 0, ua2));
                    v3 = T2(eC(f5, T2(cC(v3, T2(g3[q3 + 504 >> 2])))));
                    if (t3) {
                      f5 = T2(v3 * T2(Fe(q3)));
                      if (f5 != T2(-0) ? (Ma2 = T2(v3 - T2(y3 * f5)), ja2 = T2(Ie(q3, Ja2, Ma2, H4, Ea2)), Ma2 != ja2) : 0) {
                        w4 = T2(w4 - T2(ja2 - v3));
                        e4 = T2(e4 + f5);
                      }
                    } else if ((B3 ? (ka2 = T2(Ee(q3)), ka2 != T2(0)) : 0) ? (Ma2 = T2(v3 + T2(z3 * ka2)), la2 = T2(Ie(q3, Ja2, Ma2, H4, Ea2)), Ma2 != la2) : 0) {
                      w4 = T2(w4 - T2(la2 - v3));
                      x3 = T2(x3 - ka2);
                    }
                    q3 = c2[q3 + 960 >> 2] | 0;
                  } while ((q3 | 0) != 0);
                  e4 = T2(A3 + e4);
                  v3 = T2(F3 + w4);
                  if (!ia2) {
                    y3 = T2(E3 + x3);
                    t3 = c2[P2 >> 2] | 0;
                    B3 = v3 < T2(0);
                    C3 = e4 == T2(0);
                    z3 = T2(v3 / e4);
                    s3 = v3 > T2(0);
                    y3 = T2(v3 / y3);
                    e4 = T2(0);
                    do {
                      Ma2 = T2(be(r3 + 380 + (t3 << 3) | 0, ua2));
                      w4 = T2(be(r3 + 364 + (t3 << 3) | 0, ua2));
                      w4 = T2(eC(Ma2, T2(cC(w4, T2(g3[r3 + 504 >> 2])))));
                      if (B3) {
                        Ma2 = T2(w4 * T2(Fe(r3)));
                        v3 = T2(-Ma2);
                        if (Ma2 != T2(-0)) {
                          Ma2 = T2(z3 * v3);
                          v3 = T2(Ie(r3, Ja2, T2(w4 + (C3 ? v3 : Ma2)), H4, Ea2));
                        } else
                          v3 = w4;
                      } else if (s3 ? (ma2 = T2(Ee(r3)), ma2 != T2(0)) : 0)
                        v3 = T2(Ie(r3, Ja2, T2(w4 + T2(y3 * ma2)), H4, Ea2));
                      else
                        v3 = w4;
                      e4 = T2(e4 - T2(v3 - w4));
                      x3 = T2(Ud(r3, Ja2, Ea2));
                      f5 = T2(Ud(r3, Ka2, Ea2));
                      v3 = T2(v3 + x3);
                      g3[fa2 >> 2] = v3;
                      c2[ha2 >> 2] = 1;
                      w4 = T2(g3[r3 + 396 >> 2]);
                      c:
                        do
                          if (Sb(w4) | 0) {
                            q3 = Sb(qa2) | 0;
                            do
                              if (!q3) {
                                if (K3 | (ae(r3, Ka2, qa2) | 0 | I3))
                                  break;
                                if ((Je(b4, r3) | 0) != 4)
                                  break;
                                if ((c2[(Ke(r3, Ka2) | 0) + 4 >> 2] | 0) == 3)
                                  break;
                                if ((c2[(Le(r3, Ka2) | 0) + 4 >> 2] | 0) == 3)
                                  break;
                                g3[ea2 >> 2] = qa2;
                                c2[ga2 >> 2] = 1;
                                break c;
                              }
                            while (0);
                            if (ae(r3, Ka2, qa2) | 0) {
                              q3 = c2[r3 + 992 + (c2[U3 >> 2] << 2) >> 2] | 0;
                              Ma2 = T2(f5 + T2(be(q3, qa2)));
                              g3[ea2 >> 2] = Ma2;
                              q3 = V3 & (c2[q3 + 4 >> 2] | 0) == 2;
                              c2[ga2 >> 2] = ((Sb(Ma2) | 0 | q3) ^ 1) & 1;
                              break;
                            } else {
                              g3[ea2 >> 2] = qa2;
                              c2[ga2 >> 2] = q3 ? 0 : 2;
                              break;
                            }
                          } else {
                            Ma2 = T2(v3 - x3);
                            E3 = T2(Ma2 / w4);
                            Ma2 = T2(w4 * Ma2);
                            c2[ga2 >> 2] = 1;
                            g3[ea2 >> 2] = T2(f5 + (Fa2 ? E3 : Ma2));
                          }
                        while (0);
                      Me(r3, Ja2, H4, Ea2, ha2, fa2);
                      Me(r3, Ka2, qa2, Ea2, ga2, ea2);
                      do
                        if (!(ae(r3, Ka2, qa2) | 0) ? (Je(b4, r3) | 0) == 4 : 0) {
                          if ((c2[(Ke(r3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                            q3 = 0;
                            break;
                          }
                          q3 = (c2[(Le(r3, Ka2) | 0) + 4 >> 2] | 0) != 3;
                        } else
                          q3 = 0;
                      while (0);
                      Ma2 = T2(g3[fa2 >> 2]);
                      E3 = T2(g3[ea2 >> 2]);
                      Na2 = c2[ha2 >> 2] | 0;
                      Oa2 = c2[ga2 >> 2] | 0;
                      Td(r3, Fa2 ? Ma2 : E3, Fa2 ? E3 : Ma2, Ga2, Fa2 ? Na2 : Oa2, Fa2 ? Oa2 : Na2, Ea2, sa2, o4 & (q3 ^ 1), 3488, p4) | 0;
                      a2[Y3 >> 0] = a2[Y3 >> 0] | a2[r3 + 508 >> 0];
                      r3 = c2[r3 + 960 >> 2] | 0;
                    } while ((r3 | 0) != 0);
                  } else
                    e4 = T2(0);
                } else
                  e4 = T2(0);
                e4 = T2(F3 + e4);
                Oa2 = e4 < T2(0) & 1;
                a2[Y3 >> 0] = Oa2 | d2[Y3 >> 0];
                if (O2 & e4 > T2(0)) {
                  q3 = c2[P2 >> 2] | 0;
                  if ((c2[b4 + 364 + (q3 << 3) + 4 >> 2] | 0) != 0 ? (na2 = T2(be(b4 + 364 + (q3 << 3) | 0, ua2)), na2 >= T2(0)) : 0)
                    v3 = T2(cC(T2(0), T2(na2 - T2(H4 - e4))));
                  else
                    v3 = T2(0);
                } else
                  v3 = e4;
                B3 = G3 >>> 0 < D3 >>> 0;
                if (B3) {
                  t3 = c2[Ha2 >> 2] | 0;
                  s3 = G3;
                  q3 = 0;
                  do {
                    r3 = c2[t3 + (s3 << 2) >> 2] | 0;
                    if (!(c2[r3 + 24 >> 2] | 0)) {
                      q3 = ((c2[(Ke(r3, Ja2) | 0) + 4 >> 2] | 0) == 3 & 1) + q3 | 0;
                      q3 = q3 + ((c2[(Le(r3, Ja2) | 0) + 4 >> 2] | 0) == 3 & 1) | 0;
                    }
                    s3 = s3 + 1 | 0;
                  } while ((s3 | 0) != (D3 | 0));
                  if (q3) {
                    x3 = T2(0);
                    f5 = T2(0);
                  } else
                    X3 = 101;
                } else
                  X3 = 101;
                d:
                  do
                    if ((X3 | 0) == 101) {
                      X3 = 0;
                      switch (Z3 | 0) {
                        case 1: {
                          q3 = 0;
                          x3 = T2(v3 * T2(0.5));
                          f5 = T2(0);
                          break d;
                        }
                        case 2: {
                          q3 = 0;
                          x3 = v3;
                          f5 = T2(0);
                          break d;
                        }
                        case 3: {
                          if (k4 >>> 0 <= 1) {
                            q3 = 0;
                            x3 = T2(0);
                            f5 = T2(0);
                            break d;
                          }
                          f5 = T2((k4 + -1 | 0) >>> 0);
                          q3 = 0;
                          x3 = T2(0);
                          f5 = T2(T2(cC(v3, T2(0))) / f5);
                          break d;
                        }
                        case 5: {
                          f5 = T2(v3 / T2((k4 + 1 | 0) >>> 0));
                          q3 = 0;
                          x3 = f5;
                          break d;
                        }
                        case 4: {
                          f5 = T2(v3 / T2(k4 >>> 0));
                          q3 = 0;
                          x3 = T2(f5 * T2(0.5));
                          break d;
                        }
                        default: {
                          q3 = 0;
                          x3 = T2(0);
                          f5 = T2(0);
                          break d;
                        }
                      }
                    }
                  while (0);
                e4 = T2($4 + x3);
                if (B3) {
                  w4 = T2(v3 / T2(q3 | 0));
                  s3 = c2[Ha2 >> 2] | 0;
                  r3 = G3;
                  v3 = T2(0);
                  do {
                    q3 = c2[s3 + (r3 << 2) >> 2] | 0;
                    e:
                      do
                        if ((c2[q3 + 36 >> 2] | 0) != 1) {
                          switch (c2[q3 + 24 >> 2] | 0) {
                            case 1: {
                              if (Ne(q3, Ja2) | 0) {
                                if (!o4)
                                  break e;
                                Ma2 = T2(Oe(q3, Ja2, H4));
                                Ma2 = T2(Ma2 + T2(se(b4, Ja2)));
                                Ma2 = T2(Ma2 + T2(me(q3, Ja2, Ea2)));
                                g3[q3 + 400 + (c2[S4 >> 2] << 2) >> 2] = Ma2;
                                break e;
                              }
                              break;
                            }
                            case 0: {
                              Oa2 = (c2[(Ke(q3, Ja2) | 0) + 4 >> 2] | 0) == 3;
                              Ma2 = T2(w4 + e4);
                              e4 = Oa2 ? Ma2 : e4;
                              if (o4) {
                                Oa2 = q3 + 400 + (c2[S4 >> 2] << 2) | 0;
                                g3[Oa2 >> 2] = T2(e4 + T2(g3[Oa2 >> 2]));
                              }
                              Oa2 = (c2[(Le(q3, Ja2) | 0) + 4 >> 2] | 0) == 3;
                              Ma2 = T2(w4 + e4);
                              e4 = Oa2 ? Ma2 : e4;
                              if (M4) {
                                Ma2 = T2(f5 + T2(Ud(q3, Ja2, Ea2)));
                                v3 = qa2;
                                e4 = T2(e4 + T2(Ma2 + T2(g3[q3 + 504 >> 2])));
                                break e;
                              } else {
                                e4 = T2(e4 + T2(f5 + T2(Pe(q3, Ja2, Ea2))));
                                v3 = T2(cC(v3, T2(Pe(q3, Ka2, Ea2))));
                                break e;
                              }
                            }
                            default: {
                            }
                          }
                          if (o4) {
                            Ma2 = T2(x3 + T2(se(b4, Ja2)));
                            Oa2 = q3 + 400 + (c2[S4 >> 2] << 2) | 0;
                            g3[Oa2 >> 2] = T2(Ma2 + T2(g3[Oa2 >> 2]));
                          }
                        }
                      while (0);
                    r3 = r3 + 1 | 0;
                  } while ((r3 | 0) != (D3 | 0));
                } else
                  v3 = T2(0);
                f5 = T2(aa2 + e4);
                if (Q3)
                  x3 = T2(T2(Ie(b4, Ka2, T2(za2 + v3), ya2, m3)) - za2);
                else
                  x3 = qa2;
                w4 = T2(T2(Ie(b4, Ka2, T2(za2 + (W3 ? qa2 : v3)), ya2, m3)) - za2);
                if (B3 & o4) {
                  r3 = G3;
                  do {
                    s3 = c2[(c2[Ha2 >> 2] | 0) + (r3 << 2) >> 2] | 0;
                    do
                      if ((c2[s3 + 36 >> 2] | 0) != 1) {
                        if ((c2[s3 + 24 >> 2] | 0) == 1) {
                          if (Ne(s3, Ka2) | 0) {
                            Ma2 = T2(Oe(s3, Ka2, qa2));
                            Ma2 = T2(Ma2 + T2(se(b4, Ka2)));
                            Ma2 = T2(Ma2 + T2(me(s3, Ka2, Ea2)));
                            q3 = c2[R3 >> 2] | 0;
                            g3[s3 + 400 + (q3 << 2) >> 2] = Ma2;
                            if (!(Sb(Ma2) | 0))
                              break;
                          } else
                            q3 = c2[R3 >> 2] | 0;
                          Ma2 = T2(se(b4, Ka2));
                          g3[s3 + 400 + (q3 << 2) >> 2] = T2(Ma2 + T2(me(s3, Ka2, Ea2)));
                          break;
                        }
                        q3 = Je(b4, s3) | 0;
                        do
                          if ((q3 | 0) == 4) {
                            if ((c2[(Ke(s3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                              X3 = 139;
                              break;
                            }
                            if ((c2[(Le(s3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                              X3 = 139;
                              break;
                            }
                            if (ae(s3, Ka2, qa2) | 0) {
                              e4 = u3;
                              break;
                            }
                            Na2 = c2[s3 + 908 + (c2[P2 >> 2] << 2) >> 2] | 0;
                            c2[ea2 >> 2] = Na2;
                            e4 = T2(g3[s3 + 396 >> 2]);
                            Oa2 = Sb(e4) | 0;
                            v3 = (c2[j3 >> 2] = Na2, T2(g3[j3 >> 2]));
                            if (Oa2)
                              e4 = w4;
                            else {
                              F3 = T2(Ud(s3, Ka2, Ea2));
                              Ma2 = T2(v3 / e4);
                              e4 = T2(e4 * v3);
                              e4 = T2(F3 + (Fa2 ? Ma2 : e4));
                            }
                            g3[fa2 >> 2] = e4;
                            g3[ea2 >> 2] = T2(T2(Ud(s3, Ja2, Ea2)) + v3);
                            c2[ga2 >> 2] = 1;
                            c2[ha2 >> 2] = 1;
                            Me(s3, Ja2, H4, Ea2, ga2, ea2);
                            Me(s3, Ka2, qa2, Ea2, ha2, fa2);
                            e4 = T2(g3[ea2 >> 2]);
                            F3 = T2(g3[fa2 >> 2]);
                            Ma2 = Fa2 ? e4 : F3;
                            e4 = Fa2 ? F3 : e4;
                            Oa2 = ((Sb(Ma2) | 0) ^ 1) & 1;
                            Td(s3, Ma2, e4, Ga2, Oa2, ((Sb(e4) | 0) ^ 1) & 1, Ea2, sa2, 1, 3493, p4) | 0;
                            e4 = u3;
                          } else
                            X3 = 139;
                        while (0);
                        f:
                          do
                            if ((X3 | 0) == 139) {
                              X3 = 0;
                              e4 = T2(x3 - T2(Pe(s3, Ka2, Ea2)));
                              do
                                if ((c2[(Ke(s3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                                  if ((c2[(Le(s3, Ka2) | 0) + 4 >> 2] | 0) != 3)
                                    break;
                                  e4 = T2(u3 + T2(cC(T2(0), T2(e4 * T2(0.5)))));
                                  break f;
                                }
                              while (0);
                              if ((c2[(Le(s3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                                e4 = u3;
                                break;
                              }
                              if ((c2[(Ke(s3, Ka2) | 0) + 4 >> 2] | 0) == 3) {
                                e4 = T2(u3 + T2(cC(T2(0), e4)));
                                break;
                              }
                              switch (q3 | 0) {
                                case 1: {
                                  e4 = u3;
                                  break f;
                                }
                                case 2: {
                                  e4 = T2(u3 + T2(e4 * T2(0.5)));
                                  break f;
                                }
                                default: {
                                  e4 = T2(u3 + e4);
                                  break f;
                                }
                              }
                            }
                          while (0);
                        Ma2 = T2(oa2 + e4);
                        Oa2 = s3 + 400 + (c2[R3 >> 2] << 2) | 0;
                        g3[Oa2 >> 2] = T2(Ma2 + T2(g3[Oa2 >> 2]));
                      }
                    while (0);
                    r3 = r3 + 1 | 0;
                  } while ((r3 | 0) != (D3 | 0));
                }
                oa2 = T2(oa2 + w4);
                da2 = T2(cC(da2, f5));
                k4 = L3 + 1 | 0;
                if (D3 >>> 0 >= Ia2 >>> 0)
                  break;
                else {
                  e4 = H4;
                  G3 = D3;
                  L3 = k4;
                }
              }
              do
                if (o4) {
                  q3 = k4 >>> 0 > 1;
                  if (!q3 ? !(Qe(b4) | 0) : 0)
                    break;
                  if (!(Sb(qa2) | 0)) {
                    e4 = T2(qa2 - oa2);
                    g:
                      do
                        switch (c2[b4 + 12 >> 2] | 0) {
                          case 3: {
                            u3 = T2(u3 + e4);
                            z3 = T2(0);
                            break;
                          }
                          case 2: {
                            u3 = T2(u3 + T2(e4 * T2(0.5)));
                            z3 = T2(0);
                            break;
                          }
                          case 4: {
                            if (qa2 > oa2)
                              z3 = T2(e4 / T2(k4 >>> 0));
                            else
                              z3 = T2(0);
                            break;
                          }
                          case 7:
                            if (qa2 > oa2) {
                              u3 = T2(u3 + T2(e4 / T2(k4 << 1 >>> 0)));
                              z3 = T2(e4 / T2(k4 >>> 0));
                              z3 = q3 ? z3 : T2(0);
                              break g;
                            } else {
                              u3 = T2(u3 + T2(e4 * T2(0.5)));
                              z3 = T2(0);
                              break g;
                            }
                          case 6: {
                            z3 = T2(e4 / T2(L3 >>> 0));
                            z3 = qa2 > oa2 & q3 ? z3 : T2(0);
                            break;
                          }
                          default:
                            z3 = T2(0);
                        }
                      while (0);
                    if (k4 | 0) {
                      B3 = 1040 + (Ka2 << 2) | 0;
                      C3 = 976 + (Ka2 << 2) | 0;
                      t3 = 0;
                      r3 = 0;
                      while (1) {
                        h:
                          do
                            if (r3 >>> 0 < Ia2 >>> 0) {
                              v3 = T2(0);
                              w4 = T2(0);
                              e4 = T2(0);
                              s3 = r3;
                              while (1) {
                                q3 = c2[(c2[Ha2 >> 2] | 0) + (s3 << 2) >> 2] | 0;
                                do
                                  if ((c2[q3 + 36 >> 2] | 0) != 1 ? (c2[q3 + 24 >> 2] | 0) == 0 : 0) {
                                    if ((c2[q3 + 940 >> 2] | 0) != (t3 | 0))
                                      break h;
                                    if (Re(q3, Ka2) | 0) {
                                      Ma2 = T2(g3[q3 + 908 + (c2[C3 >> 2] << 2) >> 2]);
                                      e4 = T2(cC(e4, T2(Ma2 + T2(Ud(q3, Ka2, Ea2)))));
                                    }
                                    if ((Je(b4, q3) | 0) != 5)
                                      break;
                                    na2 = T2(Se(q3));
                                    na2 = T2(na2 + T2(me(q3, 0, Ea2)));
                                    Ma2 = T2(g3[q3 + 912 >> 2]);
                                    Ma2 = T2(T2(Ma2 + T2(Ud(q3, 0, Ea2))) - na2);
                                    na2 = T2(cC(w4, na2));
                                    Ma2 = T2(cC(v3, Ma2));
                                    v3 = Ma2;
                                    w4 = na2;
                                    e4 = T2(cC(e4, T2(na2 + Ma2)));
                                  }
                                while (0);
                                q3 = s3 + 1 | 0;
                                if (q3 >>> 0 < Ia2 >>> 0)
                                  s3 = q3;
                                else {
                                  s3 = q3;
                                  break;
                                }
                              }
                            } else {
                              w4 = T2(0);
                              e4 = T2(0);
                              s3 = r3;
                            }
                          while (0);
                        y3 = T2(z3 + e4);
                        f5 = u3;
                        u3 = T2(u3 + y3);
                        if (r3 >>> 0 < s3 >>> 0) {
                          x3 = T2(f5 + w4);
                          q3 = r3;
                          do {
                            r3 = c2[(c2[Ha2 >> 2] | 0) + (q3 << 2) >> 2] | 0;
                            i:
                              do
                                if ((c2[r3 + 36 >> 2] | 0) != 1 ? (c2[r3 + 24 >> 2] | 0) == 0 : 0)
                                  switch (Je(b4, r3) | 0) {
                                    case 1: {
                                      Ma2 = T2(f5 + T2(me(r3, Ka2, Ea2)));
                                      g3[r3 + 400 + (c2[B3 >> 2] << 2) >> 2] = Ma2;
                                      break i;
                                    }
                                    case 3: {
                                      Ma2 = T2(T2(u3 - T2(ne(r3, Ka2, Ea2))) - T2(g3[r3 + 908 + (c2[C3 >> 2] << 2) >> 2]));
                                      g3[r3 + 400 + (c2[B3 >> 2] << 2) >> 2] = Ma2;
                                      break i;
                                    }
                                    case 2: {
                                      Ma2 = T2(f5 + T2(T2(y3 - T2(g3[r3 + 908 + (c2[C3 >> 2] << 2) >> 2])) * T2(0.5)));
                                      g3[r3 + 400 + (c2[B3 >> 2] << 2) >> 2] = Ma2;
                                      break i;
                                    }
                                    case 4: {
                                      Ma2 = T2(f5 + T2(me(r3, Ka2, Ea2)));
                                      g3[r3 + 400 + (c2[B3 >> 2] << 2) >> 2] = Ma2;
                                      if (ae(r3, Ka2, qa2) | 0)
                                        break i;
                                      if (Fa2) {
                                        v3 = T2(g3[r3 + 908 >> 2]);
                                        e4 = T2(v3 + T2(Ud(r3, Ja2, Ea2)));
                                        w4 = y3;
                                      } else {
                                        w4 = T2(g3[r3 + 912 >> 2]);
                                        w4 = T2(w4 + T2(Ud(r3, Ka2, Ea2)));
                                        e4 = y3;
                                        v3 = T2(g3[r3 + 908 >> 2]);
                                      }
                                      if (Ld(e4, v3) | 0 ? Ld(w4, T2(g3[r3 + 912 >> 2])) | 0 : 0)
                                        break i;
                                      Td(r3, e4, w4, Ga2, 1, 1, Ea2, sa2, 1, 3501, p4) | 0;
                                      break i;
                                    }
                                    case 5: {
                                      g3[r3 + 404 >> 2] = T2(T2(x3 - T2(Se(r3))) + T2(Oe(r3, 0, qa2)));
                                      break i;
                                    }
                                    default:
                                      break i;
                                  }
                              while (0);
                            q3 = q3 + 1 | 0;
                          } while ((q3 | 0) != (s3 | 0));
                        }
                        t3 = t3 + 1 | 0;
                        if ((t3 | 0) == (k4 | 0))
                          break;
                        else
                          r3 = s3;
                      }
                    }
                  }
                }
              while (0);
              g3[b4 + 908 >> 2] = T2(Ie(b4, 2, ta2, m3, m3));
              g3[b4 + 912 >> 2] = T2(Ie(b4, 0, ra2, n3, m3));
              if ((pa2 | 0) != 0 ? (wa2 = c2[b4 + 32 >> 2] | 0, xa2 = (pa2 | 0) == 2, !(xa2 & (wa2 | 0) != 2)) : 0) {
                if (xa2 & (wa2 | 0) == 2) {
                  e4 = T2(va2 + H4);
                  e4 = T2(cC(T2(eC(e4, T2(Te(b4, Ja2, da2, ua2)))), va2));
                  X3 = 198;
                }
              } else {
                e4 = T2(Ie(b4, Ja2, da2, ua2, m3));
                X3 = 198;
              }
              if ((X3 | 0) == 198)
                g3[b4 + 908 + (c2[976 + (Ja2 << 2) >> 2] << 2) >> 2] = e4;
              if ((Aa2 | 0) != 0 ? (Ca2 = c2[b4 + 32 >> 2] | 0, Da2 = (Aa2 | 0) == 2, !(Da2 & (Ca2 | 0) != 2)) : 0) {
                if (Da2 & (Ca2 | 0) == 2) {
                  e4 = T2(za2 + qa2);
                  e4 = T2(cC(T2(eC(e4, T2(Te(b4, Ka2, T2(za2 + oa2), ya2)))), za2));
                  X3 = 204;
                }
              } else {
                e4 = T2(Ie(b4, Ka2, T2(za2 + oa2), ya2, m3));
                X3 = 204;
              }
              if ((X3 | 0) == 204)
                g3[b4 + 908 + (c2[976 + (Ka2 << 2) >> 2] << 2) >> 2] = e4;
              if (o4) {
                if ((c2[Ba2 >> 2] | 0) == 2) {
                  r3 = 976 + (Ka2 << 2) | 0;
                  s3 = 1040 + (Ka2 << 2) | 0;
                  q3 = 0;
                  do {
                    t3 = ac(b4, q3) | 0;
                    if (!(c2[t3 + 24 >> 2] | 0)) {
                      Na2 = c2[r3 >> 2] | 0;
                      Ma2 = T2(g3[b4 + 908 + (Na2 << 2) >> 2]);
                      Oa2 = t3 + 400 + (c2[s3 >> 2] << 2) | 0;
                      Ma2 = T2(Ma2 - T2(g3[Oa2 >> 2]));
                      g3[Oa2 >> 2] = T2(Ma2 - T2(g3[t3 + 908 + (Na2 << 2) >> 2]));
                    }
                    q3 = q3 + 1 | 0;
                  } while ((q3 | 0) != (Ia2 | 0));
                }
                if (h3 | 0) {
                  q3 = Fa2 ? pa2 : i4;
                  do {
                    Ue(b4, h3, Ea2, q3, sa2, Ga2, p4);
                    h3 = c2[h3 + 960 >> 2] | 0;
                  } while ((h3 | 0) != 0);
                }
                q3 = (Ja2 | 2 | 0) == 3;
                r3 = (Ka2 | 2 | 0) == 3;
                if (q3 | r3) {
                  h3 = 0;
                  do {
                    s3 = c2[(c2[Ha2 >> 2] | 0) + (h3 << 2) >> 2] | 0;
                    if ((c2[s3 + 36 >> 2] | 0) != 1) {
                      if (q3)
                        Ve(b4, s3, Ja2);
                      if (r3)
                        Ve(b4, s3, Ka2);
                    }
                    h3 = h3 + 1 | 0;
                  } while ((h3 | 0) != (Ia2 | 0));
                }
              }
            } else
              we(b4, e4, f5, i4, k4, m3, n3);
          while (0);
          l3 = La2;
          return;
        }
        function Zd(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          var c3 = 0;
          Vb(a3, b4 >= T2(0), 3147);
          c3 = b4 == T2(0);
          g3[a3 + 4 >> 2] = c3 ? T2(0) : b4;
          return;
        }
        function _d(b4, d3, e4, f5) {
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = T2(e4);
          f5 = f5 | 0;
          var h3 = ib, i4 = ib, j4 = 0, k4 = 0, l4 = 0;
          c2[2278] = (c2[2278] | 0) + 1;
          $d(b4);
          if (!(ae(b4, 2, d3) | 0)) {
            h3 = T2(be(b4 + 380 | 0, d3));
            if (!(h3 >= T2(0))) {
              l4 = ((Sb(d3) | 0) ^ 1) & 1;
              h3 = d3;
            } else
              l4 = 2;
          } else {
            h3 = T2(be(c2[b4 + 992 >> 2] | 0, d3));
            l4 = 1;
            h3 = T2(h3 + T2(Ud(b4, 2, d3)));
          }
          if (!(ae(b4, 0, e4) | 0)) {
            i4 = T2(be(b4 + 388 | 0, e4));
            if (!(i4 >= T2(0))) {
              k4 = ((Sb(e4) | 0) ^ 1) & 1;
              i4 = e4;
            } else
              k4 = 2;
          } else {
            i4 = T2(be(c2[b4 + 996 >> 2] | 0, e4));
            k4 = 1;
            i4 = T2(i4 + T2(Ud(b4, 0, d3)));
          }
          j4 = b4 + 976 | 0;
          if (Td(b4, h3, i4, f5, l4, k4, d3, e4, 1, 3189, c2[j4 >> 2] | 0) | 0 ? (ce(b4, c2[b4 + 496 >> 2] | 0, d3, e4, d3), de(b4, T2(g3[(c2[j4 >> 2] | 0) + 4 >> 2]), T2(0), T2(0)), a2[11696] | 0) : 0)
            Md(b4, 7);
          return;
        }
        function $d(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          h3 = i4 + 24 | 0;
          g4 = i4 + 16 | 0;
          e4 = i4 + 8 | 0;
          f5 = i4;
          d3 = 0;
          do {
            b4 = a3 + 380 + (d3 << 3) | 0;
            if (!((c2[a3 + 380 + (d3 << 3) + 4 >> 2] | 0) != 0 ? (j4 = b4, k4 = c2[j4 + 4 >> 2] | 0, m3 = e4, c2[m3 >> 2] = c2[j4 >> 2], c2[m3 + 4 >> 2] = k4, m3 = a3 + 364 + (d3 << 3) | 0, k4 = c2[m3 + 4 >> 2] | 0, j4 = f5, c2[j4 >> 2] = c2[m3 >> 2], c2[j4 + 4 >> 2] = k4, c2[g4 >> 2] = c2[e4 >> 2], c2[g4 + 4 >> 2] = c2[e4 + 4 >> 2], c2[h3 >> 2] = c2[f5 >> 2], c2[h3 + 4 >> 2] = c2[f5 + 4 >> 2], Kd(g4, h3) | 0) : 0))
              b4 = a3 + 348 + (d3 << 3) | 0;
            c2[a3 + 992 + (d3 << 2) >> 2] = b4;
            d3 = d3 + 1 | 0;
          } while ((d3 | 0) != 2);
          l3 = i4;
          return;
        }
        function ae(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0;
          a3 = c2[a3 + 992 + (c2[976 + (b4 << 2) >> 2] << 2) >> 2] | 0;
          switch (c2[a3 + 4 >> 2] | 0) {
            case 0:
            case 3: {
              a3 = 0;
              break;
            }
            case 1: {
              if (T2(g3[a3 >> 2]) < T2(0))
                a3 = 0;
              else
                e4 = 5;
              break;
            }
            case 2: {
              if (T2(g3[a3 >> 2]) < T2(0))
                a3 = 0;
              else
                a3 = (Sb(d3) | 0) ^ 1;
              break;
            }
            default:
              e4 = 5;
          }
          if ((e4 | 0) == 5)
            a3 = 1;
          return a3 | 0;
        }
        function be(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          switch (c2[a3 + 4 >> 2] | 0) {
            case 2: {
              b4 = T2(T2(T2(g3[a3 >> 2]) * b4) / T2(100));
              break;
            }
            case 1: {
              b4 = T2(g3[a3 >> 2]);
              break;
            }
            default:
              b4 = T2(t2);
          }
          return T2(b4);
        }
        function ce(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = T2(e4);
          f5 = T2(f5);
          var h3 = 0, i4 = ib;
          b4 = c2[a3 + 944 >> 2] | 0 ? b4 : 1;
          h3 = re(c2[a3 + 4 >> 2] | 0, b4) | 0;
          b4 = ze(h3, b4) | 0;
          d3 = T2($e(a3, h3, d3));
          e4 = T2($e(a3, b4, e4));
          i4 = T2(d3 + T2(me(a3, h3, f5)));
          g3[a3 + 400 + (c2[1040 + (h3 << 2) >> 2] << 2) >> 2] = i4;
          d3 = T2(d3 + T2(ne(a3, h3, f5)));
          g3[a3 + 400 + (c2[1e3 + (h3 << 2) >> 2] << 2) >> 2] = d3;
          d3 = T2(e4 + T2(me(a3, b4, f5)));
          g3[a3 + 400 + (c2[1040 + (b4 << 2) >> 2] << 2) >> 2] = d3;
          f5 = T2(e4 + T2(ne(a3, b4, f5)));
          g3[a3 + 400 + (c2[1e3 + (b4 << 2) >> 2] << 2) >> 2] = f5;
          return;
        }
        function de(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          d3 = T2(d3);
          e4 = T2(e4);
          var f5 = 0, h3 = 0, i4 = ib, j4 = ib, k4 = 0, l4 = 0, m3 = ib, n3 = 0, o4 = ib, p4 = ib, q3 = ib, r3 = ib;
          if (!(b4 == T2(0))) {
            f5 = a3 + 400 | 0;
            r3 = T2(g3[f5 >> 2]);
            h3 = a3 + 404 | 0;
            q3 = T2(g3[h3 >> 2]);
            n3 = a3 + 416 | 0;
            p4 = T2(g3[n3 >> 2]);
            l4 = a3 + 420 | 0;
            i4 = T2(g3[l4 >> 2]);
            o4 = T2(r3 + d3);
            m3 = T2(q3 + e4);
            e4 = T2(o4 + p4);
            j4 = T2(m3 + i4);
            k4 = (c2[a3 + 988 >> 2] | 0) == 1;
            g3[f5 >> 2] = T2(Od(r3, b4, 0, k4));
            g3[h3 >> 2] = T2(Od(q3, b4, 0, k4));
            d3 = T2(gC(T2(p4 * b4), T2(1)));
            if (Ld(d3, T2(0)) | 0)
              h3 = 0;
            else
              h3 = (Ld(d3, T2(1)) | 0) ^ 1;
            d3 = T2(gC(T2(i4 * b4), T2(1)));
            if (Ld(d3, T2(0)) | 0)
              f5 = 0;
            else
              f5 = (Ld(d3, T2(1)) | 0) ^ 1;
            r3 = T2(Od(e4, b4, k4 & h3, k4 & (h3 ^ 1)));
            g3[n3 >> 2] = T2(r3 - T2(Od(o4, b4, 0, k4)));
            r3 = T2(Od(j4, b4, k4 & f5, k4 & (f5 ^ 1)));
            g3[l4 >> 2] = T2(r3 - T2(Od(m3, b4, 0, k4)));
            h3 = (c2[a3 + 952 >> 2] | 0) - (c2[a3 + 948 >> 2] | 0) >> 2;
            if (h3 | 0) {
              f5 = 0;
              do {
                de(ac(a3, f5) | 0, b4, o4, m3);
                f5 = f5 + 1 | 0;
              } while ((f5 | 0) != (h3 | 0));
            }
          }
          return;
        }
        function ee(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          switch (d3 | 0) {
            case 5:
            case 0: {
              a3 = CB(c2[489] | 0, e4, f5) | 0;
              break;
            }
            default:
              a3 = iC(e4, f5) | 0;
          }
          return a3 | 0;
        }
        function fe(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5;
          c2[g4 >> 2] = e4;
          ge(a3, 0, b4, d3, g4);
          l3 = f5;
          return;
        }
        function ge(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          a3 = a3 | 0 ? a3 : 956;
          Bb[c2[a3 + 8 >> 2] & 1](a3, b4, d3, e4, f5) | 0;
          if ((d3 | 0) == 5)
            Ta();
          else
            return;
        }
        function he(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          a2[b4 + c3 >> 0] = d3 & 1;
          return;
        }
        function ie(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          c2[a3 >> 2] = 0;
          c2[a3 + 4 >> 2] = 0;
          c2[a3 + 8 >> 2] = 0;
          d3 = b4 + 4 | 0;
          e4 = (c2[d3 >> 2] | 0) - (c2[b4 >> 2] | 0) >> 2;
          if (e4 | 0) {
            je(a3, e4);
            ke(a3, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0, e4);
          }
          return;
        }
        function je(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          if ((le(a3) | 0) >>> 0 < b4 >>> 0)
            jC(a3);
          if (b4 >>> 0 > 1073741823)
            Ta();
          else {
            d3 = qC(b4 << 2) | 0;
            c2[a3 + 4 >> 2] = d3;
            c2[a3 >> 2] = d3;
            c2[a3 + 8 >> 2] = d3 + (b4 << 2);
            return;
          }
        }
        function ke(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          e4 = a3 + 4 | 0;
          a3 = d3 - b4 | 0;
          if ((a3 | 0) > 0) {
            BC(c2[e4 >> 2] | 0, b4 | 0, a3 | 0) | 0;
            c2[e4 >> 2] = (c2[e4 >> 2] | 0) + (a3 >>> 2 << 2);
          }
          return;
        }
        function le(a3) {
          a3 = a3 | 0;
          return 1073741823;
        }
        function me(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          if (oe(b4) | 0 ? (c2[a3 + 96 >> 2] | 0) != 0 : 0)
            a3 = a3 + 92 | 0;
          else
            a3 = Tb(a3 + 60 | 0, c2[1040 + (b4 << 2) >> 2] | 0, 992) | 0;
          return T2(pe(a3, d3));
        }
        function ne(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          if (oe(b4) | 0 ? (c2[a3 + 104 >> 2] | 0) != 0 : 0)
            a3 = a3 + 100 | 0;
          else
            a3 = Tb(a3 + 60 | 0, c2[1e3 + (b4 << 2) >> 2] | 0, 992) | 0;
          return T2(pe(a3, d3));
        }
        function oe(a3) {
          a3 = a3 | 0;
          return (a3 | 1 | 0) == 3 | 0;
        }
        function pe(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          if ((c2[a3 + 4 >> 2] | 0) == 3)
            b4 = T2(0);
          else
            b4 = T2(be(a3, b4));
          return T2(b4);
        }
        function qe(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          a3 = c2[a3 >> 2] | 0;
          return ((a3 | 0) == 0 ? (b4 | 0) > 1 ? b4 : 1 : a3) | 0;
        }
        function re(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0;
          a:
            do
              if ((b4 | 0) == 2) {
                switch (a3 | 0) {
                  case 2: {
                    a3 = 3;
                    break a;
                  }
                  case 3:
                    break;
                  default: {
                    c3 = 4;
                    break a;
                  }
                }
                a3 = 2;
              } else
                c3 = 4;
            while (0);
          return a3 | 0;
        }
        function se(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = ib;
          if (!((oe(b4) | 0 ? (c2[a3 + 312 >> 2] | 0) != 0 : 0) ? (d3 = T2(g3[a3 + 308 >> 2]), d3 >= T2(0)) : 0))
            d3 = T2(cC(T2(g3[(Tb(a3 + 276 | 0, c2[1040 + (b4 << 2) >> 2] | 0, 992) | 0) >> 2]), T2(0)));
          return T2(d3);
        }
        function te(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = ib;
          if (!((oe(b4) | 0 ? (c2[a3 + 320 >> 2] | 0) != 0 : 0) ? (d3 = T2(g3[a3 + 316 >> 2]), d3 >= T2(0)) : 0))
            d3 = T2(cC(T2(g3[(Tb(a3 + 276 | 0, c2[1e3 + (b4 << 2) >> 2] | 0, 992) | 0) >> 2]), T2(0)));
          return T2(d3);
        }
        function ue(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = ib;
          if (!((oe(b4) | 0 ? (c2[a3 + 240 >> 2] | 0) != 0 : 0) ? (e4 = T2(be(a3 + 236 | 0, d3)), e4 >= T2(0)) : 0))
            e4 = T2(cC(T2(be(Tb(a3 + 204 | 0, c2[1040 + (b4 << 2) >> 2] | 0, 992) | 0, d3)), T2(0)));
          return T2(e4);
        }
        function ve(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = ib;
          if (!((oe(b4) | 0 ? (c2[a3 + 248 >> 2] | 0) != 0 : 0) ? (e4 = T2(be(a3 + 244 | 0, d3)), e4 >= T2(0)) : 0))
            e4 = T2(cC(T2(be(Tb(a3 + 204 | 0, c2[1e3 + (b4 << 2) >> 2] | 0, 992) | 0, d3)), T2(0)));
          return T2(e4);
        }
        function we(a3, b4, d3, e4, f5, h3, i4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          d3 = T2(d3);
          e4 = e4 | 0;
          f5 = f5 | 0;
          h3 = T2(h3);
          i4 = T2(i4);
          var j4 = ib, k4 = ib, m3 = ib, n3 = ib, o4 = ib, p4 = ib, q3 = 0, r3 = 0, s3 = 0;
          s3 = l3;
          l3 = l3 + 16 | 0;
          q3 = s3;
          r3 = a3 + 964 | 0;
          ec(a3, (c2[r3 >> 2] | 0) != 0, 3519);
          j4 = T2(Ce(a3, 2, b4));
          k4 = T2(Ce(a3, 0, b4));
          m3 = T2(Ud(a3, 2, b4));
          n3 = T2(Ud(a3, 0, b4));
          if (Sb(b4) | 0)
            o4 = b4;
          else
            o4 = T2(cC(T2(0), T2(T2(b4 - m3) - j4)));
          if (Sb(d3) | 0)
            p4 = d3;
          else
            p4 = T2(cC(T2(0), T2(T2(d3 - n3) - k4)));
          if ((e4 | 0) == 1 & (f5 | 0) == 1) {
            g3[a3 + 908 >> 2] = T2(Ie(a3, 2, T2(b4 - m3), h3, h3));
            b4 = T2(Ie(a3, 0, T2(d3 - n3), i4, h3));
          } else {
            Db[c2[r3 >> 2] & 1](q3, a3, o4, e4, p4, f5);
            o4 = T2(j4 + T2(g3[q3 >> 2]));
            p4 = T2(b4 - m3);
            g3[a3 + 908 >> 2] = T2(Ie(a3, 2, (e4 | 2 | 0) == 2 ? o4 : p4, h3, h3));
            p4 = T2(k4 + T2(g3[q3 + 4 >> 2]));
            b4 = T2(d3 - n3);
            b4 = T2(Ie(a3, 0, (f5 | 2 | 0) == 2 ? p4 : b4, i4, h3));
          }
          g3[a3 + 912 >> 2] = b4;
          l3 = s3;
          return;
        }
        function xe(a3, b4, c3, d3, e4, f5, h3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = T2(c3);
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = T2(f5);
          h3 = T2(h3);
          var i4 = ib, j4 = ib, k4 = ib, l4 = ib;
          k4 = T2(Ce(a3, 2, f5));
          i4 = T2(Ce(a3, 0, f5));
          l4 = T2(Ud(a3, 2, f5));
          j4 = T2(Ud(a3, 0, f5));
          b4 = T2(b4 - l4);
          g3[a3 + 908 >> 2] = T2(Ie(a3, 2, (d3 | 2 | 0) == 2 ? k4 : b4, f5, f5));
          c3 = T2(c3 - j4);
          g3[a3 + 912 >> 2] = T2(Ie(a3, 0, (e4 | 2 | 0) == 2 ? i4 : c3, h3, f5));
          return;
        }
        function ye(a3, b4, c3, d3, e4, f5, h3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = T2(c3);
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = T2(f5);
          h3 = T2(h3);
          var i4 = 0, j4 = ib, k4 = ib;
          i4 = (d3 | 0) == 2;
          if ((!(b4 <= T2(0) & i4) ? !(c3 <= T2(0) & (e4 | 0) == 2) : 0) ? !((d3 | 0) == 1 & (e4 | 0) == 1) : 0)
            a3 = 0;
          else {
            j4 = T2(Ud(a3, 0, f5));
            k4 = T2(Ud(a3, 2, f5));
            i4 = b4 < T2(0) & i4 | (Sb(b4) | 0);
            b4 = T2(b4 - k4);
            g3[a3 + 908 >> 2] = T2(Ie(a3, 2, i4 ? T2(0) : b4, f5, f5));
            b4 = T2(c3 - j4);
            i4 = c3 < T2(0) & (e4 | 0) == 2 | (Sb(c3) | 0);
            g3[a3 + 912 >> 2] = T2(Ie(a3, 0, i4 ? T2(0) : b4, h3, f5));
            a3 = 1;
          }
          return a3 | 0;
        }
        function ze(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (We(a3) | 0)
            a3 = re(2, b4) | 0;
          else
            a3 = 0;
          return a3 | 0;
        }
        function Ae(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          c3 = T2(ue(a3, b4, c3));
          return T2(c3 + T2(se(a3, b4)));
        }
        function Be(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          c3 = T2(ve(a3, b4, c3));
          return T2(c3 + T2(te(a3, b4)));
        }
        function Ce(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          var d3 = ib;
          d3 = T2(Ae(a3, b4, c3));
          return T2(d3 + T2(Be(a3, b4, c3)));
        }
        function De(a3) {
          a3 = a3 | 0;
          if (!(c2[a3 + 24 >> 2] | 0)) {
            if (T2(Ee(a3)) != T2(0))
              a3 = 1;
            else
              a3 = T2(Fe(a3)) != T2(0);
          } else
            a3 = 0;
          return a3 | 0;
        }
        function Ee(a3) {
          a3 = a3 | 0;
          var b4 = ib;
          if (c2[a3 + 944 >> 2] | 0) {
            b4 = T2(g3[a3 + 44 >> 2]);
            if (Sb(b4) | 0) {
              b4 = T2(g3[a3 + 40 >> 2]);
              a3 = b4 > T2(0) & ((Sb(b4) | 0) ^ 1);
              return T2(a3 ? b4 : T2(0));
            }
          } else
            b4 = T2(0);
          return T2(b4);
        }
        function Fe(b4) {
          b4 = b4 | 0;
          var d3 = ib, e4 = 0, f5 = ib;
          do
            if (c2[b4 + 944 >> 2] | 0) {
              d3 = T2(g3[b4 + 48 >> 2]);
              if (Sb(d3) | 0) {
                e4 = a2[(c2[b4 + 976 >> 2] | 0) + 2 >> 0] | 0;
                if (e4 << 24 >> 24 == 0 ? (f5 = T2(g3[b4 + 40 >> 2]), f5 < T2(0) & ((Sb(f5) | 0) ^ 1)) : 0) {
                  d3 = T2(-f5);
                  break;
                }
                d3 = e4 << 24 >> 24 ? T2(1) : T2(0);
              }
            } else
              d3 = T2(0);
          while (0);
          return T2(d3);
        }
        function Ge(b4) {
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          yC(b4 + 400 | 0, 0, 540) | 0;
          a2[b4 + 985 >> 0] = 1;
          lc(b4);
          e4 = $b(b4) | 0;
          if (e4 | 0) {
            d3 = b4 + 948 | 0;
            b4 = 0;
            do {
              Ge(c2[(c2[d3 >> 2] | 0) + (b4 << 2) >> 2] | 0);
              b4 = b4 + 1 | 0;
            } while ((b4 | 0) != (e4 | 0));
          }
          return;
        }
        function He(a3, b4, d3, e4, f5, h3, i4, j4, k4, m3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = e4 | 0;
          f5 = T2(f5);
          h3 = T2(h3);
          i4 = T2(i4);
          j4 = j4 | 0;
          k4 = k4 | 0;
          m3 = m3 | 0;
          var n3 = 0, o4 = ib, p4 = 0, q3 = 0, r3 = ib, s3 = ib, u3 = 0, v3 = ib, w4 = 0, x3 = ib, y3 = 0, z3 = 0, A3 = 0, B3 = 0, C3 = 0, D3 = 0, E3 = 0, F3 = 0, G3 = 0, H4 = 0;
          G3 = l3;
          l3 = l3 + 16 | 0;
          A3 = G3 + 12 | 0;
          B3 = G3 + 8 | 0;
          C3 = G3 + 4 | 0;
          D3 = G3;
          F3 = re(c2[a3 + 4 >> 2] | 0, k4) | 0;
          y3 = oe(F3) | 0;
          o4 = T2(be(Xe(b4) | 0, y3 ? h3 : i4));
          z3 = ae(b4, 2, h3) | 0;
          E3 = ae(b4, 0, i4) | 0;
          do
            if (!(Sb(o4) | 0) ? !(Sb(y3 ? d3 : f5) | 0) : 0) {
              n3 = b4 + 504 | 0;
              if (!(Sb(T2(g3[n3 >> 2])) | 0)) {
                if (!(Ye(c2[b4 + 976 >> 2] | 0, 0) | 0))
                  break;
                if ((c2[b4 + 500 >> 2] | 0) == (c2[2278] | 0))
                  break;
              }
              g3[n3 >> 2] = T2(cC(o4, T2(Ce(b4, F3, h3))));
            } else
              p4 = 7;
          while (0);
          do
            if ((p4 | 0) == 7) {
              w4 = y3 ^ 1;
              if (!(w4 | z3 ^ 1)) {
                i4 = T2(be(c2[b4 + 992 >> 2] | 0, h3));
                g3[b4 + 504 >> 2] = T2(cC(i4, T2(Ce(b4, 2, h3))));
                break;
              }
              if (!(y3 | E3 ^ 1)) {
                i4 = T2(be(c2[b4 + 996 >> 2] | 0, i4));
                g3[b4 + 504 >> 2] = T2(cC(i4, T2(Ce(b4, 0, h3))));
                break;
              }
              g3[A3 >> 2] = T2(t2);
              g3[B3 >> 2] = T2(t2);
              c2[C3 >> 2] = 0;
              c2[D3 >> 2] = 0;
              v3 = T2(Ud(b4, 2, h3));
              x3 = T2(Ud(b4, 0, h3));
              if (z3) {
                r3 = T2(v3 + T2(be(c2[b4 + 992 >> 2] | 0, h3)));
                g3[A3 >> 2] = r3;
                c2[C3 >> 2] = 1;
                q3 = 1;
              } else {
                q3 = 0;
                r3 = T2(t2);
              }
              if (E3) {
                o4 = T2(x3 + T2(be(c2[b4 + 996 >> 2] | 0, i4)));
                g3[B3 >> 2] = o4;
                c2[D3 >> 2] = 1;
                n3 = 1;
              } else {
                n3 = 0;
                o4 = T2(t2);
              }
              p4 = c2[a3 + 32 >> 2] | 0;
              if (!(y3 & (p4 | 0) == 2)) {
                if (Sb(r3) | 0 ? !(Sb(d3) | 0) : 0) {
                  g3[A3 >> 2] = d3;
                  c2[C3 >> 2] = 2;
                  q3 = 2;
                  r3 = d3;
                }
              } else
                p4 = 2;
              if ((!((p4 | 0) == 2 & w4) ? Sb(o4) | 0 : 0) ? !(Sb(f5) | 0) : 0) {
                g3[B3 >> 2] = f5;
                c2[D3 >> 2] = 2;
                n3 = 2;
                o4 = f5;
              }
              s3 = T2(g3[b4 + 396 >> 2]);
              u3 = Sb(s3) | 0;
              do
                if (!u3) {
                  if ((q3 | 0) == 1 & w4) {
                    g3[B3 >> 2] = T2(T2(r3 - v3) / s3);
                    c2[D3 >> 2] = 1;
                    n3 = 1;
                    p4 = 1;
                    break;
                  }
                  if (y3 & (n3 | 0) == 1) {
                    g3[A3 >> 2] = T2(s3 * T2(o4 - x3));
                    c2[C3 >> 2] = 1;
                    n3 = 1;
                    p4 = 1;
                  } else
                    p4 = q3;
                } else
                  p4 = q3;
              while (0);
              H4 = Sb(d3) | 0;
              q3 = (Je(a3, b4) | 0) != 4;
              if (!(y3 | z3 | ((e4 | 0) != 1 | H4) | (q3 | (p4 | 0) == 1)) ? (g3[A3 >> 2] = d3, c2[C3 >> 2] = 1, !u3) : 0) {
                g3[B3 >> 2] = T2(T2(d3 - v3) / s3);
                c2[D3 >> 2] = 1;
                n3 = 1;
              }
              if (!(E3 | w4 | ((j4 | 0) != 1 | (Sb(f5) | 0)) | (q3 | (n3 | 0) == 1)) ? (g3[B3 >> 2] = f5, c2[D3 >> 2] = 1, !u3) : 0) {
                g3[A3 >> 2] = T2(s3 * T2(f5 - x3));
                c2[C3 >> 2] = 1;
              }
              Me(b4, 2, h3, h3, C3, A3);
              Me(b4, 0, i4, h3, D3, B3);
              d3 = T2(g3[A3 >> 2]);
              f5 = T2(g3[B3 >> 2]);
              Td(b4, d3, f5, k4, c2[C3 >> 2] | 0, c2[D3 >> 2] | 0, h3, i4, 0, 3565, m3) | 0;
              i4 = T2(g3[b4 + 908 + (c2[976 + (F3 << 2) >> 2] << 2) >> 2]);
              g3[b4 + 504 >> 2] = T2(cC(i4, T2(Ce(b4, F3, h3))));
            }
          while (0);
          c2[b4 + 500 >> 2] = c2[2278];
          l3 = G3;
          return;
        }
        function Ie(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          d3 = T2(d3);
          e4 = T2(e4);
          d3 = T2(Te(a3, b4, c3, d3));
          return T2(cC(d3, T2(Ce(a3, b4, e4))));
        }
        function Je(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          b4 = b4 + 20 | 0;
          b4 = c2[((c2[b4 >> 2] | 0) == 0 ? a3 + 16 | 0 : b4) >> 2] | 0;
          if ((b4 | 0) == 5 ? We(c2[a3 + 4 >> 2] | 0) | 0 : 0)
            b4 = 1;
          return b4 | 0;
        }
        function Ke(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (oe(b4) | 0 ? (c2[a3 + 96 >> 2] | 0) != 0 : 0)
            b4 = 4;
          else
            b4 = c2[1040 + (b4 << 2) >> 2] | 0;
          return a3 + 60 + (b4 << 3) | 0;
        }
        function Le(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (oe(b4) | 0 ? (c2[a3 + 104 >> 2] | 0) != 0 : 0)
            b4 = 5;
          else
            b4 = c2[1e3 + (b4 << 2) >> 2] | 0;
          return a3 + 60 + (b4 << 3) | 0;
        }
        function Me(a3, b4, d3, e4, f5, h3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = T2(e4);
          f5 = f5 | 0;
          h3 = h3 | 0;
          d3 = T2(be(a3 + 380 + (c2[976 + (b4 << 2) >> 2] << 3) | 0, d3));
          d3 = T2(d3 + T2(Ud(a3, b4, e4)));
          switch (c2[f5 >> 2] | 0) {
            case 2:
            case 1: {
              f5 = Sb(d3) | 0;
              e4 = T2(g3[h3 >> 2]);
              g3[h3 >> 2] = f5 | e4 < d3 ? e4 : d3;
              break;
            }
            case 0: {
              if (!(Sb(d3) | 0)) {
                c2[f5 >> 2] = 2;
                g3[h3 >> 2] = d3;
              }
              break;
            }
            default: {
            }
          }
          return;
        }
        function Ne(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          a3 = a3 + 132 | 0;
          if (oe(b4) | 0 ? (c2[(Tb(a3, 4, 948) | 0) + 4 >> 2] | 0) != 0 : 0)
            a3 = 1;
          else
            a3 = (c2[(Tb(a3, c2[1040 + (b4 << 2) >> 2] | 0, 948) | 0) + 4 >> 2] | 0) != 0;
          return a3 | 0;
        }
        function Oe(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0;
          a3 = a3 + 132 | 0;
          if (oe(b4) | 0 ? (e4 = Tb(a3, 4, 948) | 0, (c2[e4 + 4 >> 2] | 0) != 0) : 0)
            f5 = 4;
          else {
            e4 = Tb(a3, c2[1040 + (b4 << 2) >> 2] | 0, 948) | 0;
            if (!(c2[e4 + 4 >> 2] | 0))
              d3 = T2(0);
            else
              f5 = 4;
          }
          if ((f5 | 0) == 4)
            d3 = T2(be(e4, d3));
          return T2(d3);
        }
        function Pe(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = ib;
          e4 = T2(g3[a3 + 908 + (c2[976 + (b4 << 2) >> 2] << 2) >> 2]);
          e4 = T2(e4 + T2(me(a3, b4, d3)));
          return T2(e4 + T2(ne(a3, b4, d3)));
        }
        function Qe(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          a:
            do
              if (!(We(c2[a3 + 4 >> 2] | 0) | 0)) {
                if ((c2[a3 + 16 >> 2] | 0) != 5) {
                  d3 = $b(a3) | 0;
                  if (!d3)
                    b4 = 0;
                  else {
                    b4 = 0;
                    while (1) {
                      e4 = ac(a3, b4) | 0;
                      if ((c2[e4 + 24 >> 2] | 0) == 0 ? (c2[e4 + 20 >> 2] | 0) == 5 : 0) {
                        b4 = 1;
                        break a;
                      }
                      b4 = b4 + 1 | 0;
                      if (b4 >>> 0 >= d3 >>> 0) {
                        b4 = 0;
                        break;
                      }
                    }
                  }
                } else
                  b4 = 1;
              } else
                b4 = 0;
            while (0);
          return b4 | 0;
        }
        function Re(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = ib;
          d3 = T2(g3[a3 + 908 + (c2[976 + (b4 << 2) >> 2] << 2) >> 2]);
          return d3 >= T2(0) & ((Sb(d3) | 0) ^ 1) | 0;
        }
        function Se(a3) {
          a3 = a3 | 0;
          var b4 = ib, d3 = 0, e4 = 0, f5 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = ib;
          d3 = c2[a3 + 968 >> 2] | 0;
          if (!d3) {
            h3 = $b(a3) | 0;
            do
              if (h3 | 0) {
                d3 = 0;
                f5 = 0;
                while (1) {
                  e4 = ac(a3, f5) | 0;
                  if (c2[e4 + 940 >> 2] | 0) {
                    i4 = 8;
                    break;
                  }
                  if ((c2[e4 + 24 >> 2] | 0) != 1) {
                    j4 = (Je(a3, e4) | 0) == 5;
                    if (j4) {
                      d3 = e4;
                      break;
                    } else
                      d3 = (d3 | 0) == 0 ? e4 : d3;
                  }
                  f5 = f5 + 1 | 0;
                  if (f5 >>> 0 >= h3 >>> 0) {
                    i4 = 8;
                    break;
                  }
                }
                if ((i4 | 0) == 8) {
                  if (!d3)
                    break;
                }
                b4 = T2(Se(d3));
                return T2(b4 + T2(g3[d3 + 404 >> 2]));
              }
            while (0);
            b4 = T2(g3[a3 + 912 >> 2]);
          } else {
            k4 = T2(g3[a3 + 908 >> 2]);
            b4 = T2(g3[a3 + 912 >> 2]);
            b4 = T2(mb[d3 & 0](a3, k4, b4));
            ec(a3, (Sb(b4) | 0) ^ 1, 3573);
          }
          return T2(b4);
        }
        function Te(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          d3 = T2(d3);
          var e4 = ib, f5 = 0;
          if (!(We(b4) | 0)) {
            if (oe(b4) | 0) {
              b4 = 0;
              f5 = 3;
            } else {
              d3 = T2(t2);
              e4 = T2(t2);
            }
          } else {
            b4 = 1;
            f5 = 3;
          }
          if ((f5 | 0) == 3) {
            e4 = T2(be(a3 + 364 + (b4 << 3) | 0, d3));
            d3 = T2(be(a3 + 380 + (b4 << 3) | 0, d3));
          }
          f5 = d3 < c3 & (d3 >= T2(0) & ((Sb(d3) | 0) ^ 1));
          c3 = f5 ? d3 : c3;
          f5 = e4 >= T2(0) & ((Sb(e4) | 0) ^ 1) & c3 < e4;
          return T2(f5 ? e4 : c3);
        }
        function Ue(a3, b4, d3, e4, f5, h3, i4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          e4 = e4 | 0;
          f5 = T2(f5);
          h3 = h3 | 0;
          i4 = i4 | 0;
          var j4 = ib, k4 = ib, l4 = 0, m3 = 0, n3 = ib, o4 = ib, p4 = ib, q3 = 0, r3 = 0, s3 = 0, u3 = 0, v3 = ib, w4 = 0;
          s3 = re(c2[a3 + 4 >> 2] | 0, h3) | 0;
          q3 = ze(s3, h3) | 0;
          r3 = oe(s3) | 0;
          n3 = T2(Ud(b4, 2, d3));
          o4 = T2(Ud(b4, 0, d3));
          if (!(ae(b4, 2, d3) | 0)) {
            if (Ne(b4, 2) | 0 ? Ze(b4, 2) | 0 : 0) {
              j4 = T2(g3[a3 + 908 >> 2]);
              k4 = T2(se(a3, 2));
              k4 = T2(j4 - T2(k4 + T2(te(a3, 2))));
              j4 = T2(Oe(b4, 2, d3));
              j4 = T2(Ie(b4, 2, T2(k4 - T2(j4 + T2(_e(b4, 2, d3)))), d3, d3));
            } else
              j4 = T2(t2);
          } else
            j4 = T2(n3 + T2(be(c2[b4 + 992 >> 2] | 0, d3)));
          if (!(ae(b4, 0, f5) | 0)) {
            if (Ne(b4, 0) | 0 ? Ze(b4, 0) | 0 : 0) {
              k4 = T2(g3[a3 + 912 >> 2]);
              v3 = T2(se(a3, 0));
              v3 = T2(k4 - T2(v3 + T2(te(a3, 0))));
              k4 = T2(Oe(b4, 0, f5));
              k4 = T2(Ie(b4, 0, T2(v3 - T2(k4 + T2(_e(b4, 0, f5)))), f5, d3));
            } else
              k4 = T2(t2);
          } else
            k4 = T2(o4 + T2(be(c2[b4 + 996 >> 2] | 0, f5)));
          l4 = Sb(j4) | 0;
          m3 = Sb(k4) | 0;
          do
            if (l4 ^ m3 ? (p4 = T2(g3[b4 + 396 >> 2]), !(Sb(p4) | 0)) : 0)
              if (l4) {
                j4 = T2(n3 + T2(T2(k4 - o4) * p4));
                break;
              } else {
                v3 = T2(o4 + T2(T2(j4 - n3) / p4));
                k4 = m3 ? v3 : k4;
                break;
              }
          while (0);
          m3 = Sb(j4) | 0;
          l4 = Sb(k4) | 0;
          if (m3 | l4) {
            w4 = (m3 ^ 1) & 1;
            e4 = d3 > T2(0) & ((e4 | 0) != 0 & m3);
            j4 = r3 ? j4 : e4 ? d3 : j4;
            Td(b4, j4, k4, h3, r3 ? w4 : e4 ? 2 : w4, m3 & (l4 ^ 1) & 1, j4, k4, 0, 3623, i4) | 0;
            j4 = T2(g3[b4 + 908 >> 2]);
            j4 = T2(j4 + T2(Ud(b4, 2, d3)));
            k4 = T2(g3[b4 + 912 >> 2]);
            k4 = T2(k4 + T2(Ud(b4, 0, d3)));
          }
          Td(b4, j4, k4, h3, 1, 1, j4, k4, 1, 3635, i4) | 0;
          if (Ze(b4, s3) | 0 ? !(Ne(b4, s3) | 0) : 0) {
            w4 = c2[976 + (s3 << 2) >> 2] | 0;
            v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
            v3 = T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2]));
            v3 = T2(v3 - T2(te(a3, s3)));
            v3 = T2(v3 - T2(ne(b4, s3, d3)));
            v3 = T2(v3 - T2(_e(b4, s3, r3 ? d3 : f5)));
            g3[b4 + 400 + (c2[1040 + (s3 << 2) >> 2] << 2) >> 2] = v3;
          } else
            u3 = 21;
          do
            if ((u3 | 0) == 21) {
              if (!(Ne(b4, s3) | 0) ? (c2[a3 + 8 >> 2] | 0) == 1 : 0) {
                w4 = c2[976 + (s3 << 2) >> 2] | 0;
                v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
                v3 = T2(T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2])) * T2(0.5));
                g3[b4 + 400 + (c2[1040 + (s3 << 2) >> 2] << 2) >> 2] = v3;
                break;
              }
              if (!(Ne(b4, s3) | 0) ? (c2[a3 + 8 >> 2] | 0) == 2 : 0) {
                w4 = c2[976 + (s3 << 2) >> 2] | 0;
                v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
                v3 = T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2]));
                g3[b4 + 400 + (c2[1040 + (s3 << 2) >> 2] << 2) >> 2] = v3;
              }
            }
          while (0);
          if (Ze(b4, q3) | 0 ? !(Ne(b4, q3) | 0) : 0) {
            w4 = c2[976 + (q3 << 2) >> 2] | 0;
            v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
            v3 = T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2]));
            v3 = T2(v3 - T2(te(a3, q3)));
            v3 = T2(v3 - T2(ne(b4, q3, d3)));
            v3 = T2(v3 - T2(_e(b4, q3, r3 ? f5 : d3)));
            g3[b4 + 400 + (c2[1040 + (q3 << 2) >> 2] << 2) >> 2] = v3;
          } else
            u3 = 30;
          do
            if ((u3 | 0) == 30 ? !(Ne(b4, q3) | 0) : 0) {
              if ((Je(a3, b4) | 0) == 2) {
                w4 = c2[976 + (q3 << 2) >> 2] | 0;
                v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
                v3 = T2(T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2])) * T2(0.5));
                g3[b4 + 400 + (c2[1040 + (q3 << 2) >> 2] << 2) >> 2] = v3;
                break;
              }
              w4 = (Je(a3, b4) | 0) == 3;
              if (w4 ^ (c2[a3 + 28 >> 2] | 0) == 2) {
                w4 = c2[976 + (q3 << 2) >> 2] | 0;
                v3 = T2(g3[a3 + 908 + (w4 << 2) >> 2]);
                v3 = T2(v3 - T2(g3[b4 + 908 + (w4 << 2) >> 2]));
                g3[b4 + 400 + (c2[1040 + (q3 << 2) >> 2] << 2) >> 2] = v3;
              }
            }
          while (0);
          return;
        }
        function Ve(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = ib, f5 = 0;
          f5 = c2[976 + (d3 << 2) >> 2] | 0;
          e4 = T2(g3[b4 + 908 + (f5 << 2) >> 2]);
          e4 = T2(T2(g3[a3 + 908 + (f5 << 2) >> 2]) - e4);
          e4 = T2(e4 - T2(g3[b4 + 400 + (c2[1040 + (d3 << 2) >> 2] << 2) >> 2]));
          g3[b4 + 400 + (c2[1e3 + (d3 << 2) >> 2] << 2) >> 2] = e4;
          return;
        }
        function We(a3) {
          a3 = a3 | 0;
          return (a3 | 1 | 0) == 1 | 0;
        }
        function Xe(b4) {
          b4 = b4 | 0;
          var d3 = ib;
          switch (c2[b4 + 56 >> 2] | 0) {
            case 0:
            case 3: {
              d3 = T2(g3[b4 + 40 >> 2]);
              if (d3 > T2(0) & ((Sb(d3) | 0) ^ 1))
                b4 = a2[(c2[b4 + 976 >> 2] | 0) + 2 >> 0] | 0 ? 1056 : 992;
              else
                b4 = 1056;
              break;
            }
            default:
              b4 = b4 + 52 | 0;
          }
          return b4 | 0;
        }
        function Ye(b4, c3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          return (a2[b4 + c3 >> 0] | 0) != 0 | 0;
        }
        function Ze(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          a3 = a3 + 132 | 0;
          if (oe(b4) | 0 ? (c2[(Tb(a3, 5, 948) | 0) + 4 >> 2] | 0) != 0 : 0)
            a3 = 1;
          else
            a3 = (c2[(Tb(a3, c2[1e3 + (b4 << 2) >> 2] | 0, 948) | 0) + 4 >> 2] | 0) != 0;
          return a3 | 0;
        }
        function _e(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = T2(d3);
          var e4 = 0, f5 = 0;
          a3 = a3 + 132 | 0;
          if (oe(b4) | 0 ? (e4 = Tb(a3, 5, 948) | 0, (c2[e4 + 4 >> 2] | 0) != 0) : 0)
            f5 = 4;
          else {
            e4 = Tb(a3, c2[1e3 + (b4 << 2) >> 2] | 0, 948) | 0;
            if (!(c2[e4 + 4 >> 2] | 0))
              d3 = T2(0);
            else
              f5 = 4;
          }
          if ((f5 | 0) == 4)
            d3 = T2(be(e4, d3));
          return T2(d3);
        }
        function $e(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          if (Ne(a3, b4) | 0)
            c3 = T2(Oe(a3, b4, c3));
          else
            c3 = T2(-T2(_e(a3, b4, c3)));
          return T2(c3);
        }
        function af(a3) {
          a3 = T2(a3);
          return (g3[j3 >> 2] = a3, c2[j3 >> 2] | 0) | 0;
        }
        function bf(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 1073741823)
                Ta();
              else {
                f5 = qC(b4 << 2) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 2) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 2);
          return;
        }
        function cf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 2) << 2) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function df(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -4 - b4 | 0) >>> 2) << 2);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function ef(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          h3 = a3 + 4 | 0;
          i4 = c2[h3 >> 2] | 0;
          f5 = i4 - e4 | 0;
          g4 = f5 >> 2;
          a3 = b4 + (g4 << 2) | 0;
          if (a3 >>> 0 < d3 >>> 0) {
            e4 = i4;
            do {
              c2[e4 >> 2] = c2[a3 >> 2];
              a3 = a3 + 4 | 0;
              e4 = (c2[h3 >> 2] | 0) + 4 | 0;
              c2[h3 >> 2] = e4;
            } while (a3 >>> 0 < d3 >>> 0);
          }
          if (g4 | 0)
            GC(i4 + (0 - g4 << 2) | 0, b4 | 0, f5 | 0) | 0;
          return;
        }
        function ff(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = b4 + 4 | 0;
          j4 = c2[i4 >> 2] | 0;
          f5 = c2[a3 >> 2] | 0;
          h3 = d3;
          g4 = h3 - f5 | 0;
          e4 = j4 + (0 - (g4 >> 2) << 2) | 0;
          c2[i4 >> 2] = e4;
          if ((g4 | 0) > 0)
            BC(e4 | 0, f5 | 0, g4 | 0) | 0;
          f5 = a3 + 4 | 0;
          g4 = b4 + 8 | 0;
          e4 = (c2[f5 >> 2] | 0) - h3 | 0;
          if ((e4 | 0) > 0) {
            BC(c2[g4 >> 2] | 0, d3 | 0, e4 | 0) | 0;
            c2[g4 >> 2] = (c2[g4 >> 2] | 0) + (e4 >>> 2 << 2);
          }
          h3 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = c2[i4 >> 2];
          c2[i4 >> 2] = h3;
          h3 = c2[f5 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = h3;
          h3 = a3 + 8 | 0;
          d3 = b4 + 12 | 0;
          a3 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[d3 >> 2];
          c2[d3 >> 2] = a3;
          c2[b4 >> 2] = c2[i4 >> 2];
          return j4 | 0;
        }
        function gf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          h3 = c2[b4 >> 2] | 0;
          g4 = c2[d3 >> 2] | 0;
          if ((h3 | 0) != (g4 | 0)) {
            f5 = a3 + 8 | 0;
            d3 = ((g4 + -4 - h3 | 0) >>> 2) + 1 | 0;
            a3 = h3;
            e4 = c2[f5 >> 2] | 0;
            do {
              c2[e4 >> 2] = c2[a3 >> 2];
              e4 = (c2[f5 >> 2] | 0) + 4 | 0;
              c2[f5 >> 2] = e4;
              a3 = a3 + 4 | 0;
            } while ((a3 | 0) != (g4 | 0));
            c2[b4 >> 2] = h3 + (d3 << 2);
          }
          return;
        }
        function hf() {
          Qb();
          return;
        }
        function jf() {
          var a3 = 0;
          a3 = qC(4) | 0;
          kf(a3);
          return a3 | 0;
        }
        function kf(a3) {
          a3 = a3 | 0;
          c2[a3 >> 2] = gc() | 0;
          return;
        }
        function lf(a3) {
          a3 = a3 | 0;
          if (a3 | 0) {
            mf(a3);
            sC(a3);
          }
          return;
        }
        function mf(a3) {
          a3 = a3 | 0;
          ic(c2[a3 >> 2] | 0);
          return;
        }
        function nf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          he(c2[a3 >> 2] | 0, b4, d3);
          return;
        }
        function of(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          Zd(c2[a3 >> 2] | 0, b4);
          return;
        }
        function pf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Ye(c2[a3 >> 2] | 0, b4) | 0;
        }
        function qf() {
          var a3 = 0;
          a3 = qC(8) | 0;
          rf(a3, 0);
          return a3 | 0;
        }
        function rf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (!b4)
            b4 = Wb() | 0;
          else
            b4 = Ub(c2[b4 >> 2] | 0) | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = 0;
          vc(b4, a3);
          return;
        }
        function sf(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = qC(8) | 0;
          rf(b4, a3);
          return b4 | 0;
        }
        function tf(a3) {
          a3 = a3 | 0;
          if (a3 | 0) {
            uf(a3);
            sC(a3);
          }
          return;
        }
        function uf(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          Zb(c2[a3 >> 2] | 0);
          b4 = a3 + 4 | 0;
          a3 = c2[b4 >> 2] | 0;
          c2[b4 >> 2] = 0;
          if (a3 | 0) {
            vf(a3);
            sC(a3);
          }
          return;
        }
        function vf(a3) {
          a3 = a3 | 0;
          wf(a3);
          return;
        }
        function wf(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            ab(a3 | 0);
          return;
        }
        function xf(a3) {
          a3 = a3 | 0;
          return wc(a3) | 0;
        }
        function yf(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          d3 = a3 + 4 | 0;
          b4 = c2[d3 >> 2] | 0;
          c2[d3 >> 2] = 0;
          if (b4 | 0) {
            vf(b4);
            sC(b4);
          }
          dc(c2[a3 >> 2] | 0);
          return;
        }
        function zf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          sc(c2[a3 >> 2] | 0, c2[b4 >> 2] | 0);
          return;
        }
        function Af(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Hc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Bf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          Vc(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function Cf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          Wc(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function Df(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Bc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Ef(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Dc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Ff(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Fc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Gf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          xc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Hf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Jc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function If(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          zc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Jf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          Yc(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function Kf(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          Zc(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function Lf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          $c(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Mf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Lc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Nf(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Nc(c2[a3 >> 2] | 0, b4);
          return;
        }
        function Of(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          Pc(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Pf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          Sc(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Qf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          Tc(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Rf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          Qc(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Sf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          Rc(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Tf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          fd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Uf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          gd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Vf(a3) {
          a3 = a3 | 0;
          hd(c2[a3 >> 2] | 0);
          return;
        }
        function Wf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          jd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Xf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          kd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function Yf(a3) {
          a3 = a3 | 0;
          ld(c2[a3 >> 2] | 0);
          return;
        }
        function Zf(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          nd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function _f(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          od(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function $f(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          qd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function ag(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          rd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function bg(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          td(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function cg(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          ud(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function dg(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          wd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function eg(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          xd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function fg(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          zd(c2[a3 >> 2] | 0, T2(b4));
          return;
        }
        function gg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          dd(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function hg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          ad(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function ig(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          bd(c2[a3 >> 2] | 0, b4, T2(d3));
          return;
        }
        function jg(a3) {
          a3 = a3 | 0;
          return Ic(c2[a3 >> 2] | 0) | 0;
        }
        function kg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4;
          Xc(f5, c2[b4 >> 2] | 0, d3);
          lg(a3, f5);
          l3 = e4;
          return;
        }
        function lg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          mg(a3, c2[b4 + 4 >> 2] | 0, +T2(g3[b4 >> 2]));
          return;
        }
        function mg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          c2[a3 >> 2] = b4;
          h2[a3 + 8 >> 3] = d3;
          return;
        }
        function ng(a3) {
          a3 = a3 | 0;
          return Cc(c2[a3 >> 2] | 0) | 0;
        }
        function og(a3) {
          a3 = a3 | 0;
          return Ec(c2[a3 >> 2] | 0) | 0;
        }
        function pg(a3) {
          a3 = a3 | 0;
          return Gc(c2[a3 >> 2] | 0) | 0;
        }
        function qg(a3) {
          a3 = a3 | 0;
          return yc(c2[a3 >> 2] | 0) | 0;
        }
        function rg(a3) {
          a3 = a3 | 0;
          return Kc(c2[a3 >> 2] | 0) | 0;
        }
        function sg(a3) {
          a3 = a3 | 0;
          return Ac(c2[a3 >> 2] | 0) | 0;
        }
        function tg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4;
          _c(f5, c2[b4 >> 2] | 0, d3);
          lg(a3, f5);
          l3 = e4;
          return;
        }
        function ug(a3) {
          a3 = a3 | 0;
          return Mc(c2[a3 >> 2] | 0) | 0;
        }
        function vg(a3) {
          a3 = a3 | 0;
          return Oc(c2[a3 >> 2] | 0) | 0;
        }
        function wg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          Uc(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function xg(a3) {
          a3 = a3 | 0;
          return + +T2(tc(c2[a3 >> 2] | 0));
        }
        function yg(a3) {
          a3 = a3 | 0;
          return + +T2(uc(c2[a3 >> 2] | 0));
        }
        function zg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          id(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Ag(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          md(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Bg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          pd(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Cg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          sd(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Dg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          vd(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Eg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          yd(e4, c2[b4 >> 2] | 0);
          lg(a3, e4);
          l3 = d3;
          return;
        }
        function Fg(a3) {
          a3 = a3 | 0;
          return + +T2(Ad(c2[a3 >> 2] | 0));
        }
        function Gg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return + +T2(ed(c2[a3 >> 2] | 0, b4));
        }
        function Hg(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4;
          cd(f5, c2[b4 >> 2] | 0, d3);
          lg(a3, f5);
          l3 = e4;
          return;
        }
        function Ig(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          kc(c2[a3 >> 2] | 0, c2[b4 >> 2] | 0, d3);
          return;
        }
        function Jg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          cc(c2[a3 >> 2] | 0, c2[b4 >> 2] | 0);
          return;
        }
        function Kg(a3) {
          a3 = a3 | 0;
          return $b(c2[a3 >> 2] | 0) | 0;
        }
        function Lg(a3) {
          a3 = a3 | 0;
          a3 = pc(c2[a3 >> 2] | 0) | 0;
          if (!a3)
            a3 = 0;
          else
            a3 = xf(a3) | 0;
          return a3 | 0;
        }
        function Mg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          a3 = ac(c2[a3 >> 2] | 0, b4) | 0;
          if (!a3)
            a3 = 0;
          else
            a3 = xf(a3) | 0;
          return a3 | 0;
        }
        function Ng(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          e4 = qC(4) | 0;
          Og(e4, b4);
          d3 = a3 + 4 | 0;
          b4 = c2[d3 >> 2] | 0;
          c2[d3 >> 2] = e4;
          if (b4 | 0) {
            vf(b4);
            sC(b4);
          }
          jc(c2[a3 >> 2] | 0, 1);
          return;
        }
        function Og(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          gh(a3, b4);
          return;
        }
        function Pg(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          d3 = d3 | 0;
          e4 = T2(e4);
          f5 = f5 | 0;
          var i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          j4 = i4;
          Qg(j4, wc(b4) | 0, +c3, d3, +e4, f5);
          g3[a3 >> 2] = T2(+h2[j4 >> 3]);
          g3[a3 + 4 >> 2] = T2(+h2[j4 + 8 >> 3]);
          l3 = i4;
          return;
        }
        function Qg(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          e4 = e4 | 0;
          f5 = +f5;
          g4 = g4 | 0;
          var i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          n3 = i4 + 8 | 0;
          m3 = i4 + 20 | 0;
          k4 = i4;
          j4 = i4 + 16 | 0;
          h2[n3 >> 3] = d3;
          c2[m3 >> 2] = e4;
          h2[k4 >> 3] = f5;
          c2[j4 >> 2] = g4;
          Rg(a3, c2[b4 + 4 >> 2] | 0, n3, m3, k4, j4);
          l3 = i4;
          return;
        }
        function Rg(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          j4 = i4;
          UA(j4);
          b4 = Sg(b4) | 0;
          Tg(a3, b4, +h2[d3 >> 3], c2[e4 >> 2] | 0, +h2[f5 >> 3], c2[g4 >> 2] | 0);
          WA(j4);
          l3 = i4;
          return;
        }
        function Sg(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function Tg(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          d3 = d3 | 0;
          e4 = +e4;
          f5 = f5 | 0;
          var g4 = 0;
          g4 = Vg(Ug() | 0) | 0;
          c3 = +Wg(c3);
          d3 = Xg(d3) | 0;
          e4 = +Wg(e4);
          Yg(a3, cb2(0, g4 | 0, b4 | 0, +c3, d3 | 0, +e4, Xg(f5) | 0) | 0);
          return;
        }
        function Ug() {
          var b4 = 0;
          if (!(a2[7608] | 0)) {
            dh(9120);
            b4 = 7608;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 9120;
        }
        function Vg(a3) {
          a3 = a3 | 0;
          return c2[a3 + 8 >> 2] | 0;
        }
        function Wg(a3) {
          a3 = +a3;
          return + +ch(a3);
        }
        function Xg(a3) {
          a3 = a3 | 0;
          return bh(a3) | 0;
        }
        function Yg(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          d3 = f5;
          e4 = b4;
          if (!(e4 & 1)) {
            c2[a3 >> 2] = c2[b4 >> 2];
            c2[a3 + 4 >> 2] = c2[b4 + 4 >> 2];
            c2[a3 + 8 >> 2] = c2[b4 + 8 >> 2];
            c2[a3 + 12 >> 2] = c2[b4 + 12 >> 2];
          } else {
            Zg(d3, 0);
            Ja(e4 | 0, d3 | 0) | 0;
            _g(a3, d3);
            $g(d3);
          }
          l3 = f5;
          return;
        }
        function Zg(b4, d3) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          ah(b4, d3);
          c2[b4 + 8 >> 2] = 0;
          a2[b4 + 24 >> 0] = 0;
          return;
        }
        function _g(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          b4 = b4 + 8 | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = c2[b4 + 4 >> 2];
          c2[a3 + 8 >> 2] = c2[b4 + 8 >> 2];
          c2[a3 + 12 >> 2] = c2[b4 + 12 >> 2];
          return;
        }
        function $g(b4) {
          b4 = b4 | 0;
          a2[b4 + 24 >> 0] = 0;
          return;
        }
        function ah(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = b4;
          return;
        }
        function bh(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function ch(a3) {
          a3 = +a3;
          return +a3;
        }
        function dh(a3) {
          a3 = a3 | 0;
          fh(a3, eh() | 0, 4);
          return;
        }
        function eh() {
          return 1064;
        }
        function fh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          c2[a3 + 8 >> 2] = _a2(b4 | 0, d3 + 1 | 0) | 0;
          return;
        }
        function gh(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          b4 = c2[b4 >> 2] | 0;
          c2[a3 >> 2] = b4;
          Aa(b4 | 0);
          return;
        }
        function hh(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          d3 = a3 + 4 | 0;
          b4 = c2[d3 >> 2] | 0;
          c2[d3 >> 2] = 0;
          if (b4 | 0) {
            vf(b4);
            sC(b4);
          }
          jc(c2[a3 >> 2] | 0, 0);
          return;
        }
        function ih(a3) {
          a3 = a3 | 0;
          qc(c2[a3 >> 2] | 0);
          return;
        }
        function jh(a3) {
          a3 = a3 | 0;
          return rc(c2[a3 >> 2] | 0) | 0;
        }
        function kh(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = +b4;
          d3 = +d3;
          e4 = e4 | 0;
          _d(c2[a3 >> 2] | 0, T2(b4), T2(d3), e4);
          return;
        }
        function lh(a3) {
          a3 = a3 | 0;
          return + +T2(Bd(c2[a3 >> 2] | 0));
        }
        function mh(a3) {
          a3 = a3 | 0;
          return + +T2(Dd(c2[a3 >> 2] | 0));
        }
        function nh(a3) {
          a3 = a3 | 0;
          return + +T2(Cd(c2[a3 >> 2] | 0));
        }
        function oh(a3) {
          a3 = a3 | 0;
          return + +T2(Ed(c2[a3 >> 2] | 0));
        }
        function ph(a3) {
          a3 = a3 | 0;
          return + +T2(Fd(c2[a3 >> 2] | 0));
        }
        function qh(a3) {
          a3 = a3 | 0;
          return + +T2(Gd(c2[a3 >> 2] | 0));
        }
        function rh(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          h2[a3 >> 3] = +T2(Bd(c2[b4 >> 2] | 0));
          h2[a3 + 8 >> 3] = +T2(Dd(c2[b4 >> 2] | 0));
          h2[a3 + 16 >> 3] = +T2(Cd(c2[b4 >> 2] | 0));
          h2[a3 + 24 >> 3] = +T2(Ed(c2[b4 >> 2] | 0));
          h2[a3 + 32 >> 3] = +T2(Fd(c2[b4 >> 2] | 0));
          h2[a3 + 40 >> 3] = +T2(Gd(c2[b4 >> 2] | 0));
          return;
        }
        function sh(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return + +T2(Hd(c2[a3 >> 2] | 0, b4));
        }
        function th(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return + +T2(Id(c2[a3 >> 2] | 0, b4));
        }
        function uh(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return + +T2(Jd(c2[a3 >> 2] | 0, b4));
        }
        function vh() {
          return fc() | 0;
        }
        function wh() {
          xh();
          yh();
          zh();
          Ah();
          Bh();
          Ch();
          return;
        }
        function xh() {
          kv(11713, 4938, 1);
          return;
        }
        function yh() {
          yu(10448);
          return;
        }
        function zh() {
          eu(10408);
          return;
        }
        function Ah() {
          vt(10324);
          return;
        }
        function Bh() {
          or(10096);
          return;
        }
        function Ch() {
          Dh(9132);
          return;
        }
        function Dh(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = 0, v3 = 0, w4 = 0, x3 = 0, y3 = 0, z3 = 0, A3 = 0, B3 = 0, C3 = 0, D3 = 0, E3 = 0, F3 = 0, G3 = 0, H4 = 0, I3 = 0, J3 = 0, K3 = 0, L3 = 0, M4 = 0, N4 = 0, O2 = 0, P2 = 0, Q3 = 0, R3 = 0, S4 = 0, T3 = 0, U3 = 0, V3 = 0, W3 = 0, X3 = 0, Y3 = 0, Z3 = 0, _3 = 0, $4 = 0, aa2 = 0, ba2 = 0, ca2 = 0, da2 = 0, ea2 = 0, fa2 = 0, ga2 = 0, ha2 = 0, ia2 = 0, ja2 = 0, ka2 = 0, la2 = 0, ma2 = 0, na2 = 0, oa2 = 0, pa2 = 0, qa2 = 0, ra2 = 0, sa2 = 0, ta2 = 0, ua2 = 0, va2 = 0, wa2 = 0, xa2 = 0, ya2 = 0, za2 = 0, Aa2 = 0, Ba2 = 0, Ca2 = 0, Da2 = 0, Ea2 = 0, Fa2 = 0, Ga2 = 0;
          b4 = l3;
          l3 = l3 + 672 | 0;
          d3 = b4 + 656 | 0;
          Ga2 = b4 + 648 | 0;
          Fa2 = b4 + 640 | 0;
          Ea2 = b4 + 632 | 0;
          Da2 = b4 + 624 | 0;
          Ca2 = b4 + 616 | 0;
          Ba2 = b4 + 608 | 0;
          Aa2 = b4 + 600 | 0;
          za2 = b4 + 592 | 0;
          ya2 = b4 + 584 | 0;
          xa2 = b4 + 576 | 0;
          wa2 = b4 + 568 | 0;
          va2 = b4 + 560 | 0;
          ua2 = b4 + 552 | 0;
          ta2 = b4 + 544 | 0;
          sa2 = b4 + 536 | 0;
          ra2 = b4 + 528 | 0;
          qa2 = b4 + 520 | 0;
          pa2 = b4 + 512 | 0;
          oa2 = b4 + 504 | 0;
          na2 = b4 + 496 | 0;
          ma2 = b4 + 488 | 0;
          la2 = b4 + 480 | 0;
          ka2 = b4 + 472 | 0;
          ja2 = b4 + 464 | 0;
          ia2 = b4 + 456 | 0;
          ha2 = b4 + 448 | 0;
          ga2 = b4 + 440 | 0;
          fa2 = b4 + 432 | 0;
          ea2 = b4 + 424 | 0;
          da2 = b4 + 416 | 0;
          ca2 = b4 + 408 | 0;
          ba2 = b4 + 400 | 0;
          aa2 = b4 + 392 | 0;
          $4 = b4 + 384 | 0;
          _3 = b4 + 376 | 0;
          Z3 = b4 + 368 | 0;
          Y3 = b4 + 360 | 0;
          X3 = b4 + 352 | 0;
          W3 = b4 + 344 | 0;
          V3 = b4 + 336 | 0;
          U3 = b4 + 328 | 0;
          T3 = b4 + 320 | 0;
          S4 = b4 + 312 | 0;
          R3 = b4 + 304 | 0;
          Q3 = b4 + 296 | 0;
          P2 = b4 + 288 | 0;
          O2 = b4 + 280 | 0;
          N4 = b4 + 272 | 0;
          M4 = b4 + 264 | 0;
          L3 = b4 + 256 | 0;
          K3 = b4 + 248 | 0;
          J3 = b4 + 240 | 0;
          I3 = b4 + 232 | 0;
          H4 = b4 + 224 | 0;
          G3 = b4 + 216 | 0;
          F3 = b4 + 208 | 0;
          E3 = b4 + 200 | 0;
          D3 = b4 + 192 | 0;
          C3 = b4 + 184 | 0;
          B3 = b4 + 176 | 0;
          A3 = b4 + 168 | 0;
          z3 = b4 + 160 | 0;
          y3 = b4 + 152 | 0;
          x3 = b4 + 144 | 0;
          w4 = b4 + 136 | 0;
          v3 = b4 + 128 | 0;
          u3 = b4 + 120 | 0;
          t3 = b4 + 112 | 0;
          s3 = b4 + 104 | 0;
          r3 = b4 + 96 | 0;
          q3 = b4 + 88 | 0;
          p4 = b4 + 80 | 0;
          o4 = b4 + 72 | 0;
          n3 = b4 + 64 | 0;
          m3 = b4 + 56 | 0;
          k4 = b4 + 48 | 0;
          j4 = b4 + 40 | 0;
          i4 = b4 + 32 | 0;
          h3 = b4 + 24 | 0;
          g4 = b4 + 16 | 0;
          f5 = b4 + 8 | 0;
          e4 = b4;
          Eh(a3, 3646);
          Fh(a3, 3651, 2) | 0;
          Gh(a3, 3665, 2) | 0;
          Hh(a3, 3682, 18) | 0;
          c2[Ga2 >> 2] = 19;
          c2[Ga2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Ga2 >> 2];
          c2[d3 + 4 >> 2] = c2[Ga2 + 4 >> 2];
          Ih(a3, 3690, d3) | 0;
          c2[Fa2 >> 2] = 1;
          c2[Fa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Fa2 >> 2];
          c2[d3 + 4 >> 2] = c2[Fa2 + 4 >> 2];
          Jh(a3, 3696, d3) | 0;
          c2[Ea2 >> 2] = 2;
          c2[Ea2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Ea2 >> 2];
          c2[d3 + 4 >> 2] = c2[Ea2 + 4 >> 2];
          Kh(a3, 3706, d3) | 0;
          c2[Da2 >> 2] = 1;
          c2[Da2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Da2 >> 2];
          c2[d3 + 4 >> 2] = c2[Da2 + 4 >> 2];
          Lh(a3, 3722, d3) | 0;
          c2[Ca2 >> 2] = 2;
          c2[Ca2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Ca2 >> 2];
          c2[d3 + 4 >> 2] = c2[Ca2 + 4 >> 2];
          Lh(a3, 3734, d3) | 0;
          c2[Ba2 >> 2] = 3;
          c2[Ba2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Ba2 >> 2];
          c2[d3 + 4 >> 2] = c2[Ba2 + 4 >> 2];
          Kh(a3, 3753, d3) | 0;
          c2[Aa2 >> 2] = 4;
          c2[Aa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Aa2 >> 2];
          c2[d3 + 4 >> 2] = c2[Aa2 + 4 >> 2];
          Kh(a3, 3769, d3) | 0;
          c2[za2 >> 2] = 5;
          c2[za2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[za2 >> 2];
          c2[d3 + 4 >> 2] = c2[za2 + 4 >> 2];
          Kh(a3, 3783, d3) | 0;
          c2[ya2 >> 2] = 6;
          c2[ya2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ya2 >> 2];
          c2[d3 + 4 >> 2] = c2[ya2 + 4 >> 2];
          Kh(a3, 3796, d3) | 0;
          c2[xa2 >> 2] = 7;
          c2[xa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[xa2 >> 2];
          c2[d3 + 4 >> 2] = c2[xa2 + 4 >> 2];
          Kh(a3, 3813, d3) | 0;
          c2[wa2 >> 2] = 8;
          c2[wa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[wa2 >> 2];
          c2[d3 + 4 >> 2] = c2[wa2 + 4 >> 2];
          Kh(a3, 3825, d3) | 0;
          c2[va2 >> 2] = 3;
          c2[va2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[va2 >> 2];
          c2[d3 + 4 >> 2] = c2[va2 + 4 >> 2];
          Lh(a3, 3843, d3) | 0;
          c2[ua2 >> 2] = 4;
          c2[ua2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ua2 >> 2];
          c2[d3 + 4 >> 2] = c2[ua2 + 4 >> 2];
          Lh(a3, 3853, d3) | 0;
          c2[ta2 >> 2] = 9;
          c2[ta2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ta2 >> 2];
          c2[d3 + 4 >> 2] = c2[ta2 + 4 >> 2];
          Kh(a3, 3870, d3) | 0;
          c2[sa2 >> 2] = 10;
          c2[sa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[sa2 >> 2];
          c2[d3 + 4 >> 2] = c2[sa2 + 4 >> 2];
          Kh(a3, 3884, d3) | 0;
          c2[ra2 >> 2] = 11;
          c2[ra2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ra2 >> 2];
          c2[d3 + 4 >> 2] = c2[ra2 + 4 >> 2];
          Kh(a3, 3896, d3) | 0;
          c2[qa2 >> 2] = 1;
          c2[qa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[qa2 >> 2];
          c2[d3 + 4 >> 2] = c2[qa2 + 4 >> 2];
          Mh(a3, 3907, d3) | 0;
          c2[pa2 >> 2] = 2;
          c2[pa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[pa2 >> 2];
          c2[d3 + 4 >> 2] = c2[pa2 + 4 >> 2];
          Mh(a3, 3915, d3) | 0;
          c2[oa2 >> 2] = 3;
          c2[oa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[oa2 >> 2];
          c2[d3 + 4 >> 2] = c2[oa2 + 4 >> 2];
          Mh(a3, 3928, d3) | 0;
          c2[na2 >> 2] = 4;
          c2[na2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[na2 >> 2];
          c2[d3 + 4 >> 2] = c2[na2 + 4 >> 2];
          Mh(a3, 3948, d3) | 0;
          c2[ma2 >> 2] = 5;
          c2[ma2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ma2 >> 2];
          c2[d3 + 4 >> 2] = c2[ma2 + 4 >> 2];
          Mh(a3, 3960, d3) | 0;
          c2[la2 >> 2] = 6;
          c2[la2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[la2 >> 2];
          c2[d3 + 4 >> 2] = c2[la2 + 4 >> 2];
          Mh(a3, 3974, d3) | 0;
          c2[ka2 >> 2] = 7;
          c2[ka2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ka2 >> 2];
          c2[d3 + 4 >> 2] = c2[ka2 + 4 >> 2];
          Mh(a3, 3983, d3) | 0;
          c2[ja2 >> 2] = 20;
          c2[ja2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ja2 >> 2];
          c2[d3 + 4 >> 2] = c2[ja2 + 4 >> 2];
          Ih(a3, 3999, d3) | 0;
          c2[ia2 >> 2] = 8;
          c2[ia2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ia2 >> 2];
          c2[d3 + 4 >> 2] = c2[ia2 + 4 >> 2];
          Mh(a3, 4012, d3) | 0;
          c2[ha2 >> 2] = 9;
          c2[ha2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ha2 >> 2];
          c2[d3 + 4 >> 2] = c2[ha2 + 4 >> 2];
          Mh(a3, 4022, d3) | 0;
          c2[ga2 >> 2] = 21;
          c2[ga2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ga2 >> 2];
          c2[d3 + 4 >> 2] = c2[ga2 + 4 >> 2];
          Ih(a3, 4039, d3) | 0;
          c2[fa2 >> 2] = 10;
          c2[fa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[fa2 >> 2];
          c2[d3 + 4 >> 2] = c2[fa2 + 4 >> 2];
          Mh(a3, 4053, d3) | 0;
          c2[ea2 >> 2] = 11;
          c2[ea2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ea2 >> 2];
          c2[d3 + 4 >> 2] = c2[ea2 + 4 >> 2];
          Mh(a3, 4065, d3) | 0;
          c2[da2 >> 2] = 12;
          c2[da2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[da2 >> 2];
          c2[d3 + 4 >> 2] = c2[da2 + 4 >> 2];
          Mh(a3, 4084, d3) | 0;
          c2[ca2 >> 2] = 13;
          c2[ca2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ca2 >> 2];
          c2[d3 + 4 >> 2] = c2[ca2 + 4 >> 2];
          Mh(a3, 4097, d3) | 0;
          c2[ba2 >> 2] = 14;
          c2[ba2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[ba2 >> 2];
          c2[d3 + 4 >> 2] = c2[ba2 + 4 >> 2];
          Mh(a3, 4117, d3) | 0;
          c2[aa2 >> 2] = 15;
          c2[aa2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[aa2 >> 2];
          c2[d3 + 4 >> 2] = c2[aa2 + 4 >> 2];
          Mh(a3, 4129, d3) | 0;
          c2[$4 >> 2] = 16;
          c2[$4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[$4 >> 2];
          c2[d3 + 4 >> 2] = c2[$4 + 4 >> 2];
          Mh(a3, 4148, d3) | 0;
          c2[_3 >> 2] = 17;
          c2[_3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[_3 >> 2];
          c2[d3 + 4 >> 2] = c2[_3 + 4 >> 2];
          Mh(a3, 4161, d3) | 0;
          c2[Z3 >> 2] = 18;
          c2[Z3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Z3 >> 2];
          c2[d3 + 4 >> 2] = c2[Z3 + 4 >> 2];
          Mh(a3, 4181, d3) | 0;
          c2[Y3 >> 2] = 5;
          c2[Y3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Y3 >> 2];
          c2[d3 + 4 >> 2] = c2[Y3 + 4 >> 2];
          Lh(a3, 4196, d3) | 0;
          c2[X3 >> 2] = 6;
          c2[X3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[X3 >> 2];
          c2[d3 + 4 >> 2] = c2[X3 + 4 >> 2];
          Lh(a3, 4206, d3) | 0;
          c2[W3 >> 2] = 7;
          c2[W3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[W3 >> 2];
          c2[d3 + 4 >> 2] = c2[W3 + 4 >> 2];
          Lh(a3, 4217, d3) | 0;
          c2[V3 >> 2] = 3;
          c2[V3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[V3 >> 2];
          c2[d3 + 4 >> 2] = c2[V3 + 4 >> 2];
          Nh(a3, 4235, d3) | 0;
          c2[U3 >> 2] = 1;
          c2[U3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[U3 >> 2];
          c2[d3 + 4 >> 2] = c2[U3 + 4 >> 2];
          Oh(a3, 4251, d3) | 0;
          c2[T3 >> 2] = 4;
          c2[T3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[T3 >> 2];
          c2[d3 + 4 >> 2] = c2[T3 + 4 >> 2];
          Nh(a3, 4263, d3) | 0;
          c2[S4 >> 2] = 5;
          c2[S4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[S4 >> 2];
          c2[d3 + 4 >> 2] = c2[S4 + 4 >> 2];
          Nh(a3, 4279, d3) | 0;
          c2[R3 >> 2] = 6;
          c2[R3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[R3 >> 2];
          c2[d3 + 4 >> 2] = c2[R3 + 4 >> 2];
          Nh(a3, 4293, d3) | 0;
          c2[Q3 >> 2] = 7;
          c2[Q3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[Q3 >> 2];
          c2[d3 + 4 >> 2] = c2[Q3 + 4 >> 2];
          Nh(a3, 4306, d3) | 0;
          c2[P2 >> 2] = 8;
          c2[P2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[P2 >> 2];
          c2[d3 + 4 >> 2] = c2[P2 + 4 >> 2];
          Nh(a3, 4323, d3) | 0;
          c2[O2 >> 2] = 9;
          c2[O2 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[O2 >> 2];
          c2[d3 + 4 >> 2] = c2[O2 + 4 >> 2];
          Nh(a3, 4335, d3) | 0;
          c2[N4 >> 2] = 2;
          c2[N4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[N4 >> 2];
          c2[d3 + 4 >> 2] = c2[N4 + 4 >> 2];
          Oh(a3, 4353, d3) | 0;
          c2[M4 >> 2] = 12;
          c2[M4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[M4 >> 2];
          c2[d3 + 4 >> 2] = c2[M4 + 4 >> 2];
          Ph(a3, 4363, d3) | 0;
          c2[L3 >> 2] = 1;
          c2[L3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[L3 >> 2];
          c2[d3 + 4 >> 2] = c2[L3 + 4 >> 2];
          Qh(a3, 4376, d3) | 0;
          c2[K3 >> 2] = 2;
          c2[K3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[K3 >> 2];
          c2[d3 + 4 >> 2] = c2[K3 + 4 >> 2];
          Qh(a3, 4388, d3) | 0;
          c2[J3 >> 2] = 13;
          c2[J3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[J3 >> 2];
          c2[d3 + 4 >> 2] = c2[J3 + 4 >> 2];
          Ph(a3, 4402, d3) | 0;
          c2[I3 >> 2] = 14;
          c2[I3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[I3 >> 2];
          c2[d3 + 4 >> 2] = c2[I3 + 4 >> 2];
          Ph(a3, 4411, d3) | 0;
          c2[H4 >> 2] = 15;
          c2[H4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[H4 >> 2];
          c2[d3 + 4 >> 2] = c2[H4 + 4 >> 2];
          Ph(a3, 4421, d3) | 0;
          c2[G3 >> 2] = 16;
          c2[G3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[G3 >> 2];
          c2[d3 + 4 >> 2] = c2[G3 + 4 >> 2];
          Ph(a3, 4433, d3) | 0;
          c2[F3 >> 2] = 17;
          c2[F3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[F3 >> 2];
          c2[d3 + 4 >> 2] = c2[F3 + 4 >> 2];
          Ph(a3, 4446, d3) | 0;
          c2[E3 >> 2] = 18;
          c2[E3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[E3 >> 2];
          c2[d3 + 4 >> 2] = c2[E3 + 4 >> 2];
          Ph(a3, 4458, d3) | 0;
          c2[D3 >> 2] = 3;
          c2[D3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[D3 >> 2];
          c2[d3 + 4 >> 2] = c2[D3 + 4 >> 2];
          Qh(a3, 4471, d3) | 0;
          c2[C3 >> 2] = 1;
          c2[C3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[C3 >> 2];
          c2[d3 + 4 >> 2] = c2[C3 + 4 >> 2];
          Rh(a3, 4486, d3) | 0;
          c2[B3 >> 2] = 10;
          c2[B3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[B3 >> 2];
          c2[d3 + 4 >> 2] = c2[B3 + 4 >> 2];
          Nh(a3, 4496, d3) | 0;
          c2[A3 >> 2] = 11;
          c2[A3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[A3 >> 2];
          c2[d3 + 4 >> 2] = c2[A3 + 4 >> 2];
          Nh(a3, 4508, d3) | 0;
          c2[z3 >> 2] = 3;
          c2[z3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[z3 >> 2];
          c2[d3 + 4 >> 2] = c2[z3 + 4 >> 2];
          Oh(a3, 4519, d3) | 0;
          c2[y3 >> 2] = 4;
          c2[y3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[y3 >> 2];
          c2[d3 + 4 >> 2] = c2[y3 + 4 >> 2];
          Sh(a3, 4530, d3) | 0;
          c2[x3 >> 2] = 19;
          c2[x3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[x3 >> 2];
          c2[d3 + 4 >> 2] = c2[x3 + 4 >> 2];
          Th(a3, 4542, d3) | 0;
          c2[w4 >> 2] = 12;
          c2[w4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[w4 >> 2];
          c2[d3 + 4 >> 2] = c2[w4 + 4 >> 2];
          Uh(a3, 4554, d3) | 0;
          c2[v3 >> 2] = 13;
          c2[v3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[v3 >> 2];
          c2[d3 + 4 >> 2] = c2[v3 + 4 >> 2];
          Vh(a3, 4568, d3) | 0;
          c2[u3 >> 2] = 2;
          c2[u3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[u3 >> 2];
          c2[d3 + 4 >> 2] = c2[u3 + 4 >> 2];
          Wh(a3, 4578, d3) | 0;
          c2[t3 >> 2] = 20;
          c2[t3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[t3 >> 2];
          c2[d3 + 4 >> 2] = c2[t3 + 4 >> 2];
          Xh(a3, 4587, d3) | 0;
          c2[s3 >> 2] = 22;
          c2[s3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[s3 >> 2];
          c2[d3 + 4 >> 2] = c2[s3 + 4 >> 2];
          Ih(a3, 4602, d3) | 0;
          c2[r3 >> 2] = 23;
          c2[r3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[r3 >> 2];
          c2[d3 + 4 >> 2] = c2[r3 + 4 >> 2];
          Ih(a3, 4619, d3) | 0;
          c2[q3 >> 2] = 14;
          c2[q3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[q3 >> 2];
          c2[d3 + 4 >> 2] = c2[q3 + 4 >> 2];
          Yh(a3, 4629, d3) | 0;
          c2[p4 >> 2] = 1;
          c2[p4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[p4 >> 2];
          c2[d3 + 4 >> 2] = c2[p4 + 4 >> 2];
          Zh(a3, 4637, d3) | 0;
          c2[o4 >> 2] = 4;
          c2[o4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[o4 >> 2];
          c2[d3 + 4 >> 2] = c2[o4 + 4 >> 2];
          Qh(a3, 4653, d3) | 0;
          c2[n3 >> 2] = 5;
          c2[n3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[n3 >> 2];
          c2[d3 + 4 >> 2] = c2[n3 + 4 >> 2];
          Qh(a3, 4669, d3) | 0;
          c2[m3 >> 2] = 6;
          c2[m3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[m3 >> 2];
          c2[d3 + 4 >> 2] = c2[m3 + 4 >> 2];
          Qh(a3, 4686, d3) | 0;
          c2[k4 >> 2] = 7;
          c2[k4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[k4 >> 2];
          c2[d3 + 4 >> 2] = c2[k4 + 4 >> 2];
          Qh(a3, 4701, d3) | 0;
          c2[j4 >> 2] = 8;
          c2[j4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[j4 >> 2];
          c2[d3 + 4 >> 2] = c2[j4 + 4 >> 2];
          Qh(a3, 4719, d3) | 0;
          c2[i4 >> 2] = 9;
          c2[i4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[i4 >> 2];
          c2[d3 + 4 >> 2] = c2[i4 + 4 >> 2];
          Qh(a3, 4736, d3) | 0;
          c2[h3 >> 2] = 21;
          c2[h3 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[h3 >> 2];
          c2[d3 + 4 >> 2] = c2[h3 + 4 >> 2];
          _h(a3, 4754, d3) | 0;
          c2[g4 >> 2] = 2;
          c2[g4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[g4 >> 2];
          c2[d3 + 4 >> 2] = c2[g4 + 4 >> 2];
          Rh(a3, 4772, d3) | 0;
          c2[f5 >> 2] = 3;
          c2[f5 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[f5 >> 2];
          c2[d3 + 4 >> 2] = c2[f5 + 4 >> 2];
          Rh(a3, 4790, d3) | 0;
          c2[e4 >> 2] = 4;
          c2[e4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[e4 >> 2];
          c2[d3 + 4 >> 2] = c2[e4 + 4 >> 2];
          Rh(a3, 4808, d3) | 0;
          l3 = b4;
          return;
        }
        function Eh(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = dr() | 0;
          c2[a3 >> 2] = d3;
          er(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function Fh(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Oq(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function Gh(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          tq(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function Hh(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          cq(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function Ih(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Lp(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Jh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          pp(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Kh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Yo(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Lh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Fo(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Mh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          mo(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Nh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Un(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Oh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Bn(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Ph(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Um(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Qh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Bm(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Rh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          im(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Sh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Rl(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Th(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          vl(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Uh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          bl(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Vh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Kk(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Wh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          nk(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Xh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Rj(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Yh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          xj(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function Zh(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          _i(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function _h(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          $h(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function $h(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          bi(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function ai(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function bi(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = ci() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = di(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, ei(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function ci() {
          var b4 = 0, d3 = 0;
          if (!(a2[7616] | 0)) {
            qi(9136);
            Ha(24, 9136, o3 | 0) | 0;
            d3 = 7616;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9136) | 0)) {
            b4 = 9136;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            qi(9136);
          }
          return 9136;
        }
        function di(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function ei(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = ci() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            ki(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            li(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function fi(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          o4 = h3 + 24 | 0;
          n3 = h3 + 20 | 0;
          j4 = h3 + 16 | 0;
          m3 = h3 + 12 | 0;
          k4 = h3 + 8 | 0;
          i4 = h3 + 4 | 0;
          p4 = h3;
          c2[n3 >> 2] = b4;
          c2[j4 >> 2] = d3;
          c2[m3 >> 2] = e4;
          c2[k4 >> 2] = f5;
          c2[i4 >> 2] = g4;
          g4 = a3 + 28 | 0;
          c2[p4 >> 2] = c2[g4 >> 2];
          c2[o4 >> 2] = c2[p4 >> 2];
          gi(a3 + 24 | 0, o4, n3, m3, k4, j4, i4) | 0;
          c2[g4 >> 2] = c2[c2[g4 >> 2] >> 2];
          l3 = h3;
          return;
        }
        function gi(a3, b4, d3, e4, f5, g4, h3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          h3 = h3 | 0;
          a3 = hi(b4) | 0;
          b4 = qC(24) | 0;
          ii(b4 + 4 | 0, c2[d3 >> 2] | 0, c2[e4 >> 2] | 0, c2[f5 >> 2] | 0, c2[g4 >> 2] | 0, c2[h3 >> 2] | 0);
          c2[b4 >> 2] = c2[a3 >> 2];
          c2[a3 >> 2] = b4;
          return b4 | 0;
        }
        function hi(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function ii(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5;
          c2[a3 + 16 >> 2] = g4;
          return;
        }
        function ji(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return b4 | a3 | 0;
        }
        function ki(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function li(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = mi(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            ni(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            ki(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            oi(a3, i4);
            pi(i4);
            l3 = k4;
            return;
          }
        }
        function mi(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function ni(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function oi(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function pi(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function qi(a3) {
          a3 = a3 | 0;
          ui(a3);
          return;
        }
        function ri(a3) {
          a3 = a3 | 0;
          ti(a3 + 24 | 0);
          return;
        }
        function si(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function ti(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function ui(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 3, b4, wi() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function vi() {
          return 9228;
        }
        function wi() {
          return 1140;
        }
        function xi(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = zi(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = Ai(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function yi(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5;
          c2[a3 + 16 >> 2] = g4;
          return;
        }
        function zi(a3) {
          a3 = a3 | 0;
          return (c2[(ci() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Ai(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 48 | 0;
          e4 = f5;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          ob[d3 & 31](e4, a3);
          e4 = Bi(e4) | 0;
          l3 = f5;
          return e4 | 0;
        }
        function Bi(a3) {
          a3 = a3 | 0;
          var b4 = 0, c3 = 0, d3 = 0, e4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          b4 = e4 + 12 | 0;
          c3 = e4;
          d3 = Di(Ci() | 0) | 0;
          if (!d3)
            a3 = Ii(a3) | 0;
          else {
            Ei(b4, d3);
            Fi(c3, b4);
            Gi(a3, c3);
            a3 = Hi(b4) | 0;
          }
          l3 = e4;
          return a3 | 0;
        }
        function Ci() {
          var b4 = 0;
          if (!(a2[7632] | 0)) {
            Ti(9184);
            Ha(25, 9184, o3 | 0) | 0;
            b4 = 7632;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 9184;
        }
        function Di(a3) {
          a3 = a3 | 0;
          return c2[a3 + 36 >> 2] | 0;
        }
        function Ei(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = a3;
          c2[a3 + 8 >> 2] = 0;
          return;
        }
        function Fi(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = c2[b4 + 4 >> 2];
          c2[a3 + 8 >> 2] = 0;
          return;
        }
        function Gi(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Ni(b4, a3, a3 + 8 | 0, a3 + 16 | 0, a3 + 24 | 0, a3 + 32 | 0, a3 + 40 | 0) | 0;
          return;
        }
        function Hi(a3) {
          a3 = a3 | 0;
          return c2[(c2[a3 + 4 >> 2] | 0) + 8 >> 2] | 0;
        }
        function Ii(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          j4 = l3;
          l3 = l3 + 16 | 0;
          d3 = j4 + 4 | 0;
          e4 = j4;
          f5 = jy(8) | 0;
          g4 = f5;
          h3 = qC(48) | 0;
          i4 = h3;
          b4 = i4 + 48 | 0;
          do {
            c2[i4 >> 2] = c2[a3 >> 2];
            i4 = i4 + 4 | 0;
            a3 = a3 + 4 | 0;
          } while ((i4 | 0) < (b4 | 0));
          b4 = g4 + 4 | 0;
          c2[b4 >> 2] = h3;
          i4 = qC(8) | 0;
          h3 = c2[b4 >> 2] | 0;
          c2[e4 >> 2] = 0;
          c2[d3 >> 2] = c2[e4 >> 2];
          Ji(i4, h3, d3);
          c2[f5 >> 2] = i4;
          l3 = j4;
          return g4 | 0;
        }
        function Ji(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          d3 = qC(16) | 0;
          c2[d3 + 4 >> 2] = 0;
          c2[d3 + 8 >> 2] = 0;
          c2[d3 >> 2] = 1092;
          c2[d3 + 12 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Ki(a3) {
          a3 = a3 | 0;
          kC(a3);
          sC(a3);
          return;
        }
        function Li(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 12 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Mi(a3) {
          a3 = a3 | 0;
          sC(a3);
          return;
        }
        function Ni(a3, b4, d3, e4, f5, g4, h3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          h3 = h3 | 0;
          g4 = Oi(c2[a3 >> 2] | 0, b4, d3, e4, f5, g4, h3) | 0;
          h3 = a3 + 4 | 0;
          c2[(c2[h3 >> 2] | 0) + 8 >> 2] = g4;
          return c2[(c2[h3 >> 2] | 0) + 8 >> 2] | 0;
        }
        function Oi(a3, b4, c3, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          j4 = i4;
          UA(j4);
          a3 = Sg(a3) | 0;
          g4 = Pi(a3, +h2[b4 >> 3], +h2[c3 >> 3], +h2[d3 >> 3], +h2[e4 >> 3], +h2[f5 >> 3], +h2[g4 >> 3]) | 0;
          WA(j4);
          l3 = i4;
          return g4 | 0;
        }
        function Pi(a3, b4, c3, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          d3 = +d3;
          e4 = +e4;
          f5 = +f5;
          g4 = +g4;
          var h3 = 0;
          h3 = Vg(Qi() | 0) | 0;
          b4 = +Wg(b4);
          c3 = +Wg(c3);
          d3 = +Wg(d3);
          e4 = +Wg(e4);
          f5 = +Wg(f5);
          return ya(0, h3 | 0, a3 | 0, +b4, +c3, +d3, +e4, +f5, + +Wg(g4)) | 0;
        }
        function Qi() {
          var b4 = 0;
          if (!(a2[7624] | 0)) {
            Ri(9172);
            b4 = 7624;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 9172;
        }
        function Ri(a3) {
          a3 = a3 | 0;
          fh(a3, Si() | 0, 6);
          return;
        }
        function Si() {
          return 1112;
        }
        function Ti(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function Ui(a3) {
          a3 = a3 | 0;
          Vi(a3 + 24 | 0);
          Wi(a3 + 16 | 0);
          return;
        }
        function Vi(a3) {
          a3 = a3 | 0;
          Yi(a3);
          return;
        }
        function Wi(a3) {
          a3 = a3 | 0;
          Xi(a3);
          return;
        }
        function Xi(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          b4 = c2[a3 >> 2] | 0;
          if (b4 | 0)
            do {
              d3 = b4;
              b4 = c2[b4 >> 2] | 0;
              sC(d3);
            } while ((b4 | 0) != 0);
          c2[a3 >> 2] = 0;
          return;
        }
        function Yi(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          b4 = c2[a3 >> 2] | 0;
          if (b4 | 0)
            do {
              d3 = b4;
              b4 = c2[b4 >> 2] | 0;
              sC(d3);
            } while ((b4 | 0) != 0);
          c2[a3 >> 2] = 0;
          return;
        }
        function Zi(b4) {
          b4 = b4 | 0;
          var d3 = 0;
          c2[b4 + 16 >> 2] = 0;
          c2[b4 + 20 >> 2] = 0;
          d3 = b4 + 24 | 0;
          c2[d3 >> 2] = 0;
          c2[b4 + 28 >> 2] = d3;
          c2[b4 + 36 >> 2] = 0;
          a2[b4 + 40 >> 0] = 0;
          a2[b4 + 41 >> 0] = 0;
          return;
        }
        function _i(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          $i(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function $i(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = aj() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = bj(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, cj(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function aj() {
          var b4 = 0, d3 = 0;
          if (!(a2[7640] | 0)) {
            jj(9232);
            Ha(26, 9232, o3 | 0) | 0;
            d3 = 7640;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9232) | 0)) {
            b4 = 9232;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            jj(9232);
          }
          return 9232;
        }
        function bj(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function cj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = aj() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            dj(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            ej(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function dj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function ej(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = fj(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            gj(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            dj(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            hj(a3, i4);
            ij(i4);
            l3 = k4;
            return;
          }
        }
        function fj(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function gj(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function hj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function ij(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function jj(a3) {
          a3 = a3 | 0;
          mj(a3);
          return;
        }
        function kj(a3) {
          a3 = a3 | 0;
          lj(a3 + 24 | 0);
          return;
        }
        function lj(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function mj(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 1, b4, nj() | 0, 3);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function nj() {
          return 1144;
        }
        function oj(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          e4 = +e4;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          h3 = g4 + 8 | 0;
          i4 = g4;
          j4 = pj(a3) | 0;
          a3 = c2[j4 + 4 >> 2] | 0;
          c2[i4 >> 2] = c2[j4 >> 2];
          c2[i4 + 4 >> 2] = a3;
          c2[h3 >> 2] = c2[i4 >> 2];
          c2[h3 + 4 >> 2] = c2[i4 + 4 >> 2];
          qj(b4, h3, d3, e4, f5);
          l3 = g4;
          return;
        }
        function pj(a3) {
          a3 = a3 | 0;
          return (c2[(aj() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function qj(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          e4 = +e4;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          k4 = l3;
          l3 = l3 + 16 | 0;
          h3 = k4 + 2 | 0;
          i4 = k4 + 1 | 0;
          j4 = k4;
          g4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            g4 = c2[(c2[a3 >> 2] | 0) + g4 >> 2] | 0;
          rj(h3, d3);
          d3 = +sj(h3, d3);
          rj(i4, e4);
          e4 = +sj(i4, e4);
          tj(j4, f5);
          j4 = uj(j4, f5) | 0;
          qb[g4 & 1](a3, d3, e4, j4);
          l3 = k4;
          return;
        }
        function rj(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          return;
        }
        function sj(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          return + +wj(b4);
        }
        function tj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function uj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return vj(b4) | 0;
        }
        function vj(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function wj(a3) {
          a3 = +a3;
          return +a3;
        }
        function xj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          yj(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function yj(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = zj() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Aj(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Bj(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function zj() {
          var b4 = 0, d3 = 0;
          if (!(a2[7648] | 0)) {
            Ij(9268);
            Ha(27, 9268, o3 | 0) | 0;
            d3 = 7648;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9268) | 0)) {
            b4 = 9268;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Ij(9268);
          }
          return 9268;
        }
        function Aj(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Bj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = zj() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Cj(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Dj(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Cj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Dj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Ej(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Fj(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Cj(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Gj(a3, i4);
            Hj(i4);
            l3 = k4;
            return;
          }
        }
        function Ej(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Fj(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Gj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Hj(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Ij(a3) {
          a3 = a3 | 0;
          Lj(a3);
          return;
        }
        function Jj(a3) {
          a3 = a3 | 0;
          Kj(a3 + 24 | 0);
          return;
        }
        function Kj(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Lj(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 4, b4, Mj() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Mj() {
          return 1160;
        }
        function Nj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = Oj(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = Pj(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function Oj(a3) {
          a3 = a3 | 0;
          return (c2[(zj() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Pj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          return Qj(pb[d3 & 31](a3) | 0) | 0;
        }
        function Qj(a3) {
          a3 = a3 | 0;
          return a3 & 1 | 0;
        }
        function Rj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Sj(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Sj(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Tj() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Uj(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Vj(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Tj() {
          var b4 = 0, d3 = 0;
          if (!(a2[7656] | 0)) {
            ak(9304);
            Ha(28, 9304, o3 | 0) | 0;
            d3 = 7656;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9304) | 0)) {
            b4 = 9304;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            ak(9304);
          }
          return 9304;
        }
        function Uj(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Vj(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Tj() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Wj(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Xj(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Wj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Xj(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Yj(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Zj(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Wj(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            _j(a3, i4);
            $j(i4);
            l3 = k4;
            return;
          }
        }
        function Yj(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Zj(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function _j(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function $j(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function ak(a3) {
          a3 = a3 | 0;
          dk(a3);
          return;
        }
        function bk(a3) {
          a3 = a3 | 0;
          ck(a3 + 24 | 0);
          return;
        }
        function ck(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function dk(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 5, b4, ek() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function ek() {
          return 1164;
        }
        function fk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = gk(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          hk(b4, f5, d3);
          l3 = e4;
          return;
        }
        function gk(a3) {
          a3 = a3 | 0;
          return (c2[(Tj() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function hk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          ik(f5, d3);
          d3 = jk(f5, d3) | 0;
          ob[e4 & 31](a3, d3);
          kk(f5);
          l3 = g4;
          return;
        }
        function ik(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          lk(a3, b4);
          return;
        }
        function jk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return a3 | 0;
        }
        function kk(a3) {
          a3 = a3 | 0;
          vf(a3);
          return;
        }
        function lk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          mk(a3, b4);
          return;
        }
        function mk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = b4;
          return;
        }
        function nk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          ok(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function ok(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = pk() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = qk(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, rk(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function pk() {
          var b4 = 0, d3 = 0;
          if (!(a2[7664] | 0)) {
            yk(9340);
            Ha(29, 9340, o3 | 0) | 0;
            d3 = 7664;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9340) | 0)) {
            b4 = 9340;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            yk(9340);
          }
          return 9340;
        }
        function qk(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function rk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = pk() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            sk(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            tk(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function sk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function tk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = uk(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            vk(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            sk(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            wk(a3, i4);
            xk(i4);
            l3 = k4;
            return;
          }
        }
        function uk(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function vk(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function wk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function xk(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function yk(a3) {
          a3 = a3 | 0;
          Bk(a3);
          return;
        }
        function zk(a3) {
          a3 = a3 | 0;
          Ak(a3 + 24 | 0);
          return;
        }
        function Ak(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Bk(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 4, b4, Ck() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Ck() {
          return 1180;
        }
        function Dk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Ek(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          d3 = Fk(b4, f5, d3) | 0;
          l3 = e4;
          return d3 | 0;
        }
        function Ek(a3) {
          a3 = a3 | 0;
          return (c2[(pk() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Fk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          Gk(f5, d3);
          f5 = Hk(f5, d3) | 0;
          f5 = Ik(wb[e4 & 15](a3, f5) | 0) | 0;
          l3 = g4;
          return f5 | 0;
        }
        function Gk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Hk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Jk(b4) | 0;
        }
        function Ik(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Jk(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Kk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Lk(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Lk(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Mk() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Nk(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Ok(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Mk() {
          var b4 = 0, d3 = 0;
          if (!(a2[7672] | 0)) {
            Vk(9376);
            Ha(30, 9376, o3 | 0) | 0;
            d3 = 7672;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9376) | 0)) {
            b4 = 9376;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Vk(9376);
          }
          return 9376;
        }
        function Nk(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Ok(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Mk() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Pk(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Qk(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Pk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Qk(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Rk(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Sk(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Pk(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Tk(a3, i4);
            Uk(i4);
            l3 = k4;
            return;
          }
        }
        function Rk(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Sk(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Tk(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Uk(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Vk(a3) {
          a3 = a3 | 0;
          Yk(a3);
          return;
        }
        function Wk(a3) {
          a3 = a3 | 0;
          Xk(a3 + 24 | 0);
          return;
        }
        function Xk(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Yk(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 5, b4, Zk() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Zk() {
          return 1196;
        }
        function _k(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = $k(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = al(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function $k(a3) {
          a3 = a3 | 0;
          return (c2[(Mk() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function al(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          return Ik(pb[d3 & 31](a3) | 0) | 0;
        }
        function bl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          cl(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function cl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = dl() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = el(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, fl(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function dl() {
          var b4 = 0, d3 = 0;
          if (!(a2[7680] | 0)) {
            ml(9412);
            Ha(31, 9412, o3 | 0) | 0;
            d3 = 7680;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9412) | 0)) {
            b4 = 9412;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            ml(9412);
          }
          return 9412;
        }
        function el(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function fl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = dl() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            gl(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            hl(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function gl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function hl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = il(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            jl(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            gl(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            kl(a3, i4);
            ll(i4);
            l3 = k4;
            return;
          }
        }
        function il(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function jl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function kl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function ll(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function ml(a3) {
          a3 = a3 | 0;
          pl(a3);
          return;
        }
        function nl(a3) {
          a3 = a3 | 0;
          ol(a3 + 24 | 0);
          return;
        }
        function ol(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function pl(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 6, b4, ql() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function ql() {
          return 1200;
        }
        function rl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = sl(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = tl(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function sl(a3) {
          a3 = a3 | 0;
          return (c2[(dl() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function tl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          return ul(pb[d3 & 31](a3) | 0) | 0;
        }
        function ul(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function vl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          wl(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function wl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = xl() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = yl(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, zl(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function xl() {
          var b4 = 0, d3 = 0;
          if (!(a2[7688] | 0)) {
            Gl(9448);
            Ha(32, 9448, o3 | 0) | 0;
            d3 = 7688;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9448) | 0)) {
            b4 = 9448;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Gl(9448);
          }
          return 9448;
        }
        function yl(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function zl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = xl() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Al(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Bl(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Al(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Bl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Cl(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Dl(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Al(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            El(a3, i4);
            Fl(i4);
            l3 = k4;
            return;
          }
        }
        function Cl(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Dl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function El(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Fl(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Gl(a3) {
          a3 = a3 | 0;
          Jl(a3);
          return;
        }
        function Hl(a3) {
          a3 = a3 | 0;
          Il(a3 + 24 | 0);
          return;
        }
        function Il(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Jl(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 6, b4, Kl() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Kl() {
          return 1204;
        }
        function Ll(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Ml(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Nl(b4, f5, d3);
          l3 = e4;
          return;
        }
        function Ml(a3) {
          a3 = a3 | 0;
          return (c2[(xl() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Nl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          Ol(f5, d3);
          f5 = Pl(f5, d3) | 0;
          ob[e4 & 31](a3, f5);
          l3 = g4;
          return;
        }
        function Ol(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Pl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Ql(b4) | 0;
        }
        function Ql(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Rl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Sl(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Sl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Tl() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Ul(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Vl(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Tl() {
          var b4 = 0, d3 = 0;
          if (!(a2[7696] | 0)) {
            am(9484);
            Ha(33, 9484, o3 | 0) | 0;
            d3 = 7696;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9484) | 0)) {
            b4 = 9484;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            am(9484);
          }
          return 9484;
        }
        function Ul(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Vl(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Tl() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Wl(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Xl(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Wl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Xl(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Yl(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Zl(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Wl(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            _l(a3, i4);
            $l(i4);
            l3 = k4;
            return;
          }
        }
        function Yl(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Zl(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function _l(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function $l(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function am(a3) {
          a3 = a3 | 0;
          dm(a3);
          return;
        }
        function bm(a3) {
          a3 = a3 | 0;
          cm(a3 + 24 | 0);
          return;
        }
        function cm(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function dm(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 1, b4, em() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function em() {
          return 1212;
        }
        function fm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5 + 8 | 0;
          h3 = f5;
          i4 = gm(a3) | 0;
          a3 = c2[i4 + 4 >> 2] | 0;
          c2[h3 >> 2] = c2[i4 >> 2];
          c2[h3 + 4 >> 2] = a3;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = c2[h3 + 4 >> 2];
          hm(b4, g4, d3, e4);
          l3 = f5;
          return;
        }
        function gm(a3) {
          a3 = a3 | 0;
          return (c2[(Tl() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function hm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          g4 = i4 + 1 | 0;
          h3 = i4;
          f5 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            f5 = c2[(c2[a3 >> 2] | 0) + f5 >> 2] | 0;
          Ol(g4, d3);
          g4 = Pl(g4, d3) | 0;
          Gk(h3, e4);
          h3 = Hk(h3, e4) | 0;
          Eb[f5 & 15](a3, g4, h3);
          l3 = i4;
          return;
        }
        function im(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          jm(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function jm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = km() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = lm(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, mm(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function km() {
          var b4 = 0, d3 = 0;
          if (!(a2[7704] | 0)) {
            tm(9520);
            Ha(34, 9520, o3 | 0) | 0;
            d3 = 7704;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9520) | 0)) {
            b4 = 9520;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            tm(9520);
          }
          return 9520;
        }
        function lm(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function mm(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = km() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            nm(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            om(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function nm(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function om(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = pm(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            qm(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            nm(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            rm(a3, i4);
            sm(i4);
            l3 = k4;
            return;
          }
        }
        function pm(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function qm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function rm(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function sm(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function tm(a3) {
          a3 = a3 | 0;
          wm(a3);
          return;
        }
        function um(a3) {
          a3 = a3 | 0;
          vm(a3 + 24 | 0);
          return;
        }
        function vm(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function wm(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 1, b4, xm() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function xm() {
          return 1224;
        }
        function ym(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5 + 8 | 0;
          h3 = f5;
          i4 = zm(a3) | 0;
          a3 = c2[i4 + 4 >> 2] | 0;
          c2[h3 >> 2] = c2[i4 >> 2];
          c2[h3 + 4 >> 2] = a3;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = c2[h3 + 4 >> 2];
          e4 = +Am(b4, g4, d3);
          l3 = f5;
          return +e4;
        }
        function zm(a3) {
          a3 = a3 | 0;
          return (c2[(km() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Am(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          tj(f5, d3);
          f5 = uj(f5, d3) | 0;
          h3 = +ch(+zb[e4 & 7](a3, f5));
          l3 = g4;
          return +h3;
        }
        function Bm(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Cm(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function Cm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Dm() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Em(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Fm(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Dm() {
          var b4 = 0, d3 = 0;
          if (!(a2[7712] | 0)) {
            Mm(9556);
            Ha(35, 9556, o3 | 0) | 0;
            d3 = 7712;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9556) | 0)) {
            b4 = 9556;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Mm(9556);
          }
          return 9556;
        }
        function Em(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Fm(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Dm() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Gm(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Hm(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Gm(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Hm(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Im(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Jm(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Gm(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Km(a3, i4);
            Lm(i4);
            l3 = k4;
            return;
          }
        }
        function Im(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Jm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Km(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Lm(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Mm(a3) {
          a3 = a3 | 0;
          Pm(a3);
          return;
        }
        function Nm(a3) {
          a3 = a3 | 0;
          Om(a3 + 24 | 0);
          return;
        }
        function Om(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Pm(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 5, b4, Qm() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Qm() {
          return 1232;
        }
        function Rm(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Sm(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          d3 = +Tm(b4, f5);
          l3 = e4;
          return +d3;
        }
        function Sm(a3) {
          a3 = a3 | 0;
          return (c2[(Dm() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Tm(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          return + +ch(+ub[d3 & 15](a3));
        }
        function Um(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Vm(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function Vm(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Wm() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Xm(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Ym(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Wm() {
          var b4 = 0, d3 = 0;
          if (!(a2[7720] | 0)) {
            dn(9592);
            Ha(36, 9592, o3 | 0) | 0;
            d3 = 7720;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9592) | 0)) {
            b4 = 9592;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            dn(9592);
          }
          return 9592;
        }
        function Xm(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Ym(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Wm() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Zm(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            _m(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Zm(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function _m(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = $m(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            an(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Zm(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            bn(a3, i4);
            cn(i4);
            l3 = k4;
            return;
          }
        }
        function $m(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function an(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function bn(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function cn(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function dn(a3) {
          a3 = a3 | 0;
          gn(a3);
          return;
        }
        function en(a3) {
          a3 = a3 | 0;
          fn(a3 + 24 | 0);
          return;
        }
        function fn(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function gn(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 7, b4, hn() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function hn() {
          return 1276;
        }
        function jn(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = kn(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = ln(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function kn(a3) {
          a3 = a3 | 0;
          return (c2[(Wm() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function ln(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          e4 = f5;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          ob[d3 & 31](e4, a3);
          e4 = mn(e4) | 0;
          l3 = f5;
          return e4 | 0;
        }
        function mn(a3) {
          a3 = a3 | 0;
          var b4 = 0, c3 = 0, d3 = 0, e4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          b4 = e4 + 12 | 0;
          c3 = e4;
          d3 = Di(nn() | 0) | 0;
          if (!d3)
            a3 = pn(a3) | 0;
          else {
            Ei(b4, d3);
            Fi(c3, b4);
            on(a3, c3);
            a3 = Hi(b4) | 0;
          }
          l3 = e4;
          return a3 | 0;
        }
        function nn() {
          var b4 = 0;
          if (!(a2[7736] | 0)) {
            An(9640);
            Ha(25, 9640, o3 | 0) | 0;
            b4 = 7736;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 9640;
        }
        function on(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          un(b4, a3, a3 + 8 | 0) | 0;
          return;
        }
        function pn(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          f5 = d3 + 4 | 0;
          h3 = d3;
          e4 = jy(8) | 0;
          b4 = e4;
          i4 = qC(16) | 0;
          c2[i4 >> 2] = c2[a3 >> 2];
          c2[i4 + 4 >> 2] = c2[a3 + 4 >> 2];
          c2[i4 + 8 >> 2] = c2[a3 + 8 >> 2];
          c2[i4 + 12 >> 2] = c2[a3 + 12 >> 2];
          g4 = b4 + 4 | 0;
          c2[g4 >> 2] = i4;
          a3 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          qn(a3, g4, f5);
          c2[e4 >> 2] = a3;
          l3 = d3;
          return b4 | 0;
        }
        function qn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          d3 = qC(16) | 0;
          c2[d3 + 4 >> 2] = 0;
          c2[d3 + 8 >> 2] = 0;
          c2[d3 >> 2] = 1244;
          c2[d3 + 12 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function rn(a3) {
          a3 = a3 | 0;
          kC(a3);
          sC(a3);
          return;
        }
        function sn(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 12 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function tn(a3) {
          a3 = a3 | 0;
          sC(a3);
          return;
        }
        function un(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          b4 = vn(c2[a3 >> 2] | 0, b4, d3) | 0;
          d3 = a3 + 4 | 0;
          c2[(c2[d3 >> 2] | 0) + 8 >> 2] = b4;
          return c2[(c2[d3 >> 2] | 0) + 8 >> 2] | 0;
        }
        function vn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4;
          UA(f5);
          a3 = Sg(a3) | 0;
          d3 = wn(a3, c2[b4 >> 2] | 0, +h2[d3 >> 3]) | 0;
          WA(f5);
          l3 = e4;
          return d3 | 0;
        }
        function wn(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          var d3 = 0;
          d3 = Vg(xn() | 0) | 0;
          b4 = Xg(b4) | 0;
          return za(0, d3 | 0, a3 | 0, b4 | 0, + +Wg(c3)) | 0;
        }
        function xn() {
          var b4 = 0;
          if (!(a2[7728] | 0)) {
            yn(9628);
            b4 = 7728;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 9628;
        }
        function yn(a3) {
          a3 = a3 | 0;
          fh(a3, zn() | 0, 2);
          return;
        }
        function zn() {
          return 1264;
        }
        function An(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function Bn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Cn(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function Cn(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Dn() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = En(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Fn(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Dn() {
          var b4 = 0, d3 = 0;
          if (!(a2[7744] | 0)) {
            Mn(9684);
            Ha(37, 9684, o3 | 0) | 0;
            d3 = 7744;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9684) | 0)) {
            b4 = 9684;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Mn(9684);
          }
          return 9684;
        }
        function En(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Fn(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Dn() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Gn(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Hn(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Gn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Hn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = In(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Jn(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Gn(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Kn(a3, i4);
            Ln(i4);
            l3 = k4;
            return;
          }
        }
        function In(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Jn(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Kn(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Ln(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Mn(a3) {
          a3 = a3 | 0;
          Pn(a3);
          return;
        }
        function Nn(a3) {
          a3 = a3 | 0;
          On(a3 + 24 | 0);
          return;
        }
        function On(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Pn(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 5, b4, Qn() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Qn() {
          return 1280;
        }
        function Rn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Sn(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          d3 = Tn(b4, f5, d3) | 0;
          l3 = e4;
          return d3 | 0;
        }
        function Sn(a3) {
          a3 = a3 | 0;
          return (c2[(Dn() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Tn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          f5 = h3;
          g4 = h3 + 16 | 0;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          tj(g4, d3);
          g4 = uj(g4, d3) | 0;
          Eb[e4 & 15](f5, a3, g4);
          g4 = mn(f5) | 0;
          l3 = h3;
          return g4 | 0;
        }
        function Un(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Vn(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function Vn(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Wn() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Xn(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Yn(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Wn() {
          var b4 = 0, d3 = 0;
          if (!(a2[7752] | 0)) {
            eo(9720);
            Ha(38, 9720, o3 | 0) | 0;
            d3 = 7752;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9720) | 0)) {
            b4 = 9720;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            eo(9720);
          }
          return 9720;
        }
        function Xn(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Yn(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Wn() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Zn(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            _n(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Zn(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function _n(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = $n(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            ao(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Zn(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            bo(a3, i4);
            co(i4);
            l3 = k4;
            return;
          }
        }
        function $n(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function ao(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function bo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function co(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function eo(a3) {
          a3 = a3 | 0;
          ho(a3);
          return;
        }
        function fo(a3) {
          a3 = a3 | 0;
          go(a3 + 24 | 0);
          return;
        }
        function go(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function ho(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 8, b4, io() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function io() {
          return 1288;
        }
        function jo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = ko(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          b4 = lo(b4, e4) | 0;
          l3 = d3;
          return b4 | 0;
        }
        function ko(a3) {
          a3 = a3 | 0;
          return (c2[(Wn() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function lo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          return bh(pb[d3 & 31](a3) | 0) | 0;
        }
        function mo(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          no(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function no(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = oo() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = po(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, qo(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function oo() {
          var b4 = 0, d3 = 0;
          if (!(a2[7760] | 0)) {
            xo(9756);
            Ha(39, 9756, o3 | 0) | 0;
            d3 = 7760;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9756) | 0)) {
            b4 = 9756;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            xo(9756);
          }
          return 9756;
        }
        function po(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function qo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = oo() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            ro(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            so(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function ro(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function so(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = to(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            uo(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            ro(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            vo(a3, i4);
            wo(i4);
            l3 = k4;
            return;
          }
        }
        function to(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function uo(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function vo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function wo(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function xo(a3) {
          a3 = a3 | 0;
          Ao(a3);
          return;
        }
        function yo(a3) {
          a3 = a3 | 0;
          zo(a3 + 24 | 0);
          return;
        }
        function zo(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Ao(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 8, b4, Bo() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Bo() {
          return 1292;
        }
        function Co(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Do(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Eo(b4, f5, d3);
          l3 = e4;
          return;
        }
        function Do(a3) {
          a3 = a3 | 0;
          return (c2[(oo() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Eo(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          rj(f5, d3);
          d3 = +sj(f5, d3);
          lb[e4 & 31](a3, d3);
          l3 = g4;
          return;
        }
        function Fo(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Go(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Go(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Ho() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Io(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Jo(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Ho() {
          var b4 = 0, d3 = 0;
          if (!(a2[7768] | 0)) {
            Qo(9792);
            Ha(40, 9792, o3 | 0) | 0;
            d3 = 7768;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9792) | 0)) {
            b4 = 9792;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Qo(9792);
          }
          return 9792;
        }
        function Io(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Jo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Ho() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Ko(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Lo(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Ko(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Lo(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Mo(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            No(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Ko(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Oo(a3, i4);
            Po(i4);
            l3 = k4;
            return;
          }
        }
        function Mo(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function No(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Oo(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Po(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Qo(a3) {
          a3 = a3 | 0;
          To(a3);
          return;
        }
        function Ro(a3) {
          a3 = a3 | 0;
          So(a3 + 24 | 0);
          return;
        }
        function So(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function To(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 1, b4, Uo() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Uo() {
          return 1300;
        }
        function Vo(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = +e4;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5 + 8 | 0;
          h3 = f5;
          i4 = Wo(a3) | 0;
          a3 = c2[i4 + 4 >> 2] | 0;
          c2[h3 >> 2] = c2[i4 >> 2];
          c2[h3 + 4 >> 2] = a3;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = c2[h3 + 4 >> 2];
          Xo(b4, g4, d3, e4);
          l3 = f5;
          return;
        }
        function Wo(a3) {
          a3 = a3 | 0;
          return (c2[(Ho() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Xo(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = +e4;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          g4 = i4 + 1 | 0;
          h3 = i4;
          f5 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            f5 = c2[(c2[a3 >> 2] | 0) + f5 >> 2] | 0;
          tj(g4, d3);
          g4 = uj(g4, d3) | 0;
          rj(h3, e4);
          e4 = +sj(h3, e4);
          Gb[f5 & 15](a3, g4, e4);
          l3 = i4;
          return;
        }
        function Yo(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Zo(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Zo(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = _o() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = $o(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, ap(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function _o() {
          var b4 = 0, d3 = 0;
          if (!(a2[7776] | 0)) {
            hp(9828);
            Ha(41, 9828, o3 | 0) | 0;
            d3 = 7776;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9828) | 0)) {
            b4 = 9828;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            hp(9828);
          }
          return 9828;
        }
        function $o(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function ap(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = _o() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            bp(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            cp(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function bp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function cp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = dp(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            ep(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            bp(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            fp(a3, i4);
            gp(i4);
            l3 = k4;
            return;
          }
        }
        function dp(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function ep(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function fp(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function gp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function hp(a3) {
          a3 = a3 | 0;
          kp(a3);
          return;
        }
        function ip(a3) {
          a3 = a3 | 0;
          jp(a3 + 24 | 0);
          return;
        }
        function jp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function kp(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 7, b4, lp() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function lp() {
          return 1312;
        }
        function mp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = np(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          op(b4, f5, d3);
          l3 = e4;
          return;
        }
        function np(a3) {
          a3 = a3 | 0;
          return (c2[(_o() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function op(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          tj(f5, d3);
          f5 = uj(f5, d3) | 0;
          ob[e4 & 31](a3, f5);
          l3 = g4;
          return;
        }
        function pp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          qp(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function qp(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = rp() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = sp(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, tp(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function rp() {
          var b4 = 0, d3 = 0;
          if (!(a2[7784] | 0)) {
            Ap(9864);
            Ha(42, 9864, o3 | 0) | 0;
            d3 = 7784;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9864) | 0)) {
            b4 = 9864;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Ap(9864);
          }
          return 9864;
        }
        function sp(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function tp(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = rp() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            up(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            vp(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function up(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function vp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = wp(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            xp(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            up(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            yp(a3, i4);
            zp(i4);
            l3 = k4;
            return;
          }
        }
        function wp(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function xp(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function yp(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function zp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Ap(a3) {
          a3 = a3 | 0;
          Dp(a3);
          return;
        }
        function Bp(a3) {
          a3 = a3 | 0;
          Cp(a3 + 24 | 0);
          return;
        }
        function Cp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Dp(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 8, b4, Ep() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Ep() {
          return 1320;
        }
        function Fp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Gp(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Hp(b4, f5, d3);
          l3 = e4;
          return;
        }
        function Gp(a3) {
          a3 = a3 | 0;
          return (c2[(rp() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Hp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          Ip(f5, d3);
          f5 = Jp(f5, d3) | 0;
          ob[e4 & 31](a3, f5);
          l3 = g4;
          return;
        }
        function Ip(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Jp(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Kp(b4) | 0;
        }
        function Kp(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Lp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Mp(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Mp(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Np() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Op(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Pp(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Np() {
          var b4 = 0, d3 = 0;
          if (!(a2[7792] | 0)) {
            Wp(9900);
            Ha(43, 9900, o3 | 0) | 0;
            d3 = 7792;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9900) | 0)) {
            b4 = 9900;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Wp(9900);
          }
          return 9900;
        }
        function Op(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Pp(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Np() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Qp(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Rp(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Qp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Rp(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Sp(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Tp(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Qp(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Up(a3, i4);
            Vp(i4);
            l3 = k4;
            return;
          }
        }
        function Sp(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Tp(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Up(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Vp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Wp(a3) {
          a3 = a3 | 0;
          Zp(a3);
          return;
        }
        function Xp(a3) {
          a3 = a3 | 0;
          Yp(a3 + 24 | 0);
          return;
        }
        function Yp(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Zp(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 22, b4, _p() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function _p() {
          return 1344;
        }
        function $p(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3 + 8 | 0;
          f5 = d3;
          g4 = aq(a3) | 0;
          a3 = c2[g4 + 4 >> 2] | 0;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = a3;
          c2[e4 >> 2] = c2[f5 >> 2];
          c2[e4 + 4 >> 2] = c2[f5 + 4 >> 2];
          bq(b4, e4);
          l3 = d3;
          return;
        }
        function aq(a3) {
          a3 = a3 | 0;
          return (c2[(Np() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function bq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            d3 = c2[(c2[a3 >> 2] | 0) + d3 >> 2] | 0;
          nb[d3 & 127](a3);
          return;
        }
        function cq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = dq() | 0;
          a3 = eq(d3) | 0;
          fi(g4, b4, f5, a3, fq(d3, e4) | 0, e4);
          return;
        }
        function dq() {
          var b4 = 0, d3 = 0;
          if (!(a2[7800] | 0)) {
            mq(9936);
            Ha(44, 9936, o3 | 0) | 0;
            d3 = 7800;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9936) | 0)) {
            b4 = 9936;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            mq(9936);
          }
          return 9936;
        }
        function eq(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function fq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = dq() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            gq(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            hq(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function gq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function hq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = iq(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            jq(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            gq(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            kq(a3, f5);
            lq(f5);
            l3 = i4;
            return;
          }
        }
        function iq(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function jq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function kq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function lq(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function mq(a3) {
          a3 = a3 | 0;
          pq(a3);
          return;
        }
        function nq(a3) {
          a3 = a3 | 0;
          oq(a3 + 24 | 0);
          return;
        }
        function oq(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function pq(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 23, b4, Kl() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function qq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          sq(c2[(rq(a3) | 0) >> 2] | 0, b4);
          return;
        }
        function rq(a3) {
          a3 = a3 | 0;
          return (c2[(dq() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function sq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0, d3 = 0;
          c3 = l3;
          l3 = l3 + 16 | 0;
          d3 = c3;
          Ol(d3, b4);
          b4 = Pl(d3, b4) | 0;
          nb[a3 & 127](b4);
          l3 = c3;
          return;
        }
        function tq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = uq() | 0;
          a3 = vq(d3) | 0;
          fi(g4, b4, f5, a3, wq(d3, e4) | 0, e4);
          return;
        }
        function uq() {
          var b4 = 0, d3 = 0;
          if (!(a2[7808] | 0)) {
            Dq(9972);
            Ha(45, 9972, o3 | 0) | 0;
            d3 = 7808;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(9972) | 0)) {
            b4 = 9972;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Dq(9972);
          }
          return 9972;
        }
        function vq(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function wq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = uq() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            xq(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            yq(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function xq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function yq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = zq(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Aq(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            xq(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Bq(a3, f5);
            Cq(f5);
            l3 = i4;
            return;
          }
        }
        function zq(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Aq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Bq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Cq(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Dq(a3) {
          a3 = a3 | 0;
          Gq(a3);
          return;
        }
        function Eq(a3) {
          a3 = a3 | 0;
          Fq(a3 + 24 | 0);
          return;
        }
        function Fq(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Gq(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 9, b4, Hq() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Hq() {
          return 1348;
        }
        function Iq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Kq(c2[(Jq(a3) | 0) >> 2] | 0, b4) | 0;
        }
        function Jq(a3) {
          a3 = a3 | 0;
          return (c2[(uq() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function Kq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0, d3 = 0;
          c3 = l3;
          l3 = l3 + 16 | 0;
          d3 = c3;
          Lq(d3, b4);
          b4 = Mq(d3, b4) | 0;
          b4 = Ik(pb[a3 & 31](b4) | 0) | 0;
          l3 = c3;
          return b4 | 0;
        }
        function Lq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Mq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Nq(b4) | 0;
        }
        function Nq(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Oq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Pq() | 0;
          a3 = Qq(d3) | 0;
          fi(g4, b4, f5, a3, Rq(d3, e4) | 0, e4);
          return;
        }
        function Pq() {
          var b4 = 0, d3 = 0;
          if (!(a2[7816] | 0)) {
            Yq(10008);
            Ha(46, 10008, o3 | 0) | 0;
            d3 = 7816;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10008) | 0)) {
            b4 = 10008;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Yq(10008);
          }
          return 10008;
        }
        function Qq(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Rq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Pq() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            Sq(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            Tq(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function Sq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Tq(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = Uq(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Vq(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            Sq(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Wq(a3, f5);
            Xq(f5);
            l3 = i4;
            return;
          }
        }
        function Uq(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Vq(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Wq(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Xq(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Yq(a3) {
          a3 = a3 | 0;
          $q(a3);
          return;
        }
        function Zq(a3) {
          a3 = a3 | 0;
          _q(a3 + 24 | 0);
          return;
        }
        function _q(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function $q(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 15, b4, Zk() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function ar(a3) {
          a3 = a3 | 0;
          return cr(c2[(br(a3) | 0) >> 2] | 0) | 0;
        }
        function br(a3) {
          a3 = a3 | 0;
          return (c2[(Pq() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function cr(a3) {
          a3 = a3 | 0;
          return Ik(Ab[a3 & 7]() | 0) | 0;
        }
        function dr() {
          var b4 = 0;
          if (!(a2[7832] | 0)) {
            nr(10052);
            Ha(25, 10052, o3 | 0) | 0;
            b4 = 7832;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10052;
        }
        function er(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = fr() | 0;
          c2[a3 + 4 >> 2] = gr() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = hr() | 0;
          c2[a3 + 32 >> 2] = 2;
          return;
        }
        function fr() {
          return 11709;
        }
        function gr() {
          return 1188;
        }
        function hr() {
          return lr() | 0;
        }
        function ir(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              kr(c3);
              sC(c3);
            }
          } else if (b4 | 0) {
            uf(b4);
            sC(b4);
          }
          return;
        }
        function jr(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return b4 & a3 | 0;
        }
        function kr(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function lr() {
          var b4 = 0;
          if (!(a2[7824] | 0)) {
            c2[2511] = mr() | 0;
            c2[2512] = 0;
            b4 = 7824;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10044;
        }
        function mr() {
          return 0;
        }
        function nr(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function or(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0;
          b4 = l3;
          l3 = l3 + 32 | 0;
          d3 = b4 + 24 | 0;
          g4 = b4 + 16 | 0;
          f5 = b4 + 8 | 0;
          e4 = b4;
          pr(a3, 4827);
          qr(a3, 4834, 3) | 0;
          rr(a3, 3682, 47) | 0;
          c2[g4 >> 2] = 9;
          c2[g4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[g4 >> 2];
          c2[d3 + 4 >> 2] = c2[g4 + 4 >> 2];
          sr(a3, 4841, d3) | 0;
          c2[f5 >> 2] = 1;
          c2[f5 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[f5 >> 2];
          c2[d3 + 4 >> 2] = c2[f5 + 4 >> 2];
          tr(a3, 4871, d3) | 0;
          c2[e4 >> 2] = 10;
          c2[e4 + 4 >> 2] = 0;
          c2[d3 >> 2] = c2[e4 >> 2];
          c2[d3 + 4 >> 2] = c2[e4 + 4 >> 2];
          ur(a3, 4891, d3) | 0;
          l3 = b4;
          return;
        }
        function pr(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = nt() | 0;
          c2[a3 >> 2] = d3;
          ot(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function qr(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Ws(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function rr(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Es(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function sr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          is(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function tr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Or(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function ur(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = c2[d3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[d3 >> 2];
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          vr(a3, b4, f5);
          l3 = e4;
          return a3 | 0;
        }
        function vr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          wr(a3, d3, f5, 1);
          l3 = e4;
          return;
        }
        function wr(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = xr() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = yr(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, zr(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function xr() {
          var b4 = 0, d3 = 0;
          if (!(a2[7840] | 0)) {
            Gr(10100);
            Ha(48, 10100, o3 | 0) | 0;
            d3 = 7840;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10100) | 0)) {
            b4 = 10100;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Gr(10100);
          }
          return 10100;
        }
        function yr(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function zr(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = xr() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Ar(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Br(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Ar(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Br(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Cr(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Dr(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Ar(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Er(a3, i4);
            Fr(i4);
            l3 = k4;
            return;
          }
        }
        function Cr(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Dr(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Er(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Fr(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Gr(a3) {
          a3 = a3 | 0;
          Jr(a3);
          return;
        }
        function Hr(a3) {
          a3 = a3 | 0;
          Ir(a3 + 24 | 0);
          return;
        }
        function Ir(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function Jr(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 6, b4, Kr() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Kr() {
          return 1364;
        }
        function Lr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = Mr(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          d3 = Nr(b4, f5, d3) | 0;
          l3 = e4;
          return d3 | 0;
        }
        function Mr(a3) {
          a3 = a3 | 0;
          return (c2[(xr() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function Nr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          tj(f5, d3);
          f5 = uj(f5, d3) | 0;
          f5 = Qj(wb[e4 & 15](a3, f5) | 0) | 0;
          l3 = g4;
          return f5 | 0;
        }
        function Or(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          Pr(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function Pr(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = Qr() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = Rr(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, Sr(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function Qr() {
          var b4 = 0, d3 = 0;
          if (!(a2[7848] | 0)) {
            Zr(10136);
            Ha(49, 10136, o3 | 0) | 0;
            d3 = 7848;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10136) | 0)) {
            b4 = 10136;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Zr(10136);
          }
          return 10136;
        }
        function Rr(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function Sr(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = Qr() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            Tr(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            Ur(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function Tr(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function Ur(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = Vr(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            Wr(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            Tr(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            Xr(a3, i4);
            Yr(i4);
            l3 = k4;
            return;
          }
        }
        function Vr(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function Wr(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function Xr(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Yr(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Zr(a3) {
          a3 = a3 | 0;
          as(a3);
          return;
        }
        function _r(a3) {
          a3 = a3 | 0;
          $r(a3 + 24 | 0);
          return;
        }
        function $r(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function as(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 9, b4, bs() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function bs() {
          return 1372;
        }
        function cs(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          h3 = ds(a3) | 0;
          a3 = c2[h3 + 4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = a3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          es(b4, f5, d3);
          l3 = e4;
          return;
        }
        function ds(a3) {
          a3 = a3 | 0;
          return (c2[(Qr() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function es(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          var e4 = 0, f5 = 0, g4 = 0, h3 = ib;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4;
          e4 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            e4 = c2[(c2[a3 >> 2] | 0) + e4 >> 2] | 0;
          fs(f5, d3);
          h3 = T2(gs(f5, d3));
          kb[e4 & 1](a3, h3);
          l3 = g4;
          return;
        }
        function fs(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          return;
        }
        function gs(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          return T2(hs(b4));
        }
        function hs(a3) {
          a3 = +a3;
          return T2(a3);
        }
        function is(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4 + 8 | 0;
          g4 = e4;
          i4 = c2[d3 >> 2] | 0;
          h3 = c2[d3 + 4 >> 2] | 0;
          d3 = ai(b4) | 0;
          c2[g4 >> 2] = i4;
          c2[g4 + 4 >> 2] = h3;
          c2[f5 >> 2] = c2[g4 >> 2];
          c2[f5 + 4 >> 2] = c2[g4 + 4 >> 2];
          js(a3, d3, f5, 0);
          l3 = e4;
          return;
        }
        function js(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5 + 16 | 0;
          m3 = f5 + 8 | 0;
          i4 = f5;
          k4 = c2[d3 >> 2] | 0;
          j4 = c2[d3 + 4 >> 2] | 0;
          h3 = c2[a3 >> 2] | 0;
          a3 = ks() | 0;
          c2[m3 >> 2] = k4;
          c2[m3 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[m3 >> 2];
          c2[g4 + 4 >> 2] = c2[m3 + 4 >> 2];
          d3 = ls(g4) | 0;
          c2[i4 >> 2] = k4;
          c2[i4 + 4 >> 2] = j4;
          c2[g4 >> 2] = c2[i4 >> 2];
          c2[g4 + 4 >> 2] = c2[i4 + 4 >> 2];
          fi(h3, b4, a3, d3, ms(g4, e4) | 0, e4);
          l3 = f5;
          return;
        }
        function ks() {
          var b4 = 0, d3 = 0;
          if (!(a2[7856] | 0)) {
            ts(10172);
            Ha(50, 10172, o3 | 0) | 0;
            d3 = 7856;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10172) | 0)) {
            b4 = 10172;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            ts(10172);
          }
          return 10172;
        }
        function ls(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function ms(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          m3 = l3;
          l3 = l3 + 32 | 0;
          f5 = m3 + 24 | 0;
          h3 = m3 + 16 | 0;
          i4 = m3;
          j4 = m3 + 8 | 0;
          g4 = c2[a3 >> 2] | 0;
          e4 = c2[a3 + 4 >> 2] | 0;
          c2[i4 >> 2] = g4;
          c2[i4 + 4 >> 2] = e4;
          n3 = ks() | 0;
          k4 = n3 + 24 | 0;
          a3 = ji(b4, 4) | 0;
          c2[j4 >> 2] = a3;
          b4 = n3 + 28 | 0;
          d3 = c2[b4 >> 2] | 0;
          if (d3 >>> 0 < (c2[n3 + 32 >> 2] | 0) >>> 0) {
            c2[h3 >> 2] = g4;
            c2[h3 + 4 >> 2] = e4;
            c2[f5 >> 2] = c2[h3 >> 2];
            c2[f5 + 4 >> 2] = c2[h3 + 4 >> 2];
            ns(d3, f5, a3);
            a3 = (c2[b4 >> 2] | 0) + 12 | 0;
            c2[b4 >> 2] = a3;
          } else {
            os(k4, i4, j4);
            a3 = c2[b4 >> 2] | 0;
          }
          l3 = m3;
          return ((a3 - (c2[k4 >> 2] | 0) | 0) / 12 | 0) + -1 | 0;
        }
        function ns(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          e4 = c2[b4 + 4 >> 2] | 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 8 >> 2] = d3;
          return;
        }
        function os(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0;
          k4 = l3;
          l3 = l3 + 48 | 0;
          e4 = k4 + 32 | 0;
          h3 = k4 + 24 | 0;
          i4 = k4;
          j4 = a3 + 4 | 0;
          f5 = (((c2[j4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0) / 12 | 0) + 1 | 0;
          g4 = ps(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            m3 = c2[a3 >> 2] | 0;
            o4 = ((c2[a3 + 8 >> 2] | 0) - m3 | 0) / 12 | 0;
            n3 = o4 << 1;
            qs(i4, o4 >>> 0 < g4 >>> 1 >>> 0 ? n3 >>> 0 < f5 >>> 0 ? f5 : n3 : g4, ((c2[j4 >> 2] | 0) - m3 | 0) / 12 | 0, a3 + 8 | 0);
            j4 = i4 + 8 | 0;
            g4 = c2[j4 >> 2] | 0;
            f5 = c2[b4 + 4 >> 2] | 0;
            d3 = c2[d3 >> 2] | 0;
            c2[h3 >> 2] = c2[b4 >> 2];
            c2[h3 + 4 >> 2] = f5;
            c2[e4 >> 2] = c2[h3 >> 2];
            c2[e4 + 4 >> 2] = c2[h3 + 4 >> 2];
            ns(g4, e4, d3);
            c2[j4 >> 2] = (c2[j4 >> 2] | 0) + 12;
            rs(a3, i4);
            ss(i4);
            l3 = k4;
            return;
          }
        }
        function ps(a3) {
          a3 = a3 | 0;
          return 357913941;
        }
        function qs(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 357913941)
                Ta();
              else {
                f5 = qC(b4 * 12 | 0) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 * 12 | 0) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 * 12 | 0);
          return;
        }
        function rs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (((f5 | 0) / -12 | 0) * 12 | 0) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function ss(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~(((e4 + -12 - b4 | 0) >>> 0) / 12 | 0) * 12 | 0);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function ts(a3) {
          a3 = a3 | 0;
          ws(a3);
          return;
        }
        function us(a3) {
          a3 = a3 | 0;
          vs(a3 + 24 | 0);
          return;
        }
        function vs(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~(((b4 + -12 - e4 | 0) >>> 0) / 12 | 0) * 12 | 0);
            sC(d3);
          }
          return;
        }
        function ws(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 2, 3, b4, xs() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function xs() {
          return 1380;
        }
        function ys(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5 + 8 | 0;
          h3 = f5;
          i4 = zs(a3) | 0;
          a3 = c2[i4 + 4 >> 2] | 0;
          c2[h3 >> 2] = c2[i4 >> 2];
          c2[h3 + 4 >> 2] = a3;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = c2[h3 + 4 >> 2];
          As(b4, g4, d3, e4);
          l3 = f5;
          return;
        }
        function zs(a3) {
          a3 = a3 | 0;
          return (c2[(ks() | 0) + 24 >> 2] | 0) + (a3 * 12 | 0) | 0;
        }
        function As(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          g4 = i4 + 1 | 0;
          h3 = i4;
          f5 = c2[b4 >> 2] | 0;
          b4 = c2[b4 + 4 >> 2] | 0;
          a3 = a3 + (b4 >> 1) | 0;
          if (b4 & 1)
            f5 = c2[(c2[a3 >> 2] | 0) + f5 >> 2] | 0;
          tj(g4, d3);
          g4 = uj(g4, d3) | 0;
          Bs(h3, e4);
          h3 = Cs(h3, e4) | 0;
          Eb[f5 & 15](a3, g4, h3);
          l3 = i4;
          return;
        }
        function Bs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Cs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return Ds(b4) | 0;
        }
        function Ds(a3) {
          a3 = a3 | 0;
          return (a3 | 0) != 0 | 0;
        }
        function Es(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Fs() | 0;
          a3 = Gs(d3) | 0;
          fi(g4, b4, f5, a3, Hs(d3, e4) | 0, e4);
          return;
        }
        function Fs() {
          var b4 = 0, d3 = 0;
          if (!(a2[7864] | 0)) {
            Os(10208);
            Ha(51, 10208, o3 | 0) | 0;
            d3 = 7864;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10208) | 0)) {
            b4 = 10208;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Os(10208);
          }
          return 10208;
        }
        function Gs(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Hs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Fs() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            Is(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            Js(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function Is(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Js(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = Ks(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Ls(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            Is(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Ms(a3, f5);
            Ns(f5);
            l3 = i4;
            return;
          }
        }
        function Ks(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Ls(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Ms(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Ns(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Os(a3) {
          a3 = a3 | 0;
          Rs(a3);
          return;
        }
        function Ps(a3) {
          a3 = a3 | 0;
          Qs(a3 + 24 | 0);
          return;
        }
        function Qs(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Rs(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 24, b4, Ss() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Ss() {
          return 1392;
        }
        function Ts(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          Vs(c2[(Us(a3) | 0) >> 2] | 0, b4);
          return;
        }
        function Us(a3) {
          a3 = a3 | 0;
          return (c2[(Fs() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function Vs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0, d3 = 0;
          c3 = l3;
          l3 = l3 + 16 | 0;
          d3 = c3;
          Lq(d3, b4);
          b4 = Mq(d3, b4) | 0;
          nb[a3 & 127](b4);
          l3 = c3;
          return;
        }
        function Ws(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Xs() | 0;
          a3 = Ys(d3) | 0;
          fi(g4, b4, f5, a3, Zs(d3, e4) | 0, e4);
          return;
        }
        function Xs() {
          var b4 = 0, d3 = 0;
          if (!(a2[7872] | 0)) {
            et2(10244);
            Ha(52, 10244, o3 | 0) | 0;
            d3 = 7872;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10244) | 0)) {
            b4 = 10244;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            et2(10244);
          }
          return 10244;
        }
        function Ys(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Zs(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Xs() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            _s(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            $s(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function _s(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function $s(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = at(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            bt(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            _s(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            ct(a3, f5);
            dt(f5);
            l3 = i4;
            return;
          }
        }
        function at(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function bt(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function ct(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function dt(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function et2(a3) {
          a3 = a3 | 0;
          ht2(a3);
          return;
        }
        function ft(a3) {
          a3 = a3 | 0;
          gt(a3 + 24 | 0);
          return;
        }
        function gt(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function ht2(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 16, b4, it() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function it() {
          return 1400;
        }
        function jt(a3) {
          a3 = a3 | 0;
          return lt(c2[(kt(a3) | 0) >> 2] | 0) | 0;
        }
        function kt(a3) {
          a3 = a3 | 0;
          return (c2[(Xs() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function lt(a3) {
          a3 = a3 | 0;
          return mt(Ab[a3 & 7]() | 0) | 0;
        }
        function mt(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function nt() {
          var b4 = 0;
          if (!(a2[7880] | 0)) {
            ut(10280);
            Ha(25, 10280, o3 | 0) | 0;
            b4 = 7880;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10280;
        }
        function ot(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = pt() | 0;
          c2[a3 + 4 >> 2] = qt() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = rt() | 0;
          c2[a3 + 32 >> 2] = 4;
          return;
        }
        function pt() {
          return 11711;
        }
        function qt() {
          return 1356;
        }
        function rt() {
          return lr() | 0;
        }
        function st(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              tt2(c3);
              sC(c3);
            }
          } else if (b4 | 0) {
            mf(b4);
            sC(b4);
          }
          return;
        }
        function tt2(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function ut(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function vt(a3) {
          a3 = a3 | 0;
          wt(a3, 4920);
          xt(a3) | 0;
          yt(a3) | 0;
          return;
        }
        function wt(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = nn() | 0;
          c2[a3 >> 2] = d3;
          Yt(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function xt(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, Mt() | 0);
          return a3 | 0;
        }
        function yt(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, zt() | 0);
          return a3 | 0;
        }
        function zt() {
          var b4 = 0;
          if (!(a2[7888] | 0)) {
            Bt(10328);
            Ha(53, 10328, o3 | 0) | 0;
            b4 = 7888;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10328) | 0))
            Bt(10328);
          return 10328;
        }
        function At(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          fi(a3, 0, b4, 0, 0, 0);
          return;
        }
        function Bt(a3) {
          a3 = a3 | 0;
          Et(a3);
          Gt(a3, 10);
          return;
        }
        function Ct(a3) {
          a3 = a3 | 0;
          Dt(a3 + 24 | 0);
          return;
        }
        function Dt(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Et(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 1, b4, Jt() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Ft(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          Ht(a3, b4, c3);
          return;
        }
        function Gt(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 + 20 >> 2] = b4;
          return;
        }
        function Ht(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = +d3;
          var e4 = 0, f5 = 0, g4 = 0, i4 = 0, j4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          g4 = e4 + 8 | 0;
          j4 = e4 + 13 | 0;
          f5 = e4;
          i4 = e4 + 12 | 0;
          tj(j4, b4);
          c2[g4 >> 2] = uj(j4, b4) | 0;
          rj(i4, d3);
          h2[f5 >> 3] = +sj(i4, d3);
          It(a3, g4, f5);
          l3 = e4;
          return;
        }
        function It(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          mg(b4 + 8 | 0, c2[d3 >> 2] | 0, +h2[e4 >> 3]);
          a2[b4 + 24 >> 0] = 1;
          return;
        }
        function Jt() {
          return 1404;
        }
        function Kt(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          return Lt(a3, b4) | 0;
        }
        function Lt(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          g4 = e4 + 4 | 0;
          h3 = e4 + 8 | 0;
          i4 = e4;
          f5 = jy(8) | 0;
          d3 = f5;
          j4 = qC(16) | 0;
          tj(g4, a3);
          a3 = uj(g4, a3) | 0;
          rj(h3, b4);
          mg(j4, a3, +sj(h3, b4));
          h3 = d3 + 4 | 0;
          c2[h3 >> 2] = j4;
          a3 = qC(8) | 0;
          h3 = c2[h3 >> 2] | 0;
          c2[i4 >> 2] = 0;
          c2[g4 >> 2] = c2[i4 >> 2];
          qn(a3, h3, g4);
          c2[f5 >> 2] = a3;
          l3 = e4;
          return d3 | 0;
        }
        function Mt() {
          var b4 = 0;
          if (!(a2[7896] | 0)) {
            Nt(10364);
            Ha(54, 10364, o3 | 0) | 0;
            b4 = 7896;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10364) | 0))
            Nt(10364);
          return 10364;
        }
        function Nt(a3) {
          a3 = a3 | 0;
          Qt(a3);
          Gt(a3, 55);
          return;
        }
        function Ot(a3) {
          a3 = a3 | 0;
          Pt(a3 + 24 | 0);
          return;
        }
        function Pt(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Qt(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 4, b4, Vt() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Rt(a3) {
          a3 = a3 | 0;
          St(a3);
          return;
        }
        function St(a3) {
          a3 = a3 | 0;
          Tt(a3);
          return;
        }
        function Tt(b4) {
          b4 = b4 | 0;
          Ut(b4 + 8 | 0);
          a2[b4 + 24 >> 0] = 1;
          return;
        }
        function Ut(a3) {
          a3 = a3 | 0;
          c2[a3 >> 2] = 0;
          h2[a3 + 8 >> 3] = 0;
          return;
        }
        function Vt() {
          return 1424;
        }
        function Wt() {
          return Xt() | 0;
        }
        function Xt() {
          var a3 = 0, b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          b4 = l3;
          l3 = l3 + 16 | 0;
          f5 = b4 + 4 | 0;
          h3 = b4;
          d3 = jy(8) | 0;
          a3 = d3;
          e4 = qC(16) | 0;
          Ut(e4);
          g4 = a3 + 4 | 0;
          c2[g4 >> 2] = e4;
          e4 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          qn(e4, g4, f5);
          c2[d3 >> 2] = e4;
          l3 = b4;
          return a3 | 0;
        }
        function Yt(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = Zt() | 0;
          c2[a3 + 4 >> 2] = _t() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = $t() | 0;
          c2[a3 + 32 >> 2] = 5;
          return;
        }
        function Zt() {
          return 11710;
        }
        function _t() {
          return 1416;
        }
        function $t() {
          return cu() | 0;
        }
        function au(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              bu(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function bu(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function cu() {
          var b4 = 0;
          if (!(a2[7904] | 0)) {
            c2[2600] = du() | 0;
            c2[2601] = 0;
            b4 = 7904;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10400;
        }
        function du() {
          return c2[357] | 0;
        }
        function eu(a3) {
          a3 = a3 | 0;
          fu(a3, 4926);
          gu(a3) | 0;
          return;
        }
        function fu(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = Ci() | 0;
          c2[a3 >> 2] = d3;
          su(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function gu(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, hu() | 0);
          return a3 | 0;
        }
        function hu() {
          var b4 = 0;
          if (!(a2[7912] | 0)) {
            iu(10412);
            Ha(56, 10412, o3 | 0) | 0;
            b4 = 7912;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10412) | 0))
            iu(10412);
          return 10412;
        }
        function iu(a3) {
          a3 = a3 | 0;
          lu(a3);
          Gt(a3, 57);
          return;
        }
        function ju(a3) {
          a3 = a3 | 0;
          ku(a3 + 24 | 0);
          return;
        }
        function ku(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function lu(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 5, b4, pu() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function mu(a3) {
          a3 = a3 | 0;
          nu(a3);
          return;
        }
        function nu(a3) {
          a3 = a3 | 0;
          ou(a3);
          return;
        }
        function ou(b4) {
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = b4 + 8 | 0;
          e4 = d3 + 48 | 0;
          do {
            c2[d3 >> 2] = 0;
            d3 = d3 + 4 | 0;
          } while ((d3 | 0) < (e4 | 0));
          a2[b4 + 56 >> 0] = 1;
          return;
        }
        function pu() {
          return 1432;
        }
        function qu() {
          return ru() | 0;
        }
        function ru() {
          var a3 = 0, b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          h3 = l3;
          l3 = l3 + 16 | 0;
          a3 = h3 + 4 | 0;
          b4 = h3;
          d3 = jy(8) | 0;
          e4 = d3;
          f5 = qC(48) | 0;
          g4 = f5;
          i4 = g4 + 48 | 0;
          do {
            c2[g4 >> 2] = 0;
            g4 = g4 + 4 | 0;
          } while ((g4 | 0) < (i4 | 0));
          g4 = e4 + 4 | 0;
          c2[g4 >> 2] = f5;
          i4 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[b4 >> 2] = 0;
          c2[a3 >> 2] = c2[b4 >> 2];
          Ji(i4, g4, a3);
          c2[d3 >> 2] = i4;
          l3 = h3;
          return e4 | 0;
        }
        function su(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = tu() | 0;
          c2[a3 + 4 >> 2] = uu() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = vu() | 0;
          c2[a3 + 32 >> 2] = 6;
          return;
        }
        function tu() {
          return 11704;
        }
        function uu() {
          return 1436;
        }
        function vu() {
          return cu() | 0;
        }
        function wu(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              xu(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function xu(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function yu(a3) {
          a3 = a3 | 0;
          zu(a3, 4933);
          Au(a3) | 0;
          Bu(a3) | 0;
          return;
        }
        function zu(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = cv() | 0;
          c2[a3 >> 2] = d3;
          dv(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function Au(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, Su() | 0);
          return a3 | 0;
        }
        function Bu(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, Cu() | 0);
          return a3 | 0;
        }
        function Cu() {
          var b4 = 0;
          if (!(a2[7920] | 0)) {
            Du(10452);
            Ha(58, 10452, o3 | 0) | 0;
            b4 = 7920;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10452) | 0))
            Du(10452);
          return 10452;
        }
        function Du(a3) {
          a3 = a3 | 0;
          Gu(a3);
          Gt(a3, 1);
          return;
        }
        function Eu(a3) {
          a3 = a3 | 0;
          Fu(a3 + 24 | 0);
          return;
        }
        function Fu(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Gu(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 1, b4, Lu() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Hu(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          Iu(a3, b4, c3);
          return;
        }
        function Iu(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, i4 = 0;
          d3 = l3;
          l3 = l3 + 32 | 0;
          f5 = d3 + 8 | 0;
          i4 = d3 + 17 | 0;
          e4 = d3;
          g4 = d3 + 16 | 0;
          rj(i4, b4);
          h2[f5 >> 3] = +sj(i4, b4);
          rj(g4, c3);
          h2[e4 >> 3] = +sj(g4, c3);
          Ju(a3, f5, e4);
          l3 = d3;
          return;
        }
        function Ju(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          Ku(b4 + 8 | 0, +h2[c3 >> 3], +h2[d3 >> 3]);
          a2[b4 + 24 >> 0] = 1;
          return;
        }
        function Ku(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          h2[a3 >> 3] = b4;
          h2[a3 + 8 >> 3] = c3;
          return;
        }
        function Lu() {
          return 1472;
        }
        function Mu(a3, b4) {
          a3 = +a3;
          b4 = +b4;
          return Nu(a3, b4) | 0;
        }
        function Nu(a3, b4) {
          a3 = +a3;
          b4 = +b4;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          h3 = e4 + 4 | 0;
          i4 = e4 + 8 | 0;
          j4 = e4;
          f5 = jy(8) | 0;
          d3 = f5;
          g4 = qC(16) | 0;
          rj(h3, a3);
          a3 = +sj(h3, a3);
          rj(i4, b4);
          Ku(g4, a3, +sj(i4, b4));
          i4 = d3 + 4 | 0;
          c2[i4 >> 2] = g4;
          g4 = qC(8) | 0;
          i4 = c2[i4 >> 2] | 0;
          c2[j4 >> 2] = 0;
          c2[h3 >> 2] = c2[j4 >> 2];
          Ou(g4, i4, h3);
          c2[f5 >> 2] = g4;
          l3 = e4;
          return d3 | 0;
        }
        function Ou(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          d3 = qC(16) | 0;
          c2[d3 + 4 >> 2] = 0;
          c2[d3 + 8 >> 2] = 0;
          c2[d3 >> 2] = 1452;
          c2[d3 + 12 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Pu(a3) {
          a3 = a3 | 0;
          kC(a3);
          sC(a3);
          return;
        }
        function Qu(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 12 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Ru(a3) {
          a3 = a3 | 0;
          sC(a3);
          return;
        }
        function Su() {
          var b4 = 0;
          if (!(a2[7928] | 0)) {
            Tu(10488);
            Ha(59, 10488, o3 | 0) | 0;
            b4 = 7928;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10488) | 0))
            Tu(10488);
          return 10488;
        }
        function Tu(a3) {
          a3 = a3 | 0;
          Wu(a3);
          Gt(a3, 60);
          return;
        }
        function Uu(a3) {
          a3 = a3 | 0;
          Vu(a3 + 24 | 0);
          return;
        }
        function Vu(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Wu(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 6, b4, $u() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Xu(a3) {
          a3 = a3 | 0;
          Yu(a3);
          return;
        }
        function Yu(a3) {
          a3 = a3 | 0;
          Zu(a3);
          return;
        }
        function Zu(b4) {
          b4 = b4 | 0;
          _u(b4 + 8 | 0);
          a2[b4 + 24 >> 0] = 1;
          return;
        }
        function _u(a3) {
          a3 = a3 | 0;
          c2[a3 >> 2] = 0;
          c2[a3 + 4 >> 2] = 0;
          c2[a3 + 8 >> 2] = 0;
          c2[a3 + 12 >> 2] = 0;
          return;
        }
        function $u() {
          return 1492;
        }
        function av() {
          return bv() | 0;
        }
        function bv() {
          var a3 = 0, b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          b4 = l3;
          l3 = l3 + 16 | 0;
          f5 = b4 + 4 | 0;
          h3 = b4;
          d3 = jy(8) | 0;
          a3 = d3;
          e4 = qC(16) | 0;
          _u(e4);
          g4 = a3 + 4 | 0;
          c2[g4 >> 2] = e4;
          e4 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          Ou(e4, g4, f5);
          c2[d3 >> 2] = e4;
          l3 = b4;
          return a3 | 0;
        }
        function cv() {
          var b4 = 0;
          if (!(a2[7936] | 0)) {
            jv(10524);
            Ha(25, 10524, o3 | 0) | 0;
            b4 = 7936;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10524;
        }
        function dv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = ev() | 0;
          c2[a3 + 4 >> 2] = fv() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = gv() | 0;
          c2[a3 + 32 >> 2] = 7;
          return;
        }
        function ev() {
          return 11700;
        }
        function fv() {
          return 1484;
        }
        function gv() {
          return cu() | 0;
        }
        function hv(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              iv(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function iv(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function jv(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function kv(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          a3 = ai(b4) | 0;
          b4 = lv(c3) | 0;
          c3 = mv(c3, 0) | 0;
          Zv(a3, b4, c3, nv() | 0, 0);
          return;
        }
        function lv(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function mv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = nv() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            vv(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            wv(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function nv() {
          var b4 = 0, d3 = 0;
          if (!(a2[7944] | 0)) {
            ov(10568);
            Ha(61, 10568, o3 | 0) | 0;
            d3 = 7944;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10568) | 0)) {
            b4 = 10568;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            ov(10568);
          }
          return 10568;
        }
        function ov(a3) {
          a3 = a3 | 0;
          rv(a3);
          return;
        }
        function pv(a3) {
          a3 = a3 | 0;
          qv(a3 + 24 | 0);
          return;
        }
        function qv(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function rv(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 17, b4, ql() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function sv(a3) {
          a3 = a3 | 0;
          return uv(c2[(tv(a3) | 0) >> 2] | 0) | 0;
        }
        function tv(a3) {
          a3 = a3 | 0;
          return (c2[(nv() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function uv(a3) {
          a3 = a3 | 0;
          return ul(Ab[a3 & 7]() | 0) | 0;
        }
        function vv(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function wv(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = xv(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            yv(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            vv(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            zv(a3, f5);
            Av(f5);
            l3 = i4;
            return;
          }
        }
        function xv(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function yv(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function zv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Av(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Bv() {
          Cv();
          return;
        }
        function Cv() {
          Dv(10604);
          return;
        }
        function Dv(a3) {
          a3 = a3 | 0;
          Ev(a3, 4955);
          return;
        }
        function Ev(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = Fv() | 0;
          c2[a3 >> 2] = d3;
          Gv(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function Fv() {
          var b4 = 0;
          if (!(a2[7952] | 0)) {
            Rv(10612);
            Ha(25, 10612, o3 | 0) | 0;
            b4 = 7952;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10612;
        }
        function Gv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = Mv() | 0;
          c2[a3 + 4 >> 2] = Nv() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = Ov() | 0;
          c2[a3 + 32 >> 2] = 8;
          return;
        }
        function Hv(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          b4 = l3;
          l3 = l3 + 16 | 0;
          d3 = b4;
          Iv() | 0;
          c2[d3 >> 2] = a3;
          Jv(10608, d3);
          l3 = b4;
          return;
        }
        function Iv() {
          if (!(a2[11714] | 0)) {
            c2[2652] = 0;
            Ha(62, 10608, o3 | 0) | 0;
            a2[11714] = 1;
          }
          return 10608;
        }
        function Jv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = qC(8) | 0;
          c2[d3 + 4 >> 2] = c2[b4 >> 2];
          c2[d3 >> 2] = c2[a3 >> 2];
          c2[a3 >> 2] = d3;
          return;
        }
        function Kv(a3) {
          a3 = a3 | 0;
          Lv(a3);
          return;
        }
        function Lv(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          b4 = c2[a3 >> 2] | 0;
          if (b4 | 0)
            do {
              d3 = b4;
              b4 = c2[b4 >> 2] | 0;
              sC(d3);
            } while ((b4 | 0) != 0);
          c2[a3 >> 2] = 0;
          return;
        }
        function Mv() {
          return 11715;
        }
        function Nv() {
          return 1496;
        }
        function Ov() {
          return lr() | 0;
        }
        function Pv(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              Qv(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function Qv(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function Rv(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function Sv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          Iv() | 0;
          d3 = c2[2652] | 0;
          a:
            do
              if (d3 | 0) {
                while (1) {
                  e4 = c2[d3 + 4 >> 2] | 0;
                  if (e4 | 0 ? (AB(Tv(e4) | 0, a3) | 0) == 0 : 0)
                    break;
                  d3 = c2[d3 >> 2] | 0;
                  if (!d3)
                    break a;
                }
                Uv(e4, b4);
              }
            while (0);
          return;
        }
        function Tv(a3) {
          a3 = a3 | 0;
          return c2[a3 + 12 >> 2] | 0;
        }
        function Uv(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          a3 = a3 + 36 | 0;
          d3 = c2[a3 >> 2] | 0;
          if (d3 | 0) {
            vf(d3);
            sC(d3);
          }
          d3 = qC(4) | 0;
          Og(d3, b4);
          c2[a3 >> 2] = d3;
          return;
        }
        function Vv() {
          if (!(a2[11716] | 0)) {
            c2[2664] = 0;
            Ha(63, 10656, o3 | 0) | 0;
            a2[11716] = 1;
          }
          return 10656;
        }
        function Wv() {
          var b4 = 0;
          if (!(a2[11717] | 0)) {
            Xv();
            c2[2665] = 1504;
            a2[11717] = 1;
            b4 = 1504;
          } else
            b4 = c2[2665] | 0;
          return b4 | 0;
        }
        function Xv() {
          if (!(a2[11740] | 0)) {
            a2[11718] = ji(ji(8, 0) | 0, 0) | 0;
            a2[11719] = ji(ji(0, 0) | 0, 0) | 0;
            a2[11720] = ji(ji(0, 16) | 0, 0) | 0;
            a2[11721] = ji(ji(8, 0) | 0, 0) | 0;
            a2[11722] = ji(ji(0, 0) | 0, 0) | 0;
            a2[11723] = ji(ji(8, 0) | 0, 0) | 0;
            a2[11724] = ji(ji(0, 0) | 0, 0) | 0;
            a2[11725] = ji(ji(8, 0) | 0, 0) | 0;
            a2[11726] = ji(ji(0, 0) | 0, 0) | 0;
            a2[11727] = ji(ji(8, 0) | 0, 0) | 0;
            a2[11728] = ji(ji(0, 0) | 0, 0) | 0;
            a2[11729] = ji(ji(0, 0) | 0, 32) | 0;
            a2[11730] = ji(ji(0, 0) | 0, 32) | 0;
            a2[11740] = 1;
          }
          return;
        }
        function Yv() {
          return 1572;
        }
        function Zv(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          m3 = g4 + 16 | 0;
          k4 = g4 + 12 | 0;
          j4 = g4 + 8 | 0;
          i4 = g4 + 4 | 0;
          h3 = g4;
          c2[m3 >> 2] = a3;
          c2[k4 >> 2] = b4;
          c2[j4 >> 2] = d3;
          c2[i4 >> 2] = e4;
          c2[h3 >> 2] = f5;
          Vv() | 0;
          _v(10656, m3, k4, j4, i4, h3);
          l3 = g4;
          return;
        }
        function _v(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0;
          h3 = qC(24) | 0;
          ii(h3 + 4 | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0, c2[e4 >> 2] | 0, c2[f5 >> 2] | 0, c2[g4 >> 2] | 0);
          c2[h3 >> 2] = c2[a3 >> 2];
          c2[a3 >> 2] = h3;
          return;
        }
        function $v(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = 0;
          u3 = l3;
          l3 = l3 + 32 | 0;
          q3 = u3 + 20 | 0;
          r3 = u3 + 8 | 0;
          s3 = u3 + 4 | 0;
          t3 = u3;
          b4 = c2[b4 >> 2] | 0;
          if (b4 | 0) {
            p4 = q3 + 4 | 0;
            j4 = q3 + 8 | 0;
            k4 = r3 + 4 | 0;
            m3 = r3 + 8 | 0;
            n3 = r3 + 8 | 0;
            o4 = q3 + 8 | 0;
            do {
              h3 = b4 + 4 | 0;
              i4 = aw(h3) | 0;
              if (i4 | 0) {
                f5 = bw(i4) | 0;
                c2[q3 >> 2] = 0;
                c2[p4 >> 2] = 0;
                c2[j4 >> 2] = 0;
                e4 = (cw(i4) | 0) + 1 | 0;
                dw(q3, e4);
                if (e4 | 0)
                  while (1) {
                    e4 = e4 + -1 | 0;
                    OA(r3, c2[f5 >> 2] | 0);
                    g4 = c2[p4 >> 2] | 0;
                    if (g4 >>> 0 < (c2[o4 >> 2] | 0) >>> 0) {
                      c2[g4 >> 2] = c2[r3 >> 2];
                      c2[p4 >> 2] = (c2[p4 >> 2] | 0) + 4;
                    } else
                      ew(q3, r3);
                    if (!e4)
                      break;
                    else
                      f5 = f5 + 4 | 0;
                  }
                e4 = fw(i4) | 0;
                c2[r3 >> 2] = 0;
                c2[k4 >> 2] = 0;
                c2[m3 >> 2] = 0;
                a:
                  do
                    if (c2[e4 >> 2] | 0) {
                      f5 = 0;
                      g4 = 0;
                      while (1) {
                        if ((f5 | 0) == (g4 | 0))
                          gw(r3, e4);
                        else {
                          c2[f5 >> 2] = c2[e4 >> 2];
                          c2[k4 >> 2] = (c2[k4 >> 2] | 0) + 4;
                        }
                        e4 = e4 + 4 | 0;
                        if (!(c2[e4 >> 2] | 0))
                          break a;
                        f5 = c2[k4 >> 2] | 0;
                        g4 = c2[n3 >> 2] | 0;
                      }
                    }
                  while (0);
                c2[s3 >> 2] = hw(h3) | 0;
                c2[t3 >> 2] = si(i4) | 0;
                iw(d3, a3, s3, t3, q3, r3);
                jw(r3);
                kw(q3);
              }
              b4 = c2[b4 >> 2] | 0;
            } while ((b4 | 0) != 0);
          }
          l3 = u3;
          return;
        }
        function aw(a3) {
          a3 = a3 | 0;
          return c2[a3 + 12 >> 2] | 0;
        }
        function bw(a3) {
          a3 = a3 | 0;
          return c2[a3 + 12 >> 2] | 0;
        }
        function cw(a3) {
          a3 = a3 | 0;
          return c2[a3 + 16 >> 2] | 0;
        }
        function dw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          d3 = f5;
          e4 = c2[a3 >> 2] | 0;
          if ((c2[a3 + 8 >> 2] | 0) - e4 >> 2 >>> 0 < b4 >>> 0) {
            Rw(d3, b4, (c2[a3 + 4 >> 2] | 0) - e4 >> 2, a3 + 8 | 0);
            Sw(a3, d3);
            Tw(d3);
          }
          l3 = f5;
          return;
        }
        function ew(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          d3 = h3;
          e4 = a3 + 4 | 0;
          f5 = ((c2[e4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 2) + 1 | 0;
          g4 = Nw(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            i4 = c2[a3 >> 2] | 0;
            k4 = (c2[a3 + 8 >> 2] | 0) - i4 | 0;
            j4 = k4 >> 1;
            Rw(d3, k4 >> 2 >>> 0 < g4 >>> 1 >>> 0 ? j4 >>> 0 < f5 >>> 0 ? f5 : j4 : g4, (c2[e4 >> 2] | 0) - i4 >> 2, a3 + 8 | 0);
            g4 = d3 + 8 | 0;
            c2[c2[g4 >> 2] >> 2] = c2[b4 >> 2];
            c2[g4 >> 2] = (c2[g4 >> 2] | 0) + 4;
            Sw(a3, d3);
            Tw(d3);
            l3 = h3;
            return;
          }
        }
        function fw(a3) {
          a3 = a3 | 0;
          return c2[a3 + 8 >> 2] | 0;
        }
        function gw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          d3 = h3;
          e4 = a3 + 4 | 0;
          f5 = ((c2[e4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 2) + 1 | 0;
          g4 = Kw(a3) | 0;
          if (g4 >>> 0 < f5 >>> 0)
            jC(a3);
          else {
            i4 = c2[a3 >> 2] | 0;
            k4 = (c2[a3 + 8 >> 2] | 0) - i4 | 0;
            j4 = k4 >> 1;
            Ow(d3, k4 >> 2 >>> 0 < g4 >>> 1 >>> 0 ? j4 >>> 0 < f5 >>> 0 ? f5 : j4 : g4, (c2[e4 >> 2] | 0) - i4 >> 2, a3 + 8 | 0);
            g4 = d3 + 8 | 0;
            c2[c2[g4 >> 2] >> 2] = c2[b4 >> 2];
            c2[g4 >> 2] = (c2[g4 >> 2] | 0) + 4;
            Pw(a3, d3);
            Qw(d3);
            l3 = h3;
            return;
          }
        }
        function hw(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function iw(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          lw(a3, b4, c3, d3, e4, f5);
          return;
        }
        function jw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -4 - e4 | 0) >>> 2) << 2);
            sC(d3);
          }
          return;
        }
        function kw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -4 - e4 | 0) >>> 2) << 2);
            sC(d3);
          }
          return;
        }
        function lw(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          h3 = l3;
          l3 = l3 + 48 | 0;
          m3 = h3 + 40 | 0;
          i4 = h3 + 32 | 0;
          n3 = h3 + 24 | 0;
          j4 = h3 + 12 | 0;
          k4 = h3;
          UA(i4);
          a3 = Sg(a3) | 0;
          c2[n3 >> 2] = c2[b4 >> 2];
          d3 = c2[d3 >> 2] | 0;
          e4 = c2[e4 >> 2] | 0;
          mw(j4, f5);
          nw(k4, g4);
          c2[m3 >> 2] = c2[n3 >> 2];
          ow(a3, m3, d3, e4, j4, k4);
          jw(k4);
          kw(j4);
          WA(i4);
          l3 = h3;
          return;
        }
        function mw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          c2[a3 >> 2] = 0;
          c2[a3 + 4 >> 2] = 0;
          c2[a3 + 8 >> 2] = 0;
          d3 = b4 + 4 | 0;
          e4 = (c2[d3 >> 2] | 0) - (c2[b4 >> 2] | 0) >> 2;
          if (e4 | 0) {
            Lw(a3, e4);
            Mw(a3, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0, e4);
          }
          return;
        }
        function nw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          c2[a3 >> 2] = 0;
          c2[a3 + 4 >> 2] = 0;
          c2[a3 + 8 >> 2] = 0;
          d3 = b4 + 4 | 0;
          e4 = (c2[d3 >> 2] | 0) - (c2[b4 >> 2] | 0) >> 2;
          if (e4 | 0) {
            Iw(a3, e4);
            Jw(a3, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0, e4);
          }
          return;
        }
        function ow(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          m3 = h3 + 28 | 0;
          n3 = h3 + 24 | 0;
          i4 = h3 + 12 | 0;
          j4 = h3;
          k4 = Vg(pw() | 0) | 0;
          c2[n3 >> 2] = c2[b4 >> 2];
          c2[m3 >> 2] = c2[n3 >> 2];
          b4 = qw(m3) | 0;
          d3 = rw(d3) | 0;
          e4 = sw(e4) | 0;
          c2[i4 >> 2] = c2[f5 >> 2];
          m3 = f5 + 4 | 0;
          c2[i4 + 4 >> 2] = c2[m3 >> 2];
          n3 = f5 + 8 | 0;
          c2[i4 + 8 >> 2] = c2[n3 >> 2];
          c2[n3 >> 2] = 0;
          c2[m3 >> 2] = 0;
          c2[f5 >> 2] = 0;
          f5 = tw(i4) | 0;
          c2[j4 >> 2] = c2[g4 >> 2];
          m3 = g4 + 4 | 0;
          c2[j4 + 4 >> 2] = c2[m3 >> 2];
          n3 = g4 + 8 | 0;
          c2[j4 + 8 >> 2] = c2[n3 >> 2];
          c2[n3 >> 2] = 0;
          c2[m3 >> 2] = 0;
          c2[g4 >> 2] = 0;
          Ba(0, k4 | 0, a3 | 0, b4 | 0, d3 | 0, e4 | 0, f5 | 0, uw(j4) | 0) | 0;
          jw(j4);
          kw(i4);
          l3 = h3;
          return;
        }
        function pw() {
          var b4 = 0;
          if (!(a2[7968] | 0)) {
            Gw(10708);
            b4 = 7968;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10708;
        }
        function qw(a3) {
          a3 = a3 | 0;
          return yw(a3) | 0;
        }
        function rw(a3) {
          a3 = a3 | 0;
          return ww(a3) | 0;
        }
        function sw(a3) {
          a3 = a3 | 0;
          return ul(a3) | 0;
        }
        function tw(a3) {
          a3 = a3 | 0;
          return xw(a3) | 0;
        }
        function uw(a3) {
          a3 = a3 | 0;
          return vw(a3) | 0;
        }
        function vw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          e4 = (c2[a3 + 4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0;
          d3 = e4 >> 2;
          e4 = jy(e4 + 4 | 0) | 0;
          c2[e4 >> 2] = d3;
          if (d3 | 0) {
            b4 = 0;
            do {
              c2[e4 + 4 + (b4 << 2) >> 2] = ww(c2[(c2[a3 >> 2] | 0) + (b4 << 2) >> 2] | 0) | 0;
              b4 = b4 + 1 | 0;
            } while ((b4 | 0) != (d3 | 0));
          }
          return e4 | 0;
        }
        function ww(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function xw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          e4 = (c2[a3 + 4 >> 2] | 0) - (c2[a3 >> 2] | 0) | 0;
          d3 = e4 >> 2;
          e4 = jy(e4 + 4 | 0) | 0;
          c2[e4 >> 2] = d3;
          if (d3 | 0) {
            b4 = 0;
            do {
              c2[e4 + 4 + (b4 << 2) >> 2] = yw((c2[a3 >> 2] | 0) + (b4 << 2) | 0) | 0;
              b4 = b4 + 1 | 0;
            } while ((b4 | 0) != (d3 | 0));
          }
          return e4 | 0;
        }
        function yw(a3) {
          a3 = a3 | 0;
          var b4 = 0, c3 = 0, d3 = 0, e4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          b4 = e4 + 12 | 0;
          c3 = e4;
          d3 = Di(zw() | 0) | 0;
          if (!d3)
            a3 = Aw(a3) | 0;
          else {
            Ei(b4, d3);
            Fi(c3, b4);
            RA(a3, c3);
            a3 = Hi(b4) | 0;
          }
          l3 = e4;
          return a3 | 0;
        }
        function zw() {
          var b4 = 0;
          if (!(a2[7960] | 0)) {
            Fw(10664);
            Ha(25, 10664, o3 | 0) | 0;
            b4 = 7960;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10664;
        }
        function Aw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          f5 = d3 + 4 | 0;
          h3 = d3;
          e4 = jy(8) | 0;
          b4 = e4;
          i4 = qC(4) | 0;
          c2[i4 >> 2] = c2[a3 >> 2];
          g4 = b4 + 4 | 0;
          c2[g4 >> 2] = i4;
          a3 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          Bw(a3, g4, f5);
          c2[e4 >> 2] = a3;
          l3 = d3;
          return b4 | 0;
        }
        function Bw(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          d3 = qC(16) | 0;
          c2[d3 + 4 >> 2] = 0;
          c2[d3 + 8 >> 2] = 0;
          c2[d3 >> 2] = 1656;
          c2[d3 + 12 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Cw(a3) {
          a3 = a3 | 0;
          kC(a3);
          sC(a3);
          return;
        }
        function Dw(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 12 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Ew(a3) {
          a3 = a3 | 0;
          sC(a3);
          return;
        }
        function Fw(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function Gw(a3) {
          a3 = a3 | 0;
          fh(a3, Hw() | 0, 5);
          return;
        }
        function Hw() {
          return 1676;
        }
        function Iw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          if ((Kw(a3) | 0) >>> 0 < b4 >>> 0)
            jC(a3);
          if (b4 >>> 0 > 1073741823)
            Ta();
          else {
            d3 = qC(b4 << 2) | 0;
            c2[a3 + 4 >> 2] = d3;
            c2[a3 >> 2] = d3;
            c2[a3 + 8 >> 2] = d3 + (b4 << 2);
            return;
          }
        }
        function Jw(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          e4 = a3 + 4 | 0;
          a3 = d3 - b4 | 0;
          if ((a3 | 0) > 0) {
            BC(c2[e4 >> 2] | 0, b4 | 0, a3 | 0) | 0;
            c2[e4 >> 2] = (c2[e4 >> 2] | 0) + (a3 >>> 2 << 2);
          }
          return;
        }
        function Kw(a3) {
          a3 = a3 | 0;
          return 1073741823;
        }
        function Lw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          if ((Nw(a3) | 0) >>> 0 < b4 >>> 0)
            jC(a3);
          if (b4 >>> 0 > 1073741823)
            Ta();
          else {
            d3 = qC(b4 << 2) | 0;
            c2[a3 + 4 >> 2] = d3;
            c2[a3 >> 2] = d3;
            c2[a3 + 8 >> 2] = d3 + (b4 << 2);
            return;
          }
        }
        function Mw(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          e4 = a3 + 4 | 0;
          a3 = d3 - b4 | 0;
          if ((a3 | 0) > 0) {
            BC(c2[e4 >> 2] | 0, b4 | 0, a3 | 0) | 0;
            c2[e4 >> 2] = (c2[e4 >> 2] | 0) + (a3 >>> 2 << 2);
          }
          return;
        }
        function Nw(a3) {
          a3 = a3 | 0;
          return 1073741823;
        }
        function Ow(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 1073741823)
                Ta();
              else {
                f5 = qC(b4 << 2) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 2) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 2);
          return;
        }
        function Pw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 2) << 2) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Qw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -4 - b4 | 0) >>> 2) << 2);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Rw(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 1073741823)
                Ta();
              else {
                f5 = qC(b4 << 2) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 2) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 2);
          return;
        }
        function Sw(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 2) << 2) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Tw(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -4 - b4 | 0) >>> 2) << 2);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Uw(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0;
          r3 = l3;
          l3 = l3 + 32 | 0;
          m3 = r3 + 20 | 0;
          n3 = r3 + 12 | 0;
          k4 = r3 + 16 | 0;
          o4 = r3 + 4 | 0;
          p4 = r3;
          q3 = r3 + 8 | 0;
          i4 = Wv() | 0;
          g4 = c2[i4 >> 2] | 0;
          h3 = c2[g4 >> 2] | 0;
          if (h3 | 0) {
            j4 = c2[i4 + 8 >> 2] | 0;
            i4 = c2[i4 + 4 >> 2] | 0;
            while (1) {
              OA(m3, h3);
              Vw(a3, m3, i4, j4);
              g4 = g4 + 4 | 0;
              h3 = c2[g4 >> 2] | 0;
              if (!h3)
                break;
              else {
                j4 = j4 + 1 | 0;
                i4 = i4 + 1 | 0;
              }
            }
          }
          g4 = Yv() | 0;
          h3 = c2[g4 >> 2] | 0;
          if (h3 | 0)
            do {
              OA(m3, h3);
              c2[n3 >> 2] = c2[g4 + 4 >> 2];
              Ww(b4, m3, n3);
              g4 = g4 + 8 | 0;
              h3 = c2[g4 >> 2] | 0;
            } while ((h3 | 0) != 0);
          g4 = c2[(Iv() | 0) >> 2] | 0;
          if (g4 | 0)
            do {
              b4 = c2[g4 + 4 >> 2] | 0;
              OA(m3, c2[(Xw(b4) | 0) >> 2] | 0);
              c2[n3 >> 2] = Tv(b4) | 0;
              Yw(d3, m3, n3);
              g4 = c2[g4 >> 2] | 0;
            } while ((g4 | 0) != 0);
          OA(k4, 0);
          g4 = Vv() | 0;
          c2[m3 >> 2] = c2[k4 >> 2];
          $v(m3, g4, f5);
          g4 = c2[(Iv() | 0) >> 2] | 0;
          if (g4 | 0) {
            a3 = m3 + 4 | 0;
            b4 = m3 + 8 | 0;
            d3 = m3 + 8 | 0;
            do {
              j4 = c2[g4 + 4 >> 2] | 0;
              OA(n3, c2[(Xw(j4) | 0) >> 2] | 0);
              _w(o4, Zw(j4) | 0);
              h3 = c2[o4 >> 2] | 0;
              if (h3 | 0) {
                c2[m3 >> 2] = 0;
                c2[a3 >> 2] = 0;
                c2[b4 >> 2] = 0;
                do {
                  OA(p4, c2[(Xw(c2[h3 + 4 >> 2] | 0) | 0) >> 2] | 0);
                  i4 = c2[a3 >> 2] | 0;
                  if (i4 >>> 0 < (c2[d3 >> 2] | 0) >>> 0) {
                    c2[i4 >> 2] = c2[p4 >> 2];
                    c2[a3 >> 2] = (c2[a3 >> 2] | 0) + 4;
                  } else
                    ew(m3, p4);
                  h3 = c2[h3 >> 2] | 0;
                } while ((h3 | 0) != 0);
                $w(e4, n3, m3);
                kw(m3);
              }
              c2[q3 >> 2] = c2[n3 >> 2];
              k4 = ax(j4) | 0;
              c2[m3 >> 2] = c2[q3 >> 2];
              $v(m3, k4, f5);
              Wi(o4);
              g4 = c2[g4 >> 2] | 0;
            } while ((g4 | 0) != 0);
          }
          l3 = r3;
          return;
        }
        function Vw(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          ox(a3, b4, c3, d3);
          return;
        }
        function Ww(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          nx(a3, b4, c3);
          return;
        }
        function Xw(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Yw(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          ix(a3, b4, c3);
          return;
        }
        function Zw(a3) {
          a3 = a3 | 0;
          return a3 + 16 | 0;
        }
        function _w(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4 + 8 | 0;
          d3 = g4;
          c2[a3 >> 2] = 0;
          e4 = c2[b4 >> 2] | 0;
          c2[f5 >> 2] = e4;
          c2[d3 >> 2] = a3;
          d3 = gx(d3) | 0;
          if (e4 | 0) {
            e4 = qC(12) | 0;
            h3 = (hx(f5) | 0) + 4 | 0;
            a3 = c2[h3 + 4 >> 2] | 0;
            b4 = e4 + 4 | 0;
            c2[b4 >> 2] = c2[h3 >> 2];
            c2[b4 + 4 >> 2] = a3;
            b4 = c2[c2[f5 >> 2] >> 2] | 0;
            c2[f5 >> 2] = b4;
            if (!b4)
              a3 = e4;
            else {
              b4 = e4;
              while (1) {
                a3 = qC(12) | 0;
                j4 = (hx(f5) | 0) + 4 | 0;
                i4 = c2[j4 + 4 >> 2] | 0;
                h3 = a3 + 4 | 0;
                c2[h3 >> 2] = c2[j4 >> 2];
                c2[h3 + 4 >> 2] = i4;
                c2[b4 >> 2] = a3;
                h3 = c2[c2[f5 >> 2] >> 2] | 0;
                c2[f5 >> 2] = h3;
                if (!h3)
                  break;
                else
                  b4 = a3;
              }
            }
            c2[a3 >> 2] = c2[d3 >> 2];
            c2[d3 >> 2] = e4;
          }
          l3 = g4;
          return;
        }
        function $w(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          bx(a3, b4, c3);
          return;
        }
        function ax(a3) {
          a3 = a3 | 0;
          return a3 + 24 | 0;
        }
        function bx(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          h3 = e4 + 24 | 0;
          f5 = e4 + 16 | 0;
          i4 = e4 + 12 | 0;
          g4 = e4;
          UA(f5);
          a3 = Sg(a3) | 0;
          c2[i4 >> 2] = c2[b4 >> 2];
          mw(g4, d3);
          c2[h3 >> 2] = c2[i4 >> 2];
          cx(a3, h3, g4);
          kw(g4);
          WA(f5);
          l3 = e4;
          return;
        }
        function cx(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          h3 = e4 + 16 | 0;
          i4 = e4 + 12 | 0;
          f5 = e4;
          g4 = Vg(dx() | 0) | 0;
          c2[i4 >> 2] = c2[b4 >> 2];
          c2[h3 >> 2] = c2[i4 >> 2];
          b4 = qw(h3) | 0;
          c2[f5 >> 2] = c2[d3 >> 2];
          h3 = d3 + 4 | 0;
          c2[f5 + 4 >> 2] = c2[h3 >> 2];
          i4 = d3 + 8 | 0;
          c2[f5 + 8 >> 2] = c2[i4 >> 2];
          c2[i4 >> 2] = 0;
          c2[h3 >> 2] = 0;
          c2[d3 >> 2] = 0;
          xa(0, g4 | 0, a3 | 0, b4 | 0, tw(f5) | 0) | 0;
          kw(f5);
          l3 = e4;
          return;
        }
        function dx() {
          var b4 = 0;
          if (!(a2[7976] | 0)) {
            ex(10720);
            b4 = 7976;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10720;
        }
        function ex(a3) {
          a3 = a3 | 0;
          fh(a3, fx() | 0, 2);
          return;
        }
        function fx() {
          return 1732;
        }
        function gx(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function hx(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function ix(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          g4 = e4 + 16 | 0;
          f5 = e4 + 8 | 0;
          h3 = e4;
          UA(f5);
          a3 = Sg(a3) | 0;
          c2[h3 >> 2] = c2[b4 >> 2];
          d3 = c2[d3 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          jx(a3, g4, d3);
          WA(f5);
          l3 = e4;
          return;
        }
        function jx(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          g4 = e4 + 4 | 0;
          h3 = e4;
          f5 = Vg(kx() | 0) | 0;
          c2[h3 >> 2] = c2[b4 >> 2];
          c2[g4 >> 2] = c2[h3 >> 2];
          b4 = qw(g4) | 0;
          xa(0, f5 | 0, a3 | 0, b4 | 0, rw(d3) | 0) | 0;
          l3 = e4;
          return;
        }
        function kx() {
          var b4 = 0;
          if (!(a2[7984] | 0)) {
            lx(10732);
            b4 = 7984;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10732;
        }
        function lx(a3) {
          a3 = a3 | 0;
          fh(a3, mx() | 0, 2);
          return;
        }
        function mx() {
          return 1744;
        }
        function nx(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          g4 = e4 + 16 | 0;
          f5 = e4 + 8 | 0;
          h3 = e4;
          UA(f5);
          a3 = Sg(a3) | 0;
          c2[h3 >> 2] = c2[b4 >> 2];
          d3 = c2[d3 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          jx(a3, g4, d3);
          WA(f5);
          l3 = e4;
          return;
        }
        function ox(b4, d3, e4, f5) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          i4 = g4 + 16 | 0;
          h3 = g4 + 8 | 0;
          j4 = g4;
          UA(h3);
          b4 = Sg(b4) | 0;
          c2[j4 >> 2] = c2[d3 >> 2];
          e4 = a2[e4 >> 0] | 0;
          f5 = a2[f5 >> 0] | 0;
          c2[i4 >> 2] = c2[j4 >> 2];
          px(b4, i4, e4, f5);
          WA(h3);
          l3 = g4;
          return;
        }
        function px(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          h3 = f5 + 4 | 0;
          i4 = f5;
          g4 = Vg(qx() | 0) | 0;
          c2[i4 >> 2] = c2[b4 >> 2];
          c2[h3 >> 2] = c2[i4 >> 2];
          b4 = qw(h3) | 0;
          d3 = rx(d3) | 0;
          $a(0, g4 | 0, a3 | 0, b4 | 0, d3 | 0, rx(e4) | 0) | 0;
          l3 = f5;
          return;
        }
        function qx() {
          var b4 = 0;
          if (!(a2[7992] | 0)) {
            tx(10744);
            b4 = 7992;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10744;
        }
        function rx(a3) {
          a3 = a3 | 0;
          return sx(a3) | 0;
        }
        function sx(a3) {
          a3 = a3 | 0;
          return a3 & 255 | 0;
        }
        function tx(a3) {
          a3 = a3 | 0;
          fh(a3, ux2() | 0, 3);
          return;
        }
        function ux2() {
          return 1756;
        }
        function vx2(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0;
          p4 = l3;
          l3 = l3 + 32 | 0;
          j4 = p4 + 8 | 0;
          k4 = p4 + 4 | 0;
          m3 = p4 + 20 | 0;
          n3 = p4;
          mk(b4, 0);
          f5 = QA(d3) | 0;
          c2[j4 >> 2] = 0;
          o4 = j4 + 4 | 0;
          c2[o4 >> 2] = 0;
          c2[j4 + 8 >> 2] = 0;
          switch (f5 << 24 >> 24) {
            case 0: {
              a2[m3 >> 0] = 0;
              wx(k4, e4, m3);
              xx(b4, k4) | 0;
              wf(k4);
              break;
            }
            case 8: {
              o4 = PA(d3) | 0;
              a2[m3 >> 0] = 8;
              OA(n3, c2[o4 + 4 >> 2] | 0);
              yx(k4, e4, m3, n3, o4 + 8 | 0);
              xx(b4, k4) | 0;
              wf(k4);
              break;
            }
            case 9: {
              h3 = PA(d3) | 0;
              d3 = c2[h3 + 4 >> 2] | 0;
              if (d3 | 0) {
                i4 = j4 + 8 | 0;
                g4 = h3 + 12 | 0;
                while (1) {
                  d3 = d3 + -1 | 0;
                  OA(k4, c2[g4 >> 2] | 0);
                  f5 = c2[o4 >> 2] | 0;
                  if (f5 >>> 0 < (c2[i4 >> 2] | 0) >>> 0) {
                    c2[f5 >> 2] = c2[k4 >> 2];
                    c2[o4 >> 2] = (c2[o4 >> 2] | 0) + 4;
                  } else
                    ew(j4, k4);
                  if (!d3)
                    break;
                  else
                    g4 = g4 + 4 | 0;
                }
              }
              a2[m3 >> 0] = 9;
              OA(n3, c2[h3 + 8 >> 2] | 0);
              zx(k4, e4, m3, n3, j4);
              xx(b4, k4) | 0;
              wf(k4);
              break;
            }
            default: {
              o4 = PA(d3) | 0;
              a2[m3 >> 0] = f5;
              OA(n3, c2[o4 + 4 >> 2] | 0);
              Ax(k4, e4, m3, n3);
              xx(b4, k4) | 0;
              wf(k4);
            }
          }
          kw(j4);
          l3 = p4;
          return;
        }
        function wx(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          e4 = l3;
          l3 = l3 + 16 | 0;
          f5 = e4;
          UA(f5);
          c3 = Sg(c3) | 0;
          Ox(b4, c3, a2[d3 >> 0] | 0);
          WA(f5);
          l3 = e4;
          return;
        }
        function xx(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = c2[a3 >> 2] | 0;
          if (d3 | 0)
            ab(d3 | 0);
          c2[a3 >> 2] = c2[b4 >> 2];
          c2[b4 >> 2] = 0;
          return a3 | 0;
        }
        function yx(b4, d3, e4, f5, g4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          j4 = h3 + 16 | 0;
          i4 = h3 + 8 | 0;
          k4 = h3;
          UA(i4);
          d3 = Sg(d3) | 0;
          e4 = a2[e4 >> 0] | 0;
          c2[k4 >> 2] = c2[f5 >> 2];
          g4 = c2[g4 >> 2] | 0;
          c2[j4 >> 2] = c2[k4 >> 2];
          Kx(b4, d3, e4, j4, g4);
          WA(i4);
          l3 = h3;
          return;
        }
        function zx(b4, d3, e4, f5, g4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          var h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          h3 = l3;
          l3 = l3 + 32 | 0;
          k4 = h3 + 24 | 0;
          i4 = h3 + 16 | 0;
          m3 = h3 + 12 | 0;
          j4 = h3;
          UA(i4);
          d3 = Sg(d3) | 0;
          e4 = a2[e4 >> 0] | 0;
          c2[m3 >> 2] = c2[f5 >> 2];
          mw(j4, g4);
          c2[k4 >> 2] = c2[m3 >> 2];
          Gx(b4, d3, e4, k4, j4);
          kw(j4);
          WA(i4);
          l3 = h3;
          return;
        }
        function Ax(b4, d3, e4, f5) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          i4 = g4 + 16 | 0;
          h3 = g4 + 8 | 0;
          j4 = g4;
          UA(h3);
          d3 = Sg(d3) | 0;
          e4 = a2[e4 >> 0] | 0;
          c2[j4 >> 2] = c2[f5 >> 2];
          c2[i4 >> 2] = c2[j4 >> 2];
          Bx(b4, d3, e4, i4);
          WA(h3);
          l3 = g4;
          return;
        }
        function Bx(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          g4 = f5 + 4 | 0;
          i4 = f5;
          h3 = Vg(Cx() | 0) | 0;
          d3 = rx(d3) | 0;
          c2[i4 >> 2] = c2[e4 >> 2];
          c2[g4 >> 2] = c2[i4 >> 2];
          Dx(a3, xa(0, h3 | 0, b4 | 0, d3 | 0, qw(g4) | 0) | 0);
          l3 = f5;
          return;
        }
        function Cx() {
          var b4 = 0;
          if (!(a2[8e3] | 0)) {
            Ex(10756);
            b4 = 8e3;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10756;
        }
        function Dx(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          mk(a3, b4);
          return;
        }
        function Ex(a3) {
          a3 = a3 | 0;
          fh(a3, Fx() | 0, 2);
          return;
        }
        function Fx() {
          return 1772;
        }
        function Gx(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          j4 = g4 + 16 | 0;
          k4 = g4 + 12 | 0;
          h3 = g4;
          i4 = Vg(Hx() | 0) | 0;
          d3 = rx(d3) | 0;
          c2[k4 >> 2] = c2[e4 >> 2];
          c2[j4 >> 2] = c2[k4 >> 2];
          e4 = qw(j4) | 0;
          c2[h3 >> 2] = c2[f5 >> 2];
          j4 = f5 + 4 | 0;
          c2[h3 + 4 >> 2] = c2[j4 >> 2];
          k4 = f5 + 8 | 0;
          c2[h3 + 8 >> 2] = c2[k4 >> 2];
          c2[k4 >> 2] = 0;
          c2[j4 >> 2] = 0;
          c2[f5 >> 2] = 0;
          Dx(a3, $a(0, i4 | 0, b4 | 0, d3 | 0, e4 | 0, tw(h3) | 0) | 0);
          kw(h3);
          l3 = g4;
          return;
        }
        function Hx() {
          var b4 = 0;
          if (!(a2[8008] | 0)) {
            Ix(10768);
            b4 = 8008;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10768;
        }
        function Ix(a3) {
          a3 = a3 | 0;
          fh(a3, Jx() | 0, 3);
          return;
        }
        function Jx() {
          return 1784;
        }
        function Kx(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          i4 = g4 + 4 | 0;
          j4 = g4;
          h3 = Vg(Lx() | 0) | 0;
          d3 = rx(d3) | 0;
          c2[j4 >> 2] = c2[e4 >> 2];
          c2[i4 >> 2] = c2[j4 >> 2];
          e4 = qw(i4) | 0;
          Dx(a3, $a(0, h3 | 0, b4 | 0, d3 | 0, e4 | 0, sw(f5) | 0) | 0);
          l3 = g4;
          return;
        }
        function Lx() {
          var b4 = 0;
          if (!(a2[8016] | 0)) {
            Mx(10780);
            b4 = 8016;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10780;
        }
        function Mx(a3) {
          a3 = a3 | 0;
          fh(a3, Nx() | 0, 3);
          return;
        }
        function Nx() {
          return 1800;
        }
        function Ox(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          var d3 = 0;
          d3 = Vg(Px() | 0) | 0;
          Dx(a3, bb(0, d3 | 0, b4 | 0, rx(c3) | 0) | 0);
          return;
        }
        function Px() {
          var b4 = 0;
          if (!(a2[8024] | 0)) {
            Qx(10792);
            b4 = 8024;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 10792;
        }
        function Qx(a3) {
          a3 = a3 | 0;
          fh(a3, Rx() | 0, 1);
          return;
        }
        function Rx() {
          return 1816;
        }
        function Sx() {
          Tx();
          Ux();
          Vx();
          return;
        }
        function Tx() {
          c2[2702] = rC(65536) | 0;
          return;
        }
        function Ux() {
          qy(10856);
          return;
        }
        function Vx() {
          Wx(10816);
          return;
        }
        function Wx(a3) {
          a3 = a3 | 0;
          Xx(a3, 5044);
          Yx(a3) | 0;
          return;
        }
        function Xx(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = zw() | 0;
          c2[a3 >> 2] = d3;
          ky(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function Yx(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, Zx() | 0);
          return a3 | 0;
        }
        function Zx() {
          var b4 = 0;
          if (!(a2[8032] | 0)) {
            _x(10820);
            Ha(64, 10820, o3 | 0) | 0;
            b4 = 8032;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(10820) | 0))
            _x(10820);
          return 10820;
        }
        function _x(a3) {
          a3 = a3 | 0;
          by(a3);
          Gt(a3, 25);
          return;
        }
        function $x(a3) {
          a3 = a3 | 0;
          ay(a3 + 24 | 0);
          return;
        }
        function ay(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function by(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 18, b4, gy() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function cy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          dy(a3, b4);
          return;
        }
        function dy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          f5 = d3 + 4 | 0;
          Gk(f5, b4);
          c2[e4 >> 2] = Hk(f5, b4) | 0;
          ey(a3, e4);
          l3 = d3;
          return;
        }
        function ey(b4, d3) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          fy(b4 + 4 | 0, c2[d3 >> 2] | 0);
          a2[b4 + 8 >> 0] = 1;
          return;
        }
        function fy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = b4;
          return;
        }
        function gy() {
          return 1824;
        }
        function hy(a3) {
          a3 = a3 | 0;
          return iy(a3) | 0;
        }
        function iy(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          f5 = d3 + 4 | 0;
          h3 = d3;
          e4 = jy(8) | 0;
          b4 = e4;
          i4 = qC(4) | 0;
          Gk(f5, a3);
          fy(i4, Hk(f5, a3) | 0);
          g4 = b4 + 4 | 0;
          c2[g4 >> 2] = i4;
          a3 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          Bw(a3, g4, f5);
          c2[e4 >> 2] = a3;
          l3 = d3;
          return b4 | 0;
        }
        function jy(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          a3 = a3 + 7 & -8;
          if (a3 >>> 0 <= 32768 ? (b4 = c2[2701] | 0, a3 >>> 0 <= (65536 - b4 | 0) >>> 0) : 0) {
            d3 = (c2[2702] | 0) + b4 | 0;
            c2[2701] = b4 + a3;
            a3 = d3;
          } else {
            a3 = rC(a3 + 8 | 0) | 0;
            c2[a3 >> 2] = c2[2703];
            c2[2703] = a3;
            a3 = a3 + 8 | 0;
          }
          return a3 | 0;
        }
        function ky(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = ly() | 0;
          c2[a3 + 4 >> 2] = my() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = ny() | 0;
          c2[a3 + 32 >> 2] = 9;
          return;
        }
        function ly() {
          return 11744;
        }
        function my() {
          return 1832;
        }
        function ny() {
          return cu() | 0;
        }
        function oy(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              py(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function py(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function qy(a3) {
          a3 = a3 | 0;
          ry(a3, 5052);
          sy(a3) | 0;
          ty(a3, 5058, 26) | 0;
          uy2(a3, 5069, 1) | 0;
          vy2(a3, 5077, 10) | 0;
          wy(a3, 5087, 19) | 0;
          yy(a3, 5094, 27) | 0;
          return;
        }
        function ry(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = GA() | 0;
          c2[a3 >> 2] = d3;
          HA(d3, b4);
          Hv(c2[a3 >> 2] | 0);
          return;
        }
        function sy(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          At(b4, rA() | 0);
          return a3 | 0;
        }
        function ty(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Yz(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function uy2(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Gz(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function vy2(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          hz(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function wy(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Ry(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function xy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          a:
            while (1) {
              d3 = c2[2703] | 0;
              while (1) {
                if ((d3 | 0) == (b4 | 0))
                  break a;
                e4 = c2[d3 >> 2] | 0;
                c2[2703] = e4;
                if (!d3)
                  d3 = e4;
                else
                  break;
              }
              sC(d3);
            }
          c2[2701] = a3;
          return;
        }
        function yy(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          zy(a3, ai(b4) | 0, c3, 0);
          return a3 | 0;
        }
        function zy(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Ay() | 0;
          a3 = By(d3) | 0;
          fi(g4, b4, f5, a3, Cy(d3, e4) | 0, e4);
          return;
        }
        function Ay() {
          var b4 = 0, d3 = 0;
          if (!(a2[8040] | 0)) {
            Jy(10860);
            Ha(65, 10860, o3 | 0) | 0;
            d3 = 8040;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10860) | 0)) {
            b4 = 10860;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Jy(10860);
          }
          return 10860;
        }
        function By(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Cy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Ay() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            Dy(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            Ey(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function Dy(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Ey(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = Fy(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Gy(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            Dy(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Hy(a3, f5);
            Iy(f5);
            l3 = i4;
            return;
          }
        }
        function Fy(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Gy(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Hy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Iy(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Jy(a3) {
          a3 = a3 | 0;
          My(a3);
          return;
        }
        function Ky(a3) {
          a3 = a3 | 0;
          Ly(a3 + 24 | 0);
          return;
        }
        function Ly(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function My(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 11, b4, Ny() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Ny() {
          return 1840;
        }
        function Oy(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          Qy(c2[(Py(a3) | 0) >> 2] | 0, b4, d3);
          return;
        }
        function Py(a3) {
          a3 = a3 | 0;
          return (c2[(Ay() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function Qy(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          f5 = d3 + 1 | 0;
          e4 = d3;
          Gk(f5, b4);
          b4 = Hk(f5, b4) | 0;
          Gk(e4, c3);
          c3 = Hk(e4, c3) | 0;
          ob[a3 & 31](b4, c3);
          l3 = d3;
          return;
        }
        function Ry(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Sy() | 0;
          a3 = Ty(d3) | 0;
          fi(g4, b4, f5, a3, Uy(d3, e4) | 0, e4);
          return;
        }
        function Sy() {
          var b4 = 0, d3 = 0;
          if (!(a2[8048] | 0)) {
            $y(10896);
            Ha(66, 10896, o3 | 0) | 0;
            d3 = 8048;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10896) | 0)) {
            b4 = 10896;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            $y(10896);
          }
          return 10896;
        }
        function Ty(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Uy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Sy() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            Vy(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            Wy(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function Vy(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Wy(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = Xy(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Yy(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            Vy(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Zy(a3, f5);
            _y(f5);
            l3 = i4;
            return;
          }
        }
        function Xy(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Yy(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Zy(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function _y(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function $y(a3) {
          a3 = a3 | 0;
          cz(a3);
          return;
        }
        function az(a3) {
          a3 = a3 | 0;
          bz(a3 + 24 | 0);
          return;
        }
        function bz(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function cz(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 11, b4, dz() | 0, 1);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function dz() {
          return 1852;
        }
        function ez(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return gz(c2[(fz(a3) | 0) >> 2] | 0, b4) | 0;
        }
        function fz(a3) {
          a3 = a3 | 0;
          return (c2[(Sy() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function gz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0, d3 = 0;
          c3 = l3;
          l3 = l3 + 16 | 0;
          d3 = c3;
          Gk(d3, b4);
          b4 = Hk(d3, b4) | 0;
          b4 = ul(pb[a3 & 31](b4) | 0) | 0;
          l3 = c3;
          return b4 | 0;
        }
        function hz(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = iz() | 0;
          a3 = jz(d3) | 0;
          fi(g4, b4, f5, a3, kz(d3, e4) | 0, e4);
          return;
        }
        function iz() {
          var b4 = 0, d3 = 0;
          if (!(a2[8056] | 0)) {
            rz(10932);
            Ha(67, 10932, o3 | 0) | 0;
            d3 = 8056;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10932) | 0)) {
            b4 = 10932;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            rz(10932);
          }
          return 10932;
        }
        function jz(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function kz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = iz() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            lz(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            mz(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function lz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function mz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = nz(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            oz(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            lz(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            pz(a3, f5);
            qz(f5);
            l3 = i4;
            return;
          }
        }
        function nz(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function oz(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function pz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function qz(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function rz(a3) {
          a3 = a3 | 0;
          uz(a3);
          return;
        }
        function sz(a3) {
          a3 = a3 | 0;
          tz(a3 + 24 | 0);
          return;
        }
        function tz(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function uz(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 7, b4, vz() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function vz() {
          return 1860;
        }
        function wz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          return yz(c2[(xz(a3) | 0) >> 2] | 0, b4, d3) | 0;
        }
        function xz(a3) {
          a3 = a3 | 0;
          return (c2[(iz() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function yz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          e4 = l3;
          l3 = l3 + 32 | 0;
          h3 = e4 + 12 | 0;
          g4 = e4 + 8 | 0;
          i4 = e4;
          j4 = e4 + 16 | 0;
          f5 = e4 + 4 | 0;
          zz(j4, b4);
          Az(i4, j4, b4);
          ik(f5, d3);
          d3 = jk(f5, d3) | 0;
          c2[h3 >> 2] = c2[i4 >> 2];
          Eb[a3 & 15](g4, h3, d3);
          d3 = Bz(g4) | 0;
          wf(g4);
          kk(f5);
          l3 = e4;
          return d3 | 0;
        }
        function zz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function Az(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          Cz(a3, c3);
          return;
        }
        function Bz(a3) {
          a3 = a3 | 0;
          return Sg(a3) | 0;
        }
        function Cz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          f5 = l3;
          l3 = l3 + 16 | 0;
          d3 = f5;
          e4 = b4;
          if (!(e4 & 1))
            c2[a3 >> 2] = c2[b4 >> 2];
          else {
            Dz(d3, 0);
            Ja(e4 | 0, d3 | 0) | 0;
            Ez(a3, d3);
            Fz(d3);
          }
          l3 = f5;
          return;
        }
        function Dz(b4, d3) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          ah(b4, d3);
          c2[b4 + 4 >> 2] = 0;
          a2[b4 + 8 >> 0] = 0;
          return;
        }
        function Ez(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = c2[b4 + 4 >> 2];
          return;
        }
        function Fz(b4) {
          b4 = b4 | 0;
          a2[b4 + 8 >> 0] = 0;
          return;
        }
        function Gz(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Hz() | 0;
          a3 = Iz(d3) | 0;
          fi(g4, b4, f5, a3, Jz(d3, e4) | 0, e4);
          return;
        }
        function Hz() {
          var b4 = 0, d3 = 0;
          if (!(a2[8064] | 0)) {
            Qz(10968);
            Ha(68, 10968, o3 | 0) | 0;
            d3 = 8064;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(10968) | 0)) {
            b4 = 10968;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            Qz(10968);
          }
          return 10968;
        }
        function Iz(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function Jz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Hz() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            Kz(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            Lz(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function Kz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function Lz(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = Mz(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            Nz(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            Kz(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            Oz(a3, f5);
            Pz(f5);
            l3 = i4;
            return;
          }
        }
        function Mz(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function Nz(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function Oz(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function Pz(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function Qz(a3) {
          a3 = a3 | 0;
          Tz(a3);
          return;
        }
        function Rz(a3) {
          a3 = a3 | 0;
          Sz(a3 + 24 | 0);
          return;
        }
        function Sz(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function Tz(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 1, b4, Uz() | 0, 5);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function Uz() {
          return 1872;
        }
        function Vz(a3, b4, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          Xz(c2[(Wz(a3) | 0) >> 2] | 0, b4, d3, e4, f5, g4);
          return;
        }
        function Wz(a3) {
          a3 = a3 | 0;
          return (c2[(Hz() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function Xz(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          h3 = g4 + 16 | 0;
          i4 = g4 + 12 | 0;
          j4 = g4 + 8 | 0;
          k4 = g4 + 4 | 0;
          m3 = g4;
          ik(h3, b4);
          b4 = jk(h3, b4) | 0;
          ik(i4, c3);
          c3 = jk(i4, c3) | 0;
          ik(j4, d3);
          d3 = jk(j4, d3) | 0;
          ik(k4, e4);
          e4 = jk(k4, e4) | 0;
          ik(m3, f5);
          f5 = jk(m3, f5) | 0;
          jb[a3 & 1](b4, c3, d3, e4, f5);
          kk(m3);
          kk(k4);
          kk(j4);
          kk(i4);
          kk(h3);
          l3 = g4;
          return;
        }
        function Yz(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = c2[a3 >> 2] | 0;
          f5 = Zz() | 0;
          a3 = _z(d3) | 0;
          fi(g4, b4, f5, a3, $z(d3, e4) | 0, e4);
          return;
        }
        function Zz() {
          var b4 = 0, d3 = 0;
          if (!(a2[8072] | 0)) {
            gA(11004);
            Ha(69, 11004, o3 | 0) | 0;
            d3 = 8072;
            c2[d3 >> 2] = 1;
            c2[d3 + 4 >> 2] = 0;
          }
          if (!(si(11004) | 0)) {
            b4 = 11004;
            d3 = b4 + 36 | 0;
            do {
              c2[b4 >> 2] = 0;
              b4 = b4 + 4 | 0;
            } while ((b4 | 0) < (d3 | 0));
            gA(11004);
          }
          return 11004;
        }
        function _z(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function $z(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          i4 = l3;
          l3 = l3 + 16 | 0;
          f5 = i4;
          g4 = i4 + 4 | 0;
          c2[f5 >> 2] = a3;
          j4 = Zz() | 0;
          h3 = j4 + 24 | 0;
          b4 = ji(b4, 4) | 0;
          c2[g4 >> 2] = b4;
          d3 = j4 + 28 | 0;
          e4 = c2[d3 >> 2] | 0;
          if (e4 >>> 0 < (c2[j4 + 32 >> 2] | 0) >>> 0) {
            aA(e4, a3, b4);
            b4 = (c2[d3 >> 2] | 0) + 8 | 0;
            c2[d3 >> 2] = b4;
          } else {
            bA(h3, f5, g4);
            b4 = c2[d3 >> 2] | 0;
          }
          l3 = i4;
          return (b4 - (c2[h3 >> 2] | 0) >> 3) + -1 | 0;
        }
        function aA(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function bA(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0;
          i4 = l3;
          l3 = l3 + 32 | 0;
          f5 = i4;
          g4 = a3 + 4 | 0;
          h3 = ((c2[g4 >> 2] | 0) - (c2[a3 >> 2] | 0) >> 3) + 1 | 0;
          e4 = cA(a3) | 0;
          if (e4 >>> 0 < h3 >>> 0)
            jC(a3);
          else {
            j4 = c2[a3 >> 2] | 0;
            m3 = (c2[a3 + 8 >> 2] | 0) - j4 | 0;
            k4 = m3 >> 2;
            dA(f5, m3 >> 3 >>> 0 < e4 >>> 1 >>> 0 ? k4 >>> 0 < h3 >>> 0 ? h3 : k4 : e4, (c2[g4 >> 2] | 0) - j4 >> 3, a3 + 8 | 0);
            h3 = f5 + 8 | 0;
            aA(c2[h3 >> 2] | 0, c2[b4 >> 2] | 0, c2[d3 >> 2] | 0);
            c2[h3 >> 2] = (c2[h3 >> 2] | 0) + 8;
            eA(a3, f5);
            fA(f5);
            l3 = i4;
            return;
          }
        }
        function cA(a3) {
          a3 = a3 | 0;
          return 536870911;
        }
        function dA(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0;
          c2[a3 + 12 >> 2] = 0;
          c2[a3 + 16 >> 2] = e4;
          do
            if (b4) {
              if (b4 >>> 0 > 536870911)
                Ta();
              else {
                f5 = qC(b4 << 3) | 0;
                break;
              }
            } else
              f5 = 0;
          while (0);
          c2[a3 >> 2] = f5;
          e4 = f5 + (d3 << 3) | 0;
          c2[a3 + 8 >> 2] = e4;
          c2[a3 + 4 >> 2] = e4;
          c2[a3 + 12 >> 2] = f5 + (b4 << 3);
          return;
        }
        function eA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          e4 = c2[a3 >> 2] | 0;
          h3 = a3 + 4 | 0;
          g4 = b4 + 4 | 0;
          f5 = (c2[h3 >> 2] | 0) - e4 | 0;
          d3 = (c2[g4 >> 2] | 0) + (0 - (f5 >> 3) << 3) | 0;
          c2[g4 >> 2] = d3;
          if ((f5 | 0) > 0) {
            BC(d3 | 0, e4 | 0, f5 | 0) | 0;
            e4 = g4;
            d3 = c2[g4 >> 2] | 0;
          } else
            e4 = g4;
          g4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = d3;
          c2[e4 >> 2] = g4;
          g4 = b4 + 8 | 0;
          f5 = c2[h3 >> 2] | 0;
          c2[h3 >> 2] = c2[g4 >> 2];
          c2[g4 >> 2] = f5;
          g4 = a3 + 8 | 0;
          h3 = b4 + 12 | 0;
          a3 = c2[g4 >> 2] | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[h3 >> 2] = a3;
          c2[b4 >> 2] = c2[e4 >> 2];
          return;
        }
        function fA(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          b4 = c2[a3 + 4 >> 2] | 0;
          d3 = a3 + 8 | 0;
          e4 = c2[d3 >> 2] | 0;
          if ((e4 | 0) != (b4 | 0))
            c2[d3 >> 2] = e4 + (~((e4 + -8 - b4 | 0) >>> 3) << 3);
          a3 = c2[a3 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function gA(a3) {
          a3 = a3 | 0;
          jA(a3);
          return;
        }
        function hA(a3) {
          a3 = a3 | 0;
          iA(a3 + 24 | 0);
          return;
        }
        function iA(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function jA(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 1, 12, b4, kA() | 0, 2);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function kA() {
          return 1896;
        }
        function lA(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          nA(c2[(mA(a3) | 0) >> 2] | 0, b4, d3);
          return;
        }
        function mA(a3) {
          a3 = a3 | 0;
          return (c2[(Zz() | 0) + 24 >> 2] | 0) + (a3 << 3) | 0;
        }
        function nA(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          f5 = d3 + 4 | 0;
          e4 = d3;
          oA(f5, b4);
          b4 = pA(f5, b4) | 0;
          ik(e4, c3);
          c3 = jk(e4, c3) | 0;
          ob[a3 & 31](b4, c3);
          kk(e4);
          l3 = d3;
          return;
        }
        function oA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return;
        }
        function pA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return qA(b4) | 0;
        }
        function qA(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function rA() {
          var b4 = 0;
          if (!(a2[8080] | 0)) {
            sA(11040);
            Ha(70, 11040, o3 | 0) | 0;
            b4 = 8080;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          if (!(si(11040) | 0))
            sA(11040);
          return 11040;
        }
        function sA(a3) {
          a3 = a3 | 0;
          vA(a3);
          Gt(a3, 71);
          return;
        }
        function tA(a3) {
          a3 = a3 | 0;
          uA(a3 + 24 | 0);
          return;
        }
        function uA(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0;
          d3 = c2[a3 >> 2] | 0;
          e4 = d3;
          if (d3 | 0) {
            a3 = a3 + 4 | 0;
            b4 = c2[a3 >> 2] | 0;
            if ((b4 | 0) != (d3 | 0))
              c2[a3 >> 2] = b4 + (~((b4 + -8 - e4 | 0) >>> 3) << 3);
            sC(d3);
          }
          return;
        }
        function vA(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = vi() | 0;
          yi(a3, 5, 7, b4, zA() | 0, 0);
          c2[a3 + 24 >> 2] = 0;
          c2[a3 + 28 >> 2] = 0;
          c2[a3 + 32 >> 2] = 0;
          return;
        }
        function wA(a3) {
          a3 = a3 | 0;
          xA(a3);
          return;
        }
        function xA(a3) {
          a3 = a3 | 0;
          yA(a3);
          return;
        }
        function yA(b4) {
          b4 = b4 | 0;
          a2[b4 + 8 >> 0] = 1;
          return;
        }
        function zA() {
          return 1936;
        }
        function AA() {
          return BA() | 0;
        }
        function BA() {
          var a3 = 0, b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0;
          b4 = l3;
          l3 = l3 + 16 | 0;
          f5 = b4 + 4 | 0;
          h3 = b4;
          d3 = jy(8) | 0;
          a3 = d3;
          g4 = a3 + 4 | 0;
          c2[g4 >> 2] = qC(1) | 0;
          e4 = qC(8) | 0;
          g4 = c2[g4 >> 2] | 0;
          c2[h3 >> 2] = 0;
          c2[f5 >> 2] = c2[h3 >> 2];
          CA(e4, g4, f5);
          c2[d3 >> 2] = e4;
          l3 = b4;
          return a3 | 0;
        }
        function CA(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          c2[a3 >> 2] = b4;
          d3 = qC(16) | 0;
          c2[d3 + 4 >> 2] = 0;
          c2[d3 + 8 >> 2] = 0;
          c2[d3 >> 2] = 1916;
          c2[d3 + 12 >> 2] = b4;
          c2[a3 + 4 >> 2] = d3;
          return;
        }
        function DA(a3) {
          a3 = a3 | 0;
          kC(a3);
          sC(a3);
          return;
        }
        function EA(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 12 >> 2] | 0;
          if (a3 | 0)
            sC(a3);
          return;
        }
        function FA(a3) {
          a3 = a3 | 0;
          sC(a3);
          return;
        }
        function GA() {
          var b4 = 0;
          if (!(a2[8088] | 0)) {
            NA(11076);
            Ha(25, 11076, o3 | 0) | 0;
            b4 = 8088;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 11076;
        }
        function HA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = IA() | 0;
          c2[a3 + 4 >> 2] = JA() | 0;
          c2[a3 + 12 >> 2] = b4;
          c2[a3 + 8 >> 2] = KA() | 0;
          c2[a3 + 32 >> 2] = 10;
          return;
        }
        function IA() {
          return 11745;
        }
        function JA() {
          return 1940;
        }
        function KA() {
          return lr() | 0;
        }
        function LA(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if ((jr(d3, 896) | 0) == 512) {
            if (c3 | 0) {
              MA(c3);
              sC(c3);
            }
          } else if (b4 | 0)
            sC(b4);
          return;
        }
        function MA(a3) {
          a3 = a3 | 0;
          a3 = c2[a3 + 4 >> 2] | 0;
          if (a3 | 0)
            oC(a3);
          return;
        }
        function NA(a3) {
          a3 = a3 | 0;
          Zi(a3);
          return;
        }
        function OA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c2[a3 >> 2] = b4;
          return;
        }
        function PA(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function QA(b4) {
          b4 = b4 | 0;
          return a2[c2[b4 >> 2] >> 0] | 0;
        }
        function RA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          c2[e4 >> 2] = c2[a3 >> 2];
          SA(b4, e4) | 0;
          l3 = d3;
          return;
        }
        function SA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0;
          d3 = TA(c2[a3 >> 2] | 0, b4) | 0;
          b4 = a3 + 4 | 0;
          c2[(c2[b4 >> 2] | 0) + 8 >> 2] = d3;
          return c2[(c2[b4 >> 2] | 0) + 8 >> 2] | 0;
        }
        function TA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = l3;
          l3 = l3 + 16 | 0;
          e4 = d3;
          UA(e4);
          a3 = Sg(a3) | 0;
          b4 = VA(a3, c2[b4 >> 2] | 0) | 0;
          WA(e4);
          l3 = d3;
          return b4 | 0;
        }
        function UA(a3) {
          a3 = a3 | 0;
          c2[a3 >> 2] = c2[2701];
          c2[a3 + 4 >> 2] = c2[2703];
          return;
        }
        function VA(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0;
          c3 = Vg(XA() | 0) | 0;
          return bb(0, c3 | 0, a3 | 0, sw(b4) | 0) | 0;
        }
        function WA(a3) {
          a3 = a3 | 0;
          xy(c2[a3 >> 2] | 0, c2[a3 + 4 >> 2] | 0);
          return;
        }
        function XA() {
          var b4 = 0;
          if (!(a2[8096] | 0)) {
            YA(11120);
            b4 = 8096;
            c2[b4 >> 2] = 1;
            c2[b4 + 4 >> 2] = 0;
          }
          return 11120;
        }
        function YA(a3) {
          a3 = a3 | 0;
          fh(a3, ZA() | 0, 1);
          return;
        }
        function ZA() {
          return 1948;
        }
        function _A() {
          $A();
          return;
        }
        function $A() {
          var b4 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0;
          s3 = l3;
          l3 = l3 + 16 | 0;
          o4 = s3 + 4 | 0;
          p4 = s3;
          Ea(65536, 10804, c2[2702] | 0, 10812);
          f5 = Wv() | 0;
          e4 = c2[f5 >> 2] | 0;
          b4 = c2[e4 >> 2] | 0;
          if (b4 | 0) {
            g4 = c2[f5 + 8 >> 2] | 0;
            f5 = c2[f5 + 4 >> 2] | 0;
            while (1) {
              Ma(b4 | 0, d2[f5 >> 0] | 0 | 0, a2[g4 >> 0] | 0);
              e4 = e4 + 4 | 0;
              b4 = c2[e4 >> 2] | 0;
              if (!b4)
                break;
              else {
                g4 = g4 + 1 | 0;
                f5 = f5 + 1 | 0;
              }
            }
          }
          b4 = Yv() | 0;
          e4 = c2[b4 >> 2] | 0;
          if (e4 | 0)
            do {
              Na(e4 | 0, c2[b4 + 4 >> 2] | 0);
              b4 = b4 + 8 | 0;
              e4 = c2[b4 >> 2] | 0;
            } while ((e4 | 0) != 0);
          Na(aB() | 0, 5167);
          n3 = Iv() | 0;
          b4 = c2[n3 >> 2] | 0;
          a:
            do
              if (b4 | 0) {
                do {
                  bB(c2[b4 + 4 >> 2] | 0);
                  b4 = c2[b4 >> 2] | 0;
                } while ((b4 | 0) != 0);
                b4 = c2[n3 >> 2] | 0;
                if (b4 | 0) {
                  m3 = n3;
                  do {
                    while (1) {
                      h3 = b4;
                      b4 = c2[b4 >> 2] | 0;
                      h3 = c2[h3 + 4 >> 2] | 0;
                      if (!(cB(h3) | 0))
                        break;
                      c2[p4 >> 2] = m3;
                      c2[o4 >> 2] = c2[p4 >> 2];
                      dB(n3, o4) | 0;
                      if (!b4)
                        break a;
                    }
                    eB(h3);
                    m3 = c2[m3 >> 2] | 0;
                    e4 = fB(h3) | 0;
                    i4 = Va() | 0;
                    j4 = l3;
                    l3 = l3 + ((1 * (e4 << 2) | 0) + 15 & -16) | 0;
                    k4 = l3;
                    l3 = l3 + ((1 * (e4 << 2) | 0) + 15 & -16) | 0;
                    e4 = c2[(Zw(h3) | 0) >> 2] | 0;
                    if (e4 | 0) {
                      f5 = j4;
                      g4 = k4;
                      while (1) {
                        c2[f5 >> 2] = c2[(Xw(c2[e4 + 4 >> 2] | 0) | 0) >> 2];
                        c2[g4 >> 2] = c2[e4 + 8 >> 2];
                        e4 = c2[e4 >> 2] | 0;
                        if (!e4)
                          break;
                        else {
                          f5 = f5 + 4 | 0;
                          g4 = g4 + 4 | 0;
                        }
                      }
                    }
                    t3 = Xw(h3) | 0;
                    e4 = gB(h3) | 0;
                    f5 = fB(h3) | 0;
                    g4 = hB(h3) | 0;
                    Ra(t3 | 0, e4 | 0, j4 | 0, k4 | 0, f5 | 0, g4 | 0, Tv(h3) | 0);
                    Ga(i4 | 0);
                  } while ((b4 | 0) != 0);
                }
              }
            while (0);
          b4 = c2[(Vv() | 0) >> 2] | 0;
          if (b4 | 0)
            do {
              t3 = b4 + 4 | 0;
              n3 = aw(t3) | 0;
              h3 = fw(n3) | 0;
              i4 = bw(n3) | 0;
              j4 = (cw(n3) | 0) + 1 | 0;
              k4 = iB(n3) | 0;
              m3 = jB(t3) | 0;
              n3 = si(n3) | 0;
              o4 = hw(t3) | 0;
              p4 = kB(t3) | 0;
              Pa(0, h3 | 0, i4 | 0, j4 | 0, k4 | 0, m3 | 0, n3 | 0, o4 | 0, p4 | 0, lB(t3) | 0);
              b4 = c2[b4 >> 2] | 0;
            } while ((b4 | 0) != 0);
          b4 = c2[(Iv() | 0) >> 2] | 0;
          b:
            do
              if (b4 | 0) {
                c:
                  while (1) {
                    e4 = c2[b4 + 4 >> 2] | 0;
                    if (e4 | 0 ? (q3 = c2[(Xw(e4) | 0) >> 2] | 0, r3 = c2[(ax(e4) | 0) >> 2] | 0, r3 | 0) : 0) {
                      f5 = r3;
                      do {
                        e4 = f5 + 4 | 0;
                        g4 = aw(e4) | 0;
                        d:
                          do
                            if (g4 | 0)
                              switch (si(g4) | 0) {
                                case 0:
                                  break c;
                                case 4:
                                case 3:
                                case 2: {
                                  k4 = fw(g4) | 0;
                                  m3 = bw(g4) | 0;
                                  n3 = (cw(g4) | 0) + 1 | 0;
                                  o4 = iB(g4) | 0;
                                  p4 = si(g4) | 0;
                                  t3 = hw(e4) | 0;
                                  Pa(q3 | 0, k4 | 0, m3 | 0, n3 | 0, o4 | 0, 0, p4 | 0, t3 | 0, kB(e4) | 0, lB(e4) | 0);
                                  break d;
                                }
                                case 1: {
                                  j4 = fw(g4) | 0;
                                  k4 = bw(g4) | 0;
                                  m3 = (cw(g4) | 0) + 1 | 0;
                                  n3 = iB(g4) | 0;
                                  o4 = jB(e4) | 0;
                                  p4 = si(g4) | 0;
                                  t3 = hw(e4) | 0;
                                  Pa(q3 | 0, j4 | 0, k4 | 0, m3 | 0, n3 | 0, o4 | 0, p4 | 0, t3 | 0, kB(e4) | 0, lB(e4) | 0);
                                  break d;
                                }
                                case 5: {
                                  n3 = fw(g4) | 0;
                                  o4 = bw(g4) | 0;
                                  p4 = (cw(g4) | 0) + 1 | 0;
                                  t3 = iB(g4) | 0;
                                  Pa(q3 | 0, n3 | 0, o4 | 0, p4 | 0, t3 | 0, mB(g4) | 0, si(g4) | 0, 0, 0, 0);
                                  break d;
                                }
                                default:
                                  break d;
                              }
                          while (0);
                        f5 = c2[f5 >> 2] | 0;
                      } while ((f5 | 0) != 0);
                    }
                    b4 = c2[b4 >> 2] | 0;
                    if (!b4)
                      break b;
                  }
                Ta();
              }
            while (0);
          Sa();
          l3 = s3;
          return;
        }
        function aB() {
          return 11703;
        }
        function bB(b4) {
          b4 = b4 | 0;
          a2[b4 + 40 >> 0] = 0;
          return;
        }
        function cB(b4) {
          b4 = b4 | 0;
          return (a2[b4 + 40 >> 0] | 0) != 0 | 0;
        }
        function dB(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          b4 = nB(b4) | 0;
          a3 = c2[b4 >> 2] | 0;
          c2[b4 >> 2] = c2[a3 >> 2];
          sC(a3);
          return c2[b4 >> 2] | 0;
        }
        function eB(b4) {
          b4 = b4 | 0;
          a2[b4 + 40 >> 0] = 1;
          return;
        }
        function fB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 20 >> 2] | 0;
        }
        function gB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 8 >> 2] | 0;
        }
        function hB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 32 >> 2] | 0;
        }
        function iB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 4 >> 2] | 0;
        }
        function jB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 4 >> 2] | 0;
        }
        function kB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 8 >> 2] | 0;
        }
        function lB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 16 >> 2] | 0;
        }
        function mB(a3) {
          a3 = a3 | 0;
          return c2[a3 + 20 >> 2] | 0;
        }
        function nB(a3) {
          a3 = a3 | 0;
          return c2[a3 >> 2] | 0;
        }
        function oB(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = 0, v3 = 0, w4 = 0, x3 = 0;
          x3 = l3;
          l3 = l3 + 16 | 0;
          o4 = x3;
          do
            if (a3 >>> 0 < 245) {
              k4 = a3 >>> 0 < 11 ? 16 : a3 + 11 & -8;
              a3 = k4 >>> 3;
              n3 = c2[2783] | 0;
              d3 = n3 >>> a3;
              if (d3 & 3 | 0) {
                b4 = (d3 & 1 ^ 1) + a3 | 0;
                a3 = 11172 + (b4 << 1 << 2) | 0;
                d3 = a3 + 8 | 0;
                e4 = c2[d3 >> 2] | 0;
                f5 = e4 + 8 | 0;
                g4 = c2[f5 >> 2] | 0;
                if ((a3 | 0) == (g4 | 0))
                  c2[2783] = n3 & ~(1 << b4);
                else {
                  c2[g4 + 12 >> 2] = a3;
                  c2[d3 >> 2] = g4;
                }
                w4 = b4 << 3;
                c2[e4 + 4 >> 2] = w4 | 3;
                w4 = e4 + w4 + 4 | 0;
                c2[w4 >> 2] = c2[w4 >> 2] | 1;
                w4 = f5;
                l3 = x3;
                return w4 | 0;
              }
              m3 = c2[2785] | 0;
              if (k4 >>> 0 > m3 >>> 0) {
                if (d3 | 0) {
                  b4 = 2 << a3;
                  b4 = d3 << a3 & (b4 | 0 - b4);
                  b4 = (b4 & 0 - b4) + -1 | 0;
                  h3 = b4 >>> 12 & 16;
                  b4 = b4 >>> h3;
                  d3 = b4 >>> 5 & 8;
                  b4 = b4 >>> d3;
                  f5 = b4 >>> 2 & 4;
                  b4 = b4 >>> f5;
                  a3 = b4 >>> 1 & 2;
                  b4 = b4 >>> a3;
                  e4 = b4 >>> 1 & 1;
                  e4 = (d3 | h3 | f5 | a3 | e4) + (b4 >>> e4) | 0;
                  b4 = 11172 + (e4 << 1 << 2) | 0;
                  a3 = b4 + 8 | 0;
                  f5 = c2[a3 >> 2] | 0;
                  h3 = f5 + 8 | 0;
                  d3 = c2[h3 >> 2] | 0;
                  if ((b4 | 0) == (d3 | 0)) {
                    a3 = n3 & ~(1 << e4);
                    c2[2783] = a3;
                  } else {
                    c2[d3 + 12 >> 2] = b4;
                    c2[a3 >> 2] = d3;
                    a3 = n3;
                  }
                  g4 = (e4 << 3) - k4 | 0;
                  c2[f5 + 4 >> 2] = k4 | 3;
                  e4 = f5 + k4 | 0;
                  c2[e4 + 4 >> 2] = g4 | 1;
                  c2[e4 + g4 >> 2] = g4;
                  if (m3 | 0) {
                    f5 = c2[2788] | 0;
                    b4 = m3 >>> 3;
                    d3 = 11172 + (b4 << 1 << 2) | 0;
                    b4 = 1 << b4;
                    if (!(a3 & b4)) {
                      c2[2783] = a3 | b4;
                      b4 = d3;
                      a3 = d3 + 8 | 0;
                    } else {
                      a3 = d3 + 8 | 0;
                      b4 = c2[a3 >> 2] | 0;
                    }
                    c2[a3 >> 2] = f5;
                    c2[b4 + 12 >> 2] = f5;
                    c2[f5 + 8 >> 2] = b4;
                    c2[f5 + 12 >> 2] = d3;
                  }
                  c2[2785] = g4;
                  c2[2788] = e4;
                  w4 = h3;
                  l3 = x3;
                  return w4 | 0;
                }
                i4 = c2[2784] | 0;
                if (i4) {
                  d3 = (i4 & 0 - i4) + -1 | 0;
                  h3 = d3 >>> 12 & 16;
                  d3 = d3 >>> h3;
                  g4 = d3 >>> 5 & 8;
                  d3 = d3 >>> g4;
                  j4 = d3 >>> 2 & 4;
                  d3 = d3 >>> j4;
                  e4 = d3 >>> 1 & 2;
                  d3 = d3 >>> e4;
                  a3 = d3 >>> 1 & 1;
                  a3 = c2[11436 + ((g4 | h3 | j4 | e4 | a3) + (d3 >>> a3) << 2) >> 2] | 0;
                  d3 = (c2[a3 + 4 >> 2] & -8) - k4 | 0;
                  e4 = c2[a3 + 16 + (((c2[a3 + 16 >> 2] | 0) == 0 & 1) << 2) >> 2] | 0;
                  if (!e4) {
                    j4 = a3;
                    g4 = d3;
                  } else {
                    do {
                      h3 = (c2[e4 + 4 >> 2] & -8) - k4 | 0;
                      j4 = h3 >>> 0 < d3 >>> 0;
                      d3 = j4 ? h3 : d3;
                      a3 = j4 ? e4 : a3;
                      e4 = c2[e4 + 16 + (((c2[e4 + 16 >> 2] | 0) == 0 & 1) << 2) >> 2] | 0;
                    } while ((e4 | 0) != 0);
                    j4 = a3;
                    g4 = d3;
                  }
                  h3 = j4 + k4 | 0;
                  if (j4 >>> 0 < h3 >>> 0) {
                    f5 = c2[j4 + 24 >> 2] | 0;
                    b4 = c2[j4 + 12 >> 2] | 0;
                    do
                      if ((b4 | 0) == (j4 | 0)) {
                        a3 = j4 + 20 | 0;
                        b4 = c2[a3 >> 2] | 0;
                        if (!b4) {
                          a3 = j4 + 16 | 0;
                          b4 = c2[a3 >> 2] | 0;
                          if (!b4) {
                            d3 = 0;
                            break;
                          }
                        }
                        while (1) {
                          d3 = b4 + 20 | 0;
                          e4 = c2[d3 >> 2] | 0;
                          if (e4 | 0) {
                            b4 = e4;
                            a3 = d3;
                            continue;
                          }
                          d3 = b4 + 16 | 0;
                          e4 = c2[d3 >> 2] | 0;
                          if (!e4)
                            break;
                          else {
                            b4 = e4;
                            a3 = d3;
                          }
                        }
                        c2[a3 >> 2] = 0;
                        d3 = b4;
                      } else {
                        d3 = c2[j4 + 8 >> 2] | 0;
                        c2[d3 + 12 >> 2] = b4;
                        c2[b4 + 8 >> 2] = d3;
                        d3 = b4;
                      }
                    while (0);
                    do
                      if (f5 | 0) {
                        b4 = c2[j4 + 28 >> 2] | 0;
                        a3 = 11436 + (b4 << 2) | 0;
                        if ((j4 | 0) == (c2[a3 >> 2] | 0)) {
                          c2[a3 >> 2] = d3;
                          if (!d3) {
                            c2[2784] = i4 & ~(1 << b4);
                            break;
                          }
                        } else {
                          c2[f5 + 16 + (((c2[f5 + 16 >> 2] | 0) != (j4 | 0) & 1) << 2) >> 2] = d3;
                          if (!d3)
                            break;
                        }
                        c2[d3 + 24 >> 2] = f5;
                        b4 = c2[j4 + 16 >> 2] | 0;
                        if (b4 | 0) {
                          c2[d3 + 16 >> 2] = b4;
                          c2[b4 + 24 >> 2] = d3;
                        }
                        b4 = c2[j4 + 20 >> 2] | 0;
                        if (b4 | 0) {
                          c2[d3 + 20 >> 2] = b4;
                          c2[b4 + 24 >> 2] = d3;
                        }
                      }
                    while (0);
                    if (g4 >>> 0 < 16) {
                      w4 = g4 + k4 | 0;
                      c2[j4 + 4 >> 2] = w4 | 3;
                      w4 = j4 + w4 + 4 | 0;
                      c2[w4 >> 2] = c2[w4 >> 2] | 1;
                    } else {
                      c2[j4 + 4 >> 2] = k4 | 3;
                      c2[h3 + 4 >> 2] = g4 | 1;
                      c2[h3 + g4 >> 2] = g4;
                      if (m3 | 0) {
                        e4 = c2[2788] | 0;
                        b4 = m3 >>> 3;
                        d3 = 11172 + (b4 << 1 << 2) | 0;
                        b4 = 1 << b4;
                        if (!(n3 & b4)) {
                          c2[2783] = n3 | b4;
                          b4 = d3;
                          a3 = d3 + 8 | 0;
                        } else {
                          a3 = d3 + 8 | 0;
                          b4 = c2[a3 >> 2] | 0;
                        }
                        c2[a3 >> 2] = e4;
                        c2[b4 + 12 >> 2] = e4;
                        c2[e4 + 8 >> 2] = b4;
                        c2[e4 + 12 >> 2] = d3;
                      }
                      c2[2785] = g4;
                      c2[2788] = h3;
                    }
                    w4 = j4 + 8 | 0;
                    l3 = x3;
                    return w4 | 0;
                  } else
                    n3 = k4;
                } else
                  n3 = k4;
              } else
                n3 = k4;
            } else if (a3 >>> 0 <= 4294967231) {
              a3 = a3 + 11 | 0;
              k4 = a3 & -8;
              j4 = c2[2784] | 0;
              if (j4) {
                e4 = 0 - k4 | 0;
                a3 = a3 >>> 8;
                if (a3) {
                  if (k4 >>> 0 > 16777215)
                    i4 = 31;
                  else {
                    n3 = (a3 + 1048320 | 0) >>> 16 & 8;
                    v3 = a3 << n3;
                    m3 = (v3 + 520192 | 0) >>> 16 & 4;
                    v3 = v3 << m3;
                    i4 = (v3 + 245760 | 0) >>> 16 & 2;
                    i4 = 14 - (m3 | n3 | i4) + (v3 << i4 >>> 15) | 0;
                    i4 = k4 >>> (i4 + 7 | 0) & 1 | i4 << 1;
                  }
                } else
                  i4 = 0;
                d3 = c2[11436 + (i4 << 2) >> 2] | 0;
                a:
                  do
                    if (!d3) {
                      d3 = 0;
                      a3 = 0;
                      v3 = 57;
                    } else {
                      a3 = 0;
                      h3 = k4 << ((i4 | 0) == 31 ? 0 : 25 - (i4 >>> 1) | 0);
                      g4 = 0;
                      while (1) {
                        f5 = (c2[d3 + 4 >> 2] & -8) - k4 | 0;
                        if (f5 >>> 0 < e4 >>> 0)
                          if (!f5) {
                            a3 = d3;
                            e4 = 0;
                            f5 = d3;
                            v3 = 61;
                            break a;
                          } else {
                            a3 = d3;
                            e4 = f5;
                          }
                        f5 = c2[d3 + 20 >> 2] | 0;
                        d3 = c2[d3 + 16 + (h3 >>> 31 << 2) >> 2] | 0;
                        g4 = (f5 | 0) == 0 | (f5 | 0) == (d3 | 0) ? g4 : f5;
                        f5 = (d3 | 0) == 0;
                        if (f5) {
                          d3 = g4;
                          v3 = 57;
                          break;
                        } else
                          h3 = h3 << ((f5 ^ 1) & 1);
                      }
                    }
                  while (0);
                if ((v3 | 0) == 57) {
                  if ((d3 | 0) == 0 & (a3 | 0) == 0) {
                    a3 = 2 << i4;
                    a3 = j4 & (a3 | 0 - a3);
                    if (!a3) {
                      n3 = k4;
                      break;
                    }
                    n3 = (a3 & 0 - a3) + -1 | 0;
                    h3 = n3 >>> 12 & 16;
                    n3 = n3 >>> h3;
                    g4 = n3 >>> 5 & 8;
                    n3 = n3 >>> g4;
                    i4 = n3 >>> 2 & 4;
                    n3 = n3 >>> i4;
                    m3 = n3 >>> 1 & 2;
                    n3 = n3 >>> m3;
                    d3 = n3 >>> 1 & 1;
                    a3 = 0;
                    d3 = c2[11436 + ((g4 | h3 | i4 | m3 | d3) + (n3 >>> d3) << 2) >> 2] | 0;
                  }
                  if (!d3) {
                    i4 = a3;
                    h3 = e4;
                  } else {
                    f5 = d3;
                    v3 = 61;
                  }
                }
                if ((v3 | 0) == 61)
                  while (1) {
                    v3 = 0;
                    d3 = (c2[f5 + 4 >> 2] & -8) - k4 | 0;
                    n3 = d3 >>> 0 < e4 >>> 0;
                    d3 = n3 ? d3 : e4;
                    a3 = n3 ? f5 : a3;
                    f5 = c2[f5 + 16 + (((c2[f5 + 16 >> 2] | 0) == 0 & 1) << 2) >> 2] | 0;
                    if (!f5) {
                      i4 = a3;
                      h3 = d3;
                      break;
                    } else {
                      e4 = d3;
                      v3 = 61;
                    }
                  }
                if ((i4 | 0) != 0 ? h3 >>> 0 < ((c2[2785] | 0) - k4 | 0) >>> 0 : 0) {
                  g4 = i4 + k4 | 0;
                  if (i4 >>> 0 >= g4 >>> 0) {
                    w4 = 0;
                    l3 = x3;
                    return w4 | 0;
                  }
                  f5 = c2[i4 + 24 >> 2] | 0;
                  b4 = c2[i4 + 12 >> 2] | 0;
                  do
                    if ((b4 | 0) == (i4 | 0)) {
                      a3 = i4 + 20 | 0;
                      b4 = c2[a3 >> 2] | 0;
                      if (!b4) {
                        a3 = i4 + 16 | 0;
                        b4 = c2[a3 >> 2] | 0;
                        if (!b4) {
                          b4 = 0;
                          break;
                        }
                      }
                      while (1) {
                        d3 = b4 + 20 | 0;
                        e4 = c2[d3 >> 2] | 0;
                        if (e4 | 0) {
                          b4 = e4;
                          a3 = d3;
                          continue;
                        }
                        d3 = b4 + 16 | 0;
                        e4 = c2[d3 >> 2] | 0;
                        if (!e4)
                          break;
                        else {
                          b4 = e4;
                          a3 = d3;
                        }
                      }
                      c2[a3 >> 2] = 0;
                    } else {
                      w4 = c2[i4 + 8 >> 2] | 0;
                      c2[w4 + 12 >> 2] = b4;
                      c2[b4 + 8 >> 2] = w4;
                    }
                  while (0);
                  do
                    if (f5) {
                      a3 = c2[i4 + 28 >> 2] | 0;
                      d3 = 11436 + (a3 << 2) | 0;
                      if ((i4 | 0) == (c2[d3 >> 2] | 0)) {
                        c2[d3 >> 2] = b4;
                        if (!b4) {
                          e4 = j4 & ~(1 << a3);
                          c2[2784] = e4;
                          break;
                        }
                      } else {
                        c2[f5 + 16 + (((c2[f5 + 16 >> 2] | 0) != (i4 | 0) & 1) << 2) >> 2] = b4;
                        if (!b4) {
                          e4 = j4;
                          break;
                        }
                      }
                      c2[b4 + 24 >> 2] = f5;
                      a3 = c2[i4 + 16 >> 2] | 0;
                      if (a3 | 0) {
                        c2[b4 + 16 >> 2] = a3;
                        c2[a3 + 24 >> 2] = b4;
                      }
                      a3 = c2[i4 + 20 >> 2] | 0;
                      if (a3) {
                        c2[b4 + 20 >> 2] = a3;
                        c2[a3 + 24 >> 2] = b4;
                        e4 = j4;
                      } else
                        e4 = j4;
                    } else
                      e4 = j4;
                  while (0);
                  do
                    if (h3 >>> 0 >= 16) {
                      c2[i4 + 4 >> 2] = k4 | 3;
                      c2[g4 + 4 >> 2] = h3 | 1;
                      c2[g4 + h3 >> 2] = h3;
                      b4 = h3 >>> 3;
                      if (h3 >>> 0 < 256) {
                        d3 = 11172 + (b4 << 1 << 2) | 0;
                        a3 = c2[2783] | 0;
                        b4 = 1 << b4;
                        if (!(a3 & b4)) {
                          c2[2783] = a3 | b4;
                          b4 = d3;
                          a3 = d3 + 8 | 0;
                        } else {
                          a3 = d3 + 8 | 0;
                          b4 = c2[a3 >> 2] | 0;
                        }
                        c2[a3 >> 2] = g4;
                        c2[b4 + 12 >> 2] = g4;
                        c2[g4 + 8 >> 2] = b4;
                        c2[g4 + 12 >> 2] = d3;
                        break;
                      }
                      b4 = h3 >>> 8;
                      if (b4) {
                        if (h3 >>> 0 > 16777215)
                          b4 = 31;
                        else {
                          v3 = (b4 + 1048320 | 0) >>> 16 & 8;
                          w4 = b4 << v3;
                          u3 = (w4 + 520192 | 0) >>> 16 & 4;
                          w4 = w4 << u3;
                          b4 = (w4 + 245760 | 0) >>> 16 & 2;
                          b4 = 14 - (u3 | v3 | b4) + (w4 << b4 >>> 15) | 0;
                          b4 = h3 >>> (b4 + 7 | 0) & 1 | b4 << 1;
                        }
                      } else
                        b4 = 0;
                      d3 = 11436 + (b4 << 2) | 0;
                      c2[g4 + 28 >> 2] = b4;
                      a3 = g4 + 16 | 0;
                      c2[a3 + 4 >> 2] = 0;
                      c2[a3 >> 2] = 0;
                      a3 = 1 << b4;
                      if (!(e4 & a3)) {
                        c2[2784] = e4 | a3;
                        c2[d3 >> 2] = g4;
                        c2[g4 + 24 >> 2] = d3;
                        c2[g4 + 12 >> 2] = g4;
                        c2[g4 + 8 >> 2] = g4;
                        break;
                      }
                      a3 = h3 << ((b4 | 0) == 31 ? 0 : 25 - (b4 >>> 1) | 0);
                      d3 = c2[d3 >> 2] | 0;
                      while (1) {
                        if ((c2[d3 + 4 >> 2] & -8 | 0) == (h3 | 0)) {
                          v3 = 97;
                          break;
                        }
                        e4 = d3 + 16 + (a3 >>> 31 << 2) | 0;
                        b4 = c2[e4 >> 2] | 0;
                        if (!b4) {
                          v3 = 96;
                          break;
                        } else {
                          a3 = a3 << 1;
                          d3 = b4;
                        }
                      }
                      if ((v3 | 0) == 96) {
                        c2[e4 >> 2] = g4;
                        c2[g4 + 24 >> 2] = d3;
                        c2[g4 + 12 >> 2] = g4;
                        c2[g4 + 8 >> 2] = g4;
                        break;
                      } else if ((v3 | 0) == 97) {
                        v3 = d3 + 8 | 0;
                        w4 = c2[v3 >> 2] | 0;
                        c2[w4 + 12 >> 2] = g4;
                        c2[v3 >> 2] = g4;
                        c2[g4 + 8 >> 2] = w4;
                        c2[g4 + 12 >> 2] = d3;
                        c2[g4 + 24 >> 2] = 0;
                        break;
                      }
                    } else {
                      w4 = h3 + k4 | 0;
                      c2[i4 + 4 >> 2] = w4 | 3;
                      w4 = i4 + w4 + 4 | 0;
                      c2[w4 >> 2] = c2[w4 >> 2] | 1;
                    }
                  while (0);
                  w4 = i4 + 8 | 0;
                  l3 = x3;
                  return w4 | 0;
                } else
                  n3 = k4;
              } else
                n3 = k4;
            } else
              n3 = -1;
          while (0);
          d3 = c2[2785] | 0;
          if (d3 >>> 0 >= n3 >>> 0) {
            b4 = d3 - n3 | 0;
            a3 = c2[2788] | 0;
            if (b4 >>> 0 > 15) {
              w4 = a3 + n3 | 0;
              c2[2788] = w4;
              c2[2785] = b4;
              c2[w4 + 4 >> 2] = b4 | 1;
              c2[w4 + b4 >> 2] = b4;
              c2[a3 + 4 >> 2] = n3 | 3;
            } else {
              c2[2785] = 0;
              c2[2788] = 0;
              c2[a3 + 4 >> 2] = d3 | 3;
              w4 = a3 + d3 + 4 | 0;
              c2[w4 >> 2] = c2[w4 >> 2] | 1;
            }
            w4 = a3 + 8 | 0;
            l3 = x3;
            return w4 | 0;
          }
          h3 = c2[2786] | 0;
          if (h3 >>> 0 > n3 >>> 0) {
            u3 = h3 - n3 | 0;
            c2[2786] = u3;
            w4 = c2[2789] | 0;
            v3 = w4 + n3 | 0;
            c2[2789] = v3;
            c2[v3 + 4 >> 2] = u3 | 1;
            c2[w4 + 4 >> 2] = n3 | 3;
            w4 = w4 + 8 | 0;
            l3 = x3;
            return w4 | 0;
          }
          if (!(c2[2901] | 0)) {
            c2[2903] = 4096;
            c2[2902] = 4096;
            c2[2904] = -1;
            c2[2905] = -1;
            c2[2906] = 0;
            c2[2894] = 0;
            a3 = o4 & -16 ^ 1431655768;
            c2[o4 >> 2] = a3;
            c2[2901] = a3;
            a3 = 4096;
          } else
            a3 = c2[2903] | 0;
          i4 = n3 + 48 | 0;
          j4 = n3 + 47 | 0;
          g4 = a3 + j4 | 0;
          f5 = 0 - a3 | 0;
          k4 = g4 & f5;
          if (k4 >>> 0 <= n3 >>> 0) {
            w4 = 0;
            l3 = x3;
            return w4 | 0;
          }
          a3 = c2[2893] | 0;
          if (a3 | 0 ? (m3 = c2[2891] | 0, o4 = m3 + k4 | 0, o4 >>> 0 <= m3 >>> 0 | o4 >>> 0 > a3 >>> 0) : 0) {
            w4 = 0;
            l3 = x3;
            return w4 | 0;
          }
          b:
            do
              if (!(c2[2894] & 4)) {
                d3 = c2[2789] | 0;
                c:
                  do
                    if (d3) {
                      e4 = 11580;
                      while (1) {
                        a3 = c2[e4 >> 2] | 0;
                        if (a3 >>> 0 <= d3 >>> 0 ? (r3 = e4 + 4 | 0, (a3 + (c2[r3 >> 2] | 0) | 0) >>> 0 > d3 >>> 0) : 0)
                          break;
                        a3 = c2[e4 + 8 >> 2] | 0;
                        if (!a3) {
                          v3 = 118;
                          break c;
                        } else
                          e4 = a3;
                      }
                      b4 = g4 - h3 & f5;
                      if (b4 >>> 0 < 2147483647) {
                        a3 = FC(b4 | 0) | 0;
                        if ((a3 | 0) == ((c2[e4 >> 2] | 0) + (c2[r3 >> 2] | 0) | 0)) {
                          if ((a3 | 0) != (-1 | 0)) {
                            h3 = b4;
                            g4 = a3;
                            v3 = 135;
                            break b;
                          }
                        } else {
                          e4 = a3;
                          v3 = 126;
                        }
                      } else
                        b4 = 0;
                    } else
                      v3 = 118;
                  while (0);
                do
                  if ((v3 | 0) == 118) {
                    d3 = FC(0) | 0;
                    if ((d3 | 0) != (-1 | 0) ? (b4 = d3, p4 = c2[2902] | 0, q3 = p4 + -1 | 0, b4 = ((q3 & b4 | 0) == 0 ? 0 : (q3 + b4 & 0 - p4) - b4 | 0) + k4 | 0, p4 = c2[2891] | 0, q3 = b4 + p4 | 0, b4 >>> 0 > n3 >>> 0 & b4 >>> 0 < 2147483647) : 0) {
                      r3 = c2[2893] | 0;
                      if (r3 | 0 ? q3 >>> 0 <= p4 >>> 0 | q3 >>> 0 > r3 >>> 0 : 0) {
                        b4 = 0;
                        break;
                      }
                      a3 = FC(b4 | 0) | 0;
                      if ((a3 | 0) == (d3 | 0)) {
                        h3 = b4;
                        g4 = d3;
                        v3 = 135;
                        break b;
                      } else {
                        e4 = a3;
                        v3 = 126;
                      }
                    } else
                      b4 = 0;
                  }
                while (0);
                do
                  if ((v3 | 0) == 126) {
                    d3 = 0 - b4 | 0;
                    if (!(i4 >>> 0 > b4 >>> 0 & (b4 >>> 0 < 2147483647 & (e4 | 0) != (-1 | 0))))
                      if ((e4 | 0) == (-1 | 0)) {
                        b4 = 0;
                        break;
                      } else {
                        h3 = b4;
                        g4 = e4;
                        v3 = 135;
                        break b;
                      }
                    a3 = c2[2903] | 0;
                    a3 = j4 - b4 + a3 & 0 - a3;
                    if (a3 >>> 0 >= 2147483647) {
                      h3 = b4;
                      g4 = e4;
                      v3 = 135;
                      break b;
                    }
                    if ((FC(a3 | 0) | 0) == (-1 | 0)) {
                      FC(d3 | 0) | 0;
                      b4 = 0;
                      break;
                    } else {
                      h3 = a3 + b4 | 0;
                      g4 = e4;
                      v3 = 135;
                      break b;
                    }
                  }
                while (0);
                c2[2894] = c2[2894] | 4;
                v3 = 133;
              } else {
                b4 = 0;
                v3 = 133;
              }
            while (0);
          if (((v3 | 0) == 133 ? k4 >>> 0 < 2147483647 : 0) ? (u3 = FC(k4 | 0) | 0, r3 = FC(0) | 0, s3 = r3 - u3 | 0, t3 = s3 >>> 0 > (n3 + 40 | 0) >>> 0, !((u3 | 0) == (-1 | 0) | t3 ^ 1 | u3 >>> 0 < r3 >>> 0 & ((u3 | 0) != (-1 | 0) & (r3 | 0) != (-1 | 0)) ^ 1)) : 0) {
            h3 = t3 ? s3 : b4;
            g4 = u3;
            v3 = 135;
          }
          if ((v3 | 0) == 135) {
            b4 = (c2[2891] | 0) + h3 | 0;
            c2[2891] = b4;
            if (b4 >>> 0 > (c2[2892] | 0) >>> 0)
              c2[2892] = b4;
            j4 = c2[2789] | 0;
            do
              if (j4) {
                b4 = 11580;
                while (1) {
                  a3 = c2[b4 >> 2] | 0;
                  d3 = b4 + 4 | 0;
                  e4 = c2[d3 >> 2] | 0;
                  if ((g4 | 0) == (a3 + e4 | 0)) {
                    v3 = 145;
                    break;
                  }
                  f5 = c2[b4 + 8 >> 2] | 0;
                  if (!f5)
                    break;
                  else
                    b4 = f5;
                }
                if (((v3 | 0) == 145 ? (c2[b4 + 12 >> 2] & 8 | 0) == 0 : 0) ? j4 >>> 0 < g4 >>> 0 & j4 >>> 0 >= a3 >>> 0 : 0) {
                  c2[d3 >> 2] = e4 + h3;
                  w4 = j4 + 8 | 0;
                  w4 = (w4 & 7 | 0) == 0 ? 0 : 0 - w4 & 7;
                  v3 = j4 + w4 | 0;
                  w4 = (c2[2786] | 0) + (h3 - w4) | 0;
                  c2[2789] = v3;
                  c2[2786] = w4;
                  c2[v3 + 4 >> 2] = w4 | 1;
                  c2[v3 + w4 + 4 >> 2] = 40;
                  c2[2790] = c2[2905];
                  break;
                }
                if (g4 >>> 0 < (c2[2787] | 0) >>> 0)
                  c2[2787] = g4;
                d3 = g4 + h3 | 0;
                b4 = 11580;
                while (1) {
                  if ((c2[b4 >> 2] | 0) == (d3 | 0)) {
                    v3 = 153;
                    break;
                  }
                  a3 = c2[b4 + 8 >> 2] | 0;
                  if (!a3)
                    break;
                  else
                    b4 = a3;
                }
                if ((v3 | 0) == 153 ? (c2[b4 + 12 >> 2] & 8 | 0) == 0 : 0) {
                  c2[b4 >> 2] = g4;
                  m3 = b4 + 4 | 0;
                  c2[m3 >> 2] = (c2[m3 >> 2] | 0) + h3;
                  m3 = g4 + 8 | 0;
                  m3 = g4 + ((m3 & 7 | 0) == 0 ? 0 : 0 - m3 & 7) | 0;
                  b4 = d3 + 8 | 0;
                  b4 = d3 + ((b4 & 7 | 0) == 0 ? 0 : 0 - b4 & 7) | 0;
                  k4 = m3 + n3 | 0;
                  i4 = b4 - m3 - n3 | 0;
                  c2[m3 + 4 >> 2] = n3 | 3;
                  do
                    if ((b4 | 0) != (j4 | 0)) {
                      if ((b4 | 0) == (c2[2788] | 0)) {
                        w4 = (c2[2785] | 0) + i4 | 0;
                        c2[2785] = w4;
                        c2[2788] = k4;
                        c2[k4 + 4 >> 2] = w4 | 1;
                        c2[k4 + w4 >> 2] = w4;
                        break;
                      }
                      a3 = c2[b4 + 4 >> 2] | 0;
                      if ((a3 & 3 | 0) == 1) {
                        h3 = a3 & -8;
                        e4 = a3 >>> 3;
                        d:
                          do
                            if (a3 >>> 0 < 256) {
                              a3 = c2[b4 + 8 >> 2] | 0;
                              d3 = c2[b4 + 12 >> 2] | 0;
                              if ((d3 | 0) == (a3 | 0)) {
                                c2[2783] = c2[2783] & ~(1 << e4);
                                break;
                              } else {
                                c2[a3 + 12 >> 2] = d3;
                                c2[d3 + 8 >> 2] = a3;
                                break;
                              }
                            } else {
                              g4 = c2[b4 + 24 >> 2] | 0;
                              a3 = c2[b4 + 12 >> 2] | 0;
                              do
                                if ((a3 | 0) == (b4 | 0)) {
                                  e4 = b4 + 16 | 0;
                                  d3 = e4 + 4 | 0;
                                  a3 = c2[d3 >> 2] | 0;
                                  if (!a3) {
                                    a3 = c2[e4 >> 2] | 0;
                                    if (!a3) {
                                      a3 = 0;
                                      break;
                                    } else
                                      d3 = e4;
                                  }
                                  while (1) {
                                    e4 = a3 + 20 | 0;
                                    f5 = c2[e4 >> 2] | 0;
                                    if (f5 | 0) {
                                      a3 = f5;
                                      d3 = e4;
                                      continue;
                                    }
                                    e4 = a3 + 16 | 0;
                                    f5 = c2[e4 >> 2] | 0;
                                    if (!f5)
                                      break;
                                    else {
                                      a3 = f5;
                                      d3 = e4;
                                    }
                                  }
                                  c2[d3 >> 2] = 0;
                                } else {
                                  w4 = c2[b4 + 8 >> 2] | 0;
                                  c2[w4 + 12 >> 2] = a3;
                                  c2[a3 + 8 >> 2] = w4;
                                }
                              while (0);
                              if (!g4)
                                break;
                              d3 = c2[b4 + 28 >> 2] | 0;
                              e4 = 11436 + (d3 << 2) | 0;
                              do
                                if ((b4 | 0) != (c2[e4 >> 2] | 0)) {
                                  c2[g4 + 16 + (((c2[g4 + 16 >> 2] | 0) != (b4 | 0) & 1) << 2) >> 2] = a3;
                                  if (!a3)
                                    break d;
                                } else {
                                  c2[e4 >> 2] = a3;
                                  if (a3 | 0)
                                    break;
                                  c2[2784] = c2[2784] & ~(1 << d3);
                                  break d;
                                }
                              while (0);
                              c2[a3 + 24 >> 2] = g4;
                              d3 = b4 + 16 | 0;
                              e4 = c2[d3 >> 2] | 0;
                              if (e4 | 0) {
                                c2[a3 + 16 >> 2] = e4;
                                c2[e4 + 24 >> 2] = a3;
                              }
                              d3 = c2[d3 + 4 >> 2] | 0;
                              if (!d3)
                                break;
                              c2[a3 + 20 >> 2] = d3;
                              c2[d3 + 24 >> 2] = a3;
                            }
                          while (0);
                        b4 = b4 + h3 | 0;
                        f5 = h3 + i4 | 0;
                      } else
                        f5 = i4;
                      b4 = b4 + 4 | 0;
                      c2[b4 >> 2] = c2[b4 >> 2] & -2;
                      c2[k4 + 4 >> 2] = f5 | 1;
                      c2[k4 + f5 >> 2] = f5;
                      b4 = f5 >>> 3;
                      if (f5 >>> 0 < 256) {
                        d3 = 11172 + (b4 << 1 << 2) | 0;
                        a3 = c2[2783] | 0;
                        b4 = 1 << b4;
                        if (!(a3 & b4)) {
                          c2[2783] = a3 | b4;
                          b4 = d3;
                          a3 = d3 + 8 | 0;
                        } else {
                          a3 = d3 + 8 | 0;
                          b4 = c2[a3 >> 2] | 0;
                        }
                        c2[a3 >> 2] = k4;
                        c2[b4 + 12 >> 2] = k4;
                        c2[k4 + 8 >> 2] = b4;
                        c2[k4 + 12 >> 2] = d3;
                        break;
                      }
                      b4 = f5 >>> 8;
                      do
                        if (!b4)
                          b4 = 0;
                        else {
                          if (f5 >>> 0 > 16777215) {
                            b4 = 31;
                            break;
                          }
                          v3 = (b4 + 1048320 | 0) >>> 16 & 8;
                          w4 = b4 << v3;
                          u3 = (w4 + 520192 | 0) >>> 16 & 4;
                          w4 = w4 << u3;
                          b4 = (w4 + 245760 | 0) >>> 16 & 2;
                          b4 = 14 - (u3 | v3 | b4) + (w4 << b4 >>> 15) | 0;
                          b4 = f5 >>> (b4 + 7 | 0) & 1 | b4 << 1;
                        }
                      while (0);
                      e4 = 11436 + (b4 << 2) | 0;
                      c2[k4 + 28 >> 2] = b4;
                      a3 = k4 + 16 | 0;
                      c2[a3 + 4 >> 2] = 0;
                      c2[a3 >> 2] = 0;
                      a3 = c2[2784] | 0;
                      d3 = 1 << b4;
                      if (!(a3 & d3)) {
                        c2[2784] = a3 | d3;
                        c2[e4 >> 2] = k4;
                        c2[k4 + 24 >> 2] = e4;
                        c2[k4 + 12 >> 2] = k4;
                        c2[k4 + 8 >> 2] = k4;
                        break;
                      }
                      a3 = f5 << ((b4 | 0) == 31 ? 0 : 25 - (b4 >>> 1) | 0);
                      d3 = c2[e4 >> 2] | 0;
                      while (1) {
                        if ((c2[d3 + 4 >> 2] & -8 | 0) == (f5 | 0)) {
                          v3 = 194;
                          break;
                        }
                        e4 = d3 + 16 + (a3 >>> 31 << 2) | 0;
                        b4 = c2[e4 >> 2] | 0;
                        if (!b4) {
                          v3 = 193;
                          break;
                        } else {
                          a3 = a3 << 1;
                          d3 = b4;
                        }
                      }
                      if ((v3 | 0) == 193) {
                        c2[e4 >> 2] = k4;
                        c2[k4 + 24 >> 2] = d3;
                        c2[k4 + 12 >> 2] = k4;
                        c2[k4 + 8 >> 2] = k4;
                        break;
                      } else if ((v3 | 0) == 194) {
                        v3 = d3 + 8 | 0;
                        w4 = c2[v3 >> 2] | 0;
                        c2[w4 + 12 >> 2] = k4;
                        c2[v3 >> 2] = k4;
                        c2[k4 + 8 >> 2] = w4;
                        c2[k4 + 12 >> 2] = d3;
                        c2[k4 + 24 >> 2] = 0;
                        break;
                      }
                    } else {
                      w4 = (c2[2786] | 0) + i4 | 0;
                      c2[2786] = w4;
                      c2[2789] = k4;
                      c2[k4 + 4 >> 2] = w4 | 1;
                    }
                  while (0);
                  w4 = m3 + 8 | 0;
                  l3 = x3;
                  return w4 | 0;
                }
                b4 = 11580;
                while (1) {
                  a3 = c2[b4 >> 2] | 0;
                  if (a3 >>> 0 <= j4 >>> 0 ? (w4 = a3 + (c2[b4 + 4 >> 2] | 0) | 0, w4 >>> 0 > j4 >>> 0) : 0)
                    break;
                  b4 = c2[b4 + 8 >> 2] | 0;
                }
                f5 = w4 + -47 | 0;
                a3 = f5 + 8 | 0;
                a3 = f5 + ((a3 & 7 | 0) == 0 ? 0 : 0 - a3 & 7) | 0;
                f5 = j4 + 16 | 0;
                a3 = a3 >>> 0 < f5 >>> 0 ? j4 : a3;
                b4 = a3 + 8 | 0;
                d3 = g4 + 8 | 0;
                d3 = (d3 & 7 | 0) == 0 ? 0 : 0 - d3 & 7;
                v3 = g4 + d3 | 0;
                d3 = h3 + -40 - d3 | 0;
                c2[2789] = v3;
                c2[2786] = d3;
                c2[v3 + 4 >> 2] = d3 | 1;
                c2[v3 + d3 + 4 >> 2] = 40;
                c2[2790] = c2[2905];
                d3 = a3 + 4 | 0;
                c2[d3 >> 2] = 27;
                c2[b4 >> 2] = c2[2895];
                c2[b4 + 4 >> 2] = c2[2896];
                c2[b4 + 8 >> 2] = c2[2897];
                c2[b4 + 12 >> 2] = c2[2898];
                c2[2895] = g4;
                c2[2896] = h3;
                c2[2898] = 0;
                c2[2897] = b4;
                b4 = a3 + 24 | 0;
                do {
                  v3 = b4;
                  b4 = b4 + 4 | 0;
                  c2[b4 >> 2] = 7;
                } while ((v3 + 8 | 0) >>> 0 < w4 >>> 0);
                if ((a3 | 0) != (j4 | 0)) {
                  g4 = a3 - j4 | 0;
                  c2[d3 >> 2] = c2[d3 >> 2] & -2;
                  c2[j4 + 4 >> 2] = g4 | 1;
                  c2[a3 >> 2] = g4;
                  b4 = g4 >>> 3;
                  if (g4 >>> 0 < 256) {
                    d3 = 11172 + (b4 << 1 << 2) | 0;
                    a3 = c2[2783] | 0;
                    b4 = 1 << b4;
                    if (!(a3 & b4)) {
                      c2[2783] = a3 | b4;
                      b4 = d3;
                      a3 = d3 + 8 | 0;
                    } else {
                      a3 = d3 + 8 | 0;
                      b4 = c2[a3 >> 2] | 0;
                    }
                    c2[a3 >> 2] = j4;
                    c2[b4 + 12 >> 2] = j4;
                    c2[j4 + 8 >> 2] = b4;
                    c2[j4 + 12 >> 2] = d3;
                    break;
                  }
                  b4 = g4 >>> 8;
                  if (b4) {
                    if (g4 >>> 0 > 16777215)
                      d3 = 31;
                    else {
                      v3 = (b4 + 1048320 | 0) >>> 16 & 8;
                      w4 = b4 << v3;
                      u3 = (w4 + 520192 | 0) >>> 16 & 4;
                      w4 = w4 << u3;
                      d3 = (w4 + 245760 | 0) >>> 16 & 2;
                      d3 = 14 - (u3 | v3 | d3) + (w4 << d3 >>> 15) | 0;
                      d3 = g4 >>> (d3 + 7 | 0) & 1 | d3 << 1;
                    }
                  } else
                    d3 = 0;
                  e4 = 11436 + (d3 << 2) | 0;
                  c2[j4 + 28 >> 2] = d3;
                  c2[j4 + 20 >> 2] = 0;
                  c2[f5 >> 2] = 0;
                  b4 = c2[2784] | 0;
                  a3 = 1 << d3;
                  if (!(b4 & a3)) {
                    c2[2784] = b4 | a3;
                    c2[e4 >> 2] = j4;
                    c2[j4 + 24 >> 2] = e4;
                    c2[j4 + 12 >> 2] = j4;
                    c2[j4 + 8 >> 2] = j4;
                    break;
                  }
                  a3 = g4 << ((d3 | 0) == 31 ? 0 : 25 - (d3 >>> 1) | 0);
                  d3 = c2[e4 >> 2] | 0;
                  while (1) {
                    if ((c2[d3 + 4 >> 2] & -8 | 0) == (g4 | 0)) {
                      v3 = 216;
                      break;
                    }
                    e4 = d3 + 16 + (a3 >>> 31 << 2) | 0;
                    b4 = c2[e4 >> 2] | 0;
                    if (!b4) {
                      v3 = 215;
                      break;
                    } else {
                      a3 = a3 << 1;
                      d3 = b4;
                    }
                  }
                  if ((v3 | 0) == 215) {
                    c2[e4 >> 2] = j4;
                    c2[j4 + 24 >> 2] = d3;
                    c2[j4 + 12 >> 2] = j4;
                    c2[j4 + 8 >> 2] = j4;
                    break;
                  } else if ((v3 | 0) == 216) {
                    v3 = d3 + 8 | 0;
                    w4 = c2[v3 >> 2] | 0;
                    c2[w4 + 12 >> 2] = j4;
                    c2[v3 >> 2] = j4;
                    c2[j4 + 8 >> 2] = w4;
                    c2[j4 + 12 >> 2] = d3;
                    c2[j4 + 24 >> 2] = 0;
                    break;
                  }
                }
              } else {
                w4 = c2[2787] | 0;
                if ((w4 | 0) == 0 | g4 >>> 0 < w4 >>> 0)
                  c2[2787] = g4;
                c2[2895] = g4;
                c2[2896] = h3;
                c2[2898] = 0;
                c2[2792] = c2[2901];
                c2[2791] = -1;
                b4 = 0;
                do {
                  w4 = 11172 + (b4 << 1 << 2) | 0;
                  c2[w4 + 12 >> 2] = w4;
                  c2[w4 + 8 >> 2] = w4;
                  b4 = b4 + 1 | 0;
                } while ((b4 | 0) != 32);
                w4 = g4 + 8 | 0;
                w4 = (w4 & 7 | 0) == 0 ? 0 : 0 - w4 & 7;
                v3 = g4 + w4 | 0;
                w4 = h3 + -40 - w4 | 0;
                c2[2789] = v3;
                c2[2786] = w4;
                c2[v3 + 4 >> 2] = w4 | 1;
                c2[v3 + w4 + 4 >> 2] = 40;
                c2[2790] = c2[2905];
              }
            while (0);
            b4 = c2[2786] | 0;
            if (b4 >>> 0 > n3 >>> 0) {
              u3 = b4 - n3 | 0;
              c2[2786] = u3;
              w4 = c2[2789] | 0;
              v3 = w4 + n3 | 0;
              c2[2789] = v3;
              c2[v3 + 4 >> 2] = u3 | 1;
              c2[w4 + 4 >> 2] = n3 | 3;
              w4 = w4 + 8 | 0;
              l3 = x3;
              return w4 | 0;
            }
          }
          c2[(vB() | 0) >> 2] = 12;
          w4 = 0;
          l3 = x3;
          return w4 | 0;
        }
        function pB(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0, e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          if (!a3)
            return;
          d3 = a3 + -8 | 0;
          f5 = c2[2787] | 0;
          a3 = c2[a3 + -4 >> 2] | 0;
          b4 = a3 & -8;
          j4 = d3 + b4 | 0;
          do
            if (!(a3 & 1)) {
              e4 = c2[d3 >> 2] | 0;
              if (!(a3 & 3))
                return;
              h3 = d3 + (0 - e4) | 0;
              g4 = e4 + b4 | 0;
              if (h3 >>> 0 < f5 >>> 0)
                return;
              if ((h3 | 0) == (c2[2788] | 0)) {
                a3 = j4 + 4 | 0;
                b4 = c2[a3 >> 2] | 0;
                if ((b4 & 3 | 0) != 3) {
                  i4 = h3;
                  b4 = g4;
                  break;
                }
                c2[2785] = g4;
                c2[a3 >> 2] = b4 & -2;
                c2[h3 + 4 >> 2] = g4 | 1;
                c2[h3 + g4 >> 2] = g4;
                return;
              }
              d3 = e4 >>> 3;
              if (e4 >>> 0 < 256) {
                a3 = c2[h3 + 8 >> 2] | 0;
                b4 = c2[h3 + 12 >> 2] | 0;
                if ((b4 | 0) == (a3 | 0)) {
                  c2[2783] = c2[2783] & ~(1 << d3);
                  i4 = h3;
                  b4 = g4;
                  break;
                } else {
                  c2[a3 + 12 >> 2] = b4;
                  c2[b4 + 8 >> 2] = a3;
                  i4 = h3;
                  b4 = g4;
                  break;
                }
              }
              f5 = c2[h3 + 24 >> 2] | 0;
              a3 = c2[h3 + 12 >> 2] | 0;
              do
                if ((a3 | 0) == (h3 | 0)) {
                  d3 = h3 + 16 | 0;
                  b4 = d3 + 4 | 0;
                  a3 = c2[b4 >> 2] | 0;
                  if (!a3) {
                    a3 = c2[d3 >> 2] | 0;
                    if (!a3) {
                      a3 = 0;
                      break;
                    } else
                      b4 = d3;
                  }
                  while (1) {
                    d3 = a3 + 20 | 0;
                    e4 = c2[d3 >> 2] | 0;
                    if (e4 | 0) {
                      a3 = e4;
                      b4 = d3;
                      continue;
                    }
                    d3 = a3 + 16 | 0;
                    e4 = c2[d3 >> 2] | 0;
                    if (!e4)
                      break;
                    else {
                      a3 = e4;
                      b4 = d3;
                    }
                  }
                  c2[b4 >> 2] = 0;
                } else {
                  i4 = c2[h3 + 8 >> 2] | 0;
                  c2[i4 + 12 >> 2] = a3;
                  c2[a3 + 8 >> 2] = i4;
                }
              while (0);
              if (f5) {
                b4 = c2[h3 + 28 >> 2] | 0;
                d3 = 11436 + (b4 << 2) | 0;
                if ((h3 | 0) == (c2[d3 >> 2] | 0)) {
                  c2[d3 >> 2] = a3;
                  if (!a3) {
                    c2[2784] = c2[2784] & ~(1 << b4);
                    i4 = h3;
                    b4 = g4;
                    break;
                  }
                } else {
                  c2[f5 + 16 + (((c2[f5 + 16 >> 2] | 0) != (h3 | 0) & 1) << 2) >> 2] = a3;
                  if (!a3) {
                    i4 = h3;
                    b4 = g4;
                    break;
                  }
                }
                c2[a3 + 24 >> 2] = f5;
                b4 = h3 + 16 | 0;
                d3 = c2[b4 >> 2] | 0;
                if (d3 | 0) {
                  c2[a3 + 16 >> 2] = d3;
                  c2[d3 + 24 >> 2] = a3;
                }
                b4 = c2[b4 + 4 >> 2] | 0;
                if (b4) {
                  c2[a3 + 20 >> 2] = b4;
                  c2[b4 + 24 >> 2] = a3;
                  i4 = h3;
                  b4 = g4;
                } else {
                  i4 = h3;
                  b4 = g4;
                }
              } else {
                i4 = h3;
                b4 = g4;
              }
            } else {
              i4 = d3;
              h3 = d3;
            }
          while (0);
          if (h3 >>> 0 >= j4 >>> 0)
            return;
          a3 = j4 + 4 | 0;
          e4 = c2[a3 >> 2] | 0;
          if (!(e4 & 1))
            return;
          if (!(e4 & 2)) {
            a3 = c2[2788] | 0;
            if ((j4 | 0) == (c2[2789] | 0)) {
              j4 = (c2[2786] | 0) + b4 | 0;
              c2[2786] = j4;
              c2[2789] = i4;
              c2[i4 + 4 >> 2] = j4 | 1;
              if ((i4 | 0) != (a3 | 0))
                return;
              c2[2788] = 0;
              c2[2785] = 0;
              return;
            }
            if ((j4 | 0) == (a3 | 0)) {
              j4 = (c2[2785] | 0) + b4 | 0;
              c2[2785] = j4;
              c2[2788] = h3;
              c2[i4 + 4 >> 2] = j4 | 1;
              c2[h3 + j4 >> 2] = j4;
              return;
            }
            f5 = (e4 & -8) + b4 | 0;
            d3 = e4 >>> 3;
            do
              if (e4 >>> 0 < 256) {
                b4 = c2[j4 + 8 >> 2] | 0;
                a3 = c2[j4 + 12 >> 2] | 0;
                if ((a3 | 0) == (b4 | 0)) {
                  c2[2783] = c2[2783] & ~(1 << d3);
                  break;
                } else {
                  c2[b4 + 12 >> 2] = a3;
                  c2[a3 + 8 >> 2] = b4;
                  break;
                }
              } else {
                g4 = c2[j4 + 24 >> 2] | 0;
                a3 = c2[j4 + 12 >> 2] | 0;
                do
                  if ((a3 | 0) == (j4 | 0)) {
                    d3 = j4 + 16 | 0;
                    b4 = d3 + 4 | 0;
                    a3 = c2[b4 >> 2] | 0;
                    if (!a3) {
                      a3 = c2[d3 >> 2] | 0;
                      if (!a3) {
                        d3 = 0;
                        break;
                      } else
                        b4 = d3;
                    }
                    while (1) {
                      d3 = a3 + 20 | 0;
                      e4 = c2[d3 >> 2] | 0;
                      if (e4 | 0) {
                        a3 = e4;
                        b4 = d3;
                        continue;
                      }
                      d3 = a3 + 16 | 0;
                      e4 = c2[d3 >> 2] | 0;
                      if (!e4)
                        break;
                      else {
                        a3 = e4;
                        b4 = d3;
                      }
                    }
                    c2[b4 >> 2] = 0;
                    d3 = a3;
                  } else {
                    d3 = c2[j4 + 8 >> 2] | 0;
                    c2[d3 + 12 >> 2] = a3;
                    c2[a3 + 8 >> 2] = d3;
                    d3 = a3;
                  }
                while (0);
                if (g4 | 0) {
                  a3 = c2[j4 + 28 >> 2] | 0;
                  b4 = 11436 + (a3 << 2) | 0;
                  if ((j4 | 0) == (c2[b4 >> 2] | 0)) {
                    c2[b4 >> 2] = d3;
                    if (!d3) {
                      c2[2784] = c2[2784] & ~(1 << a3);
                      break;
                    }
                  } else {
                    c2[g4 + 16 + (((c2[g4 + 16 >> 2] | 0) != (j4 | 0) & 1) << 2) >> 2] = d3;
                    if (!d3)
                      break;
                  }
                  c2[d3 + 24 >> 2] = g4;
                  a3 = j4 + 16 | 0;
                  b4 = c2[a3 >> 2] | 0;
                  if (b4 | 0) {
                    c2[d3 + 16 >> 2] = b4;
                    c2[b4 + 24 >> 2] = d3;
                  }
                  a3 = c2[a3 + 4 >> 2] | 0;
                  if (a3 | 0) {
                    c2[d3 + 20 >> 2] = a3;
                    c2[a3 + 24 >> 2] = d3;
                  }
                }
              }
            while (0);
            c2[i4 + 4 >> 2] = f5 | 1;
            c2[h3 + f5 >> 2] = f5;
            if ((i4 | 0) == (c2[2788] | 0)) {
              c2[2785] = f5;
              return;
            }
          } else {
            c2[a3 >> 2] = e4 & -2;
            c2[i4 + 4 >> 2] = b4 | 1;
            c2[h3 + b4 >> 2] = b4;
            f5 = b4;
          }
          a3 = f5 >>> 3;
          if (f5 >>> 0 < 256) {
            d3 = 11172 + (a3 << 1 << 2) | 0;
            b4 = c2[2783] | 0;
            a3 = 1 << a3;
            if (!(b4 & a3)) {
              c2[2783] = b4 | a3;
              a3 = d3;
              b4 = d3 + 8 | 0;
            } else {
              b4 = d3 + 8 | 0;
              a3 = c2[b4 >> 2] | 0;
            }
            c2[b4 >> 2] = i4;
            c2[a3 + 12 >> 2] = i4;
            c2[i4 + 8 >> 2] = a3;
            c2[i4 + 12 >> 2] = d3;
            return;
          }
          a3 = f5 >>> 8;
          if (a3) {
            if (f5 >>> 0 > 16777215)
              a3 = 31;
            else {
              h3 = (a3 + 1048320 | 0) >>> 16 & 8;
              j4 = a3 << h3;
              g4 = (j4 + 520192 | 0) >>> 16 & 4;
              j4 = j4 << g4;
              a3 = (j4 + 245760 | 0) >>> 16 & 2;
              a3 = 14 - (g4 | h3 | a3) + (j4 << a3 >>> 15) | 0;
              a3 = f5 >>> (a3 + 7 | 0) & 1 | a3 << 1;
            }
          } else
            a3 = 0;
          e4 = 11436 + (a3 << 2) | 0;
          c2[i4 + 28 >> 2] = a3;
          c2[i4 + 20 >> 2] = 0;
          c2[i4 + 16 >> 2] = 0;
          b4 = c2[2784] | 0;
          d3 = 1 << a3;
          do
            if (b4 & d3) {
              b4 = f5 << ((a3 | 0) == 31 ? 0 : 25 - (a3 >>> 1) | 0);
              d3 = c2[e4 >> 2] | 0;
              while (1) {
                if ((c2[d3 + 4 >> 2] & -8 | 0) == (f5 | 0)) {
                  a3 = 73;
                  break;
                }
                e4 = d3 + 16 + (b4 >>> 31 << 2) | 0;
                a3 = c2[e4 >> 2] | 0;
                if (!a3) {
                  a3 = 72;
                  break;
                } else {
                  b4 = b4 << 1;
                  d3 = a3;
                }
              }
              if ((a3 | 0) == 72) {
                c2[e4 >> 2] = i4;
                c2[i4 + 24 >> 2] = d3;
                c2[i4 + 12 >> 2] = i4;
                c2[i4 + 8 >> 2] = i4;
                break;
              } else if ((a3 | 0) == 73) {
                h3 = d3 + 8 | 0;
                j4 = c2[h3 >> 2] | 0;
                c2[j4 + 12 >> 2] = i4;
                c2[h3 >> 2] = i4;
                c2[i4 + 8 >> 2] = j4;
                c2[i4 + 12 >> 2] = d3;
                c2[i4 + 24 >> 2] = 0;
                break;
              }
            } else {
              c2[2784] = b4 | d3;
              c2[e4 >> 2] = i4;
              c2[i4 + 24 >> 2] = e4;
              c2[i4 + 12 >> 2] = i4;
              c2[i4 + 8 >> 2] = i4;
            }
          while (0);
          j4 = (c2[2791] | 0) + -1 | 0;
          c2[2791] = j4;
          if (!j4)
            a3 = 11588;
          else
            return;
          while (1) {
            a3 = c2[a3 >> 2] | 0;
            if (!a3)
              break;
            else
              a3 = a3 + 8 | 0;
          }
          c2[2791] = -1;
          return;
        }
        function qB() {
          return 11628;
        }
        function rB(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          b4 = l3;
          l3 = l3 + 16 | 0;
          d3 = b4;
          c2[d3 >> 2] = yB(c2[a3 + 60 >> 2] | 0) | 0;
          a3 = uB(db(6, d3 | 0) | 0) | 0;
          l3 = b4;
          return a3 | 0;
        }
        function sB(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0;
          n3 = l3;
          l3 = l3 + 48 | 0;
          k4 = n3 + 16 | 0;
          g4 = n3;
          f5 = n3 + 32 | 0;
          i4 = a3 + 28 | 0;
          e4 = c2[i4 >> 2] | 0;
          c2[f5 >> 2] = e4;
          j4 = a3 + 20 | 0;
          e4 = (c2[j4 >> 2] | 0) - e4 | 0;
          c2[f5 + 4 >> 2] = e4;
          c2[f5 + 8 >> 2] = b4;
          c2[f5 + 12 >> 2] = d3;
          e4 = e4 + d3 | 0;
          h3 = a3 + 60 | 0;
          c2[g4 >> 2] = c2[h3 >> 2];
          c2[g4 + 4 >> 2] = f5;
          c2[g4 + 8 >> 2] = 2;
          g4 = uB(gb(146, g4 | 0) | 0) | 0;
          a:
            do
              if ((e4 | 0) != (g4 | 0)) {
                b4 = 2;
                while (1) {
                  if ((g4 | 0) < 0)
                    break;
                  e4 = e4 - g4 | 0;
                  p4 = c2[f5 + 4 >> 2] | 0;
                  o4 = g4 >>> 0 > p4 >>> 0;
                  f5 = o4 ? f5 + 8 | 0 : f5;
                  b4 = (o4 << 31 >> 31) + b4 | 0;
                  p4 = g4 - (o4 ? p4 : 0) | 0;
                  c2[f5 >> 2] = (c2[f5 >> 2] | 0) + p4;
                  o4 = f5 + 4 | 0;
                  c2[o4 >> 2] = (c2[o4 >> 2] | 0) - p4;
                  c2[k4 >> 2] = c2[h3 >> 2];
                  c2[k4 + 4 >> 2] = f5;
                  c2[k4 + 8 >> 2] = b4;
                  g4 = uB(gb(146, k4 | 0) | 0) | 0;
                  if ((e4 | 0) == (g4 | 0)) {
                    m3 = 3;
                    break a;
                  }
                }
                c2[a3 + 16 >> 2] = 0;
                c2[i4 >> 2] = 0;
                c2[j4 >> 2] = 0;
                c2[a3 >> 2] = c2[a3 >> 2] | 32;
                if ((b4 | 0) == 2)
                  d3 = 0;
                else
                  d3 = d3 - (c2[f5 + 4 >> 2] | 0) | 0;
              } else
                m3 = 3;
            while (0);
          if ((m3 | 0) == 3) {
            p4 = c2[a3 + 44 >> 2] | 0;
            c2[a3 + 16 >> 2] = p4 + (c2[a3 + 48 >> 2] | 0);
            c2[i4 >> 2] = p4;
            c2[j4 >> 2] = p4;
          }
          l3 = n3;
          return d3 | 0;
        }
        function tB(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          f5 = l3;
          l3 = l3 + 32 | 0;
          g4 = f5;
          e4 = f5 + 20 | 0;
          c2[g4 >> 2] = c2[a3 + 60 >> 2];
          c2[g4 + 4 >> 2] = 0;
          c2[g4 + 8 >> 2] = b4;
          c2[g4 + 12 >> 2] = e4;
          c2[g4 + 16 >> 2] = d3;
          if ((uB(fb(140, g4 | 0) | 0) | 0) < 0) {
            c2[e4 >> 2] = -1;
            a3 = -1;
          } else
            a3 = c2[e4 >> 2] | 0;
          l3 = f5;
          return a3 | 0;
        }
        function uB(a3) {
          a3 = a3 | 0;
          if (a3 >>> 0 > 4294963200) {
            c2[(vB() | 0) >> 2] = 0 - a3;
            a3 = -1;
          }
          return a3 | 0;
        }
        function vB() {
          return (wB() | 0) + 64 | 0;
        }
        function wB() {
          return xB() | 0;
        }
        function xB() {
          return 2084;
        }
        function yB(a3) {
          a3 = a3 | 0;
          return a3 | 0;
        }
        function zB(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 32 | 0;
          f5 = g4;
          c2[b4 + 36 >> 2] = 1;
          if ((c2[b4 >> 2] & 64 | 0) == 0 ? (c2[f5 >> 2] = c2[b4 + 60 >> 2], c2[f5 + 4 >> 2] = 21523, c2[f5 + 8 >> 2] = g4 + 16, Wa(54, f5 | 0) | 0) : 0)
            a2[b4 + 75 >> 0] = -1;
          f5 = sB(b4, d3, e4) | 0;
          l3 = g4;
          return f5 | 0;
        }
        function AB(b4, c3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          var d3 = 0, e4 = 0;
          d3 = a2[b4 >> 0] | 0;
          e4 = a2[c3 >> 0] | 0;
          if (d3 << 24 >> 24 == 0 ? 1 : d3 << 24 >> 24 != e4 << 24 >> 24)
            b4 = e4;
          else {
            do {
              b4 = b4 + 1 | 0;
              c3 = c3 + 1 | 0;
              d3 = a2[b4 >> 0] | 0;
              e4 = a2[c3 >> 0] | 0;
            } while (!(d3 << 24 >> 24 == 0 ? 1 : d3 << 24 >> 24 != e4 << 24 >> 24));
            b4 = e4;
          }
          return (d3 & 255) - (b4 & 255) | 0;
        }
        function BB(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0;
          a:
            do
              if (!d3)
                b4 = 0;
              else {
                while (1) {
                  e4 = a2[b4 >> 0] | 0;
                  f5 = a2[c3 >> 0] | 0;
                  if (e4 << 24 >> 24 != f5 << 24 >> 24)
                    break;
                  d3 = d3 + -1 | 0;
                  if (!d3) {
                    b4 = 0;
                    break a;
                  } else {
                    b4 = b4 + 1 | 0;
                    c3 = c3 + 1 | 0;
                  }
                }
                b4 = (e4 & 255) - (f5 & 255) | 0;
              }
            while (0);
          return b4 | 0;
        }
        function CB(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0;
          s3 = l3;
          l3 = l3 + 224 | 0;
          n3 = s3 + 120 | 0;
          o4 = s3 + 80 | 0;
          q3 = s3;
          r3 = s3 + 136 | 0;
          f5 = o4;
          g4 = f5 + 40 | 0;
          do {
            c2[f5 >> 2] = 0;
            f5 = f5 + 4 | 0;
          } while ((f5 | 0) < (g4 | 0));
          c2[n3 >> 2] = c2[e4 >> 2];
          if ((DB(0, d3, n3, q3, o4) | 0) < 0)
            e4 = -1;
          else {
            if ((c2[b4 + 76 >> 2] | 0) > -1)
              p4 = EB(b4) | 0;
            else
              p4 = 0;
            e4 = c2[b4 >> 2] | 0;
            m3 = e4 & 32;
            if ((a2[b4 + 74 >> 0] | 0) < 1)
              c2[b4 >> 2] = e4 & -33;
            f5 = b4 + 48 | 0;
            if (!(c2[f5 >> 2] | 0)) {
              g4 = b4 + 44 | 0;
              h3 = c2[g4 >> 2] | 0;
              c2[g4 >> 2] = r3;
              i4 = b4 + 28 | 0;
              c2[i4 >> 2] = r3;
              j4 = b4 + 20 | 0;
              c2[j4 >> 2] = r3;
              c2[f5 >> 2] = 80;
              k4 = b4 + 16 | 0;
              c2[k4 >> 2] = r3 + 80;
              e4 = DB(b4, d3, n3, q3, o4) | 0;
              if (h3) {
                sb[c2[b4 + 36 >> 2] & 7](b4, 0, 0) | 0;
                e4 = (c2[j4 >> 2] | 0) == 0 ? -1 : e4;
                c2[g4 >> 2] = h3;
                c2[f5 >> 2] = 0;
                c2[k4 >> 2] = 0;
                c2[i4 >> 2] = 0;
                c2[j4 >> 2] = 0;
              }
            } else
              e4 = DB(b4, d3, n3, q3, o4) | 0;
            f5 = c2[b4 >> 2] | 0;
            c2[b4 >> 2] = f5 | m3;
            if (p4 | 0)
              FB(b4);
            e4 = (f5 & 32 | 0) == 0 ? e4 : -1;
          }
          l3 = s3;
          return e4 | 0;
        }
        function DB(d3, e4, f5, g4, i4) {
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          i4 = i4 | 0;
          var j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = 0, v3 = 0, w4 = 0, x3 = 0, y3 = 0, z3 = 0, B3 = 0, C3 = 0, D3 = 0, E3 = 0, F3 = 0, G3 = 0, H4 = 0;
          H4 = l3;
          l3 = l3 + 64 | 0;
          D3 = H4 + 16 | 0;
          E3 = H4;
          B3 = H4 + 24 | 0;
          F3 = H4 + 8 | 0;
          G3 = H4 + 20 | 0;
          c2[D3 >> 2] = e4;
          x3 = (d3 | 0) != 0;
          y3 = B3 + 40 | 0;
          z3 = y3;
          B3 = B3 + 39 | 0;
          C3 = F3 + 4 | 0;
          k4 = 0;
          j4 = 0;
          p4 = 0;
          a:
            while (1) {
              do
                if ((j4 | 0) > -1)
                  if ((k4 | 0) > (2147483647 - j4 | 0)) {
                    c2[(vB() | 0) >> 2] = 75;
                    j4 = -1;
                    break;
                  } else {
                    j4 = k4 + j4 | 0;
                    break;
                  }
              while (0);
              k4 = a2[e4 >> 0] | 0;
              if (!(k4 << 24 >> 24)) {
                w4 = 87;
                break;
              } else
                m3 = e4;
              b:
                while (1) {
                  switch (k4 << 24 >> 24) {
                    case 37: {
                      k4 = m3;
                      w4 = 9;
                      break b;
                    }
                    case 0: {
                      k4 = m3;
                      break b;
                    }
                    default: {
                    }
                  }
                  v3 = m3 + 1 | 0;
                  c2[D3 >> 2] = v3;
                  k4 = a2[v3 >> 0] | 0;
                  m3 = v3;
                }
              c:
                do
                  if ((w4 | 0) == 9)
                    while (1) {
                      w4 = 0;
                      if ((a2[m3 + 1 >> 0] | 0) != 37)
                        break c;
                      k4 = k4 + 1 | 0;
                      m3 = m3 + 2 | 0;
                      c2[D3 >> 2] = m3;
                      if ((a2[m3 >> 0] | 0) == 37)
                        w4 = 9;
                      else
                        break;
                    }
                while (0);
              k4 = k4 - e4 | 0;
              if (x3)
                GB(d3, e4, k4);
              if (k4 | 0) {
                e4 = m3;
                continue;
              }
              n3 = m3 + 1 | 0;
              k4 = (a2[n3 >> 0] | 0) + -48 | 0;
              if (k4 >>> 0 < 10) {
                v3 = (a2[m3 + 2 >> 0] | 0) == 36;
                u3 = v3 ? k4 : -1;
                p4 = v3 ? 1 : p4;
                n3 = v3 ? m3 + 3 | 0 : n3;
              } else
                u3 = -1;
              c2[D3 >> 2] = n3;
              k4 = a2[n3 >> 0] | 0;
              m3 = (k4 << 24 >> 24) + -32 | 0;
              d:
                do
                  if (m3 >>> 0 < 32) {
                    o4 = 0;
                    q3 = k4;
                    while (1) {
                      k4 = 1 << m3;
                      if (!(k4 & 75913)) {
                        k4 = q3;
                        break d;
                      }
                      o4 = k4 | o4;
                      n3 = n3 + 1 | 0;
                      c2[D3 >> 2] = n3;
                      k4 = a2[n3 >> 0] | 0;
                      m3 = (k4 << 24 >> 24) + -32 | 0;
                      if (m3 >>> 0 >= 32)
                        break;
                      else
                        q3 = k4;
                    }
                  } else
                    o4 = 0;
                while (0);
              if (k4 << 24 >> 24 == 42) {
                m3 = n3 + 1 | 0;
                k4 = (a2[m3 >> 0] | 0) + -48 | 0;
                if (k4 >>> 0 < 10 ? (a2[n3 + 2 >> 0] | 0) == 36 : 0) {
                  c2[i4 + (k4 << 2) >> 2] = 10;
                  k4 = c2[g4 + ((a2[m3 >> 0] | 0) + -48 << 3) >> 2] | 0;
                  p4 = 1;
                  n3 = n3 + 3 | 0;
                } else {
                  if (p4 | 0) {
                    j4 = -1;
                    break;
                  }
                  if (x3) {
                    p4 = (c2[f5 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                    k4 = c2[p4 >> 2] | 0;
                    c2[f5 >> 2] = p4 + 4;
                    p4 = 0;
                    n3 = m3;
                  } else {
                    k4 = 0;
                    p4 = 0;
                    n3 = m3;
                  }
                }
                c2[D3 >> 2] = n3;
                v3 = (k4 | 0) < 0;
                k4 = v3 ? 0 - k4 | 0 : k4;
                o4 = v3 ? o4 | 8192 : o4;
              } else {
                k4 = HB(D3) | 0;
                if ((k4 | 0) < 0) {
                  j4 = -1;
                  break;
                }
                n3 = c2[D3 >> 2] | 0;
              }
              do
                if ((a2[n3 >> 0] | 0) == 46) {
                  if ((a2[n3 + 1 >> 0] | 0) != 42) {
                    c2[D3 >> 2] = n3 + 1;
                    m3 = HB(D3) | 0;
                    n3 = c2[D3 >> 2] | 0;
                    break;
                  }
                  q3 = n3 + 2 | 0;
                  m3 = (a2[q3 >> 0] | 0) + -48 | 0;
                  if (m3 >>> 0 < 10 ? (a2[n3 + 3 >> 0] | 0) == 36 : 0) {
                    c2[i4 + (m3 << 2) >> 2] = 10;
                    m3 = c2[g4 + ((a2[q3 >> 0] | 0) + -48 << 3) >> 2] | 0;
                    n3 = n3 + 4 | 0;
                    c2[D3 >> 2] = n3;
                    break;
                  }
                  if (p4 | 0) {
                    j4 = -1;
                    break a;
                  }
                  if (x3) {
                    v3 = (c2[f5 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                    m3 = c2[v3 >> 2] | 0;
                    c2[f5 >> 2] = v3 + 4;
                  } else
                    m3 = 0;
                  c2[D3 >> 2] = q3;
                  n3 = q3;
                } else
                  m3 = -1;
              while (0);
              t3 = 0;
              while (1) {
                if (((a2[n3 >> 0] | 0) + -65 | 0) >>> 0 > 57) {
                  j4 = -1;
                  break a;
                }
                v3 = n3 + 1 | 0;
                c2[D3 >> 2] = v3;
                q3 = a2[(a2[n3 >> 0] | 0) + -65 + (5178 + (t3 * 58 | 0)) >> 0] | 0;
                r3 = q3 & 255;
                if ((r3 + -1 | 0) >>> 0 < 8) {
                  t3 = r3;
                  n3 = v3;
                } else
                  break;
              }
              if (!(q3 << 24 >> 24)) {
                j4 = -1;
                break;
              }
              s3 = (u3 | 0) > -1;
              do
                if (q3 << 24 >> 24 == 19) {
                  if (s3) {
                    j4 = -1;
                    break a;
                  } else
                    w4 = 49;
                } else {
                  if (s3) {
                    c2[i4 + (u3 << 2) >> 2] = r3;
                    s3 = g4 + (u3 << 3) | 0;
                    u3 = c2[s3 + 4 >> 2] | 0;
                    w4 = E3;
                    c2[w4 >> 2] = c2[s3 >> 2];
                    c2[w4 + 4 >> 2] = u3;
                    w4 = 49;
                    break;
                  }
                  if (!x3) {
                    j4 = 0;
                    break a;
                  }
                  IB(E3, r3, f5);
                }
              while (0);
              if ((w4 | 0) == 49 ? (w4 = 0, !x3) : 0) {
                k4 = 0;
                e4 = v3;
                continue;
              }
              n3 = a2[n3 >> 0] | 0;
              n3 = (t3 | 0) != 0 & (n3 & 15 | 0) == 3 ? n3 & -33 : n3;
              s3 = o4 & -65537;
              u3 = (o4 & 8192 | 0) == 0 ? o4 : s3;
              e:
                do
                  switch (n3 | 0) {
                    case 110:
                      switch ((t3 & 255) << 24 >> 24) {
                        case 0: {
                          c2[c2[E3 >> 2] >> 2] = j4;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 1: {
                          c2[c2[E3 >> 2] >> 2] = j4;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 2: {
                          k4 = c2[E3 >> 2] | 0;
                          c2[k4 >> 2] = j4;
                          c2[k4 + 4 >> 2] = ((j4 | 0) < 0) << 31 >> 31;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 3: {
                          b3[c2[E3 >> 2] >> 1] = j4;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 4: {
                          a2[c2[E3 >> 2] >> 0] = j4;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 6: {
                          c2[c2[E3 >> 2] >> 2] = j4;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        case 7: {
                          k4 = c2[E3 >> 2] | 0;
                          c2[k4 >> 2] = j4;
                          c2[k4 + 4 >> 2] = ((j4 | 0) < 0) << 31 >> 31;
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                        default: {
                          k4 = 0;
                          e4 = v3;
                          continue a;
                        }
                      }
                    case 112: {
                      n3 = 120;
                      m3 = m3 >>> 0 > 8 ? m3 : 8;
                      e4 = u3 | 8;
                      w4 = 61;
                      break;
                    }
                    case 88:
                    case 120: {
                      e4 = u3;
                      w4 = 61;
                      break;
                    }
                    case 111: {
                      n3 = E3;
                      e4 = c2[n3 >> 2] | 0;
                      n3 = c2[n3 + 4 >> 2] | 0;
                      r3 = KB(e4, n3, y3) | 0;
                      s3 = z3 - r3 | 0;
                      o4 = 0;
                      q3 = 5642;
                      m3 = (u3 & 8 | 0) == 0 | (m3 | 0) > (s3 | 0) ? m3 : s3 + 1 | 0;
                      s3 = u3;
                      w4 = 67;
                      break;
                    }
                    case 105:
                    case 100: {
                      n3 = E3;
                      e4 = c2[n3 >> 2] | 0;
                      n3 = c2[n3 + 4 >> 2] | 0;
                      if ((n3 | 0) < 0) {
                        e4 = wC(0, 0, e4 | 0, n3 | 0) | 0;
                        n3 = A2;
                        o4 = E3;
                        c2[o4 >> 2] = e4;
                        c2[o4 + 4 >> 2] = n3;
                        o4 = 1;
                        q3 = 5642;
                        w4 = 66;
                        break e;
                      } else {
                        o4 = (u3 & 2049 | 0) != 0 & 1;
                        q3 = (u3 & 2048 | 0) == 0 ? (u3 & 1 | 0) == 0 ? 5642 : 5644 : 5643;
                        w4 = 66;
                        break e;
                      }
                    }
                    case 117: {
                      n3 = E3;
                      o4 = 0;
                      q3 = 5642;
                      e4 = c2[n3 >> 2] | 0;
                      n3 = c2[n3 + 4 >> 2] | 0;
                      w4 = 66;
                      break;
                    }
                    case 99: {
                      a2[B3 >> 0] = c2[E3 >> 2];
                      e4 = B3;
                      o4 = 0;
                      q3 = 5642;
                      r3 = y3;
                      n3 = 1;
                      m3 = s3;
                      break;
                    }
                    case 109: {
                      n3 = MB(c2[(vB() | 0) >> 2] | 0) | 0;
                      w4 = 71;
                      break;
                    }
                    case 115: {
                      n3 = c2[E3 >> 2] | 0;
                      n3 = n3 | 0 ? n3 : 5652;
                      w4 = 71;
                      break;
                    }
                    case 67: {
                      c2[F3 >> 2] = c2[E3 >> 2];
                      c2[C3 >> 2] = 0;
                      c2[E3 >> 2] = F3;
                      r3 = -1;
                      n3 = F3;
                      w4 = 75;
                      break;
                    }
                    case 83: {
                      e4 = c2[E3 >> 2] | 0;
                      if (!m3) {
                        OB(d3, 32, k4, 0, u3);
                        e4 = 0;
                        w4 = 84;
                      } else {
                        r3 = m3;
                        n3 = e4;
                        w4 = 75;
                      }
                      break;
                    }
                    case 65:
                    case 71:
                    case 70:
                    case 69:
                    case 97:
                    case 103:
                    case 102:
                    case 101: {
                      k4 = QB(d3, +h2[E3 >> 3], k4, m3, u3, n3) | 0;
                      e4 = v3;
                      continue a;
                    }
                    default: {
                      o4 = 0;
                      q3 = 5642;
                      r3 = y3;
                      n3 = m3;
                      m3 = u3;
                    }
                  }
                while (0);
              f:
                do
                  if ((w4 | 0) == 61) {
                    u3 = E3;
                    t3 = c2[u3 >> 2] | 0;
                    u3 = c2[u3 + 4 >> 2] | 0;
                    r3 = JB(t3, u3, y3, n3 & 32) | 0;
                    q3 = (e4 & 8 | 0) == 0 | (t3 | 0) == 0 & (u3 | 0) == 0;
                    o4 = q3 ? 0 : 2;
                    q3 = q3 ? 5642 : 5642 + (n3 >> 4) | 0;
                    s3 = e4;
                    e4 = t3;
                    n3 = u3;
                    w4 = 67;
                  } else if ((w4 | 0) == 66) {
                    r3 = LB(e4, n3, y3) | 0;
                    s3 = u3;
                    w4 = 67;
                  } else if ((w4 | 0) == 71) {
                    w4 = 0;
                    u3 = NB(n3, 0, m3) | 0;
                    t3 = (u3 | 0) == 0;
                    e4 = n3;
                    o4 = 0;
                    q3 = 5642;
                    r3 = t3 ? n3 + m3 | 0 : u3;
                    n3 = t3 ? m3 : u3 - n3 | 0;
                    m3 = s3;
                  } else if ((w4 | 0) == 75) {
                    w4 = 0;
                    q3 = n3;
                    e4 = 0;
                    m3 = 0;
                    while (1) {
                      o4 = c2[q3 >> 2] | 0;
                      if (!o4)
                        break;
                      m3 = PB(G3, o4) | 0;
                      if ((m3 | 0) < 0 | m3 >>> 0 > (r3 - e4 | 0) >>> 0)
                        break;
                      e4 = m3 + e4 | 0;
                      if (r3 >>> 0 > e4 >>> 0)
                        q3 = q3 + 4 | 0;
                      else
                        break;
                    }
                    if ((m3 | 0) < 0) {
                      j4 = -1;
                      break a;
                    }
                    OB(d3, 32, k4, e4, u3);
                    if (!e4) {
                      e4 = 0;
                      w4 = 84;
                    } else {
                      o4 = 0;
                      while (1) {
                        m3 = c2[n3 >> 2] | 0;
                        if (!m3) {
                          w4 = 84;
                          break f;
                        }
                        m3 = PB(G3, m3) | 0;
                        o4 = m3 + o4 | 0;
                        if ((o4 | 0) > (e4 | 0)) {
                          w4 = 84;
                          break f;
                        }
                        GB(d3, G3, m3);
                        if (o4 >>> 0 >= e4 >>> 0) {
                          w4 = 84;
                          break;
                        } else
                          n3 = n3 + 4 | 0;
                      }
                    }
                  }
                while (0);
              if ((w4 | 0) == 67) {
                w4 = 0;
                n3 = (e4 | 0) != 0 | (n3 | 0) != 0;
                u3 = (m3 | 0) != 0 | n3;
                n3 = ((n3 ^ 1) & 1) + (z3 - r3) | 0;
                e4 = u3 ? r3 : y3;
                r3 = y3;
                n3 = u3 ? (m3 | 0) > (n3 | 0) ? m3 : n3 : m3;
                m3 = (m3 | 0) > -1 ? s3 & -65537 : s3;
              } else if ((w4 | 0) == 84) {
                w4 = 0;
                OB(d3, 32, k4, e4, u3 ^ 8192);
                k4 = (k4 | 0) > (e4 | 0) ? k4 : e4;
                e4 = v3;
                continue;
              }
              t3 = r3 - e4 | 0;
              s3 = (n3 | 0) < (t3 | 0) ? t3 : n3;
              u3 = s3 + o4 | 0;
              k4 = (k4 | 0) < (u3 | 0) ? u3 : k4;
              OB(d3, 32, k4, u3, m3);
              GB(d3, q3, o4);
              OB(d3, 48, k4, u3, m3 ^ 65536);
              OB(d3, 48, s3, t3, 0);
              GB(d3, e4, t3);
              OB(d3, 32, k4, u3, m3 ^ 8192);
              e4 = v3;
            }
          g:
            do
              if ((w4 | 0) == 87) {
                if (!d3)
                  if (!p4)
                    j4 = 0;
                  else {
                    j4 = 1;
                    while (1) {
                      e4 = c2[i4 + (j4 << 2) >> 2] | 0;
                      if (!e4)
                        break;
                      IB(g4 + (j4 << 3) | 0, e4, f5);
                      j4 = j4 + 1 | 0;
                      if ((j4 | 0) >= 10) {
                        j4 = 1;
                        break g;
                      }
                    }
                    while (1) {
                      if (c2[i4 + (j4 << 2) >> 2] | 0) {
                        j4 = -1;
                        break g;
                      }
                      j4 = j4 + 1 | 0;
                      if ((j4 | 0) >= 10) {
                        j4 = 1;
                        break;
                      }
                    }
                  }
              }
            while (0);
          l3 = H4;
          return j4 | 0;
        }
        function EB(a3) {
          a3 = a3 | 0;
          return 0;
        }
        function FB(a3) {
          a3 = a3 | 0;
          return;
        }
        function GB(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          if (!(c2[a3 >> 2] & 32))
            aC(b4, d3, a3) | 0;
          return;
        }
        function HB(b4) {
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          e4 = c2[b4 >> 2] | 0;
          f5 = (a2[e4 >> 0] | 0) + -48 | 0;
          if (f5 >>> 0 < 10) {
            d3 = 0;
            do {
              d3 = f5 + (d3 * 10 | 0) | 0;
              e4 = e4 + 1 | 0;
              c2[b4 >> 2] = e4;
              f5 = (a2[e4 >> 0] | 0) + -48 | 0;
            } while (f5 >>> 0 < 10);
          } else
            d3 = 0;
          return d3 | 0;
        }
        function IB(a3, b4, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          var e4 = 0, f5 = 0, g4 = 0;
          a:
            do
              if (b4 >>> 0 <= 20)
                do
                  switch (b4 | 0) {
                    case 9: {
                      e4 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      b4 = c2[e4 >> 2] | 0;
                      c2[d3 >> 2] = e4 + 4;
                      c2[a3 >> 2] = b4;
                      break a;
                    }
                    case 10: {
                      e4 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      b4 = c2[e4 >> 2] | 0;
                      c2[d3 >> 2] = e4 + 4;
                      e4 = a3;
                      c2[e4 >> 2] = b4;
                      c2[e4 + 4 >> 2] = ((b4 | 0) < 0) << 31 >> 31;
                      break a;
                    }
                    case 11: {
                      e4 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      b4 = c2[e4 >> 2] | 0;
                      c2[d3 >> 2] = e4 + 4;
                      e4 = a3;
                      c2[e4 >> 2] = b4;
                      c2[e4 + 4 >> 2] = 0;
                      break a;
                    }
                    case 12: {
                      e4 = (c2[d3 >> 2] | 0) + (8 - 1) & ~(8 - 1);
                      b4 = e4;
                      f5 = c2[b4 >> 2] | 0;
                      b4 = c2[b4 + 4 >> 2] | 0;
                      c2[d3 >> 2] = e4 + 8;
                      e4 = a3;
                      c2[e4 >> 2] = f5;
                      c2[e4 + 4 >> 2] = b4;
                      break a;
                    }
                    case 13: {
                      f5 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      e4 = c2[f5 >> 2] | 0;
                      c2[d3 >> 2] = f5 + 4;
                      e4 = (e4 & 65535) << 16 >> 16;
                      f5 = a3;
                      c2[f5 >> 2] = e4;
                      c2[f5 + 4 >> 2] = ((e4 | 0) < 0) << 31 >> 31;
                      break a;
                    }
                    case 14: {
                      f5 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      e4 = c2[f5 >> 2] | 0;
                      c2[d3 >> 2] = f5 + 4;
                      f5 = a3;
                      c2[f5 >> 2] = e4 & 65535;
                      c2[f5 + 4 >> 2] = 0;
                      break a;
                    }
                    case 15: {
                      f5 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      e4 = c2[f5 >> 2] | 0;
                      c2[d3 >> 2] = f5 + 4;
                      e4 = (e4 & 255) << 24 >> 24;
                      f5 = a3;
                      c2[f5 >> 2] = e4;
                      c2[f5 + 4 >> 2] = ((e4 | 0) < 0) << 31 >> 31;
                      break a;
                    }
                    case 16: {
                      f5 = (c2[d3 >> 2] | 0) + (4 - 1) & ~(4 - 1);
                      e4 = c2[f5 >> 2] | 0;
                      c2[d3 >> 2] = f5 + 4;
                      f5 = a3;
                      c2[f5 >> 2] = e4 & 255;
                      c2[f5 + 4 >> 2] = 0;
                      break a;
                    }
                    case 17: {
                      f5 = (c2[d3 >> 2] | 0) + (8 - 1) & ~(8 - 1);
                      g4 = +h2[f5 >> 3];
                      c2[d3 >> 2] = f5 + 8;
                      h2[a3 >> 3] = g4;
                      break a;
                    }
                    case 18: {
                      f5 = (c2[d3 >> 2] | 0) + (8 - 1) & ~(8 - 1);
                      g4 = +h2[f5 >> 3];
                      c2[d3 >> 2] = f5 + 8;
                      h2[a3 >> 3] = g4;
                      break a;
                    }
                    default:
                      break a;
                  }
                while (0);
            while (0);
          return;
        }
        function JB(b4, c3, e4, f5) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          if (!((b4 | 0) == 0 & (c3 | 0) == 0))
            do {
              e4 = e4 + -1 | 0;
              a2[e4 >> 0] = d2[5694 + (b4 & 15) >> 0] | 0 | f5;
              b4 = AC(b4 | 0, c3 | 0, 4) | 0;
              c3 = A2;
            } while (!((b4 | 0) == 0 & (c3 | 0) == 0));
          return e4 | 0;
        }
        function KB(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          if (!((b4 | 0) == 0 & (c3 | 0) == 0))
            do {
              d3 = d3 + -1 | 0;
              a2[d3 >> 0] = b4 & 7 | 48;
              b4 = AC(b4 | 0, c3 | 0, 3) | 0;
              c3 = A2;
            } while (!((b4 | 0) == 0 & (c3 | 0) == 0));
          return d3 | 0;
        }
        function LB(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          if (c3 >>> 0 > 0 | (c3 | 0) == 0 & b4 >>> 0 > 4294967295) {
            while (1) {
              e4 = HC(b4 | 0, c3 | 0, 10, 0) | 0;
              d3 = d3 + -1 | 0;
              a2[d3 >> 0] = e4 & 255 | 48;
              e4 = b4;
              b4 = EC(b4 | 0, c3 | 0, 10, 0) | 0;
              if (!(c3 >>> 0 > 9 | (c3 | 0) == 9 & e4 >>> 0 > 4294967295))
                break;
              else
                c3 = A2;
            }
            c3 = b4;
          } else
            c3 = b4;
          if (c3)
            while (1) {
              d3 = d3 + -1 | 0;
              a2[d3 >> 0] = (c3 >>> 0) % 10 | 0 | 48;
              if (c3 >>> 0 < 10)
                break;
              else
                c3 = (c3 >>> 0) / 10 | 0;
            }
          return d3 | 0;
        }
        function MB(a3) {
          a3 = a3 | 0;
          return XB(a3, c2[(WB() | 0) + 188 >> 2] | 0) | 0;
        }
        function NB(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          h3 = d3 & 255;
          f5 = (e4 | 0) != 0;
          a:
            do
              if (f5 & (b4 & 3 | 0) != 0) {
                g4 = d3 & 255;
                while (1) {
                  if ((a2[b4 >> 0] | 0) == g4 << 24 >> 24) {
                    i4 = 6;
                    break a;
                  }
                  b4 = b4 + 1 | 0;
                  e4 = e4 + -1 | 0;
                  f5 = (e4 | 0) != 0;
                  if (!(f5 & (b4 & 3 | 0) != 0)) {
                    i4 = 5;
                    break;
                  }
                }
              } else
                i4 = 5;
            while (0);
          if ((i4 | 0) == 5)
            if (f5)
              i4 = 6;
            else
              e4 = 0;
          b:
            do
              if ((i4 | 0) == 6) {
                g4 = d3 & 255;
                if ((a2[b4 >> 0] | 0) != g4 << 24 >> 24) {
                  f5 = P(h3, 16843009) | 0;
                  c:
                    do
                      if (e4 >>> 0 > 3)
                        while (1) {
                          h3 = c2[b4 >> 2] ^ f5;
                          if ((h3 & -2139062144 ^ -2139062144) & h3 + -16843009 | 0)
                            break;
                          b4 = b4 + 4 | 0;
                          e4 = e4 + -4 | 0;
                          if (e4 >>> 0 <= 3) {
                            i4 = 11;
                            break c;
                          }
                        }
                      else
                        i4 = 11;
                    while (0);
                  if ((i4 | 0) == 11) {
                    if (!e4) {
                      e4 = 0;
                      break;
                    }
                  }
                  while (1) {
                    if ((a2[b4 >> 0] | 0) == g4 << 24 >> 24)
                      break b;
                    b4 = b4 + 1 | 0;
                    e4 = e4 + -1 | 0;
                    if (!e4) {
                      e4 = 0;
                      break;
                    }
                  }
                }
              }
            while (0);
          return (e4 | 0 ? b4 : 0) | 0;
        }
        function OB(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 256 | 0;
          f5 = g4;
          if ((c3 | 0) > (d3 | 0) & (e4 & 73728 | 0) == 0) {
            e4 = c3 - d3 | 0;
            yC(f5 | 0, b4 | 0, (e4 >>> 0 < 256 ? e4 : 256) | 0) | 0;
            if (e4 >>> 0 > 255) {
              b4 = c3 - d3 | 0;
              do {
                GB(a3, f5, 256);
                e4 = e4 + -256 | 0;
              } while (e4 >>> 0 > 255);
              e4 = b4 & 255;
            }
            GB(a3, f5, e4);
          }
          l3 = g4;
          return;
        }
        function PB(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (!a3)
            a3 = 0;
          else
            a3 = UB(a3, b4, 0) | 0;
          return a3 | 0;
        }
        function QB(b4, e4, f5, g4, h3, i4) {
          b4 = b4 | 0;
          e4 = +e4;
          f5 = f5 | 0;
          g4 = g4 | 0;
          h3 = h3 | 0;
          i4 = i4 | 0;
          var j4 = 0, k4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0, q3 = 0, r3 = 0, s3 = 0, t3 = 0, u3 = 0, v3 = 0, w4 = 0, x3 = 0, y3 = 0, z3 = 0, B3 = 0, C3 = 0, D3 = 0, E3 = 0, F3 = 0, G3 = 0, H4 = 0;
          H4 = l3;
          l3 = l3 + 560 | 0;
          m3 = H4 + 8 | 0;
          u3 = H4;
          G3 = H4 + 524 | 0;
          F3 = G3;
          n3 = H4 + 512 | 0;
          c2[u3 >> 2] = 0;
          E3 = n3 + 12 | 0;
          RB(e4) | 0;
          if ((A2 | 0) < 0) {
            e4 = -e4;
            C3 = 1;
            B3 = 5659;
          } else {
            C3 = (h3 & 2049 | 0) != 0 & 1;
            B3 = (h3 & 2048 | 0) == 0 ? (h3 & 1 | 0) == 0 ? 5660 : 5665 : 5662;
          }
          RB(e4) | 0;
          D3 = A2 & 2146435072;
          do
            if (D3 >>> 0 < 2146435072 | (D3 | 0) == 2146435072 & 0 < 0) {
              r3 = +SB(e4, u3) * 2;
              j4 = r3 != 0;
              if (j4)
                c2[u3 >> 2] = (c2[u3 >> 2] | 0) + -1;
              w4 = i4 | 32;
              if ((w4 | 0) == 97) {
                s3 = i4 & 32;
                q3 = (s3 | 0) == 0 ? B3 : B3 + 9 | 0;
                p4 = C3 | 2;
                j4 = 12 - g4 | 0;
                do
                  if (!(g4 >>> 0 > 11 | (j4 | 0) == 0)) {
                    e4 = 8;
                    do {
                      j4 = j4 + -1 | 0;
                      e4 = e4 * 16;
                    } while ((j4 | 0) != 0);
                    if ((a2[q3 >> 0] | 0) == 45) {
                      e4 = -(e4 + (-r3 - e4));
                      break;
                    } else {
                      e4 = r3 + e4 - e4;
                      break;
                    }
                  } else
                    e4 = r3;
                while (0);
                k4 = c2[u3 >> 2] | 0;
                j4 = (k4 | 0) < 0 ? 0 - k4 | 0 : k4;
                j4 = LB(j4, ((j4 | 0) < 0) << 31 >> 31, E3) | 0;
                if ((j4 | 0) == (E3 | 0)) {
                  j4 = n3 + 11 | 0;
                  a2[j4 >> 0] = 48;
                }
                a2[j4 + -1 >> 0] = (k4 >> 31 & 2) + 43;
                o4 = j4 + -2 | 0;
                a2[o4 >> 0] = i4 + 15;
                n3 = (g4 | 0) < 1;
                m3 = (h3 & 8 | 0) == 0;
                j4 = G3;
                do {
                  D3 = ~~e4;
                  k4 = j4 + 1 | 0;
                  a2[j4 >> 0] = d2[5694 + D3 >> 0] | s3;
                  e4 = (e4 - +(D3 | 0)) * 16;
                  if ((k4 - F3 | 0) == 1 ? !(m3 & (n3 & e4 == 0)) : 0) {
                    a2[k4 >> 0] = 46;
                    j4 = j4 + 2 | 0;
                  } else
                    j4 = k4;
                } while (e4 != 0);
                D3 = j4 - F3 | 0;
                F3 = E3 - o4 | 0;
                E3 = (g4 | 0) != 0 & (D3 + -2 | 0) < (g4 | 0) ? g4 + 2 | 0 : D3;
                j4 = F3 + p4 + E3 | 0;
                OB(b4, 32, f5, j4, h3);
                GB(b4, q3, p4);
                OB(b4, 48, f5, j4, h3 ^ 65536);
                GB(b4, G3, D3);
                OB(b4, 48, E3 - D3 | 0, 0, 0);
                GB(b4, o4, F3);
                OB(b4, 32, f5, j4, h3 ^ 8192);
                break;
              }
              k4 = (g4 | 0) < 0 ? 6 : g4;
              if (j4) {
                j4 = (c2[u3 >> 2] | 0) + -28 | 0;
                c2[u3 >> 2] = j4;
                e4 = r3 * 268435456;
              } else {
                e4 = r3;
                j4 = c2[u3 >> 2] | 0;
              }
              D3 = (j4 | 0) < 0 ? m3 : m3 + 288 | 0;
              m3 = D3;
              do {
                y3 = ~~e4 >>> 0;
                c2[m3 >> 2] = y3;
                m3 = m3 + 4 | 0;
                e4 = (e4 - +(y3 >>> 0)) * 1e9;
              } while (e4 != 0);
              if ((j4 | 0) > 0) {
                n3 = D3;
                p4 = m3;
                while (1) {
                  o4 = (j4 | 0) < 29 ? j4 : 29;
                  j4 = p4 + -4 | 0;
                  if (j4 >>> 0 >= n3 >>> 0) {
                    m3 = 0;
                    do {
                      x3 = zC(c2[j4 >> 2] | 0, 0, o4 | 0) | 0;
                      x3 = xC(x3 | 0, A2 | 0, m3 | 0, 0) | 0;
                      y3 = A2;
                      v3 = HC(x3 | 0, y3 | 0, 1e9, 0) | 0;
                      c2[j4 >> 2] = v3;
                      m3 = EC(x3 | 0, y3 | 0, 1e9, 0) | 0;
                      j4 = j4 + -4 | 0;
                    } while (j4 >>> 0 >= n3 >>> 0);
                    if (m3) {
                      n3 = n3 + -4 | 0;
                      c2[n3 >> 2] = m3;
                    }
                  }
                  m3 = p4;
                  while (1) {
                    if (m3 >>> 0 <= n3 >>> 0)
                      break;
                    j4 = m3 + -4 | 0;
                    if (!(c2[j4 >> 2] | 0))
                      m3 = j4;
                    else
                      break;
                  }
                  j4 = (c2[u3 >> 2] | 0) - o4 | 0;
                  c2[u3 >> 2] = j4;
                  if ((j4 | 0) > 0)
                    p4 = m3;
                  else
                    break;
                }
              } else
                n3 = D3;
              if ((j4 | 0) < 0) {
                g4 = ((k4 + 25 | 0) / 9 | 0) + 1 | 0;
                t3 = (w4 | 0) == 102;
                do {
                  s3 = 0 - j4 | 0;
                  s3 = (s3 | 0) < 9 ? s3 : 9;
                  if (n3 >>> 0 < m3 >>> 0) {
                    o4 = (1 << s3) + -1 | 0;
                    p4 = 1e9 >>> s3;
                    q3 = 0;
                    j4 = n3;
                    do {
                      y3 = c2[j4 >> 2] | 0;
                      c2[j4 >> 2] = (y3 >>> s3) + q3;
                      q3 = P(y3 & o4, p4) | 0;
                      j4 = j4 + 4 | 0;
                    } while (j4 >>> 0 < m3 >>> 0);
                    j4 = (c2[n3 >> 2] | 0) == 0 ? n3 + 4 | 0 : n3;
                    if (!q3) {
                      n3 = j4;
                      j4 = m3;
                    } else {
                      c2[m3 >> 2] = q3;
                      n3 = j4;
                      j4 = m3 + 4 | 0;
                    }
                  } else {
                    n3 = (c2[n3 >> 2] | 0) == 0 ? n3 + 4 | 0 : n3;
                    j4 = m3;
                  }
                  m3 = t3 ? D3 : n3;
                  m3 = (j4 - m3 >> 2 | 0) > (g4 | 0) ? m3 + (g4 << 2) | 0 : j4;
                  j4 = (c2[u3 >> 2] | 0) + s3 | 0;
                  c2[u3 >> 2] = j4;
                } while ((j4 | 0) < 0);
                j4 = n3;
                g4 = m3;
              } else {
                j4 = n3;
                g4 = m3;
              }
              y3 = D3;
              if (j4 >>> 0 < g4 >>> 0) {
                m3 = (y3 - j4 >> 2) * 9 | 0;
                o4 = c2[j4 >> 2] | 0;
                if (o4 >>> 0 >= 10) {
                  n3 = 10;
                  do {
                    n3 = n3 * 10 | 0;
                    m3 = m3 + 1 | 0;
                  } while (o4 >>> 0 >= n3 >>> 0);
                }
              } else
                m3 = 0;
              t3 = (w4 | 0) == 103;
              v3 = (k4 | 0) != 0;
              n3 = k4 - ((w4 | 0) != 102 ? m3 : 0) + ((v3 & t3) << 31 >> 31) | 0;
              if ((n3 | 0) < (((g4 - y3 >> 2) * 9 | 0) + -9 | 0)) {
                n3 = n3 + 9216 | 0;
                s3 = D3 + 4 + (((n3 | 0) / 9 | 0) + -1024 << 2) | 0;
                n3 = ((n3 | 0) % 9 | 0) + 1 | 0;
                if ((n3 | 0) < 9) {
                  o4 = 10;
                  do {
                    o4 = o4 * 10 | 0;
                    n3 = n3 + 1 | 0;
                  } while ((n3 | 0) != 9);
                } else
                  o4 = 10;
                p4 = c2[s3 >> 2] | 0;
                q3 = (p4 >>> 0) % (o4 >>> 0) | 0;
                n3 = (s3 + 4 | 0) == (g4 | 0);
                if (!(n3 & (q3 | 0) == 0)) {
                  r3 = (((p4 >>> 0) / (o4 >>> 0) | 0) & 1 | 0) == 0 ? 9007199254740992 : 9007199254740994;
                  x3 = (o4 | 0) / 2 | 0;
                  e4 = q3 >>> 0 < x3 >>> 0 ? 0.5 : n3 & (q3 | 0) == (x3 | 0) ? 1 : 1.5;
                  if (C3) {
                    x3 = (a2[B3 >> 0] | 0) == 45;
                    e4 = x3 ? -e4 : e4;
                    r3 = x3 ? -r3 : r3;
                  }
                  n3 = p4 - q3 | 0;
                  c2[s3 >> 2] = n3;
                  if (r3 + e4 != r3) {
                    x3 = n3 + o4 | 0;
                    c2[s3 >> 2] = x3;
                    if (x3 >>> 0 > 999999999) {
                      m3 = s3;
                      while (1) {
                        n3 = m3 + -4 | 0;
                        c2[m3 >> 2] = 0;
                        if (n3 >>> 0 < j4 >>> 0) {
                          j4 = j4 + -4 | 0;
                          c2[j4 >> 2] = 0;
                        }
                        x3 = (c2[n3 >> 2] | 0) + 1 | 0;
                        c2[n3 >> 2] = x3;
                        if (x3 >>> 0 > 999999999)
                          m3 = n3;
                        else
                          break;
                      }
                    } else
                      n3 = s3;
                    m3 = (y3 - j4 >> 2) * 9 | 0;
                    p4 = c2[j4 >> 2] | 0;
                    if (p4 >>> 0 >= 10) {
                      o4 = 10;
                      do {
                        o4 = o4 * 10 | 0;
                        m3 = m3 + 1 | 0;
                      } while (p4 >>> 0 >= o4 >>> 0);
                    }
                  } else
                    n3 = s3;
                } else
                  n3 = s3;
                n3 = n3 + 4 | 0;
                n3 = g4 >>> 0 > n3 >>> 0 ? n3 : g4;
                x3 = j4;
              } else {
                n3 = g4;
                x3 = j4;
              }
              w4 = n3;
              while (1) {
                if (w4 >>> 0 <= x3 >>> 0) {
                  u3 = 0;
                  break;
                }
                j4 = w4 + -4 | 0;
                if (!(c2[j4 >> 2] | 0))
                  w4 = j4;
                else {
                  u3 = 1;
                  break;
                }
              }
              g4 = 0 - m3 | 0;
              do
                if (t3) {
                  j4 = ((v3 ^ 1) & 1) + k4 | 0;
                  if ((j4 | 0) > (m3 | 0) & (m3 | 0) > -5) {
                    o4 = i4 + -1 | 0;
                    k4 = j4 + -1 - m3 | 0;
                  } else {
                    o4 = i4 + -2 | 0;
                    k4 = j4 + -1 | 0;
                  }
                  j4 = h3 & 8;
                  if (!j4) {
                    if (u3 ? (z3 = c2[w4 + -4 >> 2] | 0, (z3 | 0) != 0) : 0) {
                      if (!((z3 >>> 0) % 10 | 0)) {
                        n3 = 0;
                        j4 = 10;
                        do {
                          j4 = j4 * 10 | 0;
                          n3 = n3 + 1 | 0;
                        } while (!((z3 >>> 0) % (j4 >>> 0) | 0 | 0));
                      } else
                        n3 = 0;
                    } else
                      n3 = 9;
                    j4 = ((w4 - y3 >> 2) * 9 | 0) + -9 | 0;
                    if ((o4 | 32 | 0) == 102) {
                      s3 = j4 - n3 | 0;
                      s3 = (s3 | 0) > 0 ? s3 : 0;
                      k4 = (k4 | 0) < (s3 | 0) ? k4 : s3;
                      s3 = 0;
                      break;
                    } else {
                      s3 = j4 + m3 - n3 | 0;
                      s3 = (s3 | 0) > 0 ? s3 : 0;
                      k4 = (k4 | 0) < (s3 | 0) ? k4 : s3;
                      s3 = 0;
                      break;
                    }
                  } else
                    s3 = j4;
                } else {
                  o4 = i4;
                  s3 = h3 & 8;
                }
              while (0);
              t3 = k4 | s3;
              p4 = (t3 | 0) != 0 & 1;
              q3 = (o4 | 32 | 0) == 102;
              if (q3) {
                v3 = 0;
                j4 = (m3 | 0) > 0 ? m3 : 0;
              } else {
                j4 = (m3 | 0) < 0 ? g4 : m3;
                j4 = LB(j4, ((j4 | 0) < 0) << 31 >> 31, E3) | 0;
                n3 = E3;
                if ((n3 - j4 | 0) < 2)
                  do {
                    j4 = j4 + -1 | 0;
                    a2[j4 >> 0] = 48;
                  } while ((n3 - j4 | 0) < 2);
                a2[j4 + -1 >> 0] = (m3 >> 31 & 2) + 43;
                j4 = j4 + -2 | 0;
                a2[j4 >> 0] = o4;
                v3 = j4;
                j4 = n3 - j4 | 0;
              }
              j4 = C3 + 1 + k4 + p4 + j4 | 0;
              OB(b4, 32, f5, j4, h3);
              GB(b4, B3, C3);
              OB(b4, 48, f5, j4, h3 ^ 65536);
              if (q3) {
                o4 = x3 >>> 0 > D3 >>> 0 ? D3 : x3;
                s3 = G3 + 9 | 0;
                p4 = s3;
                q3 = G3 + 8 | 0;
                n3 = o4;
                do {
                  m3 = LB(c2[n3 >> 2] | 0, 0, s3) | 0;
                  if ((n3 | 0) == (o4 | 0)) {
                    if ((m3 | 0) == (s3 | 0)) {
                      a2[q3 >> 0] = 48;
                      m3 = q3;
                    }
                  } else if (m3 >>> 0 > G3 >>> 0) {
                    yC(G3 | 0, 48, m3 - F3 | 0) | 0;
                    do
                      m3 = m3 + -1 | 0;
                    while (m3 >>> 0 > G3 >>> 0);
                  }
                  GB(b4, m3, p4 - m3 | 0);
                  n3 = n3 + 4 | 0;
                } while (n3 >>> 0 <= D3 >>> 0);
                if (t3 | 0)
                  GB(b4, 5710, 1);
                if (n3 >>> 0 < w4 >>> 0 & (k4 | 0) > 0)
                  while (1) {
                    m3 = LB(c2[n3 >> 2] | 0, 0, s3) | 0;
                    if (m3 >>> 0 > G3 >>> 0) {
                      yC(G3 | 0, 48, m3 - F3 | 0) | 0;
                      do
                        m3 = m3 + -1 | 0;
                      while (m3 >>> 0 > G3 >>> 0);
                    }
                    GB(b4, m3, (k4 | 0) < 9 ? k4 : 9);
                    n3 = n3 + 4 | 0;
                    m3 = k4 + -9 | 0;
                    if (!(n3 >>> 0 < w4 >>> 0 & (k4 | 0) > 9)) {
                      k4 = m3;
                      break;
                    } else
                      k4 = m3;
                  }
                OB(b4, 48, k4 + 9 | 0, 9, 0);
              } else {
                t3 = u3 ? w4 : x3 + 4 | 0;
                if ((k4 | 0) > -1) {
                  u3 = G3 + 9 | 0;
                  s3 = (s3 | 0) == 0;
                  g4 = u3;
                  p4 = 0 - F3 | 0;
                  q3 = G3 + 8 | 0;
                  o4 = x3;
                  do {
                    m3 = LB(c2[o4 >> 2] | 0, 0, u3) | 0;
                    if ((m3 | 0) == (u3 | 0)) {
                      a2[q3 >> 0] = 48;
                      m3 = q3;
                    }
                    do
                      if ((o4 | 0) == (x3 | 0)) {
                        n3 = m3 + 1 | 0;
                        GB(b4, m3, 1);
                        if (s3 & (k4 | 0) < 1) {
                          m3 = n3;
                          break;
                        }
                        GB(b4, 5710, 1);
                        m3 = n3;
                      } else {
                        if (m3 >>> 0 <= G3 >>> 0)
                          break;
                        yC(G3 | 0, 48, m3 + p4 | 0) | 0;
                        do
                          m3 = m3 + -1 | 0;
                        while (m3 >>> 0 > G3 >>> 0);
                      }
                    while (0);
                    F3 = g4 - m3 | 0;
                    GB(b4, m3, (k4 | 0) > (F3 | 0) ? F3 : k4);
                    k4 = k4 - F3 | 0;
                    o4 = o4 + 4 | 0;
                  } while (o4 >>> 0 < t3 >>> 0 & (k4 | 0) > -1);
                }
                OB(b4, 48, k4 + 18 | 0, 18, 0);
                GB(b4, v3, E3 - v3 | 0);
              }
              OB(b4, 32, f5, j4, h3 ^ 8192);
            } else {
              G3 = (i4 & 32 | 0) != 0;
              j4 = C3 + 3 | 0;
              OB(b4, 32, f5, j4, h3 & -65537);
              GB(b4, B3, C3);
              GB(b4, e4 != e4 | false ? G3 ? 5686 : 5690 : G3 ? 5678 : 5682, 3);
              OB(b4, 32, f5, j4, h3 ^ 8192);
            }
          while (0);
          l3 = H4;
          return ((j4 | 0) < (f5 | 0) ? f5 : j4) | 0;
        }
        function RB(a3) {
          a3 = +a3;
          var b4 = 0;
          h2[j3 >> 3] = a3;
          b4 = c2[j3 >> 2] | 0;
          A2 = c2[j3 + 4 >> 2] | 0;
          return b4 | 0;
        }
        function SB(a3, b4) {
          a3 = +a3;
          b4 = b4 | 0;
          return + +TB(a3, b4);
        }
        function TB(a3, b4) {
          a3 = +a3;
          b4 = b4 | 0;
          var d3 = 0, e4 = 0, f5 = 0;
          h2[j3 >> 3] = a3;
          d3 = c2[j3 >> 2] | 0;
          e4 = c2[j3 + 4 >> 2] | 0;
          f5 = AC(d3 | 0, e4 | 0, 52) | 0;
          switch (f5 & 2047) {
            case 0: {
              if (a3 != 0) {
                a3 = +TB(a3 * 18446744073709552e3, b4);
                d3 = (c2[b4 >> 2] | 0) + -64 | 0;
              } else
                d3 = 0;
              c2[b4 >> 2] = d3;
              break;
            }
            case 2047:
              break;
            default: {
              c2[b4 >> 2] = (f5 & 2047) + -1022;
              c2[j3 >> 2] = d3;
              c2[j3 + 4 >> 2] = e4 & -2146435073 | 1071644672;
              a3 = +h2[j3 >> 3];
            }
          }
          return +a3;
        }
        function UB(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          do
            if (b4) {
              if (d3 >>> 0 < 128) {
                a2[b4 >> 0] = d3;
                b4 = 1;
                break;
              }
              if (!(c2[c2[(VB() | 0) + 188 >> 2] >> 2] | 0))
                if ((d3 & -128 | 0) == 57216) {
                  a2[b4 >> 0] = d3;
                  b4 = 1;
                  break;
                } else {
                  c2[(vB() | 0) >> 2] = 84;
                  b4 = -1;
                  break;
                }
              if (d3 >>> 0 < 2048) {
                a2[b4 >> 0] = d3 >>> 6 | 192;
                a2[b4 + 1 >> 0] = d3 & 63 | 128;
                b4 = 2;
                break;
              }
              if (d3 >>> 0 < 55296 | (d3 & -8192 | 0) == 57344) {
                a2[b4 >> 0] = d3 >>> 12 | 224;
                a2[b4 + 1 >> 0] = d3 >>> 6 & 63 | 128;
                a2[b4 + 2 >> 0] = d3 & 63 | 128;
                b4 = 3;
                break;
              }
              if ((d3 + -65536 | 0) >>> 0 < 1048576) {
                a2[b4 >> 0] = d3 >>> 18 | 240;
                a2[b4 + 1 >> 0] = d3 >>> 12 & 63 | 128;
                a2[b4 + 2 >> 0] = d3 >>> 6 & 63 | 128;
                a2[b4 + 3 >> 0] = d3 & 63 | 128;
                b4 = 4;
                break;
              } else {
                c2[(vB() | 0) >> 2] = 84;
                b4 = -1;
                break;
              }
            } else
              b4 = 1;
          while (0);
          return b4 | 0;
        }
        function VB() {
          return xB() | 0;
        }
        function WB() {
          return xB() | 0;
        }
        function XB(b4, e4) {
          b4 = b4 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = 0;
          while (1) {
            if ((d2[5712 + g4 >> 0] | 0) == (b4 | 0)) {
              b4 = 2;
              break;
            }
            f5 = g4 + 1 | 0;
            if ((f5 | 0) == 87) {
              f5 = 5800;
              g4 = 87;
              b4 = 5;
              break;
            } else
              g4 = f5;
          }
          if ((b4 | 0) == 2)
            if (!g4)
              f5 = 5800;
            else {
              f5 = 5800;
              b4 = 5;
            }
          if ((b4 | 0) == 5)
            while (1) {
              do {
                b4 = f5;
                f5 = f5 + 1 | 0;
              } while ((a2[b4 >> 0] | 0) != 0);
              g4 = g4 + -1 | 0;
              if (!g4)
                break;
              else
                b4 = 5;
            }
          return YB(f5, c2[e4 + 20 >> 2] | 0) | 0;
        }
        function YB(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return ZB(a3, b4) | 0;
        }
        function ZB(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          if (!b4)
            b4 = 0;
          else
            b4 = _B(c2[b4 >> 2] | 0, c2[b4 + 4 >> 2] | 0, a3) | 0;
          return (b4 | 0 ? b4 : a3) | 0;
        }
        function _B(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, l4 = 0, m3 = 0, n3 = 0, o4 = 0;
          o4 = (c2[b4 >> 2] | 0) + 1794895138 | 0;
          h3 = $B(c2[b4 + 8 >> 2] | 0, o4) | 0;
          f5 = $B(c2[b4 + 12 >> 2] | 0, o4) | 0;
          g4 = $B(c2[b4 + 16 >> 2] | 0, o4) | 0;
          a:
            do
              if ((h3 >>> 0 < d3 >>> 2 >>> 0 ? (n3 = d3 - (h3 << 2) | 0, f5 >>> 0 < n3 >>> 0 & g4 >>> 0 < n3 >>> 0) : 0) ? ((g4 | f5) & 3 | 0) == 0 : 0) {
                n3 = f5 >>> 2;
                m3 = g4 >>> 2;
                l4 = 0;
                while (1) {
                  j4 = h3 >>> 1;
                  k4 = l4 + j4 | 0;
                  i4 = k4 << 1;
                  g4 = i4 + n3 | 0;
                  f5 = $B(c2[b4 + (g4 << 2) >> 2] | 0, o4) | 0;
                  g4 = $B(c2[b4 + (g4 + 1 << 2) >> 2] | 0, o4) | 0;
                  if (!(g4 >>> 0 < d3 >>> 0 & f5 >>> 0 < (d3 - g4 | 0) >>> 0)) {
                    f5 = 0;
                    break a;
                  }
                  if (a2[b4 + (g4 + f5) >> 0] | 0) {
                    f5 = 0;
                    break a;
                  }
                  f5 = AB(e4, b4 + g4 | 0) | 0;
                  if (!f5)
                    break;
                  f5 = (f5 | 0) < 0;
                  if ((h3 | 0) == 1) {
                    f5 = 0;
                    break a;
                  } else {
                    l4 = f5 ? l4 : k4;
                    h3 = f5 ? j4 : h3 - j4 | 0;
                  }
                }
                f5 = i4 + m3 | 0;
                g4 = $B(c2[b4 + (f5 << 2) >> 2] | 0, o4) | 0;
                f5 = $B(c2[b4 + (f5 + 1 << 2) >> 2] | 0, o4) | 0;
                if (f5 >>> 0 < d3 >>> 0 & g4 >>> 0 < (d3 - f5 | 0) >>> 0)
                  f5 = (a2[b4 + (f5 + g4) >> 0] | 0) == 0 ? b4 + f5 | 0 : 0;
                else
                  f5 = 0;
              } else
                f5 = 0;
            while (0);
          return f5 | 0;
        }
        function $B(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          var c3 = 0;
          c3 = IC(a3 | 0) | 0;
          return ((b4 | 0) == 0 ? a3 : c3) | 0;
        }
        function aC(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0, j4 = 0;
          f5 = e4 + 16 | 0;
          g4 = c2[f5 >> 2] | 0;
          if (!g4) {
            if (!(bC(e4) | 0)) {
              g4 = c2[f5 >> 2] | 0;
              h3 = 5;
            } else
              f5 = 0;
          } else
            h3 = 5;
          a:
            do
              if ((h3 | 0) == 5) {
                j4 = e4 + 20 | 0;
                i4 = c2[j4 >> 2] | 0;
                f5 = i4;
                if ((g4 - i4 | 0) >>> 0 < d3 >>> 0) {
                  f5 = sb[c2[e4 + 36 >> 2] & 7](e4, b4, d3) | 0;
                  break;
                }
                b:
                  do
                    if ((a2[e4 + 75 >> 0] | 0) > -1) {
                      i4 = d3;
                      while (1) {
                        if (!i4) {
                          h3 = 0;
                          g4 = b4;
                          break b;
                        }
                        g4 = i4 + -1 | 0;
                        if ((a2[b4 + g4 >> 0] | 0) == 10)
                          break;
                        else
                          i4 = g4;
                      }
                      f5 = sb[c2[e4 + 36 >> 2] & 7](e4, b4, i4) | 0;
                      if (f5 >>> 0 < i4 >>> 0)
                        break a;
                      h3 = i4;
                      g4 = b4 + i4 | 0;
                      d3 = d3 - i4 | 0;
                      f5 = c2[j4 >> 2] | 0;
                    } else {
                      h3 = 0;
                      g4 = b4;
                    }
                  while (0);
                BC(f5 | 0, g4 | 0, d3 | 0) | 0;
                c2[j4 >> 2] = (c2[j4 >> 2] | 0) + d3;
                f5 = h3 + d3 | 0;
              }
            while (0);
          return f5 | 0;
        }
        function bC(b4) {
          b4 = b4 | 0;
          var d3 = 0, e4 = 0;
          d3 = b4 + 74 | 0;
          e4 = a2[d3 >> 0] | 0;
          a2[d3 >> 0] = e4 + 255 | e4;
          d3 = c2[b4 >> 2] | 0;
          if (!(d3 & 8)) {
            c2[b4 + 8 >> 2] = 0;
            c2[b4 + 4 >> 2] = 0;
            e4 = c2[b4 + 44 >> 2] | 0;
            c2[b4 + 28 >> 2] = e4;
            c2[b4 + 20 >> 2] = e4;
            c2[b4 + 16 >> 2] = e4 + (c2[b4 + 48 >> 2] | 0);
            b4 = 0;
          } else {
            c2[b4 >> 2] = d3 | 32;
            b4 = -1;
          }
          return b4 | 0;
        }
        function cC(a3, b4) {
          a3 = T2(a3);
          b4 = T2(b4);
          var c3 = 0, d3 = 0;
          c3 = dC(a3) | 0;
          do
            if ((c3 & 2147483647) >>> 0 <= 2139095040) {
              d3 = dC(b4) | 0;
              if ((d3 & 2147483647) >>> 0 <= 2139095040)
                if ((d3 ^ c3 | 0) < 0) {
                  a3 = (c3 | 0) < 0 ? b4 : a3;
                  break;
                } else {
                  a3 = a3 < b4 ? b4 : a3;
                  break;
                }
            } else
              a3 = b4;
          while (0);
          return T2(a3);
        }
        function dC(a3) {
          a3 = T2(a3);
          return (g3[j3 >> 2] = a3, c2[j3 >> 2] | 0) | 0;
        }
        function eC(a3, b4) {
          a3 = T2(a3);
          b4 = T2(b4);
          var c3 = 0, d3 = 0;
          c3 = fC(a3) | 0;
          do
            if ((c3 & 2147483647) >>> 0 <= 2139095040) {
              d3 = fC(b4) | 0;
              if ((d3 & 2147483647) >>> 0 <= 2139095040)
                if ((d3 ^ c3 | 0) < 0) {
                  a3 = (c3 | 0) < 0 ? a3 : b4;
                  break;
                } else {
                  a3 = a3 < b4 ? a3 : b4;
                  break;
                }
            } else
              a3 = b4;
          while (0);
          return T2(a3);
        }
        function fC(a3) {
          a3 = T2(a3);
          return (g3[j3 >> 2] = a3, c2[j3 >> 2] | 0) | 0;
        }
        function gC(a3, b4) {
          a3 = T2(a3);
          b4 = T2(b4);
          var d3 = 0, e4 = 0, f5 = 0, h3 = 0, i4 = 0, k4 = 0, l4 = 0, m3 = 0;
          h3 = (g3[j3 >> 2] = a3, c2[j3 >> 2] | 0);
          k4 = (g3[j3 >> 2] = b4, c2[j3 >> 2] | 0);
          d3 = h3 >>> 23 & 255;
          i4 = k4 >>> 23 & 255;
          l4 = h3 & -2147483648;
          f5 = k4 << 1;
          a:
            do
              if ((f5 | 0) != 0 ? !((d3 | 0) == 255 | ((hC(b4) | 0) & 2147483647) >>> 0 > 2139095040) : 0) {
                e4 = h3 << 1;
                if (e4 >>> 0 <= f5 >>> 0) {
                  b4 = T2(a3 * T2(0));
                  return T2((e4 | 0) == (f5 | 0) ? b4 : a3);
                }
                if (!d3) {
                  d3 = h3 << 9;
                  if ((d3 | 0) > -1) {
                    e4 = d3;
                    d3 = 0;
                    do {
                      d3 = d3 + -1 | 0;
                      e4 = e4 << 1;
                    } while ((e4 | 0) > -1);
                  } else
                    d3 = 0;
                  e4 = h3 << 1 - d3;
                } else
                  e4 = h3 & 8388607 | 8388608;
                if (!i4) {
                  h3 = k4 << 9;
                  if ((h3 | 0) > -1) {
                    f5 = 0;
                    do {
                      f5 = f5 + -1 | 0;
                      h3 = h3 << 1;
                    } while ((h3 | 0) > -1);
                  } else
                    f5 = 0;
                  i4 = f5;
                  k4 = k4 << 1 - f5;
                } else
                  k4 = k4 & 8388607 | 8388608;
                f5 = e4 - k4 | 0;
                h3 = (f5 | 0) > -1;
                b:
                  do
                    if ((d3 | 0) > (i4 | 0)) {
                      while (1) {
                        if (h3)
                          if (!f5)
                            break;
                          else
                            e4 = f5;
                        e4 = e4 << 1;
                        d3 = d3 + -1 | 0;
                        f5 = e4 - k4 | 0;
                        h3 = (f5 | 0) > -1;
                        if ((d3 | 0) <= (i4 | 0))
                          break b;
                      }
                      b4 = T2(a3 * T2(0));
                      break a;
                    }
                  while (0);
                if (h3)
                  if (!f5) {
                    b4 = T2(a3 * T2(0));
                    break;
                  } else
                    e4 = f5;
                if (e4 >>> 0 < 8388608)
                  do {
                    e4 = e4 << 1;
                    d3 = d3 + -1 | 0;
                  } while (e4 >>> 0 < 8388608);
                if ((d3 | 0) > 0)
                  d3 = e4 + -8388608 | d3 << 23;
                else
                  d3 = e4 >>> (1 - d3 | 0);
                b4 = (c2[j3 >> 2] = d3 | l4, T2(g3[j3 >> 2]));
              } else
                m3 = 3;
            while (0);
          if ((m3 | 0) == 3) {
            b4 = T2(a3 * b4);
            b4 = T2(b4 / b4);
          }
          return T2(b4);
        }
        function hC(a3) {
          a3 = T2(a3);
          return (g3[j3 >> 2] = a3, c2[j3 >> 2] | 0) | 0;
        }
        function iC(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return CB(c2[582] | 0, a3, b4) | 0;
        }
        function jC(a3) {
          a3 = a3 | 0;
          Ta();
        }
        function kC(a3) {
          a3 = a3 | 0;
          return;
        }
        function lC(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return 0;
        }
        function mC(a3) {
          a3 = a3 | 0;
          if ((nC(a3 + 4 | 0) | 0) == -1) {
            nb[c2[(c2[a3 >> 2] | 0) + 8 >> 2] & 127](a3);
            a3 = 1;
          } else
            a3 = 0;
          return a3 | 0;
        }
        function nC(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = c2[a3 >> 2] | 0;
          c2[a3 >> 2] = b4 + -1;
          return b4 + -1 | 0;
        }
        function oC(a3) {
          a3 = a3 | 0;
          if (mC(a3) | 0)
            pC(a3);
          return;
        }
        function pC(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = a3 + 8 | 0;
          if (!((c2[b4 >> 2] | 0) != 0 ? (nC(b4) | 0) != -1 : 0))
            nb[c2[(c2[a3 >> 2] | 0) + 16 >> 2] & 127](a3);
          return;
        }
        function qC(a3) {
          a3 = a3 | 0;
          var b4 = 0;
          b4 = (a3 | 0) == 0 ? 1 : a3;
          while (1) {
            a3 = oB(b4) | 0;
            if (a3 | 0)
              break;
            a3 = uC() | 0;
            if (!a3) {
              a3 = 0;
              break;
            }
            Fb[a3 & 0]();
          }
          return a3 | 0;
        }
        function rC(a3) {
          a3 = a3 | 0;
          return qC(a3) | 0;
        }
        function sC(a3) {
          a3 = a3 | 0;
          pB(a3);
          return;
        }
        function tC(b4) {
          b4 = b4 | 0;
          if ((a2[b4 + 11 >> 0] | 0) < 0)
            sC(c2[b4 >> 2] | 0);
          return;
        }
        function uC() {
          var a3 = 0;
          a3 = c2[2923] | 0;
          c2[2923] = a3 + 0;
          return a3 | 0;
        }
        function vC() {
        }
        function wC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          d3 = b4 - d3 - (c3 >>> 0 > a3 >>> 0 | 0) >>> 0;
          return (A2 = d3, a3 - c3 >>> 0 | 0) | 0;
        }
        function xC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          c3 = a3 + c3 >>> 0;
          return (A2 = b4 + d3 + (c3 >>> 0 < a3 >>> 0 | 0) >>> 0, c3 | 0) | 0;
        }
        function yC(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0, i4 = 0;
          h3 = b4 + e4 | 0;
          d3 = d3 & 255;
          if ((e4 | 0) >= 67) {
            while (b4 & 3) {
              a2[b4 >> 0] = d3;
              b4 = b4 + 1 | 0;
            }
            f5 = h3 & -4 | 0;
            g4 = f5 - 64 | 0;
            i4 = d3 | d3 << 8 | d3 << 16 | d3 << 24;
            while ((b4 | 0) <= (g4 | 0)) {
              c2[b4 >> 2] = i4;
              c2[b4 + 4 >> 2] = i4;
              c2[b4 + 8 >> 2] = i4;
              c2[b4 + 12 >> 2] = i4;
              c2[b4 + 16 >> 2] = i4;
              c2[b4 + 20 >> 2] = i4;
              c2[b4 + 24 >> 2] = i4;
              c2[b4 + 28 >> 2] = i4;
              c2[b4 + 32 >> 2] = i4;
              c2[b4 + 36 >> 2] = i4;
              c2[b4 + 40 >> 2] = i4;
              c2[b4 + 44 >> 2] = i4;
              c2[b4 + 48 >> 2] = i4;
              c2[b4 + 52 >> 2] = i4;
              c2[b4 + 56 >> 2] = i4;
              c2[b4 + 60 >> 2] = i4;
              b4 = b4 + 64 | 0;
            }
            while ((b4 | 0) < (f5 | 0)) {
              c2[b4 >> 2] = i4;
              b4 = b4 + 4 | 0;
            }
          }
          while ((b4 | 0) < (h3 | 0)) {
            a2[b4 >> 0] = d3;
            b4 = b4 + 1 | 0;
          }
          return h3 - e4 | 0;
        }
        function zC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          if ((c3 | 0) < 32) {
            A2 = b4 << c3 | (a3 & (1 << c3) - 1 << 32 - c3) >>> 32 - c3;
            return a3 << c3;
          }
          A2 = a3 << c3 - 32;
          return 0;
        }
        function AC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          if ((c3 | 0) < 32) {
            A2 = b4 >>> c3;
            return a3 >>> c3 | (b4 & (1 << c3) - 1) << 32 - c3;
          }
          A2 = 0;
          return b4 >>> c3 - 32 | 0;
        }
        function BC(b4, d3, e4) {
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0, h3 = 0;
          if ((e4 | 0) >= 8192)
            return Oa(b4 | 0, d3 | 0, e4 | 0) | 0;
          h3 = b4 | 0;
          g4 = b4 + e4 | 0;
          if ((b4 & 3) == (d3 & 3)) {
            while (b4 & 3) {
              if (!e4)
                return h3 | 0;
              a2[b4 >> 0] = a2[d3 >> 0] | 0;
              b4 = b4 + 1 | 0;
              d3 = d3 + 1 | 0;
              e4 = e4 - 1 | 0;
            }
            e4 = g4 & -4 | 0;
            f5 = e4 - 64 | 0;
            while ((b4 | 0) <= (f5 | 0)) {
              c2[b4 >> 2] = c2[d3 >> 2];
              c2[b4 + 4 >> 2] = c2[d3 + 4 >> 2];
              c2[b4 + 8 >> 2] = c2[d3 + 8 >> 2];
              c2[b4 + 12 >> 2] = c2[d3 + 12 >> 2];
              c2[b4 + 16 >> 2] = c2[d3 + 16 >> 2];
              c2[b4 + 20 >> 2] = c2[d3 + 20 >> 2];
              c2[b4 + 24 >> 2] = c2[d3 + 24 >> 2];
              c2[b4 + 28 >> 2] = c2[d3 + 28 >> 2];
              c2[b4 + 32 >> 2] = c2[d3 + 32 >> 2];
              c2[b4 + 36 >> 2] = c2[d3 + 36 >> 2];
              c2[b4 + 40 >> 2] = c2[d3 + 40 >> 2];
              c2[b4 + 44 >> 2] = c2[d3 + 44 >> 2];
              c2[b4 + 48 >> 2] = c2[d3 + 48 >> 2];
              c2[b4 + 52 >> 2] = c2[d3 + 52 >> 2];
              c2[b4 + 56 >> 2] = c2[d3 + 56 >> 2];
              c2[b4 + 60 >> 2] = c2[d3 + 60 >> 2];
              b4 = b4 + 64 | 0;
              d3 = d3 + 64 | 0;
            }
            while ((b4 | 0) < (e4 | 0)) {
              c2[b4 >> 2] = c2[d3 >> 2];
              b4 = b4 + 4 | 0;
              d3 = d3 + 4 | 0;
            }
          } else {
            e4 = g4 - 4 | 0;
            while ((b4 | 0) < (e4 | 0)) {
              a2[b4 >> 0] = a2[d3 >> 0] | 0;
              a2[b4 + 1 >> 0] = a2[d3 + 1 >> 0] | 0;
              a2[b4 + 2 >> 0] = a2[d3 + 2 >> 0] | 0;
              a2[b4 + 3 >> 0] = a2[d3 + 3 >> 0] | 0;
              b4 = b4 + 4 | 0;
              d3 = d3 + 4 | 0;
            }
          }
          while ((b4 | 0) < (g4 | 0)) {
            a2[b4 >> 0] = a2[d3 >> 0] | 0;
            b4 = b4 + 1 | 0;
            d3 = d3 + 1 | 0;
          }
          return h3 | 0;
        }
        function CC(b4) {
          b4 = b4 | 0;
          var c3 = 0;
          c3 = a2[n2 + (b4 & 255) >> 0] | 0;
          if ((c3 | 0) < 8)
            return c3 | 0;
          c3 = a2[n2 + (b4 >> 8 & 255) >> 0] | 0;
          if ((c3 | 0) < 8)
            return c3 + 8 | 0;
          c3 = a2[n2 + (b4 >> 16 & 255) >> 0] | 0;
          if ((c3 | 0) < 8)
            return c3 + 16 | 0;
          return (a2[n2 + (b4 >>> 24) >> 0] | 0) + 24 | 0;
        }
        function DC(a3, b4, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          var g4 = 0, h3 = 0, i4 = 0, j4 = 0, k4 = 0, l4 = 0, m3 = 0, n3 = 0, o4 = 0, p4 = 0;
          l4 = a3;
          j4 = b4;
          k4 = j4;
          h3 = d3;
          n3 = e4;
          i4 = n3;
          if (!k4) {
            g4 = (f5 | 0) != 0;
            if (!i4) {
              if (g4) {
                c2[f5 >> 2] = (l4 >>> 0) % (h3 >>> 0);
                c2[f5 + 4 >> 2] = 0;
              }
              n3 = 0;
              f5 = (l4 >>> 0) / (h3 >>> 0) >>> 0;
              return (A2 = n3, f5) | 0;
            } else {
              if (!g4) {
                n3 = 0;
                f5 = 0;
                return (A2 = n3, f5) | 0;
              }
              c2[f5 >> 2] = a3 | 0;
              c2[f5 + 4 >> 2] = b4 & 0;
              n3 = 0;
              f5 = 0;
              return (A2 = n3, f5) | 0;
            }
          }
          g4 = (i4 | 0) == 0;
          do
            if (h3) {
              if (!g4) {
                g4 = (S3(i4 | 0) | 0) - (S3(k4 | 0) | 0) | 0;
                if (g4 >>> 0 <= 31) {
                  m3 = g4 + 1 | 0;
                  i4 = 31 - g4 | 0;
                  b4 = g4 - 31 >> 31;
                  h3 = m3;
                  a3 = l4 >>> (m3 >>> 0) & b4 | k4 << i4;
                  b4 = k4 >>> (m3 >>> 0) & b4;
                  g4 = 0;
                  i4 = l4 << i4;
                  break;
                }
                if (!f5) {
                  n3 = 0;
                  f5 = 0;
                  return (A2 = n3, f5) | 0;
                }
                c2[f5 >> 2] = a3 | 0;
                c2[f5 + 4 >> 2] = j4 | b4 & 0;
                n3 = 0;
                f5 = 0;
                return (A2 = n3, f5) | 0;
              }
              g4 = h3 - 1 | 0;
              if (g4 & h3 | 0) {
                i4 = (S3(h3 | 0) | 0) + 33 - (S3(k4 | 0) | 0) | 0;
                p4 = 64 - i4 | 0;
                m3 = 32 - i4 | 0;
                j4 = m3 >> 31;
                o4 = i4 - 32 | 0;
                b4 = o4 >> 31;
                h3 = i4;
                a3 = m3 - 1 >> 31 & k4 >>> (o4 >>> 0) | (k4 << m3 | l4 >>> (i4 >>> 0)) & b4;
                b4 = b4 & k4 >>> (i4 >>> 0);
                g4 = l4 << p4 & j4;
                i4 = (k4 << p4 | l4 >>> (o4 >>> 0)) & j4 | l4 << m3 & i4 - 33 >> 31;
                break;
              }
              if (f5 | 0) {
                c2[f5 >> 2] = g4 & l4;
                c2[f5 + 4 >> 2] = 0;
              }
              if ((h3 | 0) == 1) {
                o4 = j4 | b4 & 0;
                p4 = a3 | 0 | 0;
                return (A2 = o4, p4) | 0;
              } else {
                p4 = CC(h3 | 0) | 0;
                o4 = k4 >>> (p4 >>> 0) | 0;
                p4 = k4 << 32 - p4 | l4 >>> (p4 >>> 0) | 0;
                return (A2 = o4, p4) | 0;
              }
            } else {
              if (g4) {
                if (f5 | 0) {
                  c2[f5 >> 2] = (k4 >>> 0) % (h3 >>> 0);
                  c2[f5 + 4 >> 2] = 0;
                }
                o4 = 0;
                p4 = (k4 >>> 0) / (h3 >>> 0) >>> 0;
                return (A2 = o4, p4) | 0;
              }
              if (!l4) {
                if (f5 | 0) {
                  c2[f5 >> 2] = 0;
                  c2[f5 + 4 >> 2] = (k4 >>> 0) % (i4 >>> 0);
                }
                o4 = 0;
                p4 = (k4 >>> 0) / (i4 >>> 0) >>> 0;
                return (A2 = o4, p4) | 0;
              }
              g4 = i4 - 1 | 0;
              if (!(g4 & i4)) {
                if (f5 | 0) {
                  c2[f5 >> 2] = a3 | 0;
                  c2[f5 + 4 >> 2] = g4 & k4 | b4 & 0;
                }
                o4 = 0;
                p4 = k4 >>> ((CC(i4 | 0) | 0) >>> 0);
                return (A2 = o4, p4) | 0;
              }
              g4 = (S3(i4 | 0) | 0) - (S3(k4 | 0) | 0) | 0;
              if (g4 >>> 0 <= 30) {
                b4 = g4 + 1 | 0;
                i4 = 31 - g4 | 0;
                h3 = b4;
                a3 = k4 << i4 | l4 >>> (b4 >>> 0);
                b4 = k4 >>> (b4 >>> 0);
                g4 = 0;
                i4 = l4 << i4;
                break;
              }
              if (!f5) {
                o4 = 0;
                p4 = 0;
                return (A2 = o4, p4) | 0;
              }
              c2[f5 >> 2] = a3 | 0;
              c2[f5 + 4 >> 2] = j4 | b4 & 0;
              o4 = 0;
              p4 = 0;
              return (A2 = o4, p4) | 0;
            }
          while (0);
          if (!h3) {
            k4 = i4;
            j4 = 0;
            i4 = 0;
          } else {
            m3 = d3 | 0 | 0;
            l4 = n3 | e4 & 0;
            k4 = xC(m3 | 0, l4 | 0, -1, -1) | 0;
            d3 = A2;
            j4 = i4;
            i4 = 0;
            do {
              e4 = j4;
              j4 = g4 >>> 31 | j4 << 1;
              g4 = i4 | g4 << 1;
              e4 = a3 << 1 | e4 >>> 31 | 0;
              n3 = a3 >>> 31 | b4 << 1 | 0;
              wC(k4 | 0, d3 | 0, e4 | 0, n3 | 0) | 0;
              p4 = A2;
              o4 = p4 >> 31 | ((p4 | 0) < 0 ? -1 : 0) << 1;
              i4 = o4 & 1;
              a3 = wC(e4 | 0, n3 | 0, o4 & m3 | 0, (((p4 | 0) < 0 ? -1 : 0) >> 31 | ((p4 | 0) < 0 ? -1 : 0) << 1) & l4 | 0) | 0;
              b4 = A2;
              h3 = h3 - 1 | 0;
            } while ((h3 | 0) != 0);
            k4 = j4;
            j4 = 0;
          }
          h3 = 0;
          if (f5 | 0) {
            c2[f5 >> 2] = a3;
            c2[f5 + 4 >> 2] = b4;
          }
          o4 = (g4 | 0) >>> 31 | (k4 | h3) << 1 | (h3 << 1 | g4 >>> 31) & 0 | j4;
          p4 = (g4 << 1 | 0 >>> 31) & -2 | i4;
          return (A2 = o4, p4) | 0;
        }
        function EC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          return DC(a3, b4, c3, d3, 0) | 0;
        }
        function FC(a3) {
          a3 = a3 | 0;
          var b4 = 0, d3 = 0;
          d3 = a3 + 15 & -16 | 0;
          b4 = c2[i3 >> 2] | 0;
          a3 = b4 + d3 | 0;
          if ((d3 | 0) > 0 & (a3 | 0) < (b4 | 0) | (a3 | 0) < 0) {
            Y2() | 0;
            Qa(12);
            return -1;
          }
          c2[i3 >> 2] = a3;
          if ((a3 | 0) > (X2() | 0) ? (W2() | 0) == 0 : 0) {
            c2[i3 >> 2] = b4;
            Qa(12);
            return -1;
          }
          return b4 | 0;
        }
        function GC(b4, c3, d3) {
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          var e4 = 0;
          if ((c3 | 0) < (b4 | 0) & (b4 | 0) < (c3 + d3 | 0)) {
            e4 = b4;
            c3 = c3 + d3 | 0;
            b4 = b4 + d3 | 0;
            while ((d3 | 0) > 0) {
              b4 = b4 - 1 | 0;
              c3 = c3 - 1 | 0;
              d3 = d3 - 1 | 0;
              a2[b4 >> 0] = a2[c3 >> 0] | 0;
            }
            b4 = e4;
          } else
            BC(b4, c3, d3) | 0;
          return b4 | 0;
        }
        function HC(a3, b4, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          var f5 = 0, g4 = 0;
          g4 = l3;
          l3 = l3 + 16 | 0;
          f5 = g4 | 0;
          DC(a3, b4, d3, e4, f5) | 0;
          l3 = g4;
          return (A2 = c2[f5 + 4 >> 2] | 0, c2[f5 >> 2] | 0) | 0;
        }
        function IC(a3) {
          a3 = a3 | 0;
          return (a3 & 255) << 24 | (a3 >> 8 & 255) << 16 | (a3 >> 16 & 255) << 8 | a3 >>> 24 | 0;
        }
        function JC(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          jb[a3 & 1](b4 | 0, c3 | 0, d3 | 0, e4 | 0, f5 | 0);
        }
        function KC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          kb[a3 & 1](b4 | 0, T2(c3));
        }
        function LC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          lb[a3 & 31](b4 | 0, +c3);
        }
        function MC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          d3 = T2(d3);
          return T2(mb[a3 & 0](b4 | 0, T2(c3), T2(d3)));
        }
        function NC(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          nb[a3 & 127](b4 | 0);
        }
        function OC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          ob[a3 & 31](b4 | 0, c3 | 0);
        }
        function PC(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return pb[a3 & 31](b4 | 0) | 0;
        }
        function QC(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          d3 = +d3;
          e4 = e4 | 0;
          qb[a3 & 1](b4 | 0, +c3, +d3, e4 | 0);
        }
        function RC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          d3 = +d3;
          rb[a3 & 1](b4 | 0, +c3, +d3);
        }
        function SC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          return sb[a3 & 7](b4 | 0, c3 | 0, d3 | 0) | 0;
        }
        function TC(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          return +tb[a3 & 1](b4 | 0, c3 | 0, d3 | 0);
        }
        function UC(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          return +ub[a3 & 15](b4 | 0);
        }
        function VC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          return vb[a3 & 1](b4 | 0, +c3) | 0;
        }
        function WC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          return wb[a3 & 15](b4 | 0, c3 | 0) | 0;
        }
        function XC(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = +d3;
          e4 = +e4;
          f5 = f5 | 0;
          xb[a3 & 1](b4 | 0, c3 | 0, +d3, +e4, f5 | 0);
        }
        function YC(a3, b4, c3, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          g4 = g4 | 0;
          yb[a3 & 1](b4 | 0, c3 | 0, d3 | 0, e4 | 0, f5 | 0, g4 | 0);
        }
        function ZC(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          return +zb[a3 & 7](b4 | 0, c3 | 0);
        }
        function _C(a3) {
          a3 = a3 | 0;
          return Ab[a3 & 7]() | 0;
        }
        function $C(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          return Bb[a3 & 1](b4 | 0, c3 | 0, d3 | 0, e4 | 0, f5 | 0) | 0;
        }
        function aD(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = +e4;
          Cb[a3 & 1](b4 | 0, c3 | 0, d3 | 0, +e4);
        }
        function bD(a3, b4, c3, d3, e4, f5, g4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = T2(d3);
          e4 = e4 | 0;
          f5 = T2(f5);
          g4 = g4 | 0;
          Db[a3 & 1](b4 | 0, c3 | 0, T2(d3), e4 | 0, T2(f5), g4 | 0);
        }
        function cD(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          Eb[a3 & 15](b4 | 0, c3 | 0, d3 | 0);
        }
        function dD(a3) {
          a3 = a3 | 0;
          Fb[a3 & 0]();
        }
        function eD(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = +d3;
          Gb[a3 & 15](b4 | 0, c3 | 0, +d3);
        }
        function fD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          return Hb[a3 & 1](+b4, +c3) | 0;
        }
        function gD(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          Ib[a3 & 15](b4 | 0, c3 | 0, d3 | 0, e4 | 0);
        }
        function hD(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          U2(0);
        }
        function iD(a3, b4) {
          a3 = a3 | 0;
          b4 = T2(b4);
          U2(1);
        }
        function jD(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          U2(2);
        }
        function kD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = T2(b4);
          c3 = T2(c3);
          U2(3);
          return ib;
        }
        function lD(a3) {
          a3 = a3 | 0;
          U2(4);
        }
        function mD(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          U2(5);
        }
        function nD(a3) {
          a3 = a3 | 0;
          U2(6);
          return 0;
        }
        function oD(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          d3 = d3 | 0;
          U2(7);
        }
        function pD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = +b4;
          c3 = +c3;
          U2(8);
        }
        function qD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          U2(9);
          return 0;
        }
        function rD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          U2(10);
          return 0;
        }
        function sD(a3) {
          a3 = a3 | 0;
          U2(11);
          return 0;
        }
        function tD(a3, b4) {
          a3 = a3 | 0;
          b4 = +b4;
          U2(12);
          return 0;
        }
        function uD(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          U2(13);
          return 0;
        }
        function vD(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          d3 = +d3;
          e4 = e4 | 0;
          U2(14);
        }
        function wD(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          f5 = f5 | 0;
          U2(15);
        }
        function xD(a3, b4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          U2(16);
          return 0;
        }
        function yD() {
          U2(17);
          return 0;
        }
        function zD(a3, b4, c3, d3, e4) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          e4 = e4 | 0;
          U2(18);
          return 0;
        }
        function AD(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = +d3;
          U2(19);
        }
        function BD(a3, b4, c3, d3, e4, f5) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = T2(c3);
          d3 = d3 | 0;
          e4 = T2(e4);
          f5 = f5 | 0;
          U2(20);
        }
        function CD(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          U2(21);
        }
        function DD() {
          U2(22);
        }
        function ED(a3, b4, c3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = +c3;
          U2(23);
        }
        function FD(a3, b4) {
          a3 = +a3;
          b4 = +b4;
          U2(24);
          return 0;
        }
        function GD(a3, b4, c3, d3) {
          a3 = a3 | 0;
          b4 = b4 | 0;
          c3 = c3 | 0;
          d3 = d3 | 0;
          U2(25);
        }
        var jb = [hD, Uw];
        var kb = [iD, of];
        var lb = [jD, Of, Pf, Qf, Rf, Sf, Tf, Uf, Wf, Xf, Zf, _f, $f, ag, bg, cg, dg, eg, fg, jD, jD, jD, jD, jD, jD, jD, jD, jD, jD, jD, jD, jD];
        var mb = [kD];
        var nb = [lD, kC, Ki, Li, Mi, rn, sn, tn, Pu, Qu, Ru, Cw, Dw, Ew, DA, EA, FA, Rb, tf, yf, Vf, Yf, hh, ih, ri, Ui, kj, Jj, bk, zk, Wk, nl, Hl, bm, um, Nm, en, Nn, fo, yo, Ro, ip, Bp, Xp, nq, Eq, Zq, lf, Hr, _r, us, Ps, ft, Ct, Ot, Rt, ju, mu, Eu, Uu, Xu, pv, Kv, Vi, $x, Ky, az, sz, Rz, hA, tA, wA, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD, lD];
        var ob = [mD, zf, Af, Df, Ef, Ff, Gf, Hf, If, Lf, Mf, Nf, wg, zg, Ag, Bg, Cg, Dg, Eg, Jg, Ng, rh, $p, qq, Ts, cy, Sv, xy, mD, mD, mD, mD];
        var pb = [nD, rB, sf, jg, ng, og, pg, qg, rg, sg, ug, vg, Kg, Lg, jh, ar, jt, sv, hy, jy, nD, nD, nD, nD, nD, nD, nD, nD, nD, nD, nD, nD];
        var qb = [oD, kh];
        var rb = [pD, Hu];
        var sb = [qD, sB, tB, zB, Dk, Rn, Lr, wz];
        var tb = [rD, ym];
        var ub = [sD, xg, yg, Fg, lh, mh, nh, oh, ph, qh, sD, sD, sD, sD, sD, sD];
        var vb = [tD, Kt];
        var wb = [uD, lC, Mg, xi, Nj, _k, rl, jn, jo, Iq, pf, ez, uD, uD, uD, uD];
        var xb = [vD, oj];
        var yb = [wD, Vz];
        var zb = [xD, Gg, sh, th, uh, Rm, xD, xD];
        var Ab = [yD, vh, qf, jf, Wt, qu, av, AA];
        var Bb = [zD, ee];
        var Cb = [AD, Vo];
        var Db = [BD, Pg];
        var Eb = [CD, kg, tg, Hg, Ig, fk, Ll, mp, Fp, nf, vx2, Oy, lA, CD, CD, CD];
        var Fb = [DD];
        var Gb = [ED, Bf, Cf, Jf, Kf, gg, hg, ig, Co, cs, Ft, ED, ED, ED, ED, ED];
        var Hb = [FD, Mu];
        var Ib = [GD, fm, ir, ys, st, au, wu, hv, Pv, oy, LA, GD, GD, GD, GD, GD];
        return { _llvm_bswap_i32: IC, dynCall_idd: fD, dynCall_i: _C, _i64Subtract: wC, ___udivdi3: EC, dynCall_vif: KC, setThrew: Nb, dynCall_viii: cD, _bitshift64Lshr: AC, _bitshift64Shl: zC, dynCall_vi: NC, dynCall_viiddi: XC, dynCall_diii: TC, dynCall_iii: WC, _memset: yC, _sbrk: FC, _memcpy: BC, __GLOBAL__sub_I_Yoga_cpp: hf, dynCall_vii: OC, ___uremdi3: HC, dynCall_vid: LC, stackAlloc: Jb, _nbind_init: _A, getTempRet0: Pb, dynCall_di: UC, dynCall_iid: VC, setTempRet0: Ob, _i64Add: xC, dynCall_fiff: MC, dynCall_iiii: SC, _emscripten_get_global_libc: qB, dynCall_viid: eD, dynCall_viiid: aD, dynCall_viififi: bD, dynCall_ii: PC, __GLOBAL__sub_I_Binding_cc: Sx, dynCall_viiii: gD, dynCall_iiiiii: $C, stackSave: Kb, dynCall_viiiii: JC, __GLOBAL__sub_I_nbind_cc: wh, dynCall_vidd: RC, _free: pB, runPostSets: vC, dynCall_viiiiii: YC, establishStackSpace: Mb, _memmove: GC, stackRestore: Lb, _malloc: oB, __GLOBAL__sub_I_common_cc: Bv, dynCall_viddi: QC, dynCall_dii: ZC, dynCall_v: dD };
      }(
        // EMSCRIPTEN_END_ASM
        Module.asmGlobalArg,
        Module.asmLibraryArg,
        buffer
      );
      var _llvm_bswap_i32 = Module["_llvm_bswap_i32"] = asm["_llvm_bswap_i32"];
      var getTempRet0 = Module["getTempRet0"] = asm["getTempRet0"];
      var ___udivdi3 = Module["___udivdi3"] = asm["___udivdi3"];
      var setThrew = Module["setThrew"] = asm["setThrew"];
      var _bitshift64Lshr = Module["_bitshift64Lshr"] = asm["_bitshift64Lshr"];
      var _bitshift64Shl = Module["_bitshift64Shl"] = asm["_bitshift64Shl"];
      var _memset = Module["_memset"] = asm["_memset"];
      var _sbrk = Module["_sbrk"] = asm["_sbrk"];
      var _memcpy = Module["_memcpy"] = asm["_memcpy"];
      var stackAlloc = Module["stackAlloc"] = asm["stackAlloc"];
      var ___uremdi3 = Module["___uremdi3"] = asm["___uremdi3"];
      var _nbind_init = Module["_nbind_init"] = asm["_nbind_init"];
      var _i64Subtract = Module["_i64Subtract"] = asm["_i64Subtract"];
      var setTempRet0 = Module["setTempRet0"] = asm["setTempRet0"];
      var _i64Add = Module["_i64Add"] = asm["_i64Add"];
      var _emscripten_get_global_libc = Module["_emscripten_get_global_libc"] = asm["_emscripten_get_global_libc"];
      var __GLOBAL__sub_I_Yoga_cpp = Module["__GLOBAL__sub_I_Yoga_cpp"] = asm["__GLOBAL__sub_I_Yoga_cpp"];
      var __GLOBAL__sub_I_Binding_cc = Module["__GLOBAL__sub_I_Binding_cc"] = asm["__GLOBAL__sub_I_Binding_cc"];
      var stackSave = Module["stackSave"] = asm["stackSave"];
      var __GLOBAL__sub_I_nbind_cc = Module["__GLOBAL__sub_I_nbind_cc"] = asm["__GLOBAL__sub_I_nbind_cc"];
      var _free = Module["_free"] = asm["_free"];
      var runPostSets = Module["runPostSets"] = asm["runPostSets"];
      var establishStackSpace = Module["establishStackSpace"] = asm["establishStackSpace"];
      var _memmove = Module["_memmove"] = asm["_memmove"];
      var stackRestore = Module["stackRestore"] = asm["stackRestore"];
      var _malloc = Module["_malloc"] = asm["_malloc"];
      var __GLOBAL__sub_I_common_cc = Module["__GLOBAL__sub_I_common_cc"] = asm["__GLOBAL__sub_I_common_cc"];
      var dynCall_viiiii = Module["dynCall_viiiii"] = asm["dynCall_viiiii"];
      var dynCall_vif = Module["dynCall_vif"] = asm["dynCall_vif"];
      var dynCall_vid = Module["dynCall_vid"] = asm["dynCall_vid"];
      var dynCall_fiff = Module["dynCall_fiff"] = asm["dynCall_fiff"];
      var dynCall_vi = Module["dynCall_vi"] = asm["dynCall_vi"];
      var dynCall_vii = Module["dynCall_vii"] = asm["dynCall_vii"];
      var dynCall_ii = Module["dynCall_ii"] = asm["dynCall_ii"];
      var dynCall_viddi = Module["dynCall_viddi"] = asm["dynCall_viddi"];
      var dynCall_vidd = Module["dynCall_vidd"] = asm["dynCall_vidd"];
      var dynCall_iiii = Module["dynCall_iiii"] = asm["dynCall_iiii"];
      var dynCall_diii = Module["dynCall_diii"] = asm["dynCall_diii"];
      var dynCall_di = Module["dynCall_di"] = asm["dynCall_di"];
      var dynCall_iid = Module["dynCall_iid"] = asm["dynCall_iid"];
      var dynCall_iii = Module["dynCall_iii"] = asm["dynCall_iii"];
      var dynCall_viiddi = Module["dynCall_viiddi"] = asm["dynCall_viiddi"];
      var dynCall_viiiiii = Module["dynCall_viiiiii"] = asm["dynCall_viiiiii"];
      var dynCall_dii = Module["dynCall_dii"] = asm["dynCall_dii"];
      var dynCall_i = Module["dynCall_i"] = asm["dynCall_i"];
      var dynCall_iiiiii = Module["dynCall_iiiiii"] = asm["dynCall_iiiiii"];
      var dynCall_viiid = Module["dynCall_viiid"] = asm["dynCall_viiid"];
      var dynCall_viififi = Module["dynCall_viififi"] = asm["dynCall_viififi"];
      var dynCall_viii = Module["dynCall_viii"] = asm["dynCall_viii"];
      var dynCall_v = Module["dynCall_v"] = asm["dynCall_v"];
      var dynCall_viid = Module["dynCall_viid"] = asm["dynCall_viid"];
      var dynCall_idd = Module["dynCall_idd"] = asm["dynCall_idd"];
      var dynCall_viiii = Module["dynCall_viiii"] = asm["dynCall_viiii"];
      Runtime.stackAlloc = Module["stackAlloc"];
      Runtime.stackSave = Module["stackSave"];
      Runtime.stackRestore = Module["stackRestore"];
      Runtime.establishStackSpace = Module["establishStackSpace"];
      Runtime.setTempRet0 = Module["setTempRet0"];
      Runtime.getTempRet0 = Module["getTempRet0"];
      Module["asm"] = asm;
      function ExitStatus(status) {
        this.name = "ExitStatus";
        this.message = "Program terminated with exit(" + status + ")";
        this.status = status;
      }
      ExitStatus.prototype = new Error();
      ExitStatus.prototype.constructor = ExitStatus;
      var initialStackTop;
      var preloadStartTime = null;
      var calledMain = false;
      dependenciesFulfilled = function runCaller() {
        if (!Module["calledRun"])
          run();
        if (!Module["calledRun"])
          dependenciesFulfilled = runCaller;
      };
      Module["callMain"] = Module.callMain = function callMain(args) {
        args = args || [];
        ensureInitRuntime();
        var argc = args.length + 1;
        function pad() {
          for (var i4 = 0; i4 < 4 - 1; i4++) {
            argv.push(0);
          }
        }
        var argv = [allocate(intArrayFromString(Module["thisProgram"]), "i8", ALLOC_NORMAL)];
        pad();
        for (var i3 = 0; i3 < argc - 1; i3 = i3 + 1) {
          argv.push(allocate(intArrayFromString(args[i3]), "i8", ALLOC_NORMAL));
          pad();
        }
        argv.push(0);
        argv = allocate(argv, "i32", ALLOC_NORMAL);
        try {
          var ret = Module["_main"](argc, argv, 0);
          exit(ret, true);
        } catch (e3) {
          if (e3 instanceof ExitStatus) {
            return;
          } else if (e3 == "SimulateInfiniteLoop") {
            Module["noExitRuntime"] = true;
            return;
          } else {
            var toLog = e3;
            if (e3 && typeof e3 === "object" && e3.stack) {
              toLog = [e3, e3.stack];
            }
            Module.printErr("exception thrown: " + toLog);
            Module["quit"](1, e3);
          }
        } finally {
          calledMain = true;
        }
      };
      function run(args) {
        args = args || Module["arguments"];
        if (preloadStartTime === null)
          preloadStartTime = Date.now();
        if (runDependencies > 0) {
          return;
        }
        preRun();
        if (runDependencies > 0)
          return;
        if (Module["calledRun"])
          return;
        function doRun() {
          if (Module["calledRun"])
            return;
          Module["calledRun"] = true;
          if (ABORT)
            return;
          ensureInitRuntime();
          preMain();
          if (Module["onRuntimeInitialized"])
            Module["onRuntimeInitialized"]();
          if (Module["_main"] && shouldRunNow)
            Module["callMain"](args);
          postRun();
        }
        if (Module["setStatus"]) {
          Module["setStatus"]("Running...");
          setTimeout(function() {
            setTimeout(function() {
              Module["setStatus"]("");
            }, 1);
            doRun();
          }, 1);
        } else {
          doRun();
        }
      }
      Module["run"] = Module.run = run;
      function exit(status, implicit) {
        if (implicit && Module["noExitRuntime"]) {
          return;
        }
        if (Module["noExitRuntime"]) {
        } else {
          ABORT = true;
          EXITSTATUS = status;
          STACKTOP = initialStackTop;
          exitRuntime();
          if (Module["onExit"])
            Module["onExit"](status);
        }
        if (ENVIRONMENT_IS_NODE) {
          process["exit"](status);
        }
        Module["quit"](status, new ExitStatus(status));
      }
      Module["exit"] = Module.exit = exit;
      var abortDecorators = [];
      function abort(what) {
        if (Module["onAbort"]) {
          Module["onAbort"](what);
        }
        if (what !== void 0) {
          Module.print(what);
          Module.printErr(what);
          what = JSON.stringify(what);
        } else {
          what = "";
        }
        ABORT = true;
        EXITSTATUS = 1;
        var extra = "\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";
        var output = "abort(" + what + ") at " + stackTrace() + extra;
        if (abortDecorators) {
          abortDecorators.forEach(function(decorator) {
            output = decorator(output, what);
          });
        }
        throw output;
      }
      Module["abort"] = Module.abort = abort;
      if (Module["preInit"]) {
        if (typeof Module["preInit"] == "function")
          Module["preInit"] = [Module["preInit"]];
        while (Module["preInit"].length > 0) {
          Module["preInit"].pop()();
        }
      }
      var shouldRunNow = true;
      if (Module["noInitialRun"]) {
        shouldRunNow = false;
      }
      run();
    });
  }
});

// ../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/entry-browser.js
var require_entry_browser = __commonJS({
  "../../node_modules/.pnpm/@aeolun+yoga-layout-prebuilt@1.10.0/node_modules/@aeolun/yoga-layout-prebuilt/yoga-layout/dist/entry-browser.js"(exports2, module2) {
    "use strict";
    var Yoga = require_entry_common();
    var nbind = require_nbind();
    var ran = false;
    var ret = null;
    nbind({}, function(err2, result) {
      if (ran) {
        return;
      }
      ran = true;
      if (err2) {
        throw err2;
      }
      ret = result;
    });
    if (!ran) {
      throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");
    }
    module2.exports = Yoga(ret.bind, ret.lib);
  }
});

// ../../node_modules/.pnpm/@pixi+constants@7.2.4/node_modules/@pixi/constants/lib/index.mjs
var ENV = /* @__PURE__ */ ((ENV2) => {
  ENV2[ENV2["WEBGL_LEGACY"] = 0] = "WEBGL_LEGACY";
  ENV2[ENV2["WEBGL"] = 1] = "WEBGL";
  ENV2[ENV2["WEBGL2"] = 2] = "WEBGL2";
  return ENV2;
})(ENV || {});
var RENDERER_TYPE = /* @__PURE__ */ ((RENDERER_TYPE2) => {
  RENDERER_TYPE2[RENDERER_TYPE2["UNKNOWN"] = 0] = "UNKNOWN";
  RENDERER_TYPE2[RENDERER_TYPE2["WEBGL"] = 1] = "WEBGL";
  RENDERER_TYPE2[RENDERER_TYPE2["CANVAS"] = 2] = "CANVAS";
  return RENDERER_TYPE2;
})(RENDERER_TYPE || {});
var BUFFER_BITS = /* @__PURE__ */ ((BUFFER_BITS2) => {
  BUFFER_BITS2[BUFFER_BITS2["COLOR"] = 16384] = "COLOR";
  BUFFER_BITS2[BUFFER_BITS2["DEPTH"] = 256] = "DEPTH";
  BUFFER_BITS2[BUFFER_BITS2["STENCIL"] = 1024] = "STENCIL";
  return BUFFER_BITS2;
})(BUFFER_BITS || {});
var BLEND_MODES = /* @__PURE__ */ ((BLEND_MODES22) => {
  BLEND_MODES22[BLEND_MODES22["NORMAL"] = 0] = "NORMAL";
  BLEND_MODES22[BLEND_MODES22["ADD"] = 1] = "ADD";
  BLEND_MODES22[BLEND_MODES22["MULTIPLY"] = 2] = "MULTIPLY";
  BLEND_MODES22[BLEND_MODES22["SCREEN"] = 3] = "SCREEN";
  BLEND_MODES22[BLEND_MODES22["OVERLAY"] = 4] = "OVERLAY";
  BLEND_MODES22[BLEND_MODES22["DARKEN"] = 5] = "DARKEN";
  BLEND_MODES22[BLEND_MODES22["LIGHTEN"] = 6] = "LIGHTEN";
  BLEND_MODES22[BLEND_MODES22["COLOR_DODGE"] = 7] = "COLOR_DODGE";
  BLEND_MODES22[BLEND_MODES22["COLOR_BURN"] = 8] = "COLOR_BURN";
  BLEND_MODES22[BLEND_MODES22["HARD_LIGHT"] = 9] = "HARD_LIGHT";
  BLEND_MODES22[BLEND_MODES22["SOFT_LIGHT"] = 10] = "SOFT_LIGHT";
  BLEND_MODES22[BLEND_MODES22["DIFFERENCE"] = 11] = "DIFFERENCE";
  BLEND_MODES22[BLEND_MODES22["EXCLUSION"] = 12] = "EXCLUSION";
  BLEND_MODES22[BLEND_MODES22["HUE"] = 13] = "HUE";
  BLEND_MODES22[BLEND_MODES22["SATURATION"] = 14] = "SATURATION";
  BLEND_MODES22[BLEND_MODES22["COLOR"] = 15] = "COLOR";
  BLEND_MODES22[BLEND_MODES22["LUMINOSITY"] = 16] = "LUMINOSITY";
  BLEND_MODES22[BLEND_MODES22["NORMAL_NPM"] = 17] = "NORMAL_NPM";
  BLEND_MODES22[BLEND_MODES22["ADD_NPM"] = 18] = "ADD_NPM";
  BLEND_MODES22[BLEND_MODES22["SCREEN_NPM"] = 19] = "SCREEN_NPM";
  BLEND_MODES22[BLEND_MODES22["NONE"] = 20] = "NONE";
  BLEND_MODES22[BLEND_MODES22["SRC_OVER"] = 0] = "SRC_OVER";
  BLEND_MODES22[BLEND_MODES22["SRC_IN"] = 21] = "SRC_IN";
  BLEND_MODES22[BLEND_MODES22["SRC_OUT"] = 22] = "SRC_OUT";
  BLEND_MODES22[BLEND_MODES22["SRC_ATOP"] = 23] = "SRC_ATOP";
  BLEND_MODES22[BLEND_MODES22["DST_OVER"] = 24] = "DST_OVER";
  BLEND_MODES22[BLEND_MODES22["DST_IN"] = 25] = "DST_IN";
  BLEND_MODES22[BLEND_MODES22["DST_OUT"] = 26] = "DST_OUT";
  BLEND_MODES22[BLEND_MODES22["DST_ATOP"] = 27] = "DST_ATOP";
  BLEND_MODES22[BLEND_MODES22["ERASE"] = 26] = "ERASE";
  BLEND_MODES22[BLEND_MODES22["SUBTRACT"] = 28] = "SUBTRACT";
  BLEND_MODES22[BLEND_MODES22["XOR"] = 29] = "XOR";
  return BLEND_MODES22;
})(BLEND_MODES || {});
var DRAW_MODES = /* @__PURE__ */ ((DRAW_MODES2) => {
  DRAW_MODES2[DRAW_MODES2["POINTS"] = 0] = "POINTS";
  DRAW_MODES2[DRAW_MODES2["LINES"] = 1] = "LINES";
  DRAW_MODES2[DRAW_MODES2["LINE_LOOP"] = 2] = "LINE_LOOP";
  DRAW_MODES2[DRAW_MODES2["LINE_STRIP"] = 3] = "LINE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLES"] = 4] = "TRIANGLES";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_STRIP"] = 5] = "TRIANGLE_STRIP";
  DRAW_MODES2[DRAW_MODES2["TRIANGLE_FAN"] = 6] = "TRIANGLE_FAN";
  return DRAW_MODES2;
})(DRAW_MODES || {});
var FORMATS = /* @__PURE__ */ ((FORMATS2) => {
  FORMATS2[FORMATS2["RGBA"] = 6408] = "RGBA";
  FORMATS2[FORMATS2["RGB"] = 6407] = "RGB";
  FORMATS2[FORMATS2["RG"] = 33319] = "RG";
  FORMATS2[FORMATS2["RED"] = 6403] = "RED";
  FORMATS2[FORMATS2["RGBA_INTEGER"] = 36249] = "RGBA_INTEGER";
  FORMATS2[FORMATS2["RGB_INTEGER"] = 36248] = "RGB_INTEGER";
  FORMATS2[FORMATS2["RG_INTEGER"] = 33320] = "RG_INTEGER";
  FORMATS2[FORMATS2["RED_INTEGER"] = 36244] = "RED_INTEGER";
  FORMATS2[FORMATS2["ALPHA"] = 6406] = "ALPHA";
  FORMATS2[FORMATS2["LUMINANCE"] = 6409] = "LUMINANCE";
  FORMATS2[FORMATS2["LUMINANCE_ALPHA"] = 6410] = "LUMINANCE_ALPHA";
  FORMATS2[FORMATS2["DEPTH_COMPONENT"] = 6402] = "DEPTH_COMPONENT";
  FORMATS2[FORMATS2["DEPTH_STENCIL"] = 34041] = "DEPTH_STENCIL";
  return FORMATS2;
})(FORMATS || {});
var TARGETS = /* @__PURE__ */ ((TARGETS2) => {
  TARGETS2[TARGETS2["TEXTURE_2D"] = 3553] = "TEXTURE_2D";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP"] = 34067] = "TEXTURE_CUBE_MAP";
  TARGETS2[TARGETS2["TEXTURE_2D_ARRAY"] = 35866] = "TEXTURE_2D_ARRAY";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_X"] = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_X"] = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Y"] = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Y"] = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_POSITIVE_Z"] = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z";
  TARGETS2[TARGETS2["TEXTURE_CUBE_MAP_NEGATIVE_Z"] = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z";
  return TARGETS2;
})(TARGETS || {});
var TYPES = /* @__PURE__ */ ((TYPES2) => {
  TYPES2[TYPES2["UNSIGNED_BYTE"] = 5121] = "UNSIGNED_BYTE";
  TYPES2[TYPES2["UNSIGNED_SHORT"] = 5123] = "UNSIGNED_SHORT";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_6_5"] = 33635] = "UNSIGNED_SHORT_5_6_5";
  TYPES2[TYPES2["UNSIGNED_SHORT_4_4_4_4"] = 32819] = "UNSIGNED_SHORT_4_4_4_4";
  TYPES2[TYPES2["UNSIGNED_SHORT_5_5_5_1"] = 32820] = "UNSIGNED_SHORT_5_5_5_1";
  TYPES2[TYPES2["UNSIGNED_INT"] = 5125] = "UNSIGNED_INT";
  TYPES2[TYPES2["UNSIGNED_INT_10F_11F_11F_REV"] = 35899] = "UNSIGNED_INT_10F_11F_11F_REV";
  TYPES2[TYPES2["UNSIGNED_INT_2_10_10_10_REV"] = 33640] = "UNSIGNED_INT_2_10_10_10_REV";
  TYPES2[TYPES2["UNSIGNED_INT_24_8"] = 34042] = "UNSIGNED_INT_24_8";
  TYPES2[TYPES2["UNSIGNED_INT_5_9_9_9_REV"] = 35902] = "UNSIGNED_INT_5_9_9_9_REV";
  TYPES2[TYPES2["BYTE"] = 5120] = "BYTE";
  TYPES2[TYPES2["SHORT"] = 5122] = "SHORT";
  TYPES2[TYPES2["INT"] = 5124] = "INT";
  TYPES2[TYPES2["FLOAT"] = 5126] = "FLOAT";
  TYPES2[TYPES2["FLOAT_32_UNSIGNED_INT_24_8_REV"] = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV";
  TYPES2[TYPES2["HALF_FLOAT"] = 36193] = "HALF_FLOAT";
  return TYPES2;
})(TYPES || {});
var SAMPLER_TYPES = /* @__PURE__ */ ((SAMPLER_TYPES2) => {
  SAMPLER_TYPES2[SAMPLER_TYPES2["FLOAT"] = 0] = "FLOAT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["INT"] = 1] = "INT";
  SAMPLER_TYPES2[SAMPLER_TYPES2["UINT"] = 2] = "UINT";
  return SAMPLER_TYPES2;
})(SAMPLER_TYPES || {});
var SCALE_MODES = /* @__PURE__ */ ((SCALE_MODES2) => {
  SCALE_MODES2[SCALE_MODES2["NEAREST"] = 0] = "NEAREST";
  SCALE_MODES2[SCALE_MODES2["LINEAR"] = 1] = "LINEAR";
  return SCALE_MODES2;
})(SCALE_MODES || {});
var WRAP_MODES = /* @__PURE__ */ ((WRAP_MODES2) => {
  WRAP_MODES2[WRAP_MODES2["CLAMP"] = 33071] = "CLAMP";
  WRAP_MODES2[WRAP_MODES2["REPEAT"] = 10497] = "REPEAT";
  WRAP_MODES2[WRAP_MODES2["MIRRORED_REPEAT"] = 33648] = "MIRRORED_REPEAT";
  return WRAP_MODES2;
})(WRAP_MODES || {});
var MIPMAP_MODES = /* @__PURE__ */ ((MIPMAP_MODES2) => {
  MIPMAP_MODES2[MIPMAP_MODES2["OFF"] = 0] = "OFF";
  MIPMAP_MODES2[MIPMAP_MODES2["POW2"] = 1] = "POW2";
  MIPMAP_MODES2[MIPMAP_MODES2["ON"] = 2] = "ON";
  MIPMAP_MODES2[MIPMAP_MODES2["ON_MANUAL"] = 3] = "ON_MANUAL";
  return MIPMAP_MODES2;
})(MIPMAP_MODES || {});
var ALPHA_MODES = /* @__PURE__ */ ((ALPHA_MODES2) => {
  ALPHA_MODES2[ALPHA_MODES2["NPM"] = 0] = "NPM";
  ALPHA_MODES2[ALPHA_MODES2["UNPACK"] = 1] = "UNPACK";
  ALPHA_MODES2[ALPHA_MODES2["PMA"] = 2] = "PMA";
  ALPHA_MODES2[ALPHA_MODES2["NO_PREMULTIPLIED_ALPHA"] = 0] = "NO_PREMULTIPLIED_ALPHA";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLY_ON_UPLOAD"] = 1] = "PREMULTIPLY_ON_UPLOAD";
  ALPHA_MODES2[ALPHA_MODES2["PREMULTIPLIED_ALPHA"] = 2] = "PREMULTIPLIED_ALPHA";
  return ALPHA_MODES2;
})(ALPHA_MODES || {});
var CLEAR_MODES = /* @__PURE__ */ ((CLEAR_MODES2) => {
  CLEAR_MODES2[CLEAR_MODES2["NO"] = 0] = "NO";
  CLEAR_MODES2[CLEAR_MODES2["YES"] = 1] = "YES";
  CLEAR_MODES2[CLEAR_MODES2["AUTO"] = 2] = "AUTO";
  CLEAR_MODES2[CLEAR_MODES2["BLEND"] = 0] = "BLEND";
  CLEAR_MODES2[CLEAR_MODES2["CLEAR"] = 1] = "CLEAR";
  CLEAR_MODES2[CLEAR_MODES2["BLIT"] = 2] = "BLIT";
  return CLEAR_MODES2;
})(CLEAR_MODES || {});
var GC_MODES = /* @__PURE__ */ ((GC_MODES2) => {
  GC_MODES2[GC_MODES2["AUTO"] = 0] = "AUTO";
  GC_MODES2[GC_MODES2["MANUAL"] = 1] = "MANUAL";
  return GC_MODES2;
})(GC_MODES || {});
var PRECISION = /* @__PURE__ */ ((PRECISION2) => {
  PRECISION2["LOW"] = "lowp";
  PRECISION2["MEDIUM"] = "mediump";
  PRECISION2["HIGH"] = "highp";
  return PRECISION2;
})(PRECISION || {});
var MASK_TYPES = /* @__PURE__ */ ((MASK_TYPES2) => {
  MASK_TYPES2[MASK_TYPES2["NONE"] = 0] = "NONE";
  MASK_TYPES2[MASK_TYPES2["SCISSOR"] = 1] = "SCISSOR";
  MASK_TYPES2[MASK_TYPES2["STENCIL"] = 2] = "STENCIL";
  MASK_TYPES2[MASK_TYPES2["SPRITE"] = 3] = "SPRITE";
  MASK_TYPES2[MASK_TYPES2["COLOR"] = 4] = "COLOR";
  return MASK_TYPES2;
})(MASK_TYPES || {});
var MSAA_QUALITY = /* @__PURE__ */ ((MSAA_QUALITY2) => {
  MSAA_QUALITY2[MSAA_QUALITY2["NONE"] = 0] = "NONE";
  MSAA_QUALITY2[MSAA_QUALITY2["LOW"] = 2] = "LOW";
  MSAA_QUALITY2[MSAA_QUALITY2["MEDIUM"] = 4] = "MEDIUM";
  MSAA_QUALITY2[MSAA_QUALITY2["HIGH"] = 8] = "HIGH";
  return MSAA_QUALITY2;
})(MSAA_QUALITY || {});
var BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {
  BUFFER_TYPE2[BUFFER_TYPE2["ELEMENT_ARRAY_BUFFER"] = 34963] = "ELEMENT_ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["ARRAY_BUFFER"] = 34962] = "ARRAY_BUFFER";
  BUFFER_TYPE2[BUFFER_TYPE2["UNIFORM_BUFFER"] = 35345] = "UNIFORM_BUFFER";
  return BUFFER_TYPE2;
})(BUFFER_TYPE || {});

// ../../node_modules/.pnpm/@pixi+settings@7.2.4/node_modules/@pixi/settings/lib/adapter.mjs
var BrowserAdapter = {
  createCanvas: (width, height) => {
    const canvas = document.createElement("canvas");
    canvas.width = width;
    canvas.height = height;
    return canvas;
  },
  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
  getWebGLRenderingContext: () => WebGLRenderingContext,
  getNavigator: () => navigator,
  getBaseUrl: () => document.baseURI ?? window.location.href,
  getFontFaceSet: () => document.fonts,
  fetch: (url2, options) => fetch(url2, options),
  parseXML: (xml) => {
    const parser = new DOMParser();
    return parser.parseFromString(xml, "text/xml");
  }
};

// ../../node_modules/.pnpm/@pixi+settings@7.2.4/node_modules/@pixi/settings/lib/settings.mjs
var settings = {
  ADAPTER: BrowserAdapter,
  RESOLUTION: 1,
  CREATE_IMAGE_BITMAP: false,
  ROUND_PIXELS: false
};

// ../../node_modules/.pnpm/ismobilejs@1.1.1/node_modules/ismobilejs/esm/isMobile.js
var appleIphone = /iPhone/i;
var appleIpod = /iPod/i;
var appleTablet = /iPad/i;
var appleUniversal = /\biOS-universal(?:.+)Mac\b/i;
var androidPhone = /\bAndroid(?:.+)Mobile\b/i;
var androidTablet = /Android/i;
var amazonPhone = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;
var amazonTablet = /Silk/i;
var windowsPhone = /Windows Phone/i;
var windowsTablet = /\bWindows(?:.+)ARM\b/i;
var otherBlackBerry = /BlackBerry/i;
var otherBlackBerry10 = /BB10/i;
var otherOpera = /Opera Mini/i;
var otherChrome = /\b(CriOS|Chrome)(?:.+)Mobile/i;
var otherFirefox = /Mobile(?:.+)Firefox\b/i;
var isAppleTabletOnIos13 = function(navigator2) {
  return typeof navigator2 !== "undefined" && navigator2.platform === "MacIntel" && typeof navigator2.maxTouchPoints === "number" && navigator2.maxTouchPoints > 1 && typeof MSStream === "undefined";
};
function createMatch(userAgent) {
  return function(regex) {
    return regex.test(userAgent);
  };
}
function isMobile(param) {
  var nav = {
    userAgent: "",
    platform: "",
    maxTouchPoints: 0
  };
  if (!param && typeof navigator !== "undefined") {
    nav = {
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      maxTouchPoints: navigator.maxTouchPoints || 0
    };
  } else if (typeof param === "string") {
    nav.userAgent = param;
  } else if (param && param.userAgent) {
    nav = {
      userAgent: param.userAgent,
      platform: param.platform,
      maxTouchPoints: param.maxTouchPoints || 0
    };
  }
  var userAgent = nav.userAgent;
  var tmp = userAgent.split("[FBAN");
  if (typeof tmp[1] !== "undefined") {
    userAgent = tmp[0];
  }
  tmp = userAgent.split("Twitter");
  if (typeof tmp[1] !== "undefined") {
    userAgent = tmp[0];
  }
  var match = createMatch(userAgent);
  var result = {
    apple: {
      phone: match(appleIphone) && !match(windowsPhone),
      ipod: match(appleIpod),
      tablet: !match(appleIphone) && (match(appleTablet) || isAppleTabletOnIos13(nav)) && !match(windowsPhone),
      universal: match(appleUniversal),
      device: (match(appleIphone) || match(appleIpod) || match(appleTablet) || match(appleUniversal) || isAppleTabletOnIos13(nav)) && !match(windowsPhone)
    },
    amazon: {
      phone: match(amazonPhone),
      tablet: !match(amazonPhone) && match(amazonTablet),
      device: match(amazonPhone) || match(amazonTablet)
    },
    android: {
      phone: !match(windowsPhone) && match(amazonPhone) || !match(windowsPhone) && match(androidPhone),
      tablet: !match(windowsPhone) && !match(amazonPhone) && !match(androidPhone) && (match(amazonTablet) || match(androidTablet)),
      device: !match(windowsPhone) && (match(amazonPhone) || match(amazonTablet) || match(androidPhone) || match(androidTablet)) || match(/\bokhttp\b/i)
    },
    windows: {
      phone: match(windowsPhone),
      tablet: match(windowsTablet),
      device: match(windowsPhone) || match(windowsTablet)
    },
    other: {
      blackberry: match(otherBlackBerry),
      blackberry10: match(otherBlackBerry10),
      opera: match(otherOpera),
      firefox: match(otherFirefox),
      chrome: match(otherChrome),
      device: match(otherBlackBerry) || match(otherBlackBerry10) || match(otherOpera) || match(otherFirefox) || match(otherChrome)
    },
    any: false,
    phone: false,
    tablet: false
  };
  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device;
  result.phone = result.apple.phone || result.android.phone || result.windows.phone;
  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;
  return result;
}

// ../../node_modules/.pnpm/@pixi+settings@7.2.4/node_modules/@pixi/settings/lib/utils/isMobile.mjs
var isMobileCall = isMobile.default ?? isMobile;
var isMobile2 = isMobileCall(globalThis.navigator);

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/index.mjs
var lib_exports = {};
__export(lib_exports, {
  BaseTextureCache: () => BaseTextureCache,
  BoundingBox: () => BoundingBox,
  CanvasRenderTarget: () => CanvasRenderTarget,
  DATA_URI: () => DATA_URI,
  EventEmitter: () => import_eventemitter3.default,
  ProgramCache: () => ProgramCache,
  TextureCache: () => TextureCache,
  clearTextureCache: () => clearTextureCache,
  correctBlendMode: () => correctBlendMode,
  createIndicesForQuads: () => createIndicesForQuads,
  decomposeDataUri: () => decomposeDataUri,
  deprecation: () => deprecation,
  destroyTextureCache: () => destroyTextureCache,
  determineCrossOrigin: () => determineCrossOrigin,
  earcut: () => import_earcut.default,
  getBufferType: () => getBufferType,
  getCanvasBoundingBox: () => getCanvasBoundingBox,
  getResolutionOfUrl: () => getResolutionOfUrl,
  hex2rgb: () => hex2rgb,
  hex2string: () => hex2string,
  interleaveTypedArrays: () => interleaveTypedArrays,
  isMobile: () => isMobile2,
  isPow2: () => isPow2,
  isWebGLSupported: () => isWebGLSupported,
  log2: () => log2,
  nextPow2: () => nextPow2,
  path: () => path,
  premultiplyBlendMode: () => premultiplyBlendMode,
  premultiplyRgba: () => premultiplyRgba,
  premultiplyTint: () => premultiplyTint,
  premultiplyTintToRgba: () => premultiplyTintToRgba,
  removeItems: () => removeItems,
  rgb2hex: () => rgb2hex,
  sayHello: () => sayHello,
  sign: () => sign,
  skipHello: () => skipHello,
  string2hex: () => string2hex,
  trimCanvas: () => trimCanvas,
  uid: () => uid,
  url: () => url
});

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/settings.mjs
settings.RETINA_PREFIX = /@([0-9\.]+)x/;
settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/index.mjs
var import_eventemitter3 = __toESM(require_eventemitter3(), 1);
var import_earcut = __toESM(require_earcut(), 1);

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/url.mjs
var import_url = __toESM(require_url(), 1);
var url = {
  parse: import_url.parse,
  format: import_url.format,
  resolve: import_url.resolve
};

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/path.mjs
function assertPath(path2) {
  if (typeof path2 !== "string") {
    throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`);
  }
}
function removeUrlParams(url2) {
  const re = url2.split("?")[0];
  return re.split("#")[0];
}
function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function replaceAll(str, find, replace) {
  return str.replace(new RegExp(escapeRegExp(find), "g"), replace);
}
function normalizeStringPosix(path2, allowAboveRoot) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code = -1;
  for (let i3 = 0; i3 <= path2.length; ++i3) {
    if (i3 < path2.length) {
      code = path2.charCodeAt(i3);
    } else if (code === 47) {
      break;
    } else {
      code = 47;
    }
    if (code === 47) {
      if (lastSlash === i3 - 1 || dots === 1) {
      } else if (lastSlash !== i3 - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i3;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i3;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0) {
            res += "/..";
          } else {
            res = "..";
          }
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0) {
          res += `/${path2.slice(lastSlash + 1, i3)}`;
        } else {
          res = path2.slice(lastSlash + 1, i3);
        }
        lastSegmentLength = i3 - lastSlash - 1;
      }
      lastSlash = i3;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
var path = {
  toPosix(path2) {
    return replaceAll(path2, "\\", "/");
  },
  isUrl(path2) {
    return /^https?:/.test(this.toPosix(path2));
  },
  isDataUrl(path2) {
    return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(path2);
  },
  hasProtocol(path2) {
    return /^[^/:]+:\//.test(this.toPosix(path2));
  },
  getProtocol(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let protocol = "";
    const isFile = /^file:\/\/\//.exec(path2);
    const isHttp = /^[^/:]+:\/\//.exec(path2);
    const isWindows = /^[^/:]+:\//.exec(path2);
    if (isFile || isHttp || isWindows) {
      const arr = isFile?.[0] || isHttp?.[0] || isWindows?.[0];
      protocol = arr;
      path2 = path2.slice(arr.length);
    }
    return protocol;
  },
  toAbsolute(url2, customBaseUrl, customRootUrl) {
    if (this.isDataUrl(url2))
      return url2;
    const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? settings.ADAPTER.getBaseUrl()));
    const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));
    assertPath(url2);
    url2 = this.toPosix(url2);
    if (url2.startsWith("/")) {
      return path.join(rootUrl, url2.slice(1));
    }
    const absolutePath = this.isAbsolute(url2) ? url2 : this.join(baseUrl, url2);
    return absolutePath;
  },
  normalize(path2) {
    path2 = this.toPosix(path2);
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    let protocol = "";
    const isAbsolute = path2.startsWith("/");
    if (this.hasProtocol(path2)) {
      protocol = this.rootname(path2);
      path2 = path2.slice(protocol.length);
    }
    const trailingSeparator = path2.endsWith("/");
    path2 = normalizeStringPosix(path2, false);
    if (path2.length > 0 && trailingSeparator)
      path2 += "/";
    if (isAbsolute)
      return `/${path2}`;
    return protocol + path2;
  },
  isAbsolute(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    if (this.hasProtocol(path2))
      return true;
    return path2.startsWith("/");
  },
  join(...segments) {
    if (segments.length === 0) {
      return ".";
    }
    let joined;
    for (let i3 = 0; i3 < segments.length; ++i3) {
      const arg2 = segments[i3];
      assertPath(arg2);
      if (arg2.length > 0) {
        if (joined === void 0)
          joined = arg2;
        else {
          const prevArg = segments[i3 - 1] ?? "";
          if (this.extname(prevArg)) {
            joined += `/../${arg2}`;
          } else {
            joined += `/${arg2}`;
          }
        }
      }
    }
    if (joined === void 0) {
      return ".";
    }
    return this.normalize(joined);
  },
  dirname(path2) {
    assertPath(path2);
    if (path2.length === 0)
      return ".";
    path2 = this.toPosix(path2);
    let code = path2.charCodeAt(0);
    const hasRoot = code === 47;
    let end = -1;
    let matchedSlash = true;
    const proto = this.getProtocol(path2);
    const origpath = path2;
    path2 = path2.slice(proto.length);
    for (let i3 = path2.length - 1; i3 >= 1; --i3) {
      code = path2.charCodeAt(i3);
      if (code === 47) {
        if (!matchedSlash) {
          end = i3;
          break;
        }
      } else {
        matchedSlash = false;
      }
    }
    if (end === -1)
      return hasRoot ? "/" : this.isUrl(origpath) ? proto + path2 : proto;
    if (hasRoot && end === 1)
      return "//";
    return proto + path2.slice(0, end);
  },
  rootname(path2) {
    assertPath(path2);
    path2 = this.toPosix(path2);
    let root = "";
    if (path2.startsWith("/"))
      root = "/";
    else {
      root = this.getProtocol(path2);
    }
    if (this.isUrl(path2)) {
      const index = path2.indexOf("/", root.length);
      if (index !== -1) {
        root = path2.slice(0, index);
      } else
        root = path2;
      if (!root.endsWith("/"))
        root += "/";
    }
    return root;
  },
  basename(path2, ext) {
    assertPath(path2);
    if (ext)
      assertPath(ext);
    path2 = removeUrlParams(this.toPosix(path2));
    let start = 0;
    let end = -1;
    let matchedSlash = true;
    let i3;
    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
      if (ext.length === path2.length && ext === path2)
        return "";
      let extIdx = ext.length - 1;
      let firstNonSlashEnd = -1;
      for (i3 = path2.length - 1; i3 >= 0; --i3) {
        const code = path2.charCodeAt(i3);
        if (code === 47) {
          if (!matchedSlash) {
            start = i3 + 1;
            break;
          }
        } else {
          if (firstNonSlashEnd === -1) {
            matchedSlash = false;
            firstNonSlashEnd = i3 + 1;
          }
          if (extIdx >= 0) {
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                end = i3;
              }
            } else {
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }
      if (start === end)
        end = firstNonSlashEnd;
      else if (end === -1)
        end = path2.length;
      return path2.slice(start, end);
    }
    for (i3 = path2.length - 1; i3 >= 0; --i3) {
      if (path2.charCodeAt(i3) === 47) {
        if (!matchedSlash) {
          start = i3 + 1;
          break;
        }
      } else if (end === -1) {
        matchedSlash = false;
        end = i3 + 1;
      }
    }
    if (end === -1)
      return "";
    return path2.slice(start, end);
  },
  extname(path2) {
    assertPath(path2);
    path2 = removeUrlParams(this.toPosix(path2));
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let preDotState = 0;
    for (let i3 = path2.length - 1; i3 >= 0; --i3) {
      const code = path2.charCodeAt(i3);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i3 + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i3 + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i3;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return "";
    }
    return path2.slice(startDot, end);
  },
  parse(path2) {
    assertPath(path2);
    const ret = { root: "", dir: "", base: "", ext: "", name: "" };
    if (path2.length === 0)
      return ret;
    path2 = removeUrlParams(this.toPosix(path2));
    let code = path2.charCodeAt(0);
    const isAbsolute = this.isAbsolute(path2);
    let start;
    const protocol = "";
    ret.root = this.rootname(path2);
    if (isAbsolute || this.hasProtocol(path2)) {
      start = 1;
    } else {
      start = 0;
    }
    let startDot = -1;
    let startPart = 0;
    let end = -1;
    let matchedSlash = true;
    let i3 = path2.length - 1;
    let preDotState = 0;
    for (; i3 >= start; --i3) {
      code = path2.charCodeAt(i3);
      if (code === 47) {
        if (!matchedSlash) {
          startPart = i3 + 1;
          break;
        }
        continue;
      }
      if (end === -1) {
        matchedSlash = false;
        end = i3 + 1;
      }
      if (code === 46) {
        if (startDot === -1)
          startDot = i3;
        else if (preDotState !== 1)
          preDotState = 1;
      } else if (startDot !== -1) {
        preDotState = -1;
      }
    }
    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute)
          ret.base = ret.name = path2.slice(1, end);
        else
          ret.base = ret.name = path2.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path2.slice(1, startDot);
        ret.base = path2.slice(1, end);
      } else {
        ret.name = path2.slice(startPart, startDot);
        ret.base = path2.slice(startPart, end);
      }
      ret.ext = path2.slice(startDot, end);
    }
    ret.dir = this.dirname(path2);
    if (protocol)
      ret.dir = protocol + ret.dir;
    return ret;
  },
  sep: "/",
  delimiter: ":"
};

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/logging/deprecation.mjs
var warnings = {};
function deprecation(version, message, ignoreDepth = 3) {
  if (warnings[message]) {
    return;
  }
  let stack = new Error().stack;
  if (typeof stack === "undefined") {
    console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
  } else {
    stack = stack.split("\n").splice(ignoreDepth).join("\n");
    if (console.groupCollapsed) {
      console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", `${message}
Deprecated since v${version}`);
      console.warn(stack);
      console.groupEnd();
    } else {
      console.warn("PixiJS Deprecation Warning: ", `${message}
Deprecated since v${version}`);
      console.warn(stack);
    }
  }
  warnings[message] = true;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/browser/hello.mjs
function skipHello() {
  deprecation("7.0.0", "skipHello is deprecated, please use settings.RENDER_OPTIONS.hello");
}
function sayHello() {
  deprecation("7.0.0", `sayHello is deprecated, please use Renderer's "hello" option`);
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs
var supported;
function isWebGLSupported() {
  if (typeof supported === "undefined") {
    supported = function supported2() {
      const contextOptions = {
        stencil: true,
        failIfMajorPerformanceCaveat: settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
      };
      try {
        if (!settings.ADAPTER.getWebGLRenderingContext()) {
          return false;
        }
        const canvas = settings.ADAPTER.createCanvas();
        let gl = canvas.getContext("webgl", contextOptions) || canvas.getContext("experimental-webgl", contextOptions);
        const success = !!gl?.getContextAttributes()?.stencil;
        if (gl) {
          const loseContext = gl.getExtension("WEBGL_lose_context");
          if (loseContext) {
            loseContext.loseContext();
          }
        }
        gl = null;
        return success;
      } catch (e3) {
        return false;
      }
    }();
  }
  return supported;
}

// ../../node_modules/.pnpm/colord@2.9.3/node_modules/colord/index.mjs
var r = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) };
var t = function(r2) {
  return "string" == typeof r2 ? r2.length > 0 : "number" == typeof r2;
};
var n = function(r2, t2, n2) {
  return void 0 === t2 && (t2 = 0), void 0 === n2 && (n2 = Math.pow(10, t2)), Math.round(n2 * r2) / n2 + 0;
};
var e = function(r2, t2, n2) {
  return void 0 === t2 && (t2 = 0), void 0 === n2 && (n2 = 1), r2 > n2 ? n2 : r2 > t2 ? r2 : t2;
};
var u = function(r2) {
  return (r2 = isFinite(r2) ? r2 % 360 : 0) > 0 ? r2 : r2 + 360;
};
var a = function(r2) {
  return { r: e(r2.r, 0, 255), g: e(r2.g, 0, 255), b: e(r2.b, 0, 255), a: e(r2.a) };
};
var o = function(r2) {
  return { r: n(r2.r), g: n(r2.g), b: n(r2.b), a: n(r2.a, 3) };
};
var i2 = /^#([0-9a-f]{3,8})$/i;
var s = function(r2) {
  var t2 = r2.toString(16);
  return t2.length < 2 ? "0" + t2 : t2;
};
var h = function(r2) {
  var t2 = r2.r, n2 = r2.g, e3 = r2.b, u2 = r2.a, a2 = Math.max(t2, n2, e3), o3 = a2 - Math.min(t2, n2, e3), i3 = o3 ? a2 === t2 ? (n2 - e3) / o3 : a2 === n2 ? 2 + (e3 - t2) / o3 : 4 + (t2 - n2) / o3 : 0;
  return { h: 60 * (i3 < 0 ? i3 + 6 : i3), s: a2 ? o3 / a2 * 100 : 0, v: a2 / 255 * 100, a: u2 };
};
var b = function(r2) {
  var t2 = r2.h, n2 = r2.s, e3 = r2.v, u2 = r2.a;
  t2 = t2 / 360 * 6, n2 /= 100, e3 /= 100;
  var a2 = Math.floor(t2), o3 = e3 * (1 - n2), i3 = e3 * (1 - (t2 - a2) * n2), s2 = e3 * (1 - (1 - t2 + a2) * n2), h2 = a2 % 6;
  return { r: 255 * [e3, i3, o3, o3, s2, e3][h2], g: 255 * [s2, e3, e3, i3, o3, o3][h2], b: 255 * [o3, o3, s2, e3, e3, i3][h2], a: u2 };
};
var g = function(r2) {
  return { h: u(r2.h), s: e(r2.s, 0, 100), l: e(r2.l, 0, 100), a: e(r2.a) };
};
var d = function(r2) {
  return { h: n(r2.h), s: n(r2.s), l: n(r2.l), a: n(r2.a, 3) };
};
var f = function(r2) {
  return b((n2 = (t2 = r2).s, { h: t2.h, s: (n2 *= ((e3 = t2.l) < 50 ? e3 : 100 - e3) / 100) > 0 ? 2 * n2 / (e3 + n2) * 100 : 0, v: e3 + n2, a: t2.a }));
  var t2, n2, e3;
};
var c = function(r2) {
  return { h: (t2 = h(r2)).h, s: (u2 = (200 - (n2 = t2.s)) * (e3 = t2.v) / 100) > 0 && u2 < 200 ? n2 * e3 / 100 / (u2 <= 100 ? u2 : 200 - u2) * 100 : 0, l: u2 / 2, a: t2.a };
  var t2, n2, e3, u2;
};
var l = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i;
var p = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i;
var v = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i;
var m = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i;
var y = { string: [[function(r2) {
  var t2 = i2.exec(r2);
  return t2 ? (r2 = t2[1]).length <= 4 ? { r: parseInt(r2[0] + r2[0], 16), g: parseInt(r2[1] + r2[1], 16), b: parseInt(r2[2] + r2[2], 16), a: 4 === r2.length ? n(parseInt(r2[3] + r2[3], 16) / 255, 2) : 1 } : 6 === r2.length || 8 === r2.length ? { r: parseInt(r2.substr(0, 2), 16), g: parseInt(r2.substr(2, 2), 16), b: parseInt(r2.substr(4, 2), 16), a: 8 === r2.length ? n(parseInt(r2.substr(6, 2), 16) / 255, 2) : 1 } : null : null;
}, "hex"], [function(r2) {
  var t2 = v.exec(r2) || m.exec(r2);
  return t2 ? t2[2] !== t2[4] || t2[4] !== t2[6] ? null : a({ r: Number(t2[1]) / (t2[2] ? 100 / 255 : 1), g: Number(t2[3]) / (t2[4] ? 100 / 255 : 1), b: Number(t2[5]) / (t2[6] ? 100 / 255 : 1), a: void 0 === t2[7] ? 1 : Number(t2[7]) / (t2[8] ? 100 : 1) }) : null;
}, "rgb"], [function(t2) {
  var n2 = l.exec(t2) || p.exec(t2);
  if (!n2)
    return null;
  var e3, u2, a2 = g({ h: (e3 = n2[1], u2 = n2[2], void 0 === u2 && (u2 = "deg"), Number(e3) * (r[u2] || 1)), s: Number(n2[3]), l: Number(n2[4]), a: void 0 === n2[5] ? 1 : Number(n2[5]) / (n2[6] ? 100 : 1) });
  return f(a2);
}, "hsl"]], object: [[function(r2) {
  var n2 = r2.r, e3 = r2.g, u2 = r2.b, o3 = r2.a, i3 = void 0 === o3 ? 1 : o3;
  return t(n2) && t(e3) && t(u2) ? a({ r: Number(n2), g: Number(e3), b: Number(u2), a: Number(i3) }) : null;
}, "rgb"], [function(r2) {
  var n2 = r2.h, e3 = r2.s, u2 = r2.l, a2 = r2.a, o3 = void 0 === a2 ? 1 : a2;
  if (!t(n2) || !t(e3) || !t(u2))
    return null;
  var i3 = g({ h: Number(n2), s: Number(e3), l: Number(u2), a: Number(o3) });
  return f(i3);
}, "hsl"], [function(r2) {
  var n2 = r2.h, a2 = r2.s, o3 = r2.v, i3 = r2.a, s2 = void 0 === i3 ? 1 : i3;
  if (!t(n2) || !t(a2) || !t(o3))
    return null;
  var h2 = function(r3) {
    return { h: u(r3.h), s: e(r3.s, 0, 100), v: e(r3.v, 0, 100), a: e(r3.a) };
  }({ h: Number(n2), s: Number(a2), v: Number(o3), a: Number(s2) });
  return b(h2);
}, "hsv"]] };
var N = function(r2, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var e3 = t2[n2][0](r2);
    if (e3)
      return [e3, t2[n2][1]];
  }
  return [null, void 0];
};
var x = function(r2) {
  return "string" == typeof r2 ? N(r2.trim(), y.string) : "object" == typeof r2 && null !== r2 ? N(r2, y.object) : [null, void 0];
};
var M = function(r2, t2) {
  var n2 = c(r2);
  return { h: n2.h, s: e(n2.s + 100 * t2, 0, 100), l: n2.l, a: n2.a };
};
var H = function(r2) {
  return (299 * r2.r + 587 * r2.g + 114 * r2.b) / 1e3 / 255;
};
var $ = function(r2, t2) {
  var n2 = c(r2);
  return { h: n2.h, s: n2.s, l: e(n2.l + 100 * t2, 0, 100), a: n2.a };
};
var j = function() {
  function r2(r3) {
    this.parsed = x(r3)[0], this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 };
  }
  return r2.prototype.isValid = function() {
    return null !== this.parsed;
  }, r2.prototype.brightness = function() {
    return n(H(this.rgba), 2);
  }, r2.prototype.isDark = function() {
    return H(this.rgba) < 0.5;
  }, r2.prototype.isLight = function() {
    return H(this.rgba) >= 0.5;
  }, r2.prototype.toHex = function() {
    return r3 = o(this.rgba), t2 = r3.r, e3 = r3.g, u2 = r3.b, i3 = (a2 = r3.a) < 1 ? s(n(255 * a2)) : "", "#" + s(t2) + s(e3) + s(u2) + i3;
    var r3, t2, e3, u2, a2, i3;
  }, r2.prototype.toRgb = function() {
    return o(this.rgba);
  }, r2.prototype.toRgbString = function() {
    return r3 = o(this.rgba), t2 = r3.r, n2 = r3.g, e3 = r3.b, (u2 = r3.a) < 1 ? "rgba(" + t2 + ", " + n2 + ", " + e3 + ", " + u2 + ")" : "rgb(" + t2 + ", " + n2 + ", " + e3 + ")";
    var r3, t2, n2, e3, u2;
  }, r2.prototype.toHsl = function() {
    return d(c(this.rgba));
  }, r2.prototype.toHslString = function() {
    return r3 = d(c(this.rgba)), t2 = r3.h, n2 = r3.s, e3 = r3.l, (u2 = r3.a) < 1 ? "hsla(" + t2 + ", " + n2 + "%, " + e3 + "%, " + u2 + ")" : "hsl(" + t2 + ", " + n2 + "%, " + e3 + "%)";
    var r3, t2, n2, e3, u2;
  }, r2.prototype.toHsv = function() {
    return r3 = h(this.rgba), { h: n(r3.h), s: n(r3.s), v: n(r3.v), a: n(r3.a, 3) };
    var r3;
  }, r2.prototype.invert = function() {
    return w({ r: 255 - (r3 = this.rgba).r, g: 255 - r3.g, b: 255 - r3.b, a: r3.a });
    var r3;
  }, r2.prototype.saturate = function(r3) {
    return void 0 === r3 && (r3 = 0.1), w(M(this.rgba, r3));
  }, r2.prototype.desaturate = function(r3) {
    return void 0 === r3 && (r3 = 0.1), w(M(this.rgba, -r3));
  }, r2.prototype.grayscale = function() {
    return w(M(this.rgba, -1));
  }, r2.prototype.lighten = function(r3) {
    return void 0 === r3 && (r3 = 0.1), w($(this.rgba, r3));
  }, r2.prototype.darken = function(r3) {
    return void 0 === r3 && (r3 = 0.1), w($(this.rgba, -r3));
  }, r2.prototype.rotate = function(r3) {
    return void 0 === r3 && (r3 = 15), this.hue(this.hue() + r3);
  }, r2.prototype.alpha = function(r3) {
    return "number" == typeof r3 ? w({ r: (t2 = this.rgba).r, g: t2.g, b: t2.b, a: r3 }) : n(this.rgba.a, 3);
    var t2;
  }, r2.prototype.hue = function(r3) {
    var t2 = c(this.rgba);
    return "number" == typeof r3 ? w({ h: r3, s: t2.s, l: t2.l, a: t2.a }) : n(t2.h);
  }, r2.prototype.isEqual = function(r3) {
    return this.toHex() === w(r3).toHex();
  }, r2;
}();
var w = function(r2) {
  return r2 instanceof j ? r2 : new j(r2);
};
var S = [];
var k = function(r2) {
  r2.forEach(function(r3) {
    S.indexOf(r3) < 0 && (r3(j, y), S.push(r3));
  });
};

// ../../node_modules/.pnpm/colord@2.9.3/node_modules/colord/plugins/names.mjs
function names_default(e3, f4) {
  var a2 = { white: "#ffffff", bisque: "#ffe4c4", blue: "#0000ff", cadetblue: "#5f9ea0", chartreuse: "#7fff00", chocolate: "#d2691e", coral: "#ff7f50", antiquewhite: "#faebd7", aqua: "#00ffff", azure: "#f0ffff", whitesmoke: "#f5f5f5", papayawhip: "#ffefd5", plum: "#dda0dd", blanchedalmond: "#ffebcd", black: "#000000", gold: "#ffd700", goldenrod: "#daa520", gainsboro: "#dcdcdc", cornsilk: "#fff8dc", cornflowerblue: "#6495ed", burlywood: "#deb887", aquamarine: "#7fffd4", beige: "#f5f5dc", crimson: "#dc143c", cyan: "#00ffff", darkblue: "#00008b", darkcyan: "#008b8b", darkgoldenrod: "#b8860b", darkkhaki: "#bdb76b", darkgray: "#a9a9a9", darkgreen: "#006400", darkgrey: "#a9a9a9", peachpuff: "#ffdab9", darkmagenta: "#8b008b", darkred: "#8b0000", darkorchid: "#9932cc", darkorange: "#ff8c00", darkslateblue: "#483d8b", gray: "#808080", darkslategray: "#2f4f4f", darkslategrey: "#2f4f4f", deeppink: "#ff1493", deepskyblue: "#00bfff", wheat: "#f5deb3", firebrick: "#b22222", floralwhite: "#fffaf0", ghostwhite: "#f8f8ff", darkviolet: "#9400d3", magenta: "#ff00ff", green: "#008000", dodgerblue: "#1e90ff", grey: "#808080", honeydew: "#f0fff0", hotpink: "#ff69b4", blueviolet: "#8a2be2", forestgreen: "#228b22", lawngreen: "#7cfc00", indianred: "#cd5c5c", indigo: "#4b0082", fuchsia: "#ff00ff", brown: "#a52a2a", maroon: "#800000", mediumblue: "#0000cd", lightcoral: "#f08080", darkturquoise: "#00ced1", lightcyan: "#e0ffff", ivory: "#fffff0", lightyellow: "#ffffe0", lightsalmon: "#ffa07a", lightseagreen: "#20b2aa", linen: "#faf0e6", mediumaquamarine: "#66cdaa", lemonchiffon: "#fffacd", lime: "#00ff00", khaki: "#f0e68c", mediumseagreen: "#3cb371", limegreen: "#32cd32", mediumspringgreen: "#00fa9a", lightskyblue: "#87cefa", lightblue: "#add8e6", midnightblue: "#191970", lightpink: "#ffb6c1", mistyrose: "#ffe4e1", moccasin: "#ffe4b5", mintcream: "#f5fffa", lightslategray: "#778899", lightslategrey: "#778899", navajowhite: "#ffdead", navy: "#000080", mediumvioletred: "#c71585", powderblue: "#b0e0e6", palegoldenrod: "#eee8aa", oldlace: "#fdf5e6", paleturquoise: "#afeeee", mediumturquoise: "#48d1cc", mediumorchid: "#ba55d3", rebeccapurple: "#663399", lightsteelblue: "#b0c4de", mediumslateblue: "#7b68ee", thistle: "#d8bfd8", tan: "#d2b48c", orchid: "#da70d6", mediumpurple: "#9370db", purple: "#800080", pink: "#ffc0cb", skyblue: "#87ceeb", springgreen: "#00ff7f", palegreen: "#98fb98", red: "#ff0000", yellow: "#ffff00", slateblue: "#6a5acd", lavenderblush: "#fff0f5", peru: "#cd853f", palevioletred: "#db7093", violet: "#ee82ee", teal: "#008080", slategray: "#708090", slategrey: "#708090", aliceblue: "#f0f8ff", darkseagreen: "#8fbc8f", darkolivegreen: "#556b2f", greenyellow: "#adff2f", seagreen: "#2e8b57", seashell: "#fff5ee", tomato: "#ff6347", silver: "#c0c0c0", sienna: "#a0522d", lavender: "#e6e6fa", lightgreen: "#90ee90", orange: "#ffa500", orangered: "#ff4500", steelblue: "#4682b4", royalblue: "#4169e1", turquoise: "#40e0d0", yellowgreen: "#9acd32", salmon: "#fa8072", saddlebrown: "#8b4513", sandybrown: "#f4a460", rosybrown: "#bc8f8f", darksalmon: "#e9967a", lightgoldenrodyellow: "#fafad2", snow: "#fffafa", lightgrey: "#d3d3d3", lightgray: "#d3d3d3", dimgray: "#696969", dimgrey: "#696969", olivedrab: "#6b8e23", olive: "#808000" }, r2 = {};
  for (var d2 in a2)
    r2[a2[d2]] = d2;
  var l3 = {};
  e3.prototype.toName = function(f5) {
    if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
      return "transparent";
    var d3, i3, n2 = r2[this.toHex()];
    if (n2)
      return n2;
    if (null == f5 ? void 0 : f5.closest) {
      var o3 = this.toRgb(), t2 = 1 / 0, b3 = "black";
      if (!l3.length)
        for (var c2 in a2)
          l3[c2] = new e3(a2[c2]).toRgb();
      for (var g3 in a2) {
        var u2 = (d3 = o3, i3 = l3[g3], Math.pow(d3.r - i3.r, 2) + Math.pow(d3.g - i3.g, 2) + Math.pow(d3.b - i3.b, 2));
        u2 < t2 && (t2 = u2, b3 = g3);
      }
      return b3;
    }
  };
  f4.string.push([function(f5) {
    var r3 = f5.toLowerCase(), d3 = "transparent" === r3 ? "#0000" : a2[r3];
    return d3 ? new e3(d3).toRgb() : null;
  }, "name"]);
}

// ../../node_modules/.pnpm/@pixi+color@7.2.4/node_modules/@pixi/color/lib/Color.mjs
k([names_default]);
var _Color = class {
  constructor(value = 16777215) {
    this._value = null;
    this._components = new Float32Array(4);
    this._components.fill(1);
    this._int = 16777215;
    this.value = value;
  }
  get red() {
    return this._components[0];
  }
  get green() {
    return this._components[1];
  }
  get blue() {
    return this._components[2];
  }
  get alpha() {
    return this._components[3];
  }
  setValue(value) {
    this.value = value;
    return this;
  }
  set value(value) {
    if (value instanceof _Color) {
      this._value = this.cloneSource(value._value);
      this._int = value._int;
      this._components.set(value._components);
    } else if (value === null) {
      throw new Error("Cannot set PIXI.Color#value to null");
    } else if (this._value === null || !this.isSourceEqual(this._value, value)) {
      this.normalize(value);
      this._value = this.cloneSource(value);
    }
  }
  get value() {
    return this._value;
  }
  cloneSource(value) {
    if (typeof value === "string" || typeof value === "number" || value instanceof Number || value === null) {
      return value;
    } else if (Array.isArray(value) || ArrayBuffer.isView(value)) {
      return value.slice(0);
    } else if (typeof value === "object" && value !== null) {
      return { ...value };
    }
    return value;
  }
  isSourceEqual(value1, value2) {
    const type1 = typeof value1;
    const type2 = typeof value2;
    if (type1 !== type2) {
      return false;
    } else if (type1 === "number" || type1 === "string" || value1 instanceof Number) {
      return value1 === value2;
    } else if (Array.isArray(value1) && Array.isArray(value2) || ArrayBuffer.isView(value1) && ArrayBuffer.isView(value2)) {
      if (value1.length !== value2.length) {
        return false;
      }
      return value1.every((v2, i3) => v2 === value2[i3]);
    } else if (value1 !== null && value2 !== null) {
      const keys1 = Object.keys(value1);
      const keys2 = Object.keys(value2);
      if (keys1.length !== keys2.length) {
        return false;
      }
      return keys1.every((key2) => value1[key2] === value2[key2]);
    }
    return value1 === value2;
  }
  toRgba() {
    const [r2, g3, b3, a2] = this._components;
    return { r: r2, g: g3, b: b3, a: a2 };
  }
  toRgb() {
    const [r2, g3, b3] = this._components;
    return { r: r2, g: g3, b: b3 };
  }
  toRgbaString() {
    const [r2, g3, b3] = this.toUint8RgbArray();
    return `rgba(${r2},${g3},${b3},${this.alpha})`;
  }
  toUint8RgbArray(out) {
    const [r2, g3, b3] = this._components;
    out = out ?? [];
    out[0] = Math.round(r2 * 255);
    out[1] = Math.round(g3 * 255);
    out[2] = Math.round(b3 * 255);
    return out;
  }
  toRgbArray(out) {
    out = out ?? [];
    const [r2, g3, b3] = this._components;
    out[0] = r2;
    out[1] = g3;
    out[2] = b3;
    return out;
  }
  toNumber() {
    return this._int;
  }
  toLittleEndianNumber() {
    const value = this._int;
    return (value >> 16) + (value & 65280) + ((value & 255) << 16);
  }
  multiply(value) {
    const [r2, g3, b3, a2] = _Color.temp.setValue(value)._components;
    this._components[0] *= r2;
    this._components[1] *= g3;
    this._components[2] *= b3;
    this._components[3] *= a2;
    this.refreshInt();
    this._value = null;
    return this;
  }
  premultiply(alpha, applyToRGB = true) {
    if (applyToRGB) {
      this._components[0] *= alpha;
      this._components[1] *= alpha;
      this._components[2] *= alpha;
    }
    this._components[3] = alpha;
    this.refreshInt();
    this._value = null;
    return this;
  }
  toPremultiplied(alpha, applyToRGB = true) {
    if (alpha === 1) {
      return (255 << 24) + this._int;
    }
    if (alpha === 0) {
      return applyToRGB ? 0 : this._int;
    }
    let r2 = this._int >> 16 & 255;
    let g3 = this._int >> 8 & 255;
    let b3 = this._int & 255;
    if (applyToRGB) {
      r2 = r2 * alpha + 0.5 | 0;
      g3 = g3 * alpha + 0.5 | 0;
      b3 = b3 * alpha + 0.5 | 0;
    }
    return (alpha * 255 << 24) + (r2 << 16) + (g3 << 8) + b3;
  }
  toHex() {
    const hexString = this._int.toString(16);
    return `#${"000000".substring(0, 6 - hexString.length) + hexString}`;
  }
  toHexa() {
    const alphaValue = Math.round(this._components[3] * 255);
    const alphaString = alphaValue.toString(16);
    return this.toHex() + "00".substring(0, 2 - alphaString.length) + alphaString;
  }
  setAlpha(alpha) {
    this._components[3] = this._clamp(alpha);
    return this;
  }
  round(steps) {
    const [r2, g3, b3] = this._components;
    this._components[0] = Math.round(r2 * steps) / steps;
    this._components[1] = Math.round(g3 * steps) / steps;
    this._components[2] = Math.round(b3 * steps) / steps;
    this.refreshInt();
    this._value = null;
    return this;
  }
  toArray(out) {
    out = out ?? [];
    const [r2, g3, b3, a2] = this._components;
    out[0] = r2;
    out[1] = g3;
    out[2] = b3;
    out[3] = a2;
    return out;
  }
  normalize(value) {
    let r2;
    let g3;
    let b3;
    let a2;
    if ((typeof value === "number" || value instanceof Number) && value >= 0 && value <= 16777215) {
      const int = value;
      r2 = (int >> 16 & 255) / 255;
      g3 = (int >> 8 & 255) / 255;
      b3 = (int & 255) / 255;
      a2 = 1;
    } else if ((Array.isArray(value) || value instanceof Float32Array) && value.length >= 3 && value.length <= 4) {
      value = this._clamp(value);
      [r2, g3, b3, a2 = 1] = value;
    } else if ((value instanceof Uint8Array || value instanceof Uint8ClampedArray) && value.length >= 3 && value.length <= 4) {
      value = this._clamp(value, 0, 255);
      [r2, g3, b3, a2 = 255] = value;
      r2 /= 255;
      g3 /= 255;
      b3 /= 255;
      a2 /= 255;
    } else if (typeof value === "string" || typeof value === "object") {
      if (typeof value === "string") {
        const match = _Color.HEX_PATTERN.exec(value);
        if (match) {
          value = `#${match[2]}`;
        }
      }
      const color = w(value);
      if (color.isValid()) {
        ({ r: r2, g: g3, b: b3, a: a2 } = color.rgba);
        r2 /= 255;
        g3 /= 255;
        b3 /= 255;
      }
    }
    if (r2 !== void 0) {
      this._components[0] = r2;
      this._components[1] = g3;
      this._components[2] = b3;
      this._components[3] = a2;
      this.refreshInt();
    } else {
      throw new Error(`Unable to convert color ${value}`);
    }
  }
  refreshInt() {
    this._clamp(this._components);
    const [r2, g3, b3] = this._components;
    this._int = (r2 * 255 << 16) + (g3 * 255 << 8) + (b3 * 255 | 0);
  }
  _clamp(value, min = 0, max = 1) {
    if (typeof value === "number") {
      return Math.min(Math.max(value, min), max);
    }
    value.forEach((v2, i3) => {
      value[i3] = Math.min(Math.max(v2, min), max);
    });
    return value;
  }
};
var Color = _Color;
Color.shared = new _Color();
Color.temp = new _Color();
Color.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/color/hex.mjs
function hex2rgb(hex, out = []) {
  deprecation("7.2.0", "utils.hex2rgb is deprecated, use Color#toRgbArray instead");
  return Color.shared.setValue(hex).toRgbArray(out);
}
function hex2string(hex) {
  deprecation("7.2.0", "utils.hex2string is deprecated, use Color#toHex instead");
  return Color.shared.setValue(hex).toHex();
}
function string2hex(string) {
  deprecation("7.2.0", "utils.string2hex is deprecated, use Color#toNumber instead");
  return Color.shared.setValue(string).toNumber();
}
function rgb2hex(rgb) {
  deprecation("7.2.0", "utils.rgb2hex is deprecated, use Color#toNumber instead");
  return Color.shared.setValue(rgb).toNumber();
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/color/premultiply.mjs
function mapPremultipliedBlendModes() {
  const pm = [];
  const npm = [];
  for (let i3 = 0; i3 < 32; i3++) {
    pm[i3] = i3;
    npm[i3] = i3;
  }
  pm[BLEND_MODES.NORMAL_NPM] = BLEND_MODES.NORMAL;
  pm[BLEND_MODES.ADD_NPM] = BLEND_MODES.ADD;
  pm[BLEND_MODES.SCREEN_NPM] = BLEND_MODES.SCREEN;
  npm[BLEND_MODES.NORMAL] = BLEND_MODES.NORMAL_NPM;
  npm[BLEND_MODES.ADD] = BLEND_MODES.ADD_NPM;
  npm[BLEND_MODES.SCREEN] = BLEND_MODES.SCREEN_NPM;
  const array = [];
  array.push(npm);
  array.push(pm);
  return array;
}
var premultiplyBlendMode = mapPremultipliedBlendModes();
function correctBlendMode(blendMode, premultiplied) {
  return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];
}
function premultiplyRgba(rgb, alpha, out, premultiply = true) {
  deprecation("7.2.0", `utils.premultiplyRgba has moved to Color.premultiply`);
  return Color.shared.setValue(rgb).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));
}
function premultiplyTint(tint, alpha) {
  deprecation("7.2.0", `utils.premultiplyTint has moved to Color.toPremultiplied`);
  return Color.shared.setValue(tint).toPremultiplied(alpha);
}
function premultiplyTintToRgba(tint, alpha, out, premultiply = true) {
  deprecation("7.2.0", `utils.premultiplyTintToRgba has moved to Color.premultiply`);
  return Color.shared.setValue(tint).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/const.mjs
var DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs
function createIndicesForQuads(size, outBuffer = null) {
  const totalIndices = size * 6;
  outBuffer = outBuffer || new Uint16Array(totalIndices);
  if (outBuffer.length !== totalIndices) {
    throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);
  }
  for (let i3 = 0, j3 = 0; i3 < totalIndices; i3 += 6, j3 += 4) {
    outBuffer[i3 + 0] = j3 + 0;
    outBuffer[i3 + 1] = j3 + 1;
    outBuffer[i3 + 2] = j3 + 2;
    outBuffer[i3 + 3] = j3 + 0;
    outBuffer[i3 + 4] = j3 + 2;
    outBuffer[i3 + 5] = j3 + 3;
  }
  return outBuffer;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/getBufferType.mjs
function getBufferType(array) {
  if (array.BYTES_PER_ELEMENT === 4) {
    if (array instanceof Float32Array) {
      return "Float32Array";
    } else if (array instanceof Uint32Array) {
      return "Uint32Array";
    }
    return "Int32Array";
  } else if (array.BYTES_PER_ELEMENT === 2) {
    if (array instanceof Uint16Array) {
      return "Uint16Array";
    }
  } else if (array.BYTES_PER_ELEMENT === 1) {
    if (array instanceof Uint8Array) {
      return "Uint8Array";
    }
  }
  return null;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs
var map = { Float32Array, Uint32Array, Int32Array, Uint8Array };
function interleaveTypedArrays(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i3 = 0; i3 < arrays.length; i3++) {
    stride += sizes[i3];
    outSize += arrays[i3].length;
  }
  const buffer2 = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i3 = 0; i3 < arrays.length; i3++) {
    const size = sizes[i3];
    const array = arrays[i3];
    const type2 = getBufferType(array);
    if (!views[type2]) {
      views[type2] = new map[type2](buffer2);
    }
    out = views[type2];
    for (let j3 = 0; j3 < array.length; j3++) {
      const indexStart = (j3 / size | 0) * stride + littleOffset;
      const index = j3 % size;
      out[indexStart + index] = array[j3];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer2);
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/pow2.mjs
function nextPow2(v2) {
  v2 += v2 === 0 ? 1 : 0;
  --v2;
  v2 |= v2 >>> 1;
  v2 |= v2 >>> 2;
  v2 |= v2 >>> 4;
  v2 |= v2 >>> 8;
  v2 |= v2 >>> 16;
  return v2 + 1;
}
function isPow2(v2) {
  return !(v2 & v2 - 1) && !!v2;
}
function log2(v2) {
  let r2 = (v2 > 65535 ? 1 : 0) << 4;
  v2 >>>= r2;
  let shift = (v2 > 255 ? 1 : 0) << 3;
  v2 >>>= shift;
  r2 |= shift;
  shift = (v2 > 15 ? 1 : 0) << 2;
  v2 >>>= shift;
  r2 |= shift;
  shift = (v2 > 3 ? 1 : 0) << 1;
  v2 >>>= shift;
  r2 |= shift;
  return r2 | v2 >> 1;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/removeItems.mjs
function removeItems(arr, startIdx, removeCount) {
  const length = arr.length;
  let i3;
  if (startIdx >= length || removeCount === 0) {
    return;
  }
  removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;
  const len = length - removeCount;
  for (i3 = startIdx; i3 < len; ++i3) {
    arr[i3] = arr[i3 + removeCount];
  }
  arr.length = len;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/sign.mjs
function sign(n2) {
  if (n2 === 0)
    return 0;
  return n2 < 0 ? -1 : 1;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/data/uid.mjs
var nextUid = 0;
function uid() {
  return ++nextUid;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/media/BoundingBox.mjs
var _BoundingBox = class {
  constructor(left, top, right, bottom) {
    this.left = left;
    this.top = top;
    this.right = right;
    this.bottom = bottom;
  }
  get width() {
    return this.right - this.left;
  }
  get height() {
    return this.bottom - this.top;
  }
  isEmpty() {
    return this.left === this.right || this.top === this.bottom;
  }
};
var BoundingBox = _BoundingBox;
BoundingBox.EMPTY = new _BoundingBox(0, 0, 0, 0);

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/media/caches.mjs
var ProgramCache = {};
var TextureCache = /* @__PURE__ */ Object.create(null);
var BaseTextureCache = /* @__PURE__ */ Object.create(null);
function destroyTextureCache() {
  let key2;
  for (key2 in TextureCache) {
    TextureCache[key2].destroy();
  }
  for (key2 in BaseTextureCache) {
    BaseTextureCache[key2].destroy();
  }
}
function clearTextureCache() {
  let key2;
  for (key2 in TextureCache) {
    delete TextureCache[key2];
  }
  for (key2 in BaseTextureCache) {
    delete BaseTextureCache[key2];
  }
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs
var CanvasRenderTarget = class {
  constructor(width, height, resolution) {
    this._canvas = settings.ADAPTER.createCanvas();
    this._context = this._canvas.getContext("2d");
    this.resolution = resolution || settings.RESOLUTION;
    this.resize(width, height);
  }
  clear() {
    this._checkDestroyed();
    this._context.setTransform(1, 0, 0, 1, 0, 0);
    this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);
  }
  resize(desiredWidth, desiredHeight) {
    this._checkDestroyed();
    this._canvas.width = Math.round(desiredWidth * this.resolution);
    this._canvas.height = Math.round(desiredHeight * this.resolution);
  }
  destroy() {
    this._context = null;
    this._canvas = null;
  }
  get width() {
    this._checkDestroyed();
    return this._canvas.width;
  }
  set width(val) {
    this._checkDestroyed();
    this._canvas.width = Math.round(val);
  }
  get height() {
    this._checkDestroyed();
    return this._canvas.height;
  }
  set height(val) {
    this._checkDestroyed();
    this._canvas.height = Math.round(val);
  }
  get canvas() {
    this._checkDestroyed();
    return this._canvas;
  }
  get context() {
    this._checkDestroyed();
    return this._context;
  }
  _checkDestroyed() {
    if (this._canvas === null) {
      throw new TypeError("The CanvasRenderTarget has already been destroyed");
    }
  }
};

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs
function checkRow(data, width, y2) {
  for (let x2 = 0, index = 4 * y2 * width; x2 < width; ++x2, index += 4) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function checkColumn(data, width, x2, top, bottom) {
  const stride = 4 * width;
  for (let y2 = top, index = top * stride + 4 * x2; y2 <= bottom; ++y2, index += stride) {
    if (data[index + 3] !== 0)
      return false;
  }
  return true;
}
function getCanvasBoundingBox(canvas) {
  const { width, height } = canvas;
  const context2 = canvas.getContext("2d", {
    willReadFrequently: true
  });
  if (context2 === null) {
    throw new TypeError("Failed to get canvas 2D context");
  }
  const imageData = context2.getImageData(0, 0, width, height);
  const data = imageData.data;
  let left = 0;
  let top = 0;
  let right = width - 1;
  let bottom = height - 1;
  while (top < height && checkRow(data, width, top))
    ++top;
  if (top === height)
    return BoundingBox.EMPTY;
  while (checkRow(data, width, bottom))
    --bottom;
  while (checkColumn(data, width, left, top, bottom))
    ++left;
  while (checkColumn(data, width, right, top, bottom))
    --right;
  ++right;
  ++bottom;
  return new BoundingBox(left, top, right, bottom);
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/media/trimCanvas.mjs
function trimCanvas(canvas) {
  const boundingBox = getCanvasBoundingBox(canvas);
  const { width, height } = boundingBox;
  let data = null;
  if (!boundingBox.isEmpty()) {
    const context2 = canvas.getContext("2d");
    if (context2 === null) {
      throw new TypeError("Failed to get canvas 2D context");
    }
    data = context2.getImageData(boundingBox.left, boundingBox.top, width, height);
  }
  return { width, height, data };
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/network/decomposeDataUri.mjs
function decomposeDataUri(dataUri) {
  const dataUriMatch = DATA_URI.exec(dataUri);
  if (dataUriMatch) {
    return {
      mediaType: dataUriMatch[1] ? dataUriMatch[1].toLowerCase() : void 0,
      subType: dataUriMatch[2] ? dataUriMatch[2].toLowerCase() : void 0,
      charset: dataUriMatch[3] ? dataUriMatch[3].toLowerCase() : void 0,
      encoding: dataUriMatch[4] ? dataUriMatch[4].toLowerCase() : void 0,
      data: dataUriMatch[5]
    };
  }
  return void 0;
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs
var tempAnchor;
function determineCrossOrigin(url$1, loc = globalThis.location) {
  if (url$1.startsWith("data:")) {
    return "";
  }
  loc = loc || globalThis.location;
  if (!tempAnchor) {
    tempAnchor = document.createElement("a");
  }
  tempAnchor.href = url$1;
  const parsedUrl = url.parse(tempAnchor.href);
  const samePort = !parsedUrl.port && loc.port === "" || parsedUrl.port === loc.port;
  if (parsedUrl.hostname !== loc.hostname || !samePort || parsedUrl.protocol !== loc.protocol) {
    return "anonymous";
  }
  return "";
}

// ../../node_modules/.pnpm/@pixi+utils@7.2.4/node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs
function getResolutionOfUrl(url2, defaultValue2 = 1) {
  const resolution = settings.RETINA_PREFIX?.exec(url2);
  if (resolution) {
    return parseFloat(resolution[1]);
  }
  return defaultValue2;
}

// ../../node_modules/.pnpm/@pixi+extensions@7.2.4/node_modules/@pixi/extensions/lib/index.mjs
var ExtensionType = /* @__PURE__ */ ((ExtensionType2) => {
  ExtensionType2["Renderer"] = "renderer";
  ExtensionType2["Application"] = "application";
  ExtensionType2["RendererSystem"] = "renderer-webgl-system";
  ExtensionType2["RendererPlugin"] = "renderer-webgl-plugin";
  ExtensionType2["CanvasRendererSystem"] = "renderer-canvas-system";
  ExtensionType2["CanvasRendererPlugin"] = "renderer-canvas-plugin";
  ExtensionType2["Asset"] = "asset";
  ExtensionType2["LoadParser"] = "load-parser";
  ExtensionType2["ResolveParser"] = "resolve-parser";
  ExtensionType2["CacheParser"] = "cache-parser";
  ExtensionType2["DetectionParser"] = "detection-parser";
  return ExtensionType2;
})(ExtensionType || {});
var normalizeExtension = (ext) => {
  if (typeof ext === "function" || typeof ext === "object" && ext.extension) {
    if (!ext.extension) {
      throw new Error("Extension class must have an extension object");
    }
    const metadata = typeof ext.extension !== "object" ? { type: ext.extension } : ext.extension;
    ext = { ...metadata, ref: ext };
  }
  if (typeof ext === "object") {
    ext = { ...ext };
  } else {
    throw new Error("Invalid extension type");
  }
  if (typeof ext.type === "string") {
    ext.type = [ext.type];
  }
  return ext;
};
var normalizePriority = (ext, defaultPriority) => normalizeExtension(ext).priority ?? defaultPriority;
var extensions = {
  _addHandlers: {},
  _removeHandlers: {},
  _queue: {},
  remove(...extensions22) {
    extensions22.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type2) => this._removeHandlers[type2]?.(ext));
    });
    return this;
  },
  add(...extensions22) {
    extensions22.map(normalizeExtension).forEach((ext) => {
      ext.type.forEach((type2) => {
        const handlers = this._addHandlers;
        const queue = this._queue;
        if (!handlers[type2]) {
          queue[type2] = queue[type2] || [];
          queue[type2].push(ext);
        } else {
          handlers[type2](ext);
        }
      });
    });
    return this;
  },
  handle(type2, onAdd, onRemove) {
    const addHandlers = this._addHandlers;
    const removeHandlers = this._removeHandlers;
    if (addHandlers[type2] || removeHandlers[type2]) {
      throw new Error(`Extension type ${type2} already has a handler`);
    }
    addHandlers[type2] = onAdd;
    removeHandlers[type2] = onRemove;
    const queue = this._queue;
    if (queue[type2]) {
      queue[type2].forEach((ext) => onAdd(ext));
      delete queue[type2];
    }
    return this;
  },
  handleByMap(type2, map4) {
    return this.handle(type2, (extension) => {
      map4[extension.name] = extension.ref;
    }, (extension) => {
      delete map4[extension.name];
    });
  },
  handleByList(type2, list, defaultPriority = -1) {
    return this.handle(type2, (extension) => {
      if (list.includes(extension.ref)) {
        return;
      }
      list.push(extension.ref);
      list.sort((a2, b3) => normalizePriority(b3, defaultPriority) - normalizePriority(a2, defaultPriority));
    }, (extension) => {
      const index = list.indexOf(extension.ref);
      if (index !== -1) {
        list.splice(index, 1);
      }
    });
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs
var ViewableBuffer = class {
  constructor(sizeOrBuffer) {
    if (typeof sizeOrBuffer === "number") {
      this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);
    } else if (sizeOrBuffer instanceof Uint8Array) {
      this.rawBinaryData = sizeOrBuffer.buffer;
    } else {
      this.rawBinaryData = sizeOrBuffer;
    }
    this.uint32View = new Uint32Array(this.rawBinaryData);
    this.float32View = new Float32Array(this.rawBinaryData);
  }
  get int8View() {
    if (!this._int8View) {
      this._int8View = new Int8Array(this.rawBinaryData);
    }
    return this._int8View;
  }
  get uint8View() {
    if (!this._uint8View) {
      this._uint8View = new Uint8Array(this.rawBinaryData);
    }
    return this._uint8View;
  }
  get int16View() {
    if (!this._int16View) {
      this._int16View = new Int16Array(this.rawBinaryData);
    }
    return this._int16View;
  }
  get uint16View() {
    if (!this._uint16View) {
      this._uint16View = new Uint16Array(this.rawBinaryData);
    }
    return this._uint16View;
  }
  get int32View() {
    if (!this._int32View) {
      this._int32View = new Int32Array(this.rawBinaryData);
    }
    return this._int32View;
  }
  view(type2) {
    return this[`${type2}View`];
  }
  destroy() {
    this.rawBinaryData = null;
    this._int8View = null;
    this._uint8View = null;
    this._int16View = null;
    this._uint16View = null;
    this._int32View = null;
    this.uint32View = null;
    this.float32View = null;
  }
  static sizeOf(type2) {
    switch (type2) {
      case "int8":
      case "uint8":
        return 1;
      case "int16":
      case "uint16":
        return 2;
      case "int32":
      case "uint32":
      case "float32":
        return 4;
      default:
        throw new Error(`${type2} isn't a valid view type`);
    }
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs
var fragTemplate = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}"
].join("\n");
function generateIfTestSrc(maxIfs) {
  let src = "";
  for (let i3 = 0; i3 < maxIfs; ++i3) {
    if (i3 > 0) {
      src += "\nelse ";
    }
    if (i3 < maxIfs - 1) {
      src += `if(test == ${i3}.0){}`;
    }
  }
  return src;
}
function checkMaxIfStatementsInShader(maxIfs, gl) {
  if (maxIfs === 0) {
    throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
  }
  const shader = gl.createShader(gl.FRAGMENT_SHADER);
  while (true) {
    const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));
    gl.shaderSource(shader, fragmentSrc);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      maxIfs = maxIfs / 2 | 0;
    } else {
      break;
    }
  }
  return maxIfs;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/state/State.mjs
var BLEND = 0;
var OFFSET = 1;
var CULLING = 2;
var DEPTH_TEST = 3;
var WINDING = 4;
var DEPTH_MASK = 5;
var State = class {
  constructor() {
    this.data = 0;
    this.blendMode = BLEND_MODES.NORMAL;
    this.polygonOffset = 0;
    this.blend = true;
    this.depthMask = true;
  }
  get blend() {
    return !!(this.data & 1 << BLEND);
  }
  set blend(value) {
    if (!!(this.data & 1 << BLEND) !== value) {
      this.data ^= 1 << BLEND;
    }
  }
  get offsets() {
    return !!(this.data & 1 << OFFSET);
  }
  set offsets(value) {
    if (!!(this.data & 1 << OFFSET) !== value) {
      this.data ^= 1 << OFFSET;
    }
  }
  get culling() {
    return !!(this.data & 1 << CULLING);
  }
  set culling(value) {
    if (!!(this.data & 1 << CULLING) !== value) {
      this.data ^= 1 << CULLING;
    }
  }
  get depthTest() {
    return !!(this.data & 1 << DEPTH_TEST);
  }
  set depthTest(value) {
    if (!!(this.data & 1 << DEPTH_TEST) !== value) {
      this.data ^= 1 << DEPTH_TEST;
    }
  }
  get depthMask() {
    return !!(this.data & 1 << DEPTH_MASK);
  }
  set depthMask(value) {
    if (!!(this.data & 1 << DEPTH_MASK) !== value) {
      this.data ^= 1 << DEPTH_MASK;
    }
  }
  get clockwiseFrontFace() {
    return !!(this.data & 1 << WINDING);
  }
  set clockwiseFrontFace(value) {
    if (!!(this.data & 1 << WINDING) !== value) {
      this.data ^= 1 << WINDING;
    }
  }
  get blendMode() {
    return this._blendMode;
  }
  set blendMode(value) {
    this.blend = value !== BLEND_MODES.NONE;
    this._blendMode = value;
  }
  get polygonOffset() {
    return this._polygonOffset;
  }
  set polygonOffset(value) {
    this.offsets = !!value;
    this._polygonOffset = value;
  }
  toString() {
    return `[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;
  }
  static for2d() {
    const state = new State();
    state.depthTest = false;
    state.blend = true;
    return state;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs
var INSTALLED = [];
function autoDetectResource(source, options) {
  if (!source) {
    return null;
  }
  let extension = "";
  if (typeof source === "string") {
    const result = /\.(\w{3,4})(?:$|\?|#)/i.exec(source);
    if (result) {
      extension = result[1].toLowerCase();
    }
  }
  for (let i3 = INSTALLED.length - 1; i3 >= 0; --i3) {
    const ResourcePlugin = INSTALLED[i3];
    if (ResourcePlugin.test && ResourcePlugin.test(source, extension)) {
      return new ResourcePlugin(source, options);
    }
  }
  throw new Error("Unrecognized source type to auto-detect Resource");
}

// ../../node_modules/.pnpm/@pixi+runner@7.2.4/node_modules/@pixi/runner/lib/Runner.mjs
var Runner = class {
  constructor(name) {
    this.items = [];
    this._name = name;
    this._aliasCount = 0;
  }
  emit(a0, a1, a2, a3, a4, a5, a6, a7) {
    if (arguments.length > 8) {
      throw new Error("max arguments reached");
    }
    const { name, items } = this;
    this._aliasCount++;
    for (let i3 = 0, len = items.length; i3 < len; i3++) {
      items[i3][name](a0, a1, a2, a3, a4, a5, a6, a7);
    }
    if (items === this.items) {
      this._aliasCount--;
    }
    return this;
  }
  ensureNonAliasedItems() {
    if (this._aliasCount > 0 && this.items.length > 1) {
      this._aliasCount = 0;
      this.items = this.items.slice(0);
    }
  }
  add(item) {
    if (item[this._name]) {
      this.ensureNonAliasedItems();
      this.remove(item);
      this.items.push(item);
    }
    return this;
  }
  remove(item) {
    const index = this.items.indexOf(item);
    if (index !== -1) {
      this.ensureNonAliasedItems();
      this.items.splice(index, 1);
    }
    return this;
  }
  contains(item) {
    return this.items.includes(item);
  }
  removeAll() {
    this.ensureNonAliasedItems();
    this.items.length = 0;
    return this;
  }
  destroy() {
    this.removeAll();
    this.items = null;
    this._name = null;
  }
  get empty() {
    return this.items.length === 0;
  }
  get name() {
    return this._name;
  }
};
Object.defineProperties(Runner.prototype, {
  dispatch: { value: Runner.prototype.emit },
  run: { value: Runner.prototype.emit }
});

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/Resource.mjs
var Resource2 = class {
  constructor(width = 0, height = 0) {
    this._width = width;
    this._height = height;
    this.destroyed = false;
    this.internal = false;
    this.onResize = new Runner("setRealSize");
    this.onUpdate = new Runner("update");
    this.onError = new Runner("onError");
  }
  bind(baseTexture) {
    this.onResize.add(baseTexture);
    this.onUpdate.add(baseTexture);
    this.onError.add(baseTexture);
    if (this._width || this._height) {
      this.onResize.emit(this._width, this._height);
    }
  }
  unbind(baseTexture) {
    this.onResize.remove(baseTexture);
    this.onUpdate.remove(baseTexture);
    this.onError.remove(baseTexture);
  }
  resize(width, height) {
    if (width !== this._width || height !== this._height) {
      this._width = width;
      this._height = height;
      this.onResize.emit(width, height);
    }
  }
  get valid() {
    return !!this._width && !!this._height;
  }
  update() {
    if (!this.destroyed) {
      this.onUpdate.emit();
    }
  }
  load() {
    return Promise.resolve(this);
  }
  get width() {
    return this._width;
  }
  get height() {
    return this._height;
  }
  style(_renderer, _baseTexture, _glTexture) {
    return false;
  }
  dispose() {
  }
  destroy() {
    if (!this.destroyed) {
      this.destroyed = true;
      this.dispose();
      this.onError.removeAll();
      this.onError = null;
      this.onResize.removeAll();
      this.onResize = null;
      this.onUpdate.removeAll();
      this.onUpdate = null;
    }
  }
  static test(_source, _extension) {
    return false;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs
var BufferResource = class extends Resource2 {
  constructor(source, options) {
    const { width, height } = options || {};
    if (!width || !height) {
      throw new Error("BufferResource width or height invalid");
    }
    super(width, height);
    this.data = source;
  }
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
  dispose() {
    this.data = null;
  }
  static test(source) {
    return source instanceof Float32Array || source instanceof Uint8Array || source instanceof Uint32Array;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/BaseTexture.mjs
var defaultBufferOptions = {
  scaleMode: SCALE_MODES.NEAREST,
  format: FORMATS.RGBA,
  alphaMode: ALPHA_MODES.NPM
};
var _BaseTexture = class extends import_eventemitter3.default {
  constructor(resource = null, options = null) {
    super();
    options = Object.assign({}, _BaseTexture.defaultOptions, options);
    const {
      alphaMode,
      mipmap,
      anisotropicLevel,
      scaleMode,
      width,
      height,
      wrapMode,
      format: format3,
      type: type2,
      target,
      resolution,
      resourceOptions
    } = options;
    if (resource && !(resource instanceof Resource2)) {
      resource = autoDetectResource(resource, resourceOptions);
      resource.internal = true;
    }
    this.resolution = resolution || settings.RESOLUTION;
    this.width = Math.round((width || 0) * this.resolution) / this.resolution;
    this.height = Math.round((height || 0) * this.resolution) / this.resolution;
    this._mipmap = mipmap;
    this.anisotropicLevel = anisotropicLevel;
    this._wrapMode = wrapMode;
    this._scaleMode = scaleMode;
    this.format = format3;
    this.type = type2;
    this.target = target;
    this.alphaMode = alphaMode;
    this.uid = uid();
    this.touched = 0;
    this.isPowerOfTwo = false;
    this._refreshPOT();
    this._glTextures = {};
    this.dirtyId = 0;
    this.dirtyStyleId = 0;
    this.cacheId = null;
    this.valid = width > 0 && height > 0;
    this.textureCacheIds = [];
    this.destroyed = false;
    this.resource = null;
    this._batchEnabled = 0;
    this._batchLocation = 0;
    this.parentTextureArray = null;
    this.setResource(resource);
  }
  get realWidth() {
    return Math.round(this.width * this.resolution);
  }
  get realHeight() {
    return Math.round(this.height * this.resolution);
  }
  get mipmap() {
    return this._mipmap;
  }
  set mipmap(value) {
    if (this._mipmap !== value) {
      this._mipmap = value;
      this.dirtyStyleId++;
    }
  }
  get scaleMode() {
    return this._scaleMode;
  }
  set scaleMode(value) {
    if (this._scaleMode !== value) {
      this._scaleMode = value;
      this.dirtyStyleId++;
    }
  }
  get wrapMode() {
    return this._wrapMode;
  }
  set wrapMode(value) {
    if (this._wrapMode !== value) {
      this._wrapMode = value;
      this.dirtyStyleId++;
    }
  }
  setStyle(scaleMode, mipmap) {
    let dirty;
    if (scaleMode !== void 0 && scaleMode !== this.scaleMode) {
      this.scaleMode = scaleMode;
      dirty = true;
    }
    if (mipmap !== void 0 && mipmap !== this.mipmap) {
      this.mipmap = mipmap;
      dirty = true;
    }
    if (dirty) {
      this.dirtyStyleId++;
    }
    return this;
  }
  setSize(desiredWidth, desiredHeight, resolution) {
    resolution = resolution || this.resolution;
    return this.setRealSize(desiredWidth * resolution, desiredHeight * resolution, resolution);
  }
  setRealSize(realWidth, realHeight, resolution) {
    this.resolution = resolution || this.resolution;
    this.width = Math.round(realWidth) / this.resolution;
    this.height = Math.round(realHeight) / this.resolution;
    this._refreshPOT();
    this.update();
    return this;
  }
  _refreshPOT() {
    this.isPowerOfTwo = isPow2(this.realWidth) && isPow2(this.realHeight);
  }
  setResolution(resolution) {
    const oldResolution = this.resolution;
    if (oldResolution === resolution) {
      return this;
    }
    this.resolution = resolution;
    if (this.valid) {
      this.width = Math.round(this.width * oldResolution) / resolution;
      this.height = Math.round(this.height * oldResolution) / resolution;
      this.emit("update", this);
    }
    this._refreshPOT();
    return this;
  }
  setResource(resource) {
    if (this.resource === resource) {
      return this;
    }
    if (this.resource) {
      throw new Error("Resource can be set only once");
    }
    resource.bind(this);
    this.resource = resource;
    return this;
  }
  update() {
    if (!this.valid) {
      if (this.width > 0 && this.height > 0) {
        this.valid = true;
        this.emit("loaded", this);
        this.emit("update", this);
      }
    } else {
      this.dirtyId++;
      this.dirtyStyleId++;
      this.emit("update", this);
    }
  }
  onError(event) {
    this.emit("error", this, event);
  }
  destroy() {
    if (this.resource) {
      this.resource.unbind(this);
      if (this.resource.internal) {
        this.resource.destroy();
      }
      this.resource = null;
    }
    if (this.cacheId) {
      delete BaseTextureCache[this.cacheId];
      delete TextureCache[this.cacheId];
      this.cacheId = null;
    }
    this.dispose();
    _BaseTexture.removeFromCache(this);
    this.textureCacheIds = null;
    this.destroyed = true;
  }
  dispose() {
    this.emit("dispose", this);
  }
  castToBaseTexture() {
    return this;
  }
  static from(source, options, strict = settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else {
      if (!source._pixiId) {
        const prefix2 = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix2}_${uid()}`;
      }
      cacheId = source._pixiId;
    }
    let baseTexture = BaseTextureCache[cacheId];
    if (isFrame && strict && !baseTexture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in BaseTextureCache.`);
    }
    if (!baseTexture) {
      baseTexture = new _BaseTexture(source, options);
      baseTexture.cacheId = cacheId;
      _BaseTexture.addToCache(baseTexture, cacheId);
    }
    return baseTexture;
  }
  static fromBuffer(buffer2, width, height, options) {
    buffer2 = buffer2 || new Float32Array(width * height * 4);
    const resource = new BufferResource(buffer2, { width, height });
    const type2 = buffer2 instanceof Float32Array ? TYPES.FLOAT : TYPES.UNSIGNED_BYTE;
    return new _BaseTexture(resource, Object.assign({}, defaultBufferOptions, { type: type2 }, options));
  }
  static addToCache(baseTexture, id) {
    if (id) {
      if (!baseTexture.textureCacheIds.includes(id)) {
        baseTexture.textureCacheIds.push(id);
      }
      if (BaseTextureCache[id] && BaseTextureCache[id] !== baseTexture) {
        console.warn(`BaseTexture added to the cache with an id [${id}] that already had an entry`);
      }
      BaseTextureCache[id] = baseTexture;
    }
  }
  static removeFromCache(baseTexture) {
    if (typeof baseTexture === "string") {
      const baseTextureFromCache = BaseTextureCache[baseTexture];
      if (baseTextureFromCache) {
        const index = baseTextureFromCache.textureCacheIds.indexOf(baseTexture);
        if (index > -1) {
          baseTextureFromCache.textureCacheIds.splice(index, 1);
        }
        delete BaseTextureCache[baseTexture];
        return baseTextureFromCache;
      }
    } else if (baseTexture?.textureCacheIds) {
      for (let i3 = 0; i3 < baseTexture.textureCacheIds.length; ++i3) {
        delete BaseTextureCache[baseTexture.textureCacheIds[i3]];
      }
      baseTexture.textureCacheIds.length = 0;
      return baseTexture;
    }
    return null;
  }
};
var BaseTexture = _BaseTexture;
BaseTexture.defaultOptions = {
  mipmap: MIPMAP_MODES.POW2,
  anisotropicLevel: 0,
  scaleMode: SCALE_MODES.LINEAR,
  wrapMode: WRAP_MODES.CLAMP,
  alphaMode: ALPHA_MODES.UNPACK,
  target: TARGETS.TEXTURE_2D,
  format: FORMATS.RGBA,
  type: TYPES.UNSIGNED_BYTE
};
BaseTexture._globalBatch = 0;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs
var BatchDrawCall = class {
  constructor() {
    this.texArray = null;
    this.blend = 0;
    this.type = DRAW_MODES.TRIANGLES;
    this.start = 0;
    this.size = 0;
    this.data = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/Buffer.mjs
var UID = 0;
var Buffer2 = class {
  constructor(data, _static = true, index = false) {
    this.data = data || new Float32Array(1);
    this._glBuffers = {};
    this._updateID = 0;
    this.index = index;
    this.static = _static;
    this.id = UID++;
    this.disposeRunner = new Runner("disposeBuffer");
  }
  update(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    this.data = data || this.data;
    this._updateID++;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.data = null;
  }
  set index(value) {
    this.type = value ? BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : BUFFER_TYPE.ARRAY_BUFFER;
  }
  get index() {
    return this.type === BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
  }
  static from(data) {
    if (data instanceof Array) {
      data = new Float32Array(data);
    }
    return new Buffer2(data);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/Attribute.mjs
var Attribute = class {
  constructor(buffer2, size = 0, normalized = false, type2 = TYPES.FLOAT, stride, start, instance, divisor = 1) {
    this.buffer = buffer2;
    this.size = size;
    this.normalized = normalized;
    this.type = type2;
    this.stride = stride;
    this.start = start;
    this.instance = instance;
    this.divisor = divisor;
  }
  destroy() {
    this.buffer = null;
  }
  static from(buffer2, size, normalized, type2, stride) {
    return new Attribute(buffer2, size, normalized, type2, stride);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs
var map2 = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array
};
function interleaveTypedArrays2(arrays, sizes) {
  let outSize = 0;
  let stride = 0;
  const views = {};
  for (let i3 = 0; i3 < arrays.length; i3++) {
    stride += sizes[i3];
    outSize += arrays[i3].length;
  }
  const buffer2 = new ArrayBuffer(outSize * 4);
  let out = null;
  let littleOffset = 0;
  for (let i3 = 0; i3 < arrays.length; i3++) {
    const size = sizes[i3];
    const array = arrays[i3];
    const type2 = getBufferType(array);
    if (!views[type2]) {
      views[type2] = new map2[type2](buffer2);
    }
    out = views[type2];
    for (let j3 = 0; j3 < array.length; j3++) {
      const indexStart = (j3 / size | 0) * stride + littleOffset;
      const index = j3 % size;
      out[indexStart + index] = array[j3];
    }
    littleOffset += size;
  }
  return new Float32Array(buffer2);
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/Geometry.mjs
var byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };
var UID2 = 0;
var map3 = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array,
  Uint16Array
};
var Geometry = class {
  constructor(buffers = [], attributes = {}) {
    this.buffers = buffers;
    this.indexBuffer = null;
    this.attributes = attributes;
    this.glVertexArrayObjects = {};
    this.id = UID2++;
    this.instanced = false;
    this.instanceCount = 1;
    this.disposeRunner = new Runner("disposeGeometry");
    this.refCount = 0;
  }
  addAttribute(id, buffer2, size = 0, normalized = false, type2, stride, start, instance = false) {
    if (!buffer2) {
      throw new Error("You must pass a buffer when creating an attribute");
    }
    if (!(buffer2 instanceof Buffer2)) {
      if (buffer2 instanceof Array) {
        buffer2 = new Float32Array(buffer2);
      }
      buffer2 = new Buffer2(buffer2);
    }
    const ids = id.split("|");
    if (ids.length > 1) {
      for (let i3 = 0; i3 < ids.length; i3++) {
        this.addAttribute(ids[i3], buffer2, size, normalized, type2);
      }
      return this;
    }
    let bufferIndex = this.buffers.indexOf(buffer2);
    if (bufferIndex === -1) {
      this.buffers.push(buffer2);
      bufferIndex = this.buffers.length - 1;
    }
    this.attributes[id] = new Attribute(bufferIndex, size, normalized, type2, stride, start, instance);
    this.instanced = this.instanced || instance;
    return this;
  }
  getAttribute(id) {
    return this.attributes[id];
  }
  getBuffer(id) {
    return this.buffers[this.getAttribute(id).buffer];
  }
  addIndex(buffer2) {
    if (!(buffer2 instanceof Buffer2)) {
      if (buffer2 instanceof Array) {
        buffer2 = new Uint16Array(buffer2);
      }
      buffer2 = new Buffer2(buffer2);
    }
    buffer2.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    this.indexBuffer = buffer2;
    if (!this.buffers.includes(buffer2)) {
      this.buffers.push(buffer2);
    }
    return this;
  }
  getIndex() {
    return this.indexBuffer;
  }
  interleave() {
    if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)
      return this;
    const arrays = [];
    const sizes = [];
    const interleavedBuffer = new Buffer2();
    let i3;
    for (i3 in this.attributes) {
      const attribute = this.attributes[i3];
      const buffer2 = this.buffers[attribute.buffer];
      arrays.push(buffer2.data);
      sizes.push(attribute.size * byteSizeMap[attribute.type] / 4);
      attribute.buffer = 0;
    }
    interleavedBuffer.data = interleaveTypedArrays2(arrays, sizes);
    for (i3 = 0; i3 < this.buffers.length; i3++) {
      if (this.buffers[i3] !== this.indexBuffer) {
        this.buffers[i3].destroy();
      }
    }
    this.buffers = [interleavedBuffer];
    if (this.indexBuffer) {
      this.buffers.push(this.indexBuffer);
    }
    return this;
  }
  getSize() {
    for (const i3 in this.attributes) {
      const attribute = this.attributes[i3];
      const buffer2 = this.buffers[attribute.buffer];
      return buffer2.data.length / (attribute.stride / 4 || attribute.size);
    }
    return 0;
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroy() {
    this.dispose();
    this.buffers = null;
    this.indexBuffer = null;
    this.attributes = null;
  }
  clone() {
    const geometry = new Geometry();
    for (let i3 = 0; i3 < this.buffers.length; i3++) {
      geometry.buffers[i3] = new Buffer2(this.buffers[i3].data.slice(0));
    }
    for (const i3 in this.attributes) {
      const attrib = this.attributes[i3];
      geometry.attributes[i3] = new Attribute(attrib.buffer, attrib.size, attrib.normalized, attrib.type, attrib.stride, attrib.start, attrib.instance);
    }
    if (this.indexBuffer) {
      geometry.indexBuffer = geometry.buffers[this.buffers.indexOf(this.indexBuffer)];
      geometry.indexBuffer.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
    }
    return geometry;
  }
  static merge(geometries) {
    const geometryOut = new Geometry();
    const arrays = [];
    const sizes = [];
    const offsets = [];
    let geometry;
    for (let i3 = 0; i3 < geometries.length; i3++) {
      geometry = geometries[i3];
      for (let j3 = 0; j3 < geometry.buffers.length; j3++) {
        sizes[j3] = sizes[j3] || 0;
        sizes[j3] += geometry.buffers[j3].data.length;
        offsets[j3] = 0;
      }
    }
    for (let i3 = 0; i3 < geometry.buffers.length; i3++) {
      arrays[i3] = new map3[getBufferType(geometry.buffers[i3].data)](sizes[i3]);
      geometryOut.buffers[i3] = new Buffer2(arrays[i3]);
    }
    for (let i3 = 0; i3 < geometries.length; i3++) {
      geometry = geometries[i3];
      for (let j3 = 0; j3 < geometry.buffers.length; j3++) {
        arrays[j3].set(geometry.buffers[j3].data, offsets[j3]);
        offsets[j3] += geometry.buffers[j3].data.length;
      }
    }
    geometryOut.attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      geometryOut.indexBuffer = geometryOut.buffers[geometry.buffers.indexOf(geometry.indexBuffer)];
      geometryOut.indexBuffer.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
      let offset = 0;
      let stride = 0;
      let offset2 = 0;
      let bufferIndexToCount = 0;
      for (let i3 = 0; i3 < geometry.buffers.length; i3++) {
        if (geometry.buffers[i3] !== geometry.indexBuffer) {
          bufferIndexToCount = i3;
          break;
        }
      }
      for (const i3 in geometry.attributes) {
        const attribute = geometry.attributes[i3];
        if ((attribute.buffer | 0) === bufferIndexToCount) {
          stride += attribute.size * byteSizeMap[attribute.type] / 4;
        }
      }
      for (let i3 = 0; i3 < geometries.length; i3++) {
        const indexBufferData = geometries[i3].indexBuffer.data;
        for (let j3 = 0; j3 < indexBufferData.length; j3++) {
          geometryOut.indexBuffer.data[j3 + offset2] += offset;
        }
        offset += geometries[i3].buffers[bufferIndexToCount].data.length / stride;
        offset2 += indexBufferData.length;
      }
    }
    return geometryOut;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchGeometry.mjs
var BatchGeometry = class extends Geometry {
  constructor(_static = false) {
    super();
    this._buffer = new Buffer2(null, _static, false);
    this._indexBuffer = new Buffer2(null, _static, true);
    this.addAttribute("aVertexPosition", this._buffer, 2, false, TYPES.FLOAT).addAttribute("aTextureCoord", this._buffer, 2, false, TYPES.FLOAT).addAttribute("aColor", this._buffer, 4, true, TYPES.UNSIGNED_BYTE).addAttribute("aTextureId", this._buffer, 1, true, TYPES.FLOAT).addIndex(this._indexBuffer);
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/const.mjs
var PI_2 = Math.PI * 2;
var RAD_TO_DEG = 180 / Math.PI;
var DEG_TO_RAD = Math.PI / 180;
var SHAPES = /* @__PURE__ */ ((SHAPES2) => {
  SHAPES2[SHAPES2["POLY"] = 0] = "POLY";
  SHAPES2[SHAPES2["RECT"] = 1] = "RECT";
  SHAPES2[SHAPES2["CIRC"] = 2] = "CIRC";
  SHAPES2[SHAPES2["ELIP"] = 3] = "ELIP";
  SHAPES2[SHAPES2["RREC"] = 4] = "RREC";
  return SHAPES2;
})(SHAPES || {});

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/Point.mjs
var Point = class {
  constructor(x2 = 0, y2 = 0) {
    this.x = 0;
    this.y = 0;
    this.x = x2;
    this.y = y2;
  }
  clone() {
    return new Point(this.x, this.y);
  }
  copyFrom(p3) {
    this.set(p3.x, p3.y);
    return this;
  }
  copyTo(p3) {
    p3.set(this.x, this.y);
    return p3;
  }
  equals(p3) {
    return p3.x === this.x && p3.y === this.y;
  }
  set(x2 = 0, y2 = x2) {
    this.x = x2;
    this.y = y2;
    return this;
  }
  toString() {
    return `[@pixi/math:Point x=${this.x} y=${this.y}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/shapes/Rectangle.mjs
var tempPoints = [new Point(), new Point(), new Point(), new Point()];
var Rectangle = class {
  constructor(x2 = 0, y2 = 0, width = 0, height = 0) {
    this.x = Number(x2);
    this.y = Number(y2);
    this.width = Number(width);
    this.height = Number(height);
    this.type = SHAPES.RECT;
  }
  get left() {
    return this.x;
  }
  get right() {
    return this.x + this.width;
  }
  get top() {
    return this.y;
  }
  get bottom() {
    return this.y + this.height;
  }
  static get EMPTY() {
    return new Rectangle(0, 0, 0, 0);
  }
  clone() {
    return new Rectangle(this.x, this.y, this.width, this.height);
  }
  copyFrom(rectangle) {
    this.x = rectangle.x;
    this.y = rectangle.y;
    this.width = rectangle.width;
    this.height = rectangle.height;
    return this;
  }
  copyTo(rectangle) {
    rectangle.x = this.x;
    rectangle.y = this.y;
    rectangle.width = this.width;
    rectangle.height = this.height;
    return rectangle;
  }
  contains(x2, y2) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x2 >= this.x && x2 < this.x + this.width) {
      if (y2 >= this.y && y2 < this.y + this.height) {
        return true;
      }
    }
    return false;
  }
  intersects(other, transform) {
    if (!transform) {
      const x02 = this.x < other.x ? other.x : this.x;
      const x12 = this.right > other.right ? other.right : this.right;
      if (x12 <= x02) {
        return false;
      }
      const y02 = this.y < other.y ? other.y : this.y;
      const y12 = this.bottom > other.bottom ? other.bottom : this.bottom;
      return y12 > y02;
    }
    const x0 = this.left;
    const x1 = this.right;
    const y0 = this.top;
    const y1 = this.bottom;
    if (x1 <= x0 || y1 <= y0) {
      return false;
    }
    const lt = tempPoints[0].set(other.left, other.top);
    const lb = tempPoints[1].set(other.left, other.bottom);
    const rt = tempPoints[2].set(other.right, other.top);
    const rb = tempPoints[3].set(other.right, other.bottom);
    if (rt.x <= lt.x || lb.y <= lt.y) {
      return false;
    }
    const s2 = Math.sign(transform.a * transform.d - transform.b * transform.c);
    if (s2 === 0) {
      return false;
    }
    transform.apply(lt, lt);
    transform.apply(lb, lb);
    transform.apply(rt, rt);
    transform.apply(rb, rb);
    if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0 || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1 || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0 || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1) {
      return false;
    }
    const nx = s2 * (lb.y - lt.y);
    const ny = s2 * (lt.x - lb.x);
    const n00 = nx * x0 + ny * y0;
    const n10 = nx * x1 + ny * y0;
    const n01 = nx * x0 + ny * y1;
    const n11 = nx * x1 + ny * y1;
    if (Math.max(n00, n10, n01, n11) <= nx * lt.x + ny * lt.y || Math.min(n00, n10, n01, n11) >= nx * rb.x + ny * rb.y) {
      return false;
    }
    const mx = s2 * (lt.y - rt.y);
    const my = s2 * (rt.x - lt.x);
    const m00 = mx * x0 + my * y0;
    const m10 = mx * x1 + my * y0;
    const m01 = mx * x0 + my * y1;
    const m11 = mx * x1 + my * y1;
    if (Math.max(m00, m10, m01, m11) <= mx * lt.x + my * lt.y || Math.min(m00, m10, m01, m11) >= mx * rb.x + my * rb.y) {
      return false;
    }
    return true;
  }
  pad(paddingX = 0, paddingY = paddingX) {
    this.x -= paddingX;
    this.y -= paddingY;
    this.width += paddingX * 2;
    this.height += paddingY * 2;
    return this;
  }
  fit(rectangle) {
    const x1 = Math.max(this.x, rectangle.x);
    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.max(this.y, rectangle.y);
    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = Math.max(x2 - x1, 0);
    this.y = y1;
    this.height = Math.max(y2 - y1, 0);
    return this;
  }
  ceil(resolution = 1, eps = 1e-3) {
    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;
    const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;
    this.x = Math.floor((this.x + eps) * resolution) / resolution;
    this.y = Math.floor((this.y + eps) * resolution) / resolution;
    this.width = x2 - this.x;
    this.height = y2 - this.y;
    return this;
  }
  enlarge(rectangle) {
    const x1 = Math.min(this.x, rectangle.x);
    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);
    const y1 = Math.min(this.y, rectangle.y);
    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);
    this.x = x1;
    this.width = x2 - x1;
    this.y = y1;
    this.height = y2 - y1;
    return this;
  }
  toString() {
    return `[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/shapes/Circle.mjs
var Circle = class {
  constructor(x2 = 0, y2 = 0, radius = 0) {
    this.x = x2;
    this.y = y2;
    this.radius = radius;
    this.type = SHAPES.CIRC;
  }
  clone() {
    return new Circle(this.x, this.y, this.radius);
  }
  contains(x2, y2) {
    if (this.radius <= 0) {
      return false;
    }
    const r2 = this.radius * this.radius;
    let dx = this.x - x2;
    let dy = this.y - y2;
    dx *= dx;
    dy *= dy;
    return dx + dy <= r2;
  }
  getBounds() {
    return new Rectangle(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
  }
  toString() {
    return `[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/shapes/Ellipse.mjs
var Ellipse = class {
  constructor(x2 = 0, y2 = 0, halfWidth = 0, halfHeight = 0) {
    this.x = x2;
    this.y = y2;
    this.width = halfWidth;
    this.height = halfHeight;
    this.type = SHAPES.ELIP;
  }
  clone() {
    return new Ellipse(this.x, this.y, this.width, this.height);
  }
  contains(x2, y2) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    let normx = (x2 - this.x) / this.width;
    let normy = (y2 - this.y) / this.height;
    normx *= normx;
    normy *= normy;
    return normx + normy <= 1;
  }
  getBounds() {
    return new Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);
  }
  toString() {
    return `[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/shapes/Polygon.mjs
var Polygon = class {
  constructor(...points) {
    let flat = Array.isArray(points[0]) ? points[0] : points;
    if (typeof flat[0] !== "number") {
      const p3 = [];
      for (let i3 = 0, il = flat.length; i3 < il; i3++) {
        p3.push(flat[i3].x, flat[i3].y);
      }
      flat = p3;
    }
    this.points = flat;
    this.type = SHAPES.POLY;
    this.closeStroke = true;
  }
  clone() {
    const points = this.points.slice();
    const polygon = new Polygon(points);
    polygon.closeStroke = this.closeStroke;
    return polygon;
  }
  contains(x2, y2) {
    let inside = false;
    const length = this.points.length / 2;
    for (let i3 = 0, j3 = length - 1; i3 < length; j3 = i3++) {
      const xi = this.points[i3 * 2];
      const yi = this.points[i3 * 2 + 1];
      const xj = this.points[j3 * 2];
      const yj = this.points[j3 * 2 + 1];
      const intersect = yi > y2 !== yj > y2 && x2 < (xj - xi) * ((y2 - yi) / (yj - yi)) + xi;
      if (intersect) {
        inside = !inside;
      }
    }
    return inside;
  }
  toString() {
    return `[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, "")}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs
var RoundedRectangle = class {
  constructor(x2 = 0, y2 = 0, width = 0, height = 0, radius = 20) {
    this.x = x2;
    this.y = y2;
    this.width = width;
    this.height = height;
    this.radius = radius;
    this.type = SHAPES.RREC;
  }
  clone() {
    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);
  }
  contains(x2, y2) {
    if (this.width <= 0 || this.height <= 0) {
      return false;
    }
    if (x2 >= this.x && x2 <= this.x + this.width) {
      if (y2 >= this.y && y2 <= this.y + this.height) {
        const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
        if (y2 >= this.y + radius && y2 <= this.y + this.height - radius || x2 >= this.x + radius && x2 <= this.x + this.width - radius) {
          return true;
        }
        let dx = x2 - (this.x + radius);
        let dy = y2 - (this.y + radius);
        const radius2 = radius * radius;
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x2 - (this.x + this.width - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dy = y2 - (this.y + this.height - radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
        dx = x2 - (this.x + radius);
        if (dx * dx + dy * dy <= radius2) {
          return true;
        }
      }
    }
    return false;
  }
  toString() {
    return `[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/Matrix.mjs
var Matrix = class {
  constructor(a2 = 1, b3 = 0, c2 = 0, d2 = 1, tx = 0, ty = 0) {
    this.array = null;
    this.a = a2;
    this.b = b3;
    this.c = c2;
    this.d = d2;
    this.tx = tx;
    this.ty = ty;
  }
  fromArray(array) {
    this.a = array[0];
    this.b = array[1];
    this.c = array[3];
    this.d = array[4];
    this.tx = array[2];
    this.ty = array[5];
  }
  set(a2, b3, c2, d2, tx, ty) {
    this.a = a2;
    this.b = b3;
    this.c = c2;
    this.d = d2;
    this.tx = tx;
    this.ty = ty;
    return this;
  }
  toArray(transpose, out) {
    if (!this.array) {
      this.array = new Float32Array(9);
    }
    const array = out || this.array;
    if (transpose) {
      array[0] = this.a;
      array[1] = this.b;
      array[2] = 0;
      array[3] = this.c;
      array[4] = this.d;
      array[5] = 0;
      array[6] = this.tx;
      array[7] = this.ty;
      array[8] = 1;
    } else {
      array[0] = this.a;
      array[1] = this.c;
      array[2] = this.tx;
      array[3] = this.b;
      array[4] = this.d;
      array[5] = this.ty;
      array[6] = 0;
      array[7] = 0;
      array[8] = 1;
    }
    return array;
  }
  apply(pos, newPos) {
    newPos = newPos || new Point();
    const x2 = pos.x;
    const y2 = pos.y;
    newPos.x = this.a * x2 + this.c * y2 + this.tx;
    newPos.y = this.b * x2 + this.d * y2 + this.ty;
    return newPos;
  }
  applyInverse(pos, newPos) {
    newPos = newPos || new Point();
    const id = 1 / (this.a * this.d + this.c * -this.b);
    const x2 = pos.x;
    const y2 = pos.y;
    newPos.x = this.d * id * x2 + -this.c * id * y2 + (this.ty * this.c - this.tx * this.d) * id;
    newPos.y = this.a * id * y2 + -this.b * id * x2 + (-this.ty * this.a + this.tx * this.b) * id;
    return newPos;
  }
  translate(x2, y2) {
    this.tx += x2;
    this.ty += y2;
    return this;
  }
  scale(x2, y2) {
    this.a *= x2;
    this.d *= y2;
    this.c *= x2;
    this.b *= y2;
    this.tx *= x2;
    this.ty *= y2;
    return this;
  }
  rotate(angle) {
    const cos = Math.cos(angle);
    const sin = Math.sin(angle);
    const a1 = this.a;
    const c1 = this.c;
    const tx1 = this.tx;
    this.a = a1 * cos - this.b * sin;
    this.b = a1 * sin + this.b * cos;
    this.c = c1 * cos - this.d * sin;
    this.d = c1 * sin + this.d * cos;
    this.tx = tx1 * cos - this.ty * sin;
    this.ty = tx1 * sin + this.ty * cos;
    return this;
  }
  append(matrix) {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    this.a = matrix.a * a1 + matrix.b * c1;
    this.b = matrix.a * b1 + matrix.b * d1;
    this.c = matrix.c * a1 + matrix.d * c1;
    this.d = matrix.c * b1 + matrix.d * d1;
    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;
    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;
    return this;
  }
  setTransform(x2, y2, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {
    this.a = Math.cos(rotation + skewY) * scaleX;
    this.b = Math.sin(rotation + skewY) * scaleX;
    this.c = -Math.sin(rotation - skewX) * scaleY;
    this.d = Math.cos(rotation - skewX) * scaleY;
    this.tx = x2 - (pivotX * this.a + pivotY * this.c);
    this.ty = y2 - (pivotX * this.b + pivotY * this.d);
    return this;
  }
  prepend(matrix) {
    const tx1 = this.tx;
    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {
      const a1 = this.a;
      const c1 = this.c;
      this.a = a1 * matrix.a + this.b * matrix.c;
      this.b = a1 * matrix.b + this.b * matrix.d;
      this.c = c1 * matrix.a + this.d * matrix.c;
      this.d = c1 * matrix.b + this.d * matrix.d;
    }
    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;
    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;
    return this;
  }
  decompose(transform) {
    const a2 = this.a;
    const b3 = this.b;
    const c2 = this.c;
    const d2 = this.d;
    const pivot = transform.pivot;
    const skewX = -Math.atan2(-c2, d2);
    const skewY = Math.atan2(b3, a2);
    const delta = Math.abs(skewX + skewY);
    if (delta < 1e-5 || Math.abs(PI_2 - delta) < 1e-5) {
      transform.rotation = skewY;
      transform.skew.x = transform.skew.y = 0;
    } else {
      transform.rotation = 0;
      transform.skew.x = skewX;
      transform.skew.y = skewY;
    }
    transform.scale.x = Math.sqrt(a2 * a2 + b3 * b3);
    transform.scale.y = Math.sqrt(c2 * c2 + d2 * d2);
    transform.position.x = this.tx + (pivot.x * a2 + pivot.y * c2);
    transform.position.y = this.ty + (pivot.x * b3 + pivot.y * d2);
    return transform;
  }
  invert() {
    const a1 = this.a;
    const b1 = this.b;
    const c1 = this.c;
    const d1 = this.d;
    const tx1 = this.tx;
    const n2 = a1 * d1 - b1 * c1;
    this.a = d1 / n2;
    this.b = -b1 / n2;
    this.c = -c1 / n2;
    this.d = a1 / n2;
    this.tx = (c1 * this.ty - d1 * tx1) / n2;
    this.ty = -(a1 * this.ty - b1 * tx1) / n2;
    return this;
  }
  identity() {
    this.a = 1;
    this.b = 0;
    this.c = 0;
    this.d = 1;
    this.tx = 0;
    this.ty = 0;
    return this;
  }
  clone() {
    const matrix = new Matrix();
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyTo(matrix) {
    matrix.a = this.a;
    matrix.b = this.b;
    matrix.c = this.c;
    matrix.d = this.d;
    matrix.tx = this.tx;
    matrix.ty = this.ty;
    return matrix;
  }
  copyFrom(matrix) {
    this.a = matrix.a;
    this.b = matrix.b;
    this.c = matrix.c;
    this.d = matrix.d;
    this.tx = matrix.tx;
    this.ty = matrix.ty;
    return this;
  }
  toString() {
    return `[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;
  }
  static get IDENTITY() {
    return new Matrix();
  }
  static get TEMP_MATRIX() {
    return new Matrix();
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/groupD8.mjs
var ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
var uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
var vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
var vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
var rotationCayley = [];
var rotationMatrices = [];
var signum = Math.sign;
function init() {
  for (let i3 = 0; i3 < 16; i3++) {
    const row = [];
    rotationCayley.push(row);
    for (let j3 = 0; j3 < 16; j3++) {
      const _ux = signum(ux[i3] * ux[j3] + vx[i3] * uy[j3]);
      const _uy = signum(uy[i3] * ux[j3] + vy[i3] * uy[j3]);
      const _vx = signum(ux[i3] * vx[j3] + vx[i3] * vy[j3]);
      const _vy = signum(uy[i3] * vx[j3] + vy[i3] * vy[j3]);
      for (let k3 = 0; k3 < 16; k3++) {
        if (ux[k3] === _ux && uy[k3] === _uy && vx[k3] === _vx && vy[k3] === _vy) {
          row.push(k3);
          break;
        }
      }
    }
  }
  for (let i3 = 0; i3 < 16; i3++) {
    const mat = new Matrix();
    mat.set(ux[i3], uy[i3], vx[i3], vy[i3], 0, 0);
    rotationMatrices.push(mat);
  }
}
init();
var groupD8 = {
  E: 0,
  SE: 1,
  S: 2,
  SW: 3,
  W: 4,
  NW: 5,
  N: 6,
  NE: 7,
  MIRROR_VERTICAL: 8,
  MAIN_DIAGONAL: 10,
  MIRROR_HORIZONTAL: 12,
  REVERSE_DIAGONAL: 14,
  uX: (ind) => ux[ind],
  uY: (ind) => uy[ind],
  vX: (ind) => vx[ind],
  vY: (ind) => vy[ind],
  inv: (rotation) => {
    if (rotation & 8) {
      return rotation & 15;
    }
    return -rotation & 7;
  },
  add: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][rotationFirst],
  sub: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],
  rotate180: (rotation) => rotation ^ 4,
  isVertical: (rotation) => (rotation & 3) === 2,
  byDirection: (dx, dy) => {
    if (Math.abs(dx) * 2 <= Math.abs(dy)) {
      if (dy >= 0) {
        return groupD8.S;
      }
      return groupD8.N;
    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {
      if (dx > 0) {
        return groupD8.E;
      }
      return groupD8.W;
    } else if (dy > 0) {
      if (dx > 0) {
        return groupD8.SE;
      }
      return groupD8.SW;
    } else if (dx > 0) {
      return groupD8.NE;
    }
    return groupD8.NW;
  },
  matrixAppendRotationInv: (matrix, rotation, tx = 0, ty = 0) => {
    const mat = rotationMatrices[groupD8.inv(rotation)];
    mat.tx = tx;
    mat.ty = ty;
    matrix.append(mat);
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/ObservablePoint.mjs
var ObservablePoint = class {
  constructor(cb2, scope, x2 = 0, y2 = 0) {
    this._x = x2;
    this._y = y2;
    this.cb = cb2;
    this.scope = scope;
  }
  clone(cb2 = this.cb, scope = this.scope) {
    return new ObservablePoint(cb2, scope, this._x, this._y);
  }
  set(x2 = 0, y2 = x2) {
    if (this._x !== x2 || this._y !== y2) {
      this._x = x2;
      this._y = y2;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyFrom(p3) {
    if (this._x !== p3.x || this._y !== p3.y) {
      this._x = p3.x;
      this._y = p3.y;
      this.cb.call(this.scope);
    }
    return this;
  }
  copyTo(p3) {
    p3.set(this._x, this._y);
    return p3;
  }
  equals(p3) {
    return p3.x === this._x && p3.y === this._y;
  }
  toString() {
    return `[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`;
  }
  get x() {
    return this._x;
  }
  set x(value) {
    if (this._x !== value) {
      this._x = value;
      this.cb.call(this.scope);
    }
  }
  get y() {
    return this._y;
  }
  set y(value) {
    if (this._y !== value) {
      this._y = value;
      this.cb.call(this.scope);
    }
  }
};

// ../../node_modules/.pnpm/@pixi+math@7.2.4/node_modules/@pixi/math/lib/Transform.mjs
var _Transform = class {
  constructor() {
    this.worldTransform = new Matrix();
    this.localTransform = new Matrix();
    this.position = new ObservablePoint(this.onChange, this, 0, 0);
    this.scale = new ObservablePoint(this.onChange, this, 1, 1);
    this.pivot = new ObservablePoint(this.onChange, this, 0, 0);
    this.skew = new ObservablePoint(this.updateSkew, this, 0, 0);
    this._rotation = 0;
    this._cx = 1;
    this._sx = 0;
    this._cy = 0;
    this._sy = 1;
    this._localID = 0;
    this._currentLocalID = 0;
    this._worldID = 0;
    this._parentID = 0;
  }
  onChange() {
    this._localID++;
  }
  updateSkew() {
    this._cx = Math.cos(this._rotation + this.skew.y);
    this._sx = Math.sin(this._rotation + this.skew.y);
    this._cy = -Math.sin(this._rotation - this.skew.x);
    this._sy = Math.cos(this._rotation - this.skew.x);
    this._localID++;
  }
  toString() {
    return `[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;
  }
  updateLocalTransform() {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
  }
  updateTransform(parentTransform) {
    const lt = this.localTransform;
    if (this._localID !== this._currentLocalID) {
      lt.a = this._cx * this.scale.x;
      lt.b = this._sx * this.scale.x;
      lt.c = this._cy * this.scale.y;
      lt.d = this._sy * this.scale.y;
      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);
      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);
      this._currentLocalID = this._localID;
      this._parentID = -1;
    }
    if (this._parentID !== parentTransform._worldID) {
      const pt = parentTransform.worldTransform;
      const wt = this.worldTransform;
      wt.a = lt.a * pt.a + lt.b * pt.c;
      wt.b = lt.a * pt.b + lt.b * pt.d;
      wt.c = lt.c * pt.a + lt.d * pt.c;
      wt.d = lt.c * pt.b + lt.d * pt.d;
      wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
      wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
      this._parentID = parentTransform._worldID;
      this._worldID++;
    }
  }
  setFromMatrix(matrix) {
    matrix.decompose(this);
    this._localID++;
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(value) {
    if (this._rotation !== value) {
      this._rotation = value;
      this.updateSkew();
    }
  }
};
var Transform = _Transform;
Transform.IDENTITY = new _Transform();

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/defaultProgram.mjs
var defaultFragment = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/defaultProgram2.mjs
var defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/compileShader.mjs
function compileShader(gl, type2, src) {
  const shader = gl.createShader(type2);
  gl.shaderSource(shader, src);
  gl.compileShader(shader);
  return shader;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs
function booleanArray(size) {
  const array = new Array(size);
  for (let i3 = 0; i3 < array.length; i3++) {
    array[i3] = false;
  }
  return array;
}
function defaultValue(type2, size) {
  switch (type2) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * size);
    case "vec3":
      return new Float32Array(3 * size);
    case "vec4":
      return new Float32Array(4 * size);
    case "int":
    case "uint":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * size);
    case "ivec3":
      return new Int32Array(3 * size);
    case "ivec4":
      return new Int32Array(4 * size);
    case "uvec2":
      return new Uint32Array(2 * size);
    case "uvec3":
      return new Uint32Array(3 * size);
    case "uvec4":
      return new Uint32Array(4 * size);
    case "bool":
      return false;
    case "bvec2":
      return booleanArray(2 * size);
    case "bvec3":
      return booleanArray(3 * size);
    case "bvec4":
      return booleanArray(4 * size);
    case "mat2":
      return new Float32Array([
        1,
        0,
        0,
        1
      ]);
    case "mat3":
      return new Float32Array([
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ]);
    case "mat4":
      return new Float32Array([
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ]);
  }
  return null;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs
var uniformParsers = [
  {
    test: (data) => data.type === "float" && data.size === 1 && !data.isArray,
    code: (name) => `
            if(uv["${name}"] !== ud["${name}"].value)
            {
                ud["${name}"].value = uv["${name}"]
                gl.uniform1f(ud["${name}"].location, uv["${name}"])
            }
            `
  },
  {
    test: (data, uniform) => (data.type === "sampler2D" || data.type === "samplerCube" || data.type === "sampler2DArray") && data.size === 1 && !data.isArray && (uniform == null || uniform.castToBaseTexture !== void 0),
    code: (name) => `t = syncData.textureCount++;

            renderer.texture.bind(uv["${name}"], t);

            if(ud["${name}"].value !== t)
            {
                ud["${name}"].value = t;
                gl.uniform1i(ud["${name}"].location, t);
; // eslint-disable-line max-len
            }`
  },
  {
    test: (data, uniform) => data.type === "mat3" && data.size === 1 && !data.isArray && uniform.a !== void 0,
    code: (name) => `
            gl.uniformMatrix3fv(ud["${name}"].location, false, uv["${name}"].toArray(true));
            `,
    codeUbo: (name) => `
                var ${name}_matrix = uv.${name}.toArray(true);

                data[offset] = ${name}_matrix[0];
                data[offset+1] = ${name}_matrix[1];
                data[offset+2] = ${name}_matrix[2];
        
                data[offset + 4] = ${name}_matrix[3];
                data[offset + 5] = ${name}_matrix[4];
                data[offset + 6] = ${name}_matrix[5];
        
                data[offset + 8] = ${name}_matrix[6];
                data[offset + 9] = ${name}_matrix[7];
                data[offset + 10] = ${name}_matrix[8];
            `
  },
  {
    test: (data, uniform) => data.type === "vec2" && data.size === 1 && !data.isArray && uniform.x !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${name}"].location, v.x, v.y);
                }`,
    codeUbo: (name) => `
                v = uv.${name};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `
  },
  {
    test: (data) => data.type === "vec2" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${name}"].location, v[0], v[1]);
                }
            `
  },
  {
    test: (data, uniform) => data.type === "vec4" && data.size === 1 && !data.isArray && uniform.width !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${name}"].location, v.x, v.y, v.width, v.height)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `
  },
  {
    test: (data, uniform) => data.type === "vec4" && data.size === 1 && !data.isArray && uniform.red !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${name}"].location, v.red, v.green, v.blue, v.alpha)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `
  },
  {
    test: (data, uniform) => data.type === "vec3" && data.size === 1 && !data.isArray && uniform.red !== void 0,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${name}"].location, v.red, v.green, v.blue)
                }`,
    codeUbo: (name) => `
                    v = uv.${name};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `
  },
  {
    test: (data) => data.type === "vec4" && data.size === 1 && !data.isArray,
    code: (name) => `
                cv = ud["${name}"].value;
                v = uv["${name}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${name}"].location, v[0], v[1], v[2], v[3])
                }`
  }
];

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs
var GLSL_TO_SINGLE_SETTERS_CACHED = {
  float: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,
  vec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,
  vec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,
  vec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,
  int: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  ivec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  ivec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  ivec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  uint: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,
  uvec2: `
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,
  uvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,
  uvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,
  bool: `
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,
  bvec2: `
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,
  bvec3: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,
  bvec4: `
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  sampler2D: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  samplerCube: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,
  sampler2DArray: `
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`
};
var GLSL_TO_ARRAY_SETTERS = {
  float: `gl.uniform1fv(location, v)`,
  vec2: `gl.uniform2fv(location, v)`,
  vec3: `gl.uniform3fv(location, v)`,
  vec4: "gl.uniform4fv(location, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  int: "gl.uniform1iv(location, v)",
  ivec2: "gl.uniform2iv(location, v)",
  ivec3: "gl.uniform3iv(location, v)",
  ivec4: "gl.uniform4iv(location, v)",
  uint: "gl.uniform1uiv(location, v)",
  uvec2: "gl.uniform2uiv(location, v)",
  uvec3: "gl.uniform3uiv(location, v)",
  uvec4: "gl.uniform4uiv(location, v)",
  bool: "gl.uniform1iv(location, v)",
  bvec2: "gl.uniform2iv(location, v)",
  bvec3: "gl.uniform3iv(location, v)",
  bvec4: "gl.uniform4iv(location, v)",
  sampler2D: "gl.uniform1iv(location, v)",
  samplerCube: "gl.uniform1iv(location, v)",
  sampler2DArray: "gl.uniform1iv(location, v)"
};
function generateUniformsSync(group, uniformData) {
  const funcFragments = [`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];
  for (const i3 in group.uniforms) {
    const data = uniformData[i3];
    if (!data) {
      if (group.uniforms[i3]?.group) {
        if (group.uniforms[i3].ubo) {
          funcFragments.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i3}, '${i3}');
                    `);
        } else {
          funcFragments.push(`
                        renderer.shader.syncUniformGroup(uv.${i3}, syncData);
                    `);
        }
      }
      continue;
    }
    const uniform = group.uniforms[i3];
    let parsed = false;
    for (let j3 = 0; j3 < uniformParsers.length; j3++) {
      if (uniformParsers[j3].test(data, uniform)) {
        funcFragments.push(uniformParsers[j3].code(i3, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      const templateType = data.size === 1 && !data.isArray ? GLSL_TO_SINGLE_SETTERS_CACHED : GLSL_TO_ARRAY_SETTERS;
      const template = templateType[data.type].replace("location", `ud["${i3}"].location`);
      funcFragments.push(`
            cu = ud["${i3}"];
            cv = cu.value;
            v = uv["${i3}"];
            ${template};`);
    }
  }
  return new Function("ud", "uv", "renderer", "syncData", funcFragments.join("\n"));
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs
var unknownContext = {};
var context = unknownContext;
function getTestContext() {
  if (context === unknownContext || context?.isContextLost()) {
    const canvas = settings.ADAPTER.createCanvas();
    let gl;
    if (settings.PREFER_ENV >= ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", {});
    }
    if (!gl) {
      gl = canvas.getContext("webgl", {}) || canvas.getContext("experimental-webgl", {});
      if (!gl) {
        gl = null;
      } else {
        gl.getExtension("WEBGL_draw_buffers");
      }
    }
    context = gl;
  }
  return context;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs
var maxFragmentPrecision;
function getMaxFragmentPrecision() {
  if (!maxFragmentPrecision) {
    maxFragmentPrecision = PRECISION.MEDIUM;
    const gl = getTestContext();
    if (gl) {
      if (gl.getShaderPrecisionFormat) {
        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);
        maxFragmentPrecision = shaderFragment.precision ? PRECISION.HIGH : PRECISION.MEDIUM;
      }
    }
  }
  return maxFragmentPrecision;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs
function logPrettyShaderError(gl, shader) {
  const shaderSrc = gl.getShaderSource(shader).split("\n").map((line, index) => `${index}: ${line}`);
  const shaderLog = gl.getShaderInfoLog(shader);
  const splitShader = shaderLog.split("\n");
  const dedupe = {};
  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))).filter((n2) => {
    if (n2 && !dedupe[n2]) {
      dedupe[n2] = true;
      return true;
    }
    return false;
  });
  const logArgs = [""];
  lineNumbers.forEach((number) => {
    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;
    logArgs.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px");
  });
  const fragmentSourceToLog = shaderSrc.join("\n");
  logArgs[0] = fragmentSourceToLog;
  console.error(shaderLog);
  console.groupCollapsed("click to view full shader code");
  console.warn(...logArgs);
  console.groupEnd();
}
function logProgramError(gl, program, vertexShader, fragmentShader) {
  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, vertexShader);
    }
    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {
      logPrettyShaderError(gl, fragmentShader);
    }
    console.error("PixiJS Error: Could not initialize shader.");
    if (gl.getProgramInfoLog(program) !== "") {
      console.warn("PixiJS Warning: gl.getProgramInfoLog()", gl.getProgramInfoLog(program));
    }
  }
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/mapSize.mjs
var GLSL_TO_SIZE = {
  float: 1,
  vec2: 2,
  vec3: 3,
  vec4: 4,
  int: 1,
  ivec2: 2,
  ivec3: 3,
  ivec4: 4,
  uint: 1,
  uvec2: 2,
  uvec3: 3,
  uvec4: 4,
  bool: 1,
  bvec2: 2,
  bvec3: 3,
  bvec4: 4,
  mat2: 4,
  mat3: 9,
  mat4: 16,
  sampler2D: 1
};
function mapSize(type2) {
  return GLSL_TO_SIZE[type2];
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/mapType.mjs
var GL_TABLE = null;
var GL_TO_GLSL_TYPES = {
  FLOAT: "float",
  FLOAT_VEC2: "vec2",
  FLOAT_VEC3: "vec3",
  FLOAT_VEC4: "vec4",
  INT: "int",
  INT_VEC2: "ivec2",
  INT_VEC3: "ivec3",
  INT_VEC4: "ivec4",
  UNSIGNED_INT: "uint",
  UNSIGNED_INT_VEC2: "uvec2",
  UNSIGNED_INT_VEC3: "uvec3",
  UNSIGNED_INT_VEC4: "uvec4",
  BOOL: "bool",
  BOOL_VEC2: "bvec2",
  BOOL_VEC3: "bvec3",
  BOOL_VEC4: "bvec4",
  FLOAT_MAT2: "mat2",
  FLOAT_MAT3: "mat3",
  FLOAT_MAT4: "mat4",
  SAMPLER_2D: "sampler2D",
  INT_SAMPLER_2D: "sampler2D",
  UNSIGNED_INT_SAMPLER_2D: "sampler2D",
  SAMPLER_CUBE: "samplerCube",
  INT_SAMPLER_CUBE: "samplerCube",
  UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
  SAMPLER_2D_ARRAY: "sampler2DArray",
  INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
};
function mapType(gl, type2) {
  if (!GL_TABLE) {
    const typeNames = Object.keys(GL_TO_GLSL_TYPES);
    GL_TABLE = {};
    for (let i3 = 0; i3 < typeNames.length; ++i3) {
      const tn = typeNames[i3];
      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];
    }
  }
  return GL_TABLE[type2];
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs
function setPrecision(src, requestedPrecision, maxSupportedPrecision) {
  if (src.substring(0, 9) !== "precision") {
    let precision = requestedPrecision;
    if (requestedPrecision === PRECISION.HIGH && maxSupportedPrecision !== PRECISION.HIGH) {
      precision = PRECISION.MEDIUM;
    }
    return `precision ${precision} float;
${src}`;
  } else if (maxSupportedPrecision !== PRECISION.HIGH && src.substring(0, 15) === "precision highp") {
    return src.replace("precision highp", "precision mediump");
  }
  return src;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs
var unsafeEval;
function unsafeEvalSupported() {
  if (typeof unsafeEval === "boolean") {
    return unsafeEval;
  }
  try {
    const func2 = new Function("param1", "param2", "param3", "return param1[param2] === param3;");
    unsafeEval = func2({ a: "b" }, "a", "b") === true;
  } catch (e3) {
    unsafeEval = false;
  }
  return unsafeEval;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/Program.mjs
var UID3 = 0;
var nameCache = {};
var _Program = class {
  constructor(vertexSrc, fragmentSrc, name = "pixi-shader", extra = {}) {
    this.extra = {};
    this.id = UID3++;
    this.vertexSrc = vertexSrc || _Program.defaultVertexSrc;
    this.fragmentSrc = fragmentSrc || _Program.defaultFragmentSrc;
    this.vertexSrc = this.vertexSrc.trim();
    this.fragmentSrc = this.fragmentSrc.trim();
    this.extra = extra;
    if (this.vertexSrc.substring(0, 8) !== "#version") {
      name = name.replace(/\s+/g, "-");
      if (nameCache[name]) {
        nameCache[name]++;
        name += `-${nameCache[name]}`;
      } else {
        nameCache[name] = 1;
      }
      this.vertexSrc = `#define SHADER_NAME ${name}
${this.vertexSrc}`;
      this.fragmentSrc = `#define SHADER_NAME ${name}
${this.fragmentSrc}`;
      this.vertexSrc = setPrecision(this.vertexSrc, _Program.defaultVertexPrecision, PRECISION.HIGH);
      this.fragmentSrc = setPrecision(this.fragmentSrc, _Program.defaultFragmentPrecision, getMaxFragmentPrecision());
    }
    this.glPrograms = {};
    this.syncUniforms = null;
  }
  static get defaultVertexSrc() {
    return defaultVertex;
  }
  static get defaultFragmentSrc() {
    return defaultFragment;
  }
  static from(vertexSrc, fragmentSrc, name) {
    const key2 = vertexSrc + fragmentSrc;
    let program = ProgramCache[key2];
    if (!program) {
      ProgramCache[key2] = program = new _Program(vertexSrc, fragmentSrc, name);
    }
    return program;
  }
};
var Program = _Program;
Program.defaultVertexPrecision = PRECISION.HIGH;
Program.defaultFragmentPrecision = isMobile2.apple.device ? PRECISION.HIGH : PRECISION.MEDIUM;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/UniformGroup.mjs
var UID4 = 0;
var UniformGroup = class {
  constructor(uniforms, isStatic, isUbo) {
    this.group = true;
    this.syncUniforms = {};
    this.dirtyId = 0;
    this.id = UID4++;
    this.static = !!isStatic;
    this.ubo = !!isUbo;
    if (uniforms instanceof Buffer2) {
      this.buffer = uniforms;
      this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER;
      this.autoManage = false;
      this.ubo = true;
    } else {
      this.uniforms = uniforms;
      if (this.ubo) {
        this.buffer = new Buffer2(new Float32Array(1));
        this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER;
        this.autoManage = true;
      }
    }
  }
  update() {
    this.dirtyId++;
    if (!this.autoManage && this.buffer) {
      this.buffer.update();
    }
  }
  add(name, uniforms, _static) {
    if (!this.ubo) {
      this.uniforms[name] = new UniformGroup(uniforms, _static);
    } else {
      throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");
    }
  }
  static from(uniforms, _static, _ubo) {
    return new UniformGroup(uniforms, _static, _ubo);
  }
  static uboFrom(uniforms, _static) {
    return new UniformGroup(uniforms, _static ?? true, true);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/Shader.mjs
var Shader = class {
  constructor(program, uniforms) {
    this.uniformBindCount = 0;
    this.program = program;
    if (uniforms) {
      if (uniforms instanceof UniformGroup) {
        this.uniformGroup = uniforms;
      } else {
        this.uniformGroup = new UniformGroup(uniforms);
      }
    } else {
      this.uniformGroup = new UniformGroup({});
    }
    this.disposeRunner = new Runner("disposeShader");
  }
  checkUniformExists(name, group) {
    if (group.uniforms[name]) {
      return true;
    }
    for (const i3 in group.uniforms) {
      const uniform = group.uniforms[i3];
      if (uniform.group) {
        if (this.checkUniformExists(name, uniform)) {
          return true;
        }
      }
    }
    return false;
  }
  destroy() {
    this.uniformGroup = null;
    this.disposeRunner.emit(this);
    this.disposeRunner.destroy();
  }
  get uniforms() {
    return this.uniformGroup.uniforms;
  }
  static from(vertexSrc, fragmentSrc, uniforms) {
    const program = Program.from(vertexSrc, fragmentSrc);
    return new Shader(program, uniforms);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs
var BatchShaderGenerator = class {
  constructor(vertexSrc, fragTemplate3) {
    this.vertexSrc = vertexSrc;
    this.fragTemplate = fragTemplate3;
    this.programCache = {};
    this.defaultGroupCache = {};
    if (!fragTemplate3.includes("%count%")) {
      throw new Error('Fragment template must contain "%count%".');
    }
    if (!fragTemplate3.includes("%forloop%")) {
      throw new Error('Fragment template must contain "%forloop%".');
    }
  }
  generateShader(maxTextures) {
    if (!this.programCache[maxTextures]) {
      const sampleValues = new Int32Array(maxTextures);
      for (let i3 = 0; i3 < maxTextures; i3++) {
        sampleValues[i3] = i3;
      }
      this.defaultGroupCache[maxTextures] = UniformGroup.from({ uSamplers: sampleValues }, true);
      let fragmentSrc = this.fragTemplate;
      fragmentSrc = fragmentSrc.replace(/%count%/gi, `${maxTextures}`);
      fragmentSrc = fragmentSrc.replace(/%forloop%/gi, this.generateSampleSrc(maxTextures));
      this.programCache[maxTextures] = new Program(this.vertexSrc, fragmentSrc);
    }
    const uniforms = {
      tint: new Float32Array([1, 1, 1, 1]),
      translationMatrix: new Matrix(),
      default: this.defaultGroupCache[maxTextures]
    };
    return new Shader(this.programCache[maxTextures], uniforms);
  }
  generateSampleSrc(maxTextures) {
    let src = "";
    src += "\n";
    src += "\n";
    for (let i3 = 0; i3 < maxTextures; i3++) {
      if (i3 > 0) {
        src += "\nelse ";
      }
      if (i3 < maxTextures - 1) {
        src += `if(vTextureId < ${i3}.5)`;
      }
      src += "\n{";
      src += `
	color = texture2D(uSamplers[${i3}], vTextureCoord);`;
      src += "\n}";
    }
    src += "\n";
    src += "\n";
    return src;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs
var BatchTextureArray = class {
  constructor() {
    this.elements = [];
    this.ids = [];
    this.count = 0;
  }
  clear() {
    for (let i3 = 0; i3 < this.count; i3++) {
      this.elements[i3] = null;
    }
    this.count = 0;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/canUploadSameBuffer.mjs
function canUploadSameBuffer() {
  return !isMobile2.apple.device;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/maxRecommendedTextures.mjs
function maxRecommendedTextures(max) {
  let allowMax = true;
  const navigator2 = settings.ADAPTER.getNavigator();
  if (isMobile2.tablet || isMobile2.phone) {
    if (isMobile2.apple.device) {
      const match = navigator2.userAgent.match(/OS (\d+)_(\d+)?/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 11) {
          allowMax = false;
        }
      }
    }
    if (isMobile2.android.device) {
      const match = navigator2.userAgent.match(/Android\s([0-9.]*)/);
      if (match) {
        const majorVersion = parseInt(match[1], 10);
        if (majorVersion < 7) {
          allowMax = false;
        }
      }
    }
  }
  return allowMax ? max : 4;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs
var ObjectRenderer = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  flush() {
  }
  destroy() {
    this.renderer = null;
  }
  start() {
  }
  stop() {
    this.flush();
  }
  render(_object) {
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/texture.mjs
var defaultFragment2 = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/texture2.mjs
var defaultVertex2 = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchRenderer.mjs
var _BatchRenderer = class extends ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.setShaderGenerator();
    this.geometryClass = BatchGeometry;
    this.vertexSize = 6;
    this.state = State.for2d();
    this.size = _BatchRenderer.defaultBatchSize * 4;
    this._vertexCount = 0;
    this._indexCount = 0;
    this._bufferedElements = [];
    this._bufferedTextures = [];
    this._bufferSize = 0;
    this._shader = null;
    this._packedGeometries = [];
    this._packedGeometryPoolSize = 2;
    this._flushId = 0;
    this._aBuffers = {};
    this._iBuffers = {};
    this.maxTextures = 1;
    this.renderer.on("prerender", this.onPrerender, this);
    renderer.runners.contextChange.add(this);
    this._dcIndex = 0;
    this._aIndex = 0;
    this._iIndex = 0;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    this._tempBoundTextures = [];
  }
  static get defaultMaxTextures() {
    this._defaultMaxTextures = this._defaultMaxTextures ?? maxRecommendedTextures(32);
    return this._defaultMaxTextures;
  }
  static set defaultMaxTextures(value) {
    this._defaultMaxTextures = value;
  }
  static get canUploadSameBuffer() {
    this._canUploadSameBuffer = this._canUploadSameBuffer ?? canUploadSameBuffer();
    return this._canUploadSameBuffer;
  }
  static set canUploadSameBuffer(value) {
    this._canUploadSameBuffer = value;
  }
  get MAX_TEXTURES() {
    deprecation("7.1.0", "BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures");
    return this.maxTextures;
  }
  static get defaultVertexSrc() {
    return defaultVertex2;
  }
  static get defaultFragmentTemplate() {
    return defaultFragment2;
  }
  setShaderGenerator({
    vertex: vertex6 = _BatchRenderer.defaultVertexSrc,
    fragment: fragment9 = _BatchRenderer.defaultFragmentTemplate
  } = {}) {
    this.shaderGenerator = new BatchShaderGenerator(vertex6, fragment9);
  }
  contextChange() {
    const gl = this.renderer.gl;
    if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {
      this.maxTextures = 1;
    } else {
      this.maxTextures = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _BatchRenderer.defaultMaxTextures);
      this.maxTextures = checkMaxIfStatementsInShader(this.maxTextures, gl);
    }
    this._shader = this.shaderGenerator.generateShader(this.maxTextures);
    for (let i3 = 0; i3 < this._packedGeometryPoolSize; i3++) {
      this._packedGeometries[i3] = new this.geometryClass();
    }
    this.initFlushBuffers();
  }
  initFlushBuffers() {
    const {
      _drawCallPool,
      _textureArrayPool
    } = _BatchRenderer;
    const MAX_SPRITES = this.size / 4;
    const MAX_TA = Math.floor(MAX_SPRITES / this.maxTextures) + 1;
    while (_drawCallPool.length < MAX_SPRITES) {
      _drawCallPool.push(new BatchDrawCall());
    }
    while (_textureArrayPool.length < MAX_TA) {
      _textureArrayPool.push(new BatchTextureArray());
    }
    for (let i3 = 0; i3 < this.maxTextures; i3++) {
      this._tempBoundTextures[i3] = null;
    }
  }
  onPrerender() {
    this._flushId = 0;
  }
  render(element) {
    if (!element._texture.valid) {
      return;
    }
    if (this._vertexCount + element.vertexData.length / 2 > this.size) {
      this.flush();
    }
    this._vertexCount += element.vertexData.length / 2;
    this._indexCount += element.indices.length;
    this._bufferedTextures[this._bufferSize] = element._texture.baseTexture;
    this._bufferedElements[this._bufferSize++] = element;
  }
  buildTexturesAndDrawCalls() {
    const {
      _bufferedTextures: textures,
      maxTextures
    } = this;
    const textureArrays = _BatchRenderer._textureArrayPool;
    const batch = this.renderer.batch;
    const boundTextures = this._tempBoundTextures;
    const touch = this.renderer.textureGC.count;
    let TICK = ++BaseTexture._globalBatch;
    let countTexArrays = 0;
    let texArray = textureArrays[0];
    let start = 0;
    batch.copyBoundTextures(boundTextures, maxTextures);
    for (let i3 = 0; i3 < this._bufferSize; ++i3) {
      const tex = textures[i3];
      textures[i3] = null;
      if (tex._batchEnabled === TICK) {
        continue;
      }
      if (texArray.count >= maxTextures) {
        batch.boundArray(texArray, boundTextures, TICK, maxTextures);
        this.buildDrawCalls(texArray, start, i3);
        start = i3;
        texArray = textureArrays[++countTexArrays];
        ++TICK;
      }
      tex._batchEnabled = TICK;
      tex.touched = touch;
      texArray.elements[texArray.count++] = tex;
    }
    if (texArray.count > 0) {
      batch.boundArray(texArray, boundTextures, TICK, maxTextures);
      this.buildDrawCalls(texArray, start, this._bufferSize);
      ++countTexArrays;
      ++TICK;
    }
    for (let i3 = 0; i3 < boundTextures.length; i3++) {
      boundTextures[i3] = null;
    }
    BaseTexture._globalBatch = TICK;
  }
  buildDrawCalls(texArray, start, finish) {
    const {
      _bufferedElements: elements,
      _attributeBuffer,
      _indexBuffer,
      vertexSize
    } = this;
    const drawCalls = _BatchRenderer._drawCallPool;
    let dcIndex = this._dcIndex;
    let aIndex = this._aIndex;
    let iIndex = this._iIndex;
    let drawCall = drawCalls[dcIndex];
    drawCall.start = this._iIndex;
    drawCall.texArray = texArray;
    for (let i3 = start; i3 < finish; ++i3) {
      const sprite = elements[i3];
      const tex = sprite._texture.baseTexture;
      const spriteBlendMode = premultiplyBlendMode[tex.alphaMode ? 1 : 0][sprite.blendMode];
      elements[i3] = null;
      if (start < i3 && drawCall.blend !== spriteBlendMode) {
        drawCall.size = iIndex - drawCall.start;
        start = i3;
        drawCall = drawCalls[++dcIndex];
        drawCall.texArray = texArray;
        drawCall.start = iIndex;
      }
      this.packInterleavedGeometry(sprite, _attributeBuffer, _indexBuffer, aIndex, iIndex);
      aIndex += sprite.vertexData.length / 2 * vertexSize;
      iIndex += sprite.indices.length;
      drawCall.blend = spriteBlendMode;
    }
    if (start < finish) {
      drawCall.size = iIndex - drawCall.start;
      ++dcIndex;
    }
    this._dcIndex = dcIndex;
    this._aIndex = aIndex;
    this._iIndex = iIndex;
  }
  bindAndClearTexArray(texArray) {
    const textureSystem = this.renderer.texture;
    for (let j3 = 0; j3 < texArray.count; j3++) {
      textureSystem.bind(texArray.elements[j3], texArray.ids[j3]);
      texArray.elements[j3] = null;
    }
    texArray.count = 0;
  }
  updateGeometry() {
    const {
      _packedGeometries: packedGeometries,
      _attributeBuffer: attributeBuffer,
      _indexBuffer: indexBuffer
    } = this;
    if (!_BatchRenderer.canUploadSameBuffer) {
      if (this._packedGeometryPoolSize <= this._flushId) {
        this._packedGeometryPoolSize++;
        packedGeometries[this._flushId] = new this.geometryClass();
      }
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.bind(packedGeometries[this._flushId]);
      this.renderer.geometry.updateBuffers();
      this._flushId++;
    } else {
      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);
      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);
      this.renderer.geometry.updateBuffers();
    }
  }
  drawBatches() {
    const dcCount = this._dcIndex;
    const { gl, state: stateSystem } = this.renderer;
    const drawCalls = _BatchRenderer._drawCallPool;
    let curTexArray = null;
    for (let i3 = 0; i3 < dcCount; i3++) {
      const { texArray, type: type2, size, start, blend } = drawCalls[i3];
      if (curTexArray !== texArray) {
        curTexArray = texArray;
        this.bindAndClearTexArray(texArray);
      }
      this.state.blendMode = blend;
      stateSystem.set(this.state);
      gl.drawElements(type2, size, gl.UNSIGNED_SHORT, start * 2);
    }
  }
  flush() {
    if (this._vertexCount === 0) {
      return;
    }
    this._attributeBuffer = this.getAttributeBuffer(this._vertexCount);
    this._indexBuffer = this.getIndexBuffer(this._indexCount);
    this._aIndex = 0;
    this._iIndex = 0;
    this._dcIndex = 0;
    this.buildTexturesAndDrawCalls();
    this.updateGeometry();
    this.drawBatches();
    this._bufferSize = 0;
    this._vertexCount = 0;
    this._indexCount = 0;
  }
  start() {
    this.renderer.state.set(this.state);
    this.renderer.texture.ensureSamplerType(this.maxTextures);
    this.renderer.shader.bind(this._shader);
    if (_BatchRenderer.canUploadSameBuffer) {
      this.renderer.geometry.bind(this._packedGeometries[this._flushId]);
    }
  }
  stop() {
    this.flush();
  }
  destroy() {
    for (let i3 = 0; i3 < this._packedGeometryPoolSize; i3++) {
      if (this._packedGeometries[i3]) {
        this._packedGeometries[i3].destroy();
      }
    }
    this.renderer.off("prerender", this.onPrerender, this);
    this._aBuffers = null;
    this._iBuffers = null;
    this._packedGeometries = null;
    this._attributeBuffer = null;
    this._indexBuffer = null;
    if (this._shader) {
      this._shader.destroy();
      this._shader = null;
    }
    super.destroy();
  }
  getAttributeBuffer(size) {
    const roundedP2 = nextPow2(Math.ceil(size / 8));
    const roundedSizeIndex = log2(roundedP2);
    const roundedSize = roundedP2 * 8;
    if (this._aBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer2 = this._aBuffers[roundedSize];
    if (!buffer2) {
      this._aBuffers[roundedSize] = buffer2 = new ViewableBuffer(roundedSize * this.vertexSize * 4);
    }
    return buffer2;
  }
  getIndexBuffer(size) {
    const roundedP2 = nextPow2(Math.ceil(size / 12));
    const roundedSizeIndex = log2(roundedP2);
    const roundedSize = roundedP2 * 12;
    if (this._iBuffers.length <= roundedSizeIndex) {
      this._iBuffers.length = roundedSizeIndex + 1;
    }
    let buffer2 = this._iBuffers[roundedSizeIndex];
    if (!buffer2) {
      this._iBuffers[roundedSizeIndex] = buffer2 = new Uint16Array(roundedSize);
    }
    return buffer2;
  }
  packInterleavedGeometry(element, attributeBuffer, indexBuffer, aIndex, iIndex) {
    const {
      uint32View,
      float32View
    } = attributeBuffer;
    const packedVertices = aIndex / this.vertexSize;
    const uvs = element.uvs;
    const indicies = element.indices;
    const vertexData = element.vertexData;
    const textureId = element._texture.baseTexture._batchLocation;
    const alpha = Math.min(element.worldAlpha, 1);
    const argb = Color.shared.setValue(element._tintRGB).toPremultiplied(alpha, element._texture.baseTexture.alphaMode > 0);
    for (let i3 = 0; i3 < vertexData.length; i3 += 2) {
      float32View[aIndex++] = vertexData[i3];
      float32View[aIndex++] = vertexData[i3 + 1];
      float32View[aIndex++] = uvs[i3];
      float32View[aIndex++] = uvs[i3 + 1];
      uint32View[aIndex++] = argb;
      float32View[aIndex++] = textureId;
    }
    for (let i3 = 0; i3 < indicies.length; i3++) {
      indexBuffer[iIndex++] = packedVertices + indicies[i3];
    }
  }
};
var BatchRenderer = _BatchRenderer;
BatchRenderer.defaultBatchSize = 4096;
BatchRenderer.extension = {
  name: "batch",
  type: ExtensionType.RendererPlugin
};
BatchRenderer._drawCallPool = [];
BatchRenderer._textureArrayPool = [];
extensions.add(BatchRenderer);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/defaultFilter.mjs
var defaultFragment3 = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/defaultFilter2.mjs
var defaultVertex3 = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/Filter.mjs
var _Filter = class extends Shader {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    const program = Program.from(vertexSrc || _Filter.defaultVertexSrc, fragmentSrc || _Filter.defaultFragmentSrc);
    super(program, uniforms);
    this.padding = 0;
    this.resolution = _Filter.defaultResolution;
    this.multisample = _Filter.defaultMultisample;
    this.enabled = true;
    this.autoFit = true;
    this.state = new State();
  }
  apply(filterManager, input, output, clearMode, _currentState) {
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._resolution = value;
  }
  static get defaultVertexSrc() {
    return defaultVertex3;
  }
  static get defaultFragmentSrc() {
    return defaultFragment3;
  }
};
var Filter = _Filter;
Filter.defaultResolution = 1;
Filter.defaultMultisample = MSAA_QUALITY.NONE;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/background/BackgroundSystem.mjs
var BackgroundSystem = class {
  constructor() {
    this.clearBeforeRender = true;
    this._backgroundColor = new Color(0);
    this.alpha = 1;
  }
  init(options) {
    this.clearBeforeRender = options.clearBeforeRender;
    const { backgroundColor, background, backgroundAlpha } = options;
    const color = background ?? backgroundColor;
    if (color !== void 0) {
      this.color = color;
    }
    this.alpha = backgroundAlpha;
  }
  get color() {
    return this._backgroundColor.value;
  }
  set color(value) {
    this._backgroundColor.setValue(value);
  }
  get alpha() {
    return this._backgroundColor.alpha;
  }
  set alpha(value) {
    this._backgroundColor.setAlpha(value);
  }
  get backgroundColor() {
    return this._backgroundColor;
  }
  destroy() {
  }
};
BackgroundSystem.defaultOptions = {
  backgroundAlpha: 1,
  backgroundColor: 0,
  clearBeforeRender: true
};
BackgroundSystem.extension = {
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ],
  name: "background"
};
extensions.add(BackgroundSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/batch/BatchSystem.mjs
var BatchSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.emptyRenderer = new ObjectRenderer(renderer);
    this.currentRenderer = this.emptyRenderer;
  }
  setObjectRenderer(objectRenderer) {
    if (this.currentRenderer === objectRenderer) {
      return;
    }
    this.currentRenderer.stop();
    this.currentRenderer = objectRenderer;
    this.currentRenderer.start();
  }
  flush() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  reset() {
    this.setObjectRenderer(this.emptyRenderer);
  }
  copyBoundTextures(arr, maxTextures) {
    const { boundTextures } = this.renderer.texture;
    for (let i3 = maxTextures - 1; i3 >= 0; --i3) {
      arr[i3] = boundTextures[i3] || null;
      if (arr[i3]) {
        arr[i3]._batchLocation = i3;
      }
    }
  }
  boundArray(texArray, boundTextures, batchId, maxTextures) {
    const { elements, ids, count } = texArray;
    let j3 = 0;
    for (let i3 = 0; i3 < count; i3++) {
      const tex = elements[i3];
      const loc = tex._batchLocation;
      if (loc >= 0 && loc < maxTextures && boundTextures[loc] === tex) {
        ids[i3] = loc;
        continue;
      }
      while (j3 < maxTextures) {
        const bound = boundTextures[j3];
        if (bound && bound._batchEnabled === batchId && bound._batchLocation === j3) {
          j3++;
          continue;
        }
        ids[i3] = j3;
        tex._batchLocation = j3;
        boundTextures[j3] = tex;
        break;
      }
    }
  }
  destroy() {
    this.renderer = null;
  }
};
BatchSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "batch"
};
extensions.add(BatchSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/context/ContextSystem.mjs
var CONTEXT_UID_COUNTER = 0;
var ContextSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.webGLVersion = 1;
    this.extensions = {};
    this.supports = {
      uint32Indices: false
    };
    this.handleContextLost = this.handleContextLost.bind(this);
    this.handleContextRestored = this.handleContextRestored.bind(this);
  }
  get isLost() {
    return !this.gl || this.gl.isContextLost();
  }
  contextChange(gl) {
    this.gl = gl;
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
  }
  init(options) {
    if (options.context) {
      this.initFromContext(options.context);
    } else {
      const alpha = this.renderer.background.alpha < 1;
      const premultipliedAlpha = options.premultipliedAlpha;
      this.preserveDrawingBuffer = options.preserveDrawingBuffer;
      this.useContextAlpha = options.useContextAlpha;
      this.powerPreference = options.powerPreference;
      this.initFromOptions({
        alpha,
        premultipliedAlpha,
        antialias: options.antialias,
        stencil: true,
        preserveDrawingBuffer: options.preserveDrawingBuffer,
        powerPreference: options.powerPreference
      });
    }
  }
  initFromContext(gl) {
    this.gl = gl;
    this.validateContext(gl);
    this.renderer.gl = gl;
    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;
    this.renderer.runners.contextChange.emit(gl);
    const view = this.renderer.view;
    if (view.addEventListener !== void 0) {
      view.addEventListener("webglcontextlost", this.handleContextLost, false);
      view.addEventListener("webglcontextrestored", this.handleContextRestored, false);
    }
  }
  initFromOptions(options) {
    const gl = this.createContext(this.renderer.view, options);
    this.initFromContext(gl);
  }
  createContext(canvas, options) {
    let gl;
    if (settings.PREFER_ENV >= ENV.WEBGL2) {
      gl = canvas.getContext("webgl2", options);
    }
    if (gl) {
      this.webGLVersion = 2;
    } else {
      this.webGLVersion = 1;
      gl = canvas.getContext("webgl", options) || canvas.getContext("experimental-webgl", options);
      if (!gl) {
        throw new Error("This browser does not support WebGL. Try using the canvas renderer");
      }
    }
    this.gl = gl;
    this.getExtensions();
    return this.gl;
  }
  getExtensions() {
    const { gl } = this;
    const common = {
      loseContext: gl.getExtension("WEBGL_lose_context"),
      anisotropicFiltering: gl.getExtension("EXT_texture_filter_anisotropic"),
      floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
      s3tc: gl.getExtension("WEBGL_compressed_texture_s3tc"),
      s3tc_sRGB: gl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
      etc: gl.getExtension("WEBGL_compressed_texture_etc"),
      etc1: gl.getExtension("WEBGL_compressed_texture_etc1"),
      pvrtc: gl.getExtension("WEBGL_compressed_texture_pvrtc") || gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
      atc: gl.getExtension("WEBGL_compressed_texture_atc"),
      astc: gl.getExtension("WEBGL_compressed_texture_astc")
    };
    if (this.webGLVersion === 1) {
      Object.assign(this.extensions, common, {
        drawBuffers: gl.getExtension("WEBGL_draw_buffers"),
        depthTexture: gl.getExtension("WEBGL_depth_texture"),
        vertexArrayObject: gl.getExtension("OES_vertex_array_object") || gl.getExtension("MOZ_OES_vertex_array_object") || gl.getExtension("WEBKIT_OES_vertex_array_object"),
        uint32ElementIndex: gl.getExtension("OES_element_index_uint"),
        floatTexture: gl.getExtension("OES_texture_float"),
        floatTextureLinear: gl.getExtension("OES_texture_float_linear"),
        textureHalfFloat: gl.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: gl.getExtension("OES_texture_half_float_linear")
      });
    } else if (this.webGLVersion === 2) {
      Object.assign(this.extensions, common, {
        colorBufferFloat: gl.getExtension("EXT_color_buffer_float")
      });
    }
  }
  handleContextLost(event) {
    event.preventDefault();
    setTimeout(() => {
      if (this.gl.isContextLost() && this.extensions.loseContext) {
        this.extensions.loseContext.restoreContext();
      }
    }, 0);
  }
  handleContextRestored() {
    this.renderer.runners.contextChange.emit(this.gl);
  }
  destroy() {
    const view = this.renderer.view;
    this.renderer = null;
    if (view.removeEventListener !== void 0) {
      view.removeEventListener("webglcontextlost", this.handleContextLost);
      view.removeEventListener("webglcontextrestored", this.handleContextRestored);
    }
    this.gl.useProgram(null);
    if (this.extensions.loseContext) {
      this.extensions.loseContext.loseContext();
    }
  }
  postrender() {
    if (this.renderer.objectRenderer.renderingToScreen) {
      this.gl.flush();
    }
  }
  validateContext(gl) {
    const attributes = gl.getContextAttributes();
    const isWebGl2 = "WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext;
    if (isWebGl2) {
      this.webGLVersion = 2;
    }
    if (attributes && !attributes.stencil) {
      console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
    }
    const hasuint32 = isWebGl2 || !!gl.getExtension("OES_element_index_uint");
    this.supports.uint32Indices = hasuint32;
    if (!hasuint32) {
      console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly");
    }
  }
};
ContextSystem.defaultOptions = {
  context: null,
  antialias: false,
  premultipliedAlpha: true,
  preserveDrawingBuffer: false,
  powerPreference: "default"
};
ContextSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "context"
};
extensions.add(ContextSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs
var DepthResource = class extends BufferResource {
  upload(renderer, baseTexture, glTexture) {
    const gl = renderer.gl;
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    if (glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);
    }
    return true;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs
var Framebuffer = class {
  constructor(width, height) {
    this.width = Math.round(width || 100);
    this.height = Math.round(height || 100);
    this.stencil = false;
    this.depth = false;
    this.dirtyId = 0;
    this.dirtyFormat = 0;
    this.dirtySize = 0;
    this.depthTexture = null;
    this.colorTextures = [];
    this.glFramebuffers = {};
    this.disposeRunner = new Runner("disposeFramebuffer");
    this.multisample = MSAA_QUALITY.NONE;
  }
  get colorTexture() {
    return this.colorTextures[0];
  }
  addColorTexture(index = 0, texture) {
    this.colorTextures[index] = texture || new BaseTexture(null, {
      scaleMode: SCALE_MODES.NEAREST,
      resolution: 1,
      mipmap: MIPMAP_MODES.OFF,
      width: this.width,
      height: this.height
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  addDepthTexture(texture) {
    this.depthTexture = texture || new BaseTexture(new DepthResource(null, { width: this.width, height: this.height }), {
      scaleMode: SCALE_MODES.NEAREST,
      resolution: 1,
      width: this.width,
      height: this.height,
      mipmap: MIPMAP_MODES.OFF,
      format: FORMATS.DEPTH_COMPONENT,
      type: TYPES.UNSIGNED_SHORT
    });
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableDepth() {
    this.depth = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  enableStencil() {
    this.stencil = true;
    this.dirtyId++;
    this.dirtyFormat++;
    return this;
  }
  resize(width, height) {
    width = Math.round(width);
    height = Math.round(height);
    if (width === this.width && height === this.height)
      return;
    this.width = width;
    this.height = height;
    this.dirtyId++;
    this.dirtySize++;
    for (let i3 = 0; i3 < this.colorTextures.length; i3++) {
      const texture = this.colorTextures[i3];
      const resolution = texture.resolution;
      texture.setSize(width / resolution, height / resolution);
    }
    if (this.depthTexture) {
      const resolution = this.depthTexture.resolution;
      this.depthTexture.setSize(width / resolution, height / resolution);
    }
  }
  dispose() {
    this.disposeRunner.emit(this, false);
  }
  destroyDepthTexture() {
    if (this.depthTexture) {
      this.depthTexture.destroy();
      this.depthTexture = null;
      ++this.dirtyId;
      ++this.dirtyFormat;
    }
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs
var BaseRenderTexture = class extends BaseTexture {
  constructor(options = {}) {
    if (typeof options === "number") {
      const width = arguments[0];
      const height = arguments[1];
      const scaleMode = arguments[2];
      const resolution = arguments[3];
      options = { width, height, scaleMode, resolution };
    }
    options.width = options.width || 100;
    options.height = options.height || 100;
    options.multisample ?? (options.multisample = MSAA_QUALITY.NONE);
    super(null, options);
    this.mipmap = MIPMAP_MODES.OFF;
    this.valid = true;
    this._clear = new Color([0, 0, 0, 0]);
    this.framebuffer = new Framebuffer(this.realWidth, this.realHeight).addColorTexture(0, this);
    this.framebuffer.multisample = options.multisample;
    this.maskStack = [];
    this.filterStack = [{}];
  }
  set clearColor(value) {
    this._clear.setValue(value);
  }
  get clearColor() {
    return this._clear.value;
  }
  get clear() {
    return this._clear;
  }
  resize(desiredWidth, desiredHeight) {
    this.framebuffer.resize(desiredWidth * this.resolution, desiredHeight * this.resolution);
    this.setRealSize(this.framebuffer.width, this.framebuffer.height);
  }
  dispose() {
    this.framebuffer.dispose();
    super.dispose();
  }
  destroy() {
    super.destroy();
    this.framebuffer.destroyDepthTexture();
    this.framebuffer = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs
var BaseImageResource = class extends Resource2 {
  constructor(source) {
    const sourceAny = source;
    const width = sourceAny.naturalWidth || sourceAny.videoWidth || sourceAny.width;
    const height = sourceAny.naturalHeight || sourceAny.videoHeight || sourceAny.height;
    super(width, height);
    this.source = source;
    this.noSubImage = false;
  }
  static crossOrigin(element, url2, crossorigin) {
    if (crossorigin === void 0 && !url2.startsWith("data:")) {
      element.crossOrigin = determineCrossOrigin(url2);
    } else if (crossorigin !== false) {
      element.crossOrigin = typeof crossorigin === "string" ? crossorigin : "anonymous";
    }
  }
  upload(renderer, baseTexture, glTexture, source) {
    const gl = renderer.gl;
    const width = baseTexture.realWidth;
    const height = baseTexture.realHeight;
    source = source || this.source;
    if (typeof HTMLImageElement !== "undefined" && source instanceof HTMLImageElement) {
      if (!source.complete || source.naturalWidth === 0) {
        return false;
      }
    } else if (typeof HTMLVideoElement !== "undefined" && source instanceof HTMLVideoElement) {
      if (source.readyState <= 1 && source.buffered.length === 0) {
        return false;
      }
    }
    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);
    if (!this.noSubImage && baseTexture.target === gl.TEXTURE_2D && glTexture.width === width && glTexture.height === height) {
      gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, baseTexture.format, glTexture.type, source);
    } else {
      glTexture.width = width;
      glTexture.height = height;
      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, baseTexture.format, glTexture.type, source);
    }
    return true;
  }
  update() {
    if (this.destroyed) {
      return;
    }
    const source = this.source;
    const width = source.naturalWidth || source.videoWidth || source.width;
    const height = source.naturalHeight || source.videoHeight || source.height;
    this.resize(width, height);
    super.update();
  }
  dispose() {
    this.source = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs
var ImageResource = class extends BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (typeof source === "string") {
      const imageElement = new Image();
      BaseImageResource.crossOrigin(imageElement, source, options.crossorigin);
      imageElement.src = source;
      source = imageElement;
    }
    super(source);
    if (!source.complete && !!this._width && !!this._height) {
      this._width = 0;
      this._height = 0;
    }
    this.url = source.src;
    this._process = null;
    this.preserveBitmap = false;
    this.createBitmap = (options.createBitmap ?? settings.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this.bitmap = null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load(createBitmap) {
    if (this._load) {
      return this._load;
    }
    if (createBitmap !== void 0) {
      this.createBitmap = createBitmap;
    }
    this._load = new Promise((resolve2, reject) => {
      const source = this.source;
      this.url = source.src;
      const completed = () => {
        if (this.destroyed) {
          return;
        }
        source.onload = null;
        source.onerror = null;
        this.resize(source.width, source.height);
        this._load = null;
        if (this.createBitmap) {
          resolve2(this.process());
        } else {
          resolve2(this);
        }
      };
      if (source.complete && source.src) {
        completed();
      } else {
        source.onload = completed;
        source.onerror = (event) => {
          reject(event);
          this.onError.emit(event);
        };
      }
    });
    return this._load;
  }
  process() {
    const source = this.source;
    if (this._process !== null) {
      return this._process;
    }
    if (this.bitmap !== null || !globalThis.createImageBitmap) {
      return Promise.resolve(this);
    }
    const createImageBitmap2 = globalThis.createImageBitmap;
    const cors = !source.crossOrigin || source.crossOrigin === "anonymous";
    this._process = fetch(source.src, {
      mode: cors ? "cors" : "no-cors"
    }).then((r2) => r2.blob()).then((blob) => createImageBitmap2(blob, 0, 0, source.width, source.height, {
      premultiplyAlpha: this.alphaMode === null || this.alphaMode === ALPHA_MODES.UNPACK ? "premultiply" : "none"
    })).then((bitmap) => {
      if (this.destroyed) {
        return Promise.reject();
      }
      this.bitmap = bitmap;
      this.update();
      this._process = null;
      return Promise.resolve(this);
    });
    return this._process;
  }
  upload(renderer, baseTexture, glTexture) {
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    if (!this.createBitmap) {
      return super.upload(renderer, baseTexture, glTexture);
    }
    if (!this.bitmap) {
      this.process();
      if (!this.bitmap) {
        return false;
      }
    }
    super.upload(renderer, baseTexture, glTexture, this.bitmap);
    if (!this.preserveBitmap) {
      let flag = true;
      const glTextures = baseTexture._glTextures;
      for (const key2 in glTextures) {
        const otherTex = glTextures[key2];
        if (otherTex !== glTexture && otherTex.dirtyId !== baseTexture.dirtyId) {
          flag = false;
          break;
        }
      }
      if (flag) {
        if (this.bitmap.close) {
          this.bitmap.close();
        }
        this.bitmap = null;
      }
    }
    return true;
  }
  dispose() {
    this.source.onload = null;
    this.source.onerror = null;
    super.dispose();
    if (this.bitmap) {
      this.bitmap.close();
      this.bitmap = null;
    }
    this._process = null;
    this._load = null;
  }
  static test(source) {
    return typeof HTMLImageElement !== "undefined" && (typeof source === "string" || source instanceof HTMLImageElement);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/TextureUvs.mjs
var TextureUvs = class {
  constructor() {
    this.x0 = 0;
    this.y0 = 0;
    this.x1 = 1;
    this.y1 = 0;
    this.x2 = 1;
    this.y2 = 1;
    this.x3 = 0;
    this.y3 = 1;
    this.uvsFloat32 = new Float32Array(8);
  }
  set(frame, baseFrame, rotate) {
    const tw = baseFrame.width;
    const th = baseFrame.height;
    if (rotate) {
      const w22 = frame.width / 2 / tw;
      const h2 = frame.height / 2 / th;
      const cX = frame.x / tw + w22;
      const cY = frame.y / th + h2;
      rotate = groupD8.add(rotate, groupD8.NW);
      this.x0 = cX + w22 * groupD8.uX(rotate);
      this.y0 = cY + h2 * groupD8.uY(rotate);
      rotate = groupD8.add(rotate, 2);
      this.x1 = cX + w22 * groupD8.uX(rotate);
      this.y1 = cY + h2 * groupD8.uY(rotate);
      rotate = groupD8.add(rotate, 2);
      this.x2 = cX + w22 * groupD8.uX(rotate);
      this.y2 = cY + h2 * groupD8.uY(rotate);
      rotate = groupD8.add(rotate, 2);
      this.x3 = cX + w22 * groupD8.uX(rotate);
      this.y3 = cY + h2 * groupD8.uY(rotate);
    } else {
      this.x0 = frame.x / tw;
      this.y0 = frame.y / th;
      this.x1 = (frame.x + frame.width) / tw;
      this.y1 = frame.y / th;
      this.x2 = (frame.x + frame.width) / tw;
      this.y2 = (frame.y + frame.height) / th;
      this.x3 = frame.x / tw;
      this.y3 = (frame.y + frame.height) / th;
    }
    this.uvsFloat32[0] = this.x0;
    this.uvsFloat32[1] = this.y0;
    this.uvsFloat32[2] = this.x1;
    this.uvsFloat32[3] = this.y1;
    this.uvsFloat32[4] = this.x2;
    this.uvsFloat32[5] = this.y2;
    this.uvsFloat32[6] = this.x3;
    this.uvsFloat32[7] = this.y3;
  }
  toString() {
    return `[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/Texture.mjs
var DEFAULT_UVS = new TextureUvs();
function removeAllHandlers(tex) {
  tex.destroy = function _emptyDestroy() {
  };
  tex.on = function _emptyOn() {
  };
  tex.once = function _emptyOnce() {
  };
  tex.emit = function _emptyEmit() {
  };
}
var Texture = class extends import_eventemitter3.default {
  constructor(baseTexture, frame, orig, trim, rotate, anchor, borders) {
    super();
    this.noFrame = false;
    if (!frame) {
      this.noFrame = true;
      frame = new Rectangle(0, 0, 1, 1);
    }
    if (baseTexture instanceof Texture) {
      baseTexture = baseTexture.baseTexture;
    }
    this.baseTexture = baseTexture;
    this._frame = frame;
    this.trim = trim;
    this.valid = false;
    this._uvs = DEFAULT_UVS;
    this.uvMatrix = null;
    this.orig = orig || frame;
    this._rotate = Number(rotate || 0);
    if (rotate === true) {
      this._rotate = 2;
    } else if (this._rotate % 2 !== 0) {
      throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
    }
    this.defaultAnchor = anchor ? new Point(anchor.x, anchor.y) : new Point(0, 0);
    this.defaultBorders = borders;
    this._updateID = 0;
    this.textureCacheIds = [];
    if (!baseTexture.valid) {
      baseTexture.once("loaded", this.onBaseTextureUpdated, this);
    } else if (this.noFrame) {
      if (baseTexture.valid) {
        this.onBaseTextureUpdated(baseTexture);
      }
    } else {
      this.frame = frame;
    }
    if (this.noFrame) {
      baseTexture.on("update", this.onBaseTextureUpdated, this);
    }
  }
  update() {
    if (this.baseTexture.resource) {
      this.baseTexture.resource.update();
    }
  }
  onBaseTextureUpdated(baseTexture) {
    if (this.noFrame) {
      if (!this.baseTexture.valid) {
        return;
      }
      this._frame.width = baseTexture.width;
      this._frame.height = baseTexture.height;
      this.valid = true;
      this.updateUvs();
    } else {
      this.frame = this._frame;
    }
    this.emit("update", this);
  }
  destroy(destroyBase) {
    if (this.baseTexture) {
      if (destroyBase) {
        const { resource } = this.baseTexture;
        if (resource?.url && TextureCache[resource.url]) {
          Texture.removeFromCache(resource.url);
        }
        this.baseTexture.destroy();
      }
      this.baseTexture.off("loaded", this.onBaseTextureUpdated, this);
      this.baseTexture.off("update", this.onBaseTextureUpdated, this);
      this.baseTexture = null;
    }
    this._frame = null;
    this._uvs = null;
    this.trim = null;
    this.orig = null;
    this.valid = false;
    Texture.removeFromCache(this);
    this.textureCacheIds = null;
  }
  clone() {
    const clonedFrame = this._frame.clone();
    const clonedOrig = this._frame === this.orig ? clonedFrame : this.orig.clone();
    const clonedTexture = new Texture(this.baseTexture, !this.noFrame && clonedFrame, clonedOrig, this.trim?.clone(), this.rotate, this.defaultAnchor, this.defaultBorders);
    if (this.noFrame) {
      clonedTexture._frame = clonedFrame;
    }
    return clonedTexture;
  }
  updateUvs() {
    if (this._uvs === DEFAULT_UVS) {
      this._uvs = new TextureUvs();
    }
    this._uvs.set(this._frame, this.baseTexture, this.rotate);
    this._updateID++;
  }
  static from(source, options = {}, strict = settings.STRICT_TEXTURE_CACHE) {
    const isFrame = typeof source === "string";
    let cacheId = null;
    if (isFrame) {
      cacheId = source;
    } else if (source instanceof BaseTexture) {
      if (!source.cacheId) {
        const prefix2 = options?.pixiIdPrefix || "pixiid";
        source.cacheId = `${prefix2}-${uid()}`;
        BaseTexture.addToCache(source, source.cacheId);
      }
      cacheId = source.cacheId;
    } else {
      if (!source._pixiId) {
        const prefix2 = options?.pixiIdPrefix || "pixiid";
        source._pixiId = `${prefix2}_${uid()}`;
      }
      cacheId = source._pixiId;
    }
    let texture = TextureCache[cacheId];
    if (isFrame && strict && !texture) {
      throw new Error(`The cacheId "${cacheId}" does not exist in TextureCache.`);
    }
    if (!texture && !(source instanceof BaseTexture)) {
      if (!options.resolution) {
        options.resolution = getResolutionOfUrl(source);
      }
      texture = new Texture(new BaseTexture(source, options));
      texture.baseTexture.cacheId = cacheId;
      BaseTexture.addToCache(texture.baseTexture, cacheId);
      Texture.addToCache(texture, cacheId);
    } else if (!texture && source instanceof BaseTexture) {
      texture = new Texture(source);
      Texture.addToCache(texture, cacheId);
    }
    return texture;
  }
  static fromURL(url2, options) {
    const resourceOptions = Object.assign({ autoLoad: false }, options?.resourceOptions);
    const texture = Texture.from(url2, Object.assign({ resourceOptions }, options), false);
    const resource = texture.baseTexture.resource;
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return resource.load().then(() => Promise.resolve(texture));
  }
  static fromBuffer(buffer2, width, height, options) {
    return new Texture(BaseTexture.fromBuffer(buffer2, width, height, options));
  }
  static fromLoader(source, imageUrl, name, options) {
    const baseTexture = new BaseTexture(source, Object.assign({
      scaleMode: BaseTexture.defaultOptions.scaleMode,
      resolution: getResolutionOfUrl(imageUrl)
    }, options));
    const { resource } = baseTexture;
    if (resource instanceof ImageResource) {
      resource.url = imageUrl;
    }
    const texture = new Texture(baseTexture);
    if (!name) {
      name = imageUrl;
    }
    BaseTexture.addToCache(texture.baseTexture, name);
    Texture.addToCache(texture, name);
    if (name !== imageUrl) {
      BaseTexture.addToCache(texture.baseTexture, imageUrl);
      Texture.addToCache(texture, imageUrl);
    }
    if (texture.baseTexture.valid) {
      return Promise.resolve(texture);
    }
    return new Promise((resolve2) => {
      texture.baseTexture.once("loaded", () => resolve2(texture));
    });
  }
  static addToCache(texture, id) {
    if (id) {
      if (!texture.textureCacheIds.includes(id)) {
        texture.textureCacheIds.push(id);
      }
      if (TextureCache[id] && TextureCache[id] !== texture) {
        console.warn(`Texture added to the cache with an id [${id}] that already had an entry`);
      }
      TextureCache[id] = texture;
    }
  }
  static removeFromCache(texture) {
    if (typeof texture === "string") {
      const textureFromCache = TextureCache[texture];
      if (textureFromCache) {
        const index = textureFromCache.textureCacheIds.indexOf(texture);
        if (index > -1) {
          textureFromCache.textureCacheIds.splice(index, 1);
        }
        delete TextureCache[texture];
        return textureFromCache;
      }
    } else if (texture?.textureCacheIds) {
      for (let i3 = 0; i3 < texture.textureCacheIds.length; ++i3) {
        if (TextureCache[texture.textureCacheIds[i3]] === texture) {
          delete TextureCache[texture.textureCacheIds[i3]];
        }
      }
      texture.textureCacheIds.length = 0;
      return texture;
    }
    return null;
  }
  get resolution() {
    return this.baseTexture.resolution;
  }
  get frame() {
    return this._frame;
  }
  set frame(frame) {
    this._frame = frame;
    this.noFrame = false;
    const { x: x2, y: y2, width, height } = frame;
    const xNotFit = x2 + width > this.baseTexture.width;
    const yNotFit = y2 + height > this.baseTexture.height;
    if (xNotFit || yNotFit) {
      const relationship = xNotFit && yNotFit ? "and" : "or";
      const errorX = `X: ${x2} + ${width} = ${x2 + width} > ${this.baseTexture.width}`;
      const errorY = `Y: ${y2} + ${height} = ${y2 + height} > ${this.baseTexture.height}`;
      throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${errorX} ${relationship} ${errorY}`);
    }
    this.valid = width && height && this.baseTexture.valid;
    if (!this.trim && !this.rotate) {
      this.orig = frame;
    }
    if (this.valid) {
      this.updateUvs();
    }
  }
  get rotate() {
    return this._rotate;
  }
  set rotate(rotate) {
    this._rotate = rotate;
    if (this.valid) {
      this.updateUvs();
    }
  }
  get width() {
    return this.orig.width;
  }
  get height() {
    return this.orig.height;
  }
  castToBaseTexture() {
    return this.baseTexture;
  }
  static get EMPTY() {
    if (!Texture._EMPTY) {
      Texture._EMPTY = new Texture(new BaseTexture());
      removeAllHandlers(Texture._EMPTY);
      removeAllHandlers(Texture._EMPTY.baseTexture);
    }
    return Texture._EMPTY;
  }
  static get WHITE() {
    if (!Texture._WHITE) {
      const canvas = settings.ADAPTER.createCanvas(16, 16);
      const context2 = canvas.getContext("2d");
      canvas.width = 16;
      canvas.height = 16;
      context2.fillStyle = "white";
      context2.fillRect(0, 0, 16, 16);
      Texture._WHITE = new Texture(BaseTexture.from(canvas));
      removeAllHandlers(Texture._WHITE);
      removeAllHandlers(Texture._WHITE.baseTexture);
    }
    return Texture._WHITE;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs
var RenderTexture = class extends Texture {
  constructor(baseRenderTexture, frame) {
    super(baseRenderTexture, frame);
    this.valid = true;
    this.filterFrame = null;
    this.filterPoolKey = null;
    this.updateUvs();
  }
  get framebuffer() {
    return this.baseTexture.framebuffer;
  }
  get multisample() {
    return this.framebuffer.multisample;
  }
  set multisample(value) {
    this.framebuffer.multisample = value;
  }
  resize(desiredWidth, desiredHeight, resizeBaseTexture = true) {
    const resolution = this.baseTexture.resolution;
    const width = Math.round(desiredWidth * resolution) / resolution;
    const height = Math.round(desiredHeight * resolution) / resolution;
    this.valid = width > 0 && height > 0;
    this._frame.width = this.orig.width = width;
    this._frame.height = this.orig.height = height;
    if (resizeBaseTexture) {
      this.baseTexture.resize(width, height);
    }
    this.updateUvs();
  }
  setResolution(resolution) {
    const { baseTexture } = this;
    if (baseTexture.resolution === resolution) {
      return;
    }
    baseTexture.setResolution(resolution);
    this.resize(baseTexture.width, baseTexture.height, false);
  }
  static create(options) {
    return new RenderTexture(new BaseRenderTexture(options));
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs
var RenderTexturePool = class {
  constructor(textureOptions) {
    this.texturePool = {};
    this.textureOptions = textureOptions || {};
    this.enableFullScreen = false;
    this._pixelsWidth = 0;
    this._pixelsHeight = 0;
  }
  createTexture(realWidth, realHeight, multisample = MSAA_QUALITY.NONE) {
    const baseRenderTexture = new BaseRenderTexture(Object.assign({
      width: realWidth,
      height: realHeight,
      resolution: 1,
      multisample
    }, this.textureOptions));
    return new RenderTexture(baseRenderTexture);
  }
  getOptimalTexture(minWidth, minHeight, resolution = 1, multisample = MSAA_QUALITY.NONE) {
    let key2;
    minWidth = Math.ceil(minWidth * resolution - 1e-6);
    minHeight = Math.ceil(minHeight * resolution - 1e-6);
    if (!this.enableFullScreen || minWidth !== this._pixelsWidth || minHeight !== this._pixelsHeight) {
      minWidth = nextPow2(minWidth);
      minHeight = nextPow2(minHeight);
      key2 = ((minWidth & 65535) << 16 | minHeight & 65535) >>> 0;
      if (multisample > 1) {
        key2 += multisample * 4294967296;
      }
    } else {
      key2 = multisample > 1 ? -multisample : -1;
    }
    if (!this.texturePool[key2]) {
      this.texturePool[key2] = [];
    }
    let renderTexture = this.texturePool[key2].pop();
    if (!renderTexture) {
      renderTexture = this.createTexture(minWidth, minHeight, multisample);
    }
    renderTexture.filterPoolKey = key2;
    renderTexture.setResolution(resolution);
    return renderTexture;
  }
  getFilterTexture(input, resolution, multisample) {
    const filterTexture = this.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnTexture(renderTexture) {
    const key2 = renderTexture.filterPoolKey;
    renderTexture.filterFrame = null;
    this.texturePool[key2].push(renderTexture);
  }
  returnFilterTexture(renderTexture) {
    this.returnTexture(renderTexture);
  }
  clear(destroyTextures) {
    destroyTextures = destroyTextures !== false;
    if (destroyTextures) {
      for (const i3 in this.texturePool) {
        const textures = this.texturePool[i3];
        if (textures) {
          for (let j3 = 0; j3 < textures.length; j3++) {
            textures[j3].destroy(true);
          }
        }
      }
    }
    this.texturePool = {};
  }
  setScreenSize(size) {
    if (size.width === this._pixelsWidth && size.height === this._pixelsHeight) {
      return;
    }
    this.enableFullScreen = size.width > 0 && size.height > 0;
    for (const i3 in this.texturePool) {
      if (!(Number(i3) < 0)) {
        continue;
      }
      const textures = this.texturePool[i3];
      if (textures) {
        for (let j3 = 0; j3 < textures.length; j3++) {
          textures[j3].destroy(true);
        }
      }
      this.texturePool[i3] = [];
    }
    this._pixelsWidth = size.width;
    this._pixelsHeight = size.height;
  }
};
RenderTexturePool.SCREEN_KEY = -1;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/utils/Quad.mjs
var Quad = class extends Geometry {
  constructor() {
    super();
    this.addAttribute("aVertexPosition", new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ])).addIndex([0, 1, 3, 2]);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/utils/QuadUv.mjs
var QuadUv = class extends Geometry {
  constructor() {
    super();
    this.vertices = new Float32Array([
      -1,
      -1,
      1,
      -1,
      1,
      1,
      -1,
      1
    ]);
    this.uvs = new Float32Array([
      0,
      0,
      1,
      0,
      1,
      1,
      0,
      1
    ]);
    this.vertexBuffer = new Buffer2(this.vertices);
    this.uvBuffer = new Buffer2(this.uvs);
    this.addAttribute("aVertexPosition", this.vertexBuffer).addAttribute("aTextureCoord", this.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]);
  }
  map(targetTextureFrame, destinationFrame) {
    let x2 = 0;
    let y2 = 0;
    this.uvs[0] = x2;
    this.uvs[1] = y2;
    this.uvs[2] = x2 + destinationFrame.width / targetTextureFrame.width;
    this.uvs[3] = y2;
    this.uvs[4] = x2 + destinationFrame.width / targetTextureFrame.width;
    this.uvs[5] = y2 + destinationFrame.height / targetTextureFrame.height;
    this.uvs[6] = x2;
    this.uvs[7] = y2 + destinationFrame.height / targetTextureFrame.height;
    x2 = destinationFrame.x;
    y2 = destinationFrame.y;
    this.vertices[0] = x2;
    this.vertices[1] = y2;
    this.vertices[2] = x2 + destinationFrame.width;
    this.vertices[3] = y2;
    this.vertices[4] = x2 + destinationFrame.width;
    this.vertices[5] = y2 + destinationFrame.height;
    this.vertices[6] = x2;
    this.vertices[7] = y2 + destinationFrame.height;
    this.invalidate();
    return this;
  }
  invalidate() {
    this.vertexBuffer._updateID++;
    this.uvBuffer._updateID++;
    return this;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/FilterState.mjs
var FilterState = class {
  constructor() {
    this.renderTexture = null;
    this.target = null;
    this.legacy = false;
    this.resolution = 1;
    this.multisample = MSAA_QUALITY.NONE;
    this.sourceFrame = new Rectangle();
    this.destinationFrame = new Rectangle();
    this.bindingSourceFrame = new Rectangle();
    this.bindingDestinationFrame = new Rectangle();
    this.filters = [];
    this.transform = null;
  }
  clear() {
    this.target = null;
    this.filters = null;
    this.renderTexture = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/FilterSystem.mjs
var tempPoints2 = [new Point(), new Point(), new Point(), new Point()];
var tempMatrix = new Matrix();
var FilterSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultFilterStack = [{}];
    this.texturePool = new RenderTexturePool();
    this.statePool = [];
    this.quad = new Quad();
    this.quadUv = new QuadUv();
    this.tempRect = new Rectangle();
    this.activeState = {};
    this.globalUniforms = new UniformGroup({
      outputFrame: new Rectangle(),
      inputSize: new Float32Array(4),
      inputPixel: new Float32Array(4),
      inputClamp: new Float32Array(4),
      resolution: 1,
      filterArea: new Float32Array(4),
      filterClamp: new Float32Array(4)
    }, true);
    this.forceClear = false;
    this.useMaxPadding = false;
  }
  init() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  push(target, filters2) {
    const renderer = this.renderer;
    const filterStack = this.defaultFilterStack;
    const state = this.statePool.pop() || new FilterState();
    const renderTextureSystem = this.renderer.renderTexture;
    let resolution = filters2[0].resolution;
    let multisample = filters2[0].multisample;
    let padding = filters2[0].padding;
    let autoFit = filters2[0].autoFit;
    let legacy = filters2[0].legacy ?? true;
    for (let i3 = 1; i3 < filters2.length; i3++) {
      const filter = filters2[i3];
      resolution = Math.min(resolution, filter.resolution);
      multisample = Math.min(multisample, filter.multisample);
      padding = this.useMaxPadding ? Math.max(padding, filter.padding) : padding + filter.padding;
      autoFit = autoFit && filter.autoFit;
      legacy = legacy || (filter.legacy ?? true);
    }
    if (filterStack.length === 1) {
      this.defaultFilterStack[0].renderTexture = renderTextureSystem.current;
    }
    filterStack.push(state);
    state.resolution = resolution;
    state.multisample = multisample;
    state.legacy = legacy;
    state.target = target;
    state.sourceFrame.copyFrom(target.filterArea || target.getBounds(true));
    state.sourceFrame.pad(padding);
    const sourceFrameProjected = this.tempRect.copyFrom(renderTextureSystem.sourceFrame);
    if (renderer.projection.transform) {
      this.transformAABB(tempMatrix.copyFrom(renderer.projection.transform).invert(), sourceFrameProjected);
    }
    if (autoFit) {
      state.sourceFrame.fit(sourceFrameProjected);
      if (state.sourceFrame.width <= 0 || state.sourceFrame.height <= 0) {
        state.sourceFrame.width = 0;
        state.sourceFrame.height = 0;
      }
    } else if (!state.sourceFrame.intersects(sourceFrameProjected)) {
      state.sourceFrame.width = 0;
      state.sourceFrame.height = 0;
    }
    this.roundFrame(state.sourceFrame, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    state.renderTexture = this.getOptimalFilterTexture(state.sourceFrame.width, state.sourceFrame.height, resolution, multisample);
    state.filters = filters2;
    state.destinationFrame.width = state.renderTexture.width;
    state.destinationFrame.height = state.renderTexture.height;
    const destinationFrame = this.tempRect;
    destinationFrame.x = 0;
    destinationFrame.y = 0;
    destinationFrame.width = state.sourceFrame.width;
    destinationFrame.height = state.sourceFrame.height;
    state.renderTexture.filterFrame = state.sourceFrame;
    state.bindingSourceFrame.copyFrom(renderTextureSystem.sourceFrame);
    state.bindingDestinationFrame.copyFrom(renderTextureSystem.destinationFrame);
    state.transform = renderer.projection.transform;
    renderer.projection.transform = null;
    renderTextureSystem.bind(state.renderTexture, state.sourceFrame, destinationFrame);
    renderer.framebuffer.clear(0, 0, 0, 0);
  }
  pop() {
    const filterStack = this.defaultFilterStack;
    const state = filterStack.pop();
    const filters2 = state.filters;
    this.activeState = state;
    const globalUniforms = this.globalUniforms.uniforms;
    globalUniforms.outputFrame = state.sourceFrame;
    globalUniforms.resolution = state.resolution;
    const inputSize = globalUniforms.inputSize;
    const inputPixel = globalUniforms.inputPixel;
    const inputClamp = globalUniforms.inputClamp;
    inputSize[0] = state.destinationFrame.width;
    inputSize[1] = state.destinationFrame.height;
    inputSize[2] = 1 / inputSize[0];
    inputSize[3] = 1 / inputSize[1];
    inputPixel[0] = Math.round(inputSize[0] * state.resolution);
    inputPixel[1] = Math.round(inputSize[1] * state.resolution);
    inputPixel[2] = 1 / inputPixel[0];
    inputPixel[3] = 1 / inputPixel[1];
    inputClamp[0] = 0.5 * inputPixel[2];
    inputClamp[1] = 0.5 * inputPixel[3];
    inputClamp[2] = state.sourceFrame.width * inputSize[2] - 0.5 * inputPixel[2];
    inputClamp[3] = state.sourceFrame.height * inputSize[3] - 0.5 * inputPixel[3];
    if (state.legacy) {
      const filterArea = globalUniforms.filterArea;
      filterArea[0] = state.destinationFrame.width;
      filterArea[1] = state.destinationFrame.height;
      filterArea[2] = state.sourceFrame.x;
      filterArea[3] = state.sourceFrame.y;
      globalUniforms.filterClamp = globalUniforms.inputClamp;
    }
    this.globalUniforms.update();
    const lastState = filterStack[filterStack.length - 1];
    this.renderer.framebuffer.blit();
    if (filters2.length === 1) {
      filters2[0].apply(this, state.renderTexture, lastState.renderTexture, CLEAR_MODES.BLEND, state);
      this.returnFilterTexture(state.renderTexture);
    } else {
      let flip = state.renderTexture;
      let flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
      flop.filterFrame = flip.filterFrame;
      let i3 = 0;
      for (i3 = 0; i3 < filters2.length - 1; ++i3) {
        if (i3 === 1 && state.multisample > 1) {
          flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);
          flop.filterFrame = flip.filterFrame;
        }
        filters2[i3].apply(this, flip, flop, CLEAR_MODES.CLEAR, state);
        const t2 = flip;
        flip = flop;
        flop = t2;
      }
      filters2[i3].apply(this, flip, lastState.renderTexture, CLEAR_MODES.BLEND, state);
      if (i3 > 1 && state.multisample > 1) {
        this.returnFilterTexture(state.renderTexture);
      }
      this.returnFilterTexture(flip);
      this.returnFilterTexture(flop);
    }
    state.clear();
    this.statePool.push(state);
  }
  bindAndClear(filterTexture, clearMode = CLEAR_MODES.CLEAR) {
    const {
      renderTexture: renderTextureSystem,
      state: stateSystem
    } = this.renderer;
    if (filterTexture === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      this.renderer.projection.transform = this.activeState.transform;
    } else {
      this.renderer.projection.transform = null;
    }
    if (filterTexture?.filterFrame) {
      const destinationFrame = this.tempRect;
      destinationFrame.x = 0;
      destinationFrame.y = 0;
      destinationFrame.width = filterTexture.filterFrame.width;
      destinationFrame.height = filterTexture.filterFrame.height;
      renderTextureSystem.bind(filterTexture, filterTexture.filterFrame, destinationFrame);
    } else if (filterTexture !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {
      renderTextureSystem.bind(filterTexture);
    } else {
      this.renderer.renderTexture.bind(filterTexture, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);
    }
    const autoClear = stateSystem.stateId & 1 || this.forceClear;
    if (clearMode === CLEAR_MODES.CLEAR || clearMode === CLEAR_MODES.BLIT && autoClear) {
      this.renderer.framebuffer.clear(0, 0, 0, 0);
    }
  }
  applyFilter(filter, input, output, clearMode) {
    const renderer = this.renderer;
    renderer.state.set(filter.state);
    this.bindAndClear(output, clearMode);
    filter.uniforms.uSampler = input;
    filter.uniforms.filterGlobals = this.globalUniforms;
    renderer.shader.bind(filter);
    filter.legacy = !!filter.program.attributeData.aTextureCoord;
    if (filter.legacy) {
      this.quadUv.map(input._frame, input.filterFrame);
      renderer.geometry.bind(this.quadUv);
      renderer.geometry.draw(DRAW_MODES.TRIANGLES);
    } else {
      renderer.geometry.bind(this.quad);
      renderer.geometry.draw(DRAW_MODES.TRIANGLE_STRIP);
    }
  }
  calculateSpriteMatrix(outputMatrix, sprite) {
    const { sourceFrame, destinationFrame } = this.activeState;
    const { orig } = sprite._texture;
    const mappedMatrix = outputMatrix.set(destinationFrame.width, 0, 0, destinationFrame.height, sourceFrame.x, sourceFrame.y);
    const worldTransform = sprite.worldTransform.copyTo(Matrix.TEMP_MATRIX);
    worldTransform.invert();
    mappedMatrix.prepend(worldTransform);
    mappedMatrix.scale(1 / orig.width, 1 / orig.height);
    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);
    return mappedMatrix;
  }
  destroy() {
    this.renderer = null;
    this.texturePool.clear(false);
  }
  getOptimalFilterTexture(minWidth, minHeight, resolution = 1, multisample = MSAA_QUALITY.NONE) {
    return this.texturePool.getOptimalTexture(minWidth, minHeight, resolution, multisample);
  }
  getFilterTexture(input, resolution, multisample) {
    if (typeof input === "number") {
      const swap = input;
      input = resolution;
      resolution = swap;
    }
    input = input || this.activeState.renderTexture;
    const filterTexture = this.texturePool.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || MSAA_QUALITY.NONE);
    filterTexture.filterFrame = input.filterFrame;
    return filterTexture;
  }
  returnFilterTexture(renderTexture) {
    this.texturePool.returnTexture(renderTexture);
  }
  emptyPool() {
    this.texturePool.clear(true);
  }
  resize() {
    this.texturePool.setScreenSize(this.renderer.view);
  }
  transformAABB(matrix, rect) {
    const lt = tempPoints2[0];
    const lb = tempPoints2[1];
    const rt = tempPoints2[2];
    const rb = tempPoints2[3];
    lt.set(rect.left, rect.top);
    lb.set(rect.left, rect.bottom);
    rt.set(rect.right, rect.top);
    rb.set(rect.right, rect.bottom);
    matrix.apply(lt, lt);
    matrix.apply(lb, lb);
    matrix.apply(rt, rt);
    matrix.apply(rb, rb);
    const x0 = Math.min(lt.x, lb.x, rt.x, rb.x);
    const y0 = Math.min(lt.y, lb.y, rt.y, rb.y);
    const x1 = Math.max(lt.x, lb.x, rt.x, rb.x);
    const y1 = Math.max(lt.y, lb.y, rt.y, rb.y);
    rect.x = x0;
    rect.y = y0;
    rect.width = x1 - x0;
    rect.height = y1 - y0;
  }
  roundFrame(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (frame.width <= 0 || frame.height <= 0 || bindingSourceFrame.width <= 0 || bindingSourceFrame.height <= 0) {
      return;
    }
    if (transform) {
      const { a: a2, b: b3, c: c2, d: d2 } = transform;
      if ((Math.abs(b3) > 1e-4 || Math.abs(c2) > 1e-4) && (Math.abs(a2) > 1e-4 || Math.abs(d2) > 1e-4)) {
        return;
      }
    }
    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.transformAABB(transform, frame);
    frame.ceil(resolution);
    this.transformAABB(transform.invert(), frame);
  }
};
FilterSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "filter"
};
extensions.add(FilterSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs
var GLFramebuffer = class {
  constructor(framebuffer) {
    this.framebuffer = framebuffer;
    this.stencil = null;
    this.dirtyId = -1;
    this.dirtyFormat = -1;
    this.dirtySize = -1;
    this.multisample = MSAA_QUALITY.NONE;
    this.msaaBuffer = null;
    this.blitFramebuffer = null;
    this.mipLevel = 0;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs
var tempRectangle = new Rectangle();
var FramebufferSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedFramebuffers = [];
    this.unknownFramebuffer = new Framebuffer(10, 10);
    this.msaaSamples = null;
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.current = this.unknownFramebuffer;
    this.viewport = new Rectangle();
    this.hasMRT = true;
    this.writeDepthTexture = true;
    if (this.renderer.context.webGLVersion === 1) {
      let nativeDrawBuffersExtension = this.renderer.context.extensions.drawBuffers;
      let nativeDepthTextureExtension = this.renderer.context.extensions.depthTexture;
      if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {
        nativeDrawBuffersExtension = null;
        nativeDepthTextureExtension = null;
      }
      if (nativeDrawBuffersExtension) {
        gl.drawBuffers = (activeTextures) => nativeDrawBuffersExtension.drawBuffersWEBGL(activeTextures);
      } else {
        this.hasMRT = false;
        gl.drawBuffers = () => {
        };
      }
      if (!nativeDepthTextureExtension) {
        this.writeDepthTexture = false;
      }
    } else {
      this.msaaSamples = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.RGBA8, gl.SAMPLES);
    }
  }
  bind(framebuffer, frame, mipLevel = 0) {
    const { gl } = this;
    if (framebuffer) {
      const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(framebuffer);
      if (this.current !== framebuffer) {
        this.current = framebuffer;
        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo.framebuffer);
      }
      if (fbo.mipLevel !== mipLevel) {
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
        fbo.mipLevel = mipLevel;
      }
      if (fbo.dirtyId !== framebuffer.dirtyId) {
        fbo.dirtyId = framebuffer.dirtyId;
        if (fbo.dirtyFormat !== framebuffer.dirtyFormat) {
          fbo.dirtyFormat = framebuffer.dirtyFormat;
          fbo.dirtySize = framebuffer.dirtySize;
          this.updateFramebuffer(framebuffer, mipLevel);
        } else if (fbo.dirtySize !== framebuffer.dirtySize) {
          fbo.dirtySize = framebuffer.dirtySize;
          this.resizeFramebuffer(framebuffer);
        }
      }
      for (let i3 = 0; i3 < framebuffer.colorTextures.length; i3++) {
        const tex = framebuffer.colorTextures[i3];
        this.renderer.texture.unbind(tex.parentTextureArray || tex);
      }
      if (framebuffer.depthTexture) {
        this.renderer.texture.unbind(framebuffer.depthTexture);
      }
      if (frame) {
        const mipWidth = frame.width >> mipLevel;
        const mipHeight = frame.height >> mipLevel;
        const scale3 = mipWidth / frame.width;
        this.setViewport(frame.x * scale3, frame.y * scale3, mipWidth, mipHeight);
      } else {
        const mipWidth = framebuffer.width >> mipLevel;
        const mipHeight = framebuffer.height >> mipLevel;
        this.setViewport(0, 0, mipWidth, mipHeight);
      }
    } else {
      if (this.current) {
        this.current = null;
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      }
      if (frame) {
        this.setViewport(frame.x, frame.y, frame.width, frame.height);
      } else {
        this.setViewport(0, 0, this.renderer.width, this.renderer.height);
      }
    }
  }
  setViewport(x2, y2, width, height) {
    const v2 = this.viewport;
    x2 = Math.round(x2);
    y2 = Math.round(y2);
    width = Math.round(width);
    height = Math.round(height);
    if (v2.width !== width || v2.height !== height || v2.x !== x2 || v2.y !== y2) {
      v2.x = x2;
      v2.y = y2;
      v2.width = width;
      v2.height = height;
      this.gl.viewport(x2, y2, width, height);
    }
  }
  get size() {
    if (this.current) {
      return { x: 0, y: 0, width: this.current.width, height: this.current.height };
    }
    return { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
  }
  clear(r2, g3, b3, a2, mask2 = BUFFER_BITS.COLOR | BUFFER_BITS.DEPTH) {
    const { gl } = this;
    gl.clearColor(r2, g3, b3, a2);
    gl.clear(mask2);
  }
  initFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = new GLFramebuffer(gl.createFramebuffer());
    fbo.multisample = this.detectSamples(framebuffer.multisample);
    framebuffer.glFramebuffers[this.CONTEXT_UID] = fbo;
    this.managedFramebuffers.push(framebuffer);
    framebuffer.disposeRunner.add(this);
    return fbo;
  }
  resizeFramebuffer(framebuffer) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (fbo.stencil) {
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
    }
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    for (let i3 = 0; i3 < count; i3++) {
      const texture = colorTextures[i3];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i3 === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
      }
    }
    if (framebuffer.depthTexture && this.writeDepthTexture) {
      this.renderer.texture.bind(framebuffer.depthTexture, 0);
    }
  }
  updateFramebuffer(framebuffer, mipLevel) {
    const { gl } = this;
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const colorTextures = framebuffer.colorTextures;
    let count = colorTextures.length;
    if (!gl.drawBuffers) {
      count = Math.min(count, 1);
    }
    if (fbo.multisample > 1 && this.canMultisampleFramebuffer(framebuffer)) {
      fbo.msaaBuffer = fbo.msaaBuffer || gl.createRenderbuffer();
    } else if (fbo.msaaBuffer) {
      gl.deleteRenderbuffer(fbo.msaaBuffer);
      fbo.msaaBuffer = null;
      if (fbo.blitFramebuffer) {
        fbo.blitFramebuffer.dispose();
        fbo.blitFramebuffer = null;
      }
    }
    const activeTextures = [];
    for (let i3 = 0; i3 < count; i3++) {
      const texture = colorTextures[i3];
      const parentTexture = texture.parentTextureArray || texture;
      this.renderer.texture.bind(parentTexture, 0);
      if (i3 === 0 && fbo.msaaBuffer) {
        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, fbo.msaaBuffer);
      } else {
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i3, texture.target, parentTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
        activeTextures.push(gl.COLOR_ATTACHMENT0 + i3);
      }
    }
    if (activeTextures.length > 1) {
      gl.drawBuffers(activeTextures);
    }
    if (framebuffer.depthTexture) {
      const writeDepthTexture = this.writeDepthTexture;
      if (writeDepthTexture) {
        const depthTexture = framebuffer.depthTexture;
        this.renderer.texture.bind(depthTexture, 0);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);
      }
    }
    if ((framebuffer.stencil || framebuffer.depth) && !(framebuffer.depthTexture && this.writeDepthTexture)) {
      fbo.stencil = fbo.stencil || gl.createRenderbuffer();
      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);
      if (fbo.msaaBuffer) {
        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);
      } else {
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);
      }
      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, fbo.stencil);
    } else if (fbo.stencil) {
      gl.deleteRenderbuffer(fbo.stencil);
      fbo.stencil = null;
    }
  }
  canMultisampleFramebuffer(framebuffer) {
    return this.renderer.context.webGLVersion !== 1 && framebuffer.colorTextures.length <= 1 && !framebuffer.depthTexture;
  }
  detectSamples(samples) {
    const { msaaSamples } = this;
    let res = MSAA_QUALITY.NONE;
    if (samples <= 1 || msaaSamples === null) {
      return res;
    }
    for (let i3 = 0; i3 < msaaSamples.length; i3++) {
      if (msaaSamples[i3] <= samples) {
        res = msaaSamples[i3];
        break;
      }
    }
    if (res === 1) {
      res = MSAA_QUALITY.NONE;
    }
    return res;
  }
  blit(framebuffer, sourcePixels, destPixels) {
    const { current, renderer, gl, CONTEXT_UID } = this;
    if (renderer.context.webGLVersion !== 2) {
      return;
    }
    if (!current) {
      return;
    }
    const fbo = current.glFramebuffers[CONTEXT_UID];
    if (!fbo) {
      return;
    }
    if (!framebuffer) {
      if (!fbo.msaaBuffer) {
        return;
      }
      const colorTexture = current.colorTextures[0];
      if (!colorTexture) {
        return;
      }
      if (!fbo.blitFramebuffer) {
        fbo.blitFramebuffer = new Framebuffer(current.width, current.height);
        fbo.blitFramebuffer.addColorTexture(0, colorTexture);
      }
      framebuffer = fbo.blitFramebuffer;
      if (framebuffer.colorTextures[0] !== colorTexture) {
        framebuffer.colorTextures[0] = colorTexture;
        framebuffer.dirtyId++;
        framebuffer.dirtyFormat++;
      }
      if (framebuffer.width !== current.width || framebuffer.height !== current.height) {
        framebuffer.width = current.width;
        framebuffer.height = current.height;
        framebuffer.dirtyId++;
        framebuffer.dirtySize++;
      }
    }
    if (!sourcePixels) {
      sourcePixels = tempRectangle;
      sourcePixels.width = current.width;
      sourcePixels.height = current.height;
    }
    if (!destPixels) {
      destPixels = sourcePixels;
    }
    const sameSize = sourcePixels.width === destPixels.width && sourcePixels.height === destPixels.height;
    this.bind(framebuffer);
    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, fbo.framebuffer);
    gl.blitFramebuffer(sourcePixels.left, sourcePixels.top, sourcePixels.right, sourcePixels.bottom, destPixels.left, destPixels.top, destPixels.right, destPixels.bottom, gl.COLOR_BUFFER_BIT, sameSize ? gl.NEAREST : gl.LINEAR);
    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, framebuffer.glFramebuffers[this.CONTEXT_UID].framebuffer);
  }
  disposeFramebuffer(framebuffer, contextLost) {
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    const gl = this.gl;
    if (!fbo) {
      return;
    }
    delete framebuffer.glFramebuffers[this.CONTEXT_UID];
    const index = this.managedFramebuffers.indexOf(framebuffer);
    if (index >= 0) {
      this.managedFramebuffers.splice(index, 1);
    }
    framebuffer.disposeRunner.remove(this);
    if (!contextLost) {
      gl.deleteFramebuffer(fbo.framebuffer);
      if (fbo.msaaBuffer) {
        gl.deleteRenderbuffer(fbo.msaaBuffer);
      }
      if (fbo.stencil) {
        gl.deleteRenderbuffer(fbo.stencil);
      }
    }
    if (fbo.blitFramebuffer) {
      this.disposeFramebuffer(fbo.blitFramebuffer, contextLost);
    }
  }
  disposeAll(contextLost) {
    const list = this.managedFramebuffers;
    this.managedFramebuffers = [];
    for (let i3 = 0; i3 < list.length; i3++) {
      this.disposeFramebuffer(list[i3], contextLost);
    }
  }
  forceStencil() {
    const framebuffer = this.current;
    if (!framebuffer) {
      return;
    }
    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];
    if (!fbo || fbo.stencil) {
      return;
    }
    framebuffer.stencil = true;
    const w3 = framebuffer.width;
    const h2 = framebuffer.height;
    const gl = this.gl;
    const stencil = gl.createRenderbuffer();
    gl.bindRenderbuffer(gl.RENDERBUFFER, stencil);
    if (fbo.msaaBuffer) {
      gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, w3, h2);
    } else {
      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w3, h2);
    }
    fbo.stencil = stencil;
    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, stencil);
  }
  reset() {
    this.current = this.unknownFramebuffer;
    this.viewport = new Rectangle();
  }
  destroy() {
    this.renderer = null;
  }
};
FramebufferSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "framebuffer"
};
extensions.add(FramebufferSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs
var byteSizeMap2 = { 5126: 4, 5123: 2, 5121: 1 };
var GeometrySystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this._activeGeometry = null;
    this._activeVao = null;
    this.hasVao = true;
    this.hasInstance = true;
    this.canUseUInt32ElementIndex = false;
    this.managedGeometries = {};
  }
  contextChange() {
    this.disposeAll(true);
    const gl = this.gl = this.renderer.gl;
    const context2 = this.renderer.context;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    if (context2.webGLVersion !== 2) {
      let nativeVaoExtension = this.renderer.context.extensions.vertexArrayObject;
      if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {
        nativeVaoExtension = null;
      }
      if (nativeVaoExtension) {
        gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();
        gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);
        gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);
      } else {
        this.hasVao = false;
        gl.createVertexArray = () => null;
        gl.bindVertexArray = () => null;
        gl.deleteVertexArray = () => null;
      }
    }
    if (context2.webGLVersion !== 2) {
      const instanceExt = gl.getExtension("ANGLE_instanced_arrays");
      if (instanceExt) {
        gl.vertexAttribDivisor = (a2, b3) => instanceExt.vertexAttribDivisorANGLE(a2, b3);
        gl.drawElementsInstanced = (a2, b3, c2, d2, e3) => instanceExt.drawElementsInstancedANGLE(a2, b3, c2, d2, e3);
        gl.drawArraysInstanced = (a2, b3, c2, d2) => instanceExt.drawArraysInstancedANGLE(a2, b3, c2, d2);
      } else {
        this.hasInstance = false;
      }
    }
    this.canUseUInt32ElementIndex = context2.webGLVersion === 2 || !!context2.extensions.uint32ElementIndex;
  }
  bind(geometry, shader) {
    shader = shader || this.renderer.shader.shader;
    const { gl } = this;
    let vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let incRefCount = false;
    if (!vaos) {
      this.managedGeometries[geometry.id] = geometry;
      geometry.disposeRunner.add(this);
      geometry.glVertexArrayObjects[this.CONTEXT_UID] = vaos = {};
      incRefCount = true;
    }
    const vao = vaos[shader.program.id] || this.initGeometryVao(geometry, shader, incRefCount);
    this._activeGeometry = geometry;
    if (this._activeVao !== vao) {
      this._activeVao = vao;
      if (this.hasVao) {
        gl.bindVertexArray(vao);
      } else {
        this.activateVao(geometry, shader.program);
      }
    }
    this.updateBuffers();
  }
  reset() {
    this.unbind();
  }
  updateBuffers() {
    const geometry = this._activeGeometry;
    const bufferSystem = this.renderer.buffer;
    for (let i3 = 0; i3 < geometry.buffers.length; i3++) {
      const buffer2 = geometry.buffers[i3];
      bufferSystem.update(buffer2);
    }
  }
  checkCompatibility(geometry, program) {
    const geometryAttributes = geometry.attributes;
    const shaderAttributes = program.attributeData;
    for (const j3 in shaderAttributes) {
      if (!geometryAttributes[j3]) {
        throw new Error(`shader and geometry incompatible, geometry missing the "${j3}" attribute`);
      }
    }
  }
  getSignature(geometry, program) {
    const attribs = geometry.attributes;
    const shaderAttributes = program.attributeData;
    const strings = ["g", geometry.id];
    for (const i3 in attribs) {
      if (shaderAttributes[i3]) {
        strings.push(i3, shaderAttributes[i3].location);
      }
    }
    return strings.join("-");
  }
  initGeometryVao(geometry, shader, incRefCount = true) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const program = shader.program;
    if (!program.glPrograms[CONTEXT_UID]) {
      this.renderer.shader.generateProgram(shader);
    }
    this.checkCompatibility(geometry, program);
    const signature = this.getSignature(geometry, program);
    const vaoObjectHash = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    let vao = vaoObjectHash[signature];
    if (vao) {
      vaoObjectHash[program.id] = vao;
      return vao;
    }
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    const tempStride = {};
    const tempStart = {};
    for (const j3 in buffers) {
      tempStride[j3] = 0;
      tempStart[j3] = 0;
    }
    for (const j3 in attributes) {
      if (!attributes[j3].size && program.attributeData[j3]) {
        attributes[j3].size = program.attributeData[j3].size;
      } else if (!attributes[j3].size) {
        console.warn(`PIXI Geometry attribute '${j3}' size cannot be determined (likely the bound shader does not have the attribute)`);
      }
      tempStride[attributes[j3].buffer] += attributes[j3].size * byteSizeMap2[attributes[j3].type];
    }
    for (const j3 in attributes) {
      const attribute = attributes[j3];
      const attribSize = attribute.size;
      if (attribute.stride === void 0) {
        if (tempStride[attribute.buffer] === attribSize * byteSizeMap2[attribute.type]) {
          attribute.stride = 0;
        } else {
          attribute.stride = tempStride[attribute.buffer];
        }
      }
      if (attribute.start === void 0) {
        attribute.start = tempStart[attribute.buffer];
        tempStart[attribute.buffer] += attribSize * byteSizeMap2[attribute.type];
      }
    }
    vao = gl.createVertexArray();
    gl.bindVertexArray(vao);
    for (let i3 = 0; i3 < buffers.length; i3++) {
      const buffer2 = buffers[i3];
      bufferSystem.bind(buffer2);
      if (incRefCount) {
        buffer2._glBuffers[CONTEXT_UID].refCount++;
      }
    }
    this.activateVao(geometry, program);
    vaoObjectHash[program.id] = vao;
    vaoObjectHash[signature] = vao;
    gl.bindVertexArray(null);
    bufferSystem.unbind(BUFFER_TYPE.ARRAY_BUFFER);
    return vao;
  }
  disposeGeometry(geometry, contextLost) {
    if (!this.managedGeometries[geometry.id]) {
      return;
    }
    delete this.managedGeometries[geometry.id];
    const vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];
    const gl = this.gl;
    const buffers = geometry.buffers;
    const bufferSystem = this.renderer?.buffer;
    geometry.disposeRunner.remove(this);
    if (!vaos) {
      return;
    }
    if (bufferSystem) {
      for (let i3 = 0; i3 < buffers.length; i3++) {
        const buf = buffers[i3]._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffers[i3], contextLost);
          }
        }
      }
    }
    if (!contextLost) {
      for (const vaoId in vaos) {
        if (vaoId[0] === "g") {
          const vao = vaos[vaoId];
          if (this._activeVao === vao) {
            this.unbind();
          }
          gl.deleteVertexArray(vao);
        }
      }
    }
    delete geometry.glVertexArrayObjects[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedGeometries);
    for (let i3 = 0; i3 < all.length; i3++) {
      this.disposeGeometry(this.managedGeometries[all[i3]], contextLost);
    }
  }
  activateVao(geometry, program) {
    const gl = this.gl;
    const CONTEXT_UID = this.CONTEXT_UID;
    const bufferSystem = this.renderer.buffer;
    const buffers = geometry.buffers;
    const attributes = geometry.attributes;
    if (geometry.indexBuffer) {
      bufferSystem.bind(geometry.indexBuffer);
    }
    let lastBuffer = null;
    for (const j3 in attributes) {
      const attribute = attributes[j3];
      const buffer2 = buffers[attribute.buffer];
      const glBuffer = buffer2._glBuffers[CONTEXT_UID];
      if (program.attributeData[j3]) {
        if (lastBuffer !== glBuffer) {
          bufferSystem.bind(buffer2);
          lastBuffer = glBuffer;
        }
        const location = program.attributeData[j3].location;
        gl.enableVertexAttribArray(location);
        gl.vertexAttribPointer(location, attribute.size, attribute.type || gl.FLOAT, attribute.normalized, attribute.stride, attribute.start);
        if (attribute.instance) {
          if (this.hasInstance) {
            gl.vertexAttribDivisor(location, attribute.divisor);
          } else {
            throw new Error("geometry error, GPU Instancing is not supported on this device");
          }
        }
      }
    }
  }
  draw(type2, size, start, instanceCount) {
    const { gl } = this;
    const geometry = this._activeGeometry;
    if (geometry.indexBuffer) {
      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;
      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;
      if (byteSize === 2 || byteSize === 4 && this.canUseUInt32ElementIndex) {
        if (geometry.instanced) {
          gl.drawElementsInstanced(type2, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount || 1);
        } else {
          gl.drawElements(type2, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);
        }
      } else {
        console.warn("unsupported index buffer type: uint32");
      }
    } else if (geometry.instanced) {
      gl.drawArraysInstanced(type2, start, size || geometry.getSize(), instanceCount || 1);
    } else {
      gl.drawArrays(type2, start, size || geometry.getSize());
    }
    return this;
  }
  unbind() {
    this.gl.bindVertexArray(null);
    this._activeVao = null;
    this._activeGeometry = null;
  }
  destroy() {
    this.renderer = null;
  }
};
GeometrySystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "geometry"
};
extensions.add(GeometrySystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/TextureMatrix.mjs
var tempMat = new Matrix();
var TextureMatrix = class {
  constructor(texture, clampMargin) {
    this._texture = texture;
    this.mapCoord = new Matrix();
    this.uClampFrame = new Float32Array(4);
    this.uClampOffset = new Float32Array(2);
    this._textureID = -1;
    this._updateID = 0;
    this.clampOffset = 0;
    this.clampMargin = typeof clampMargin === "undefined" ? 0.5 : clampMargin;
    this.isSimple = false;
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    this._texture = value;
    this._textureID = -1;
  }
  multiplyUvs(uvs, out) {
    if (out === void 0) {
      out = uvs;
    }
    const mat = this.mapCoord;
    for (let i3 = 0; i3 < uvs.length; i3 += 2) {
      const x2 = uvs[i3];
      const y2 = uvs[i3 + 1];
      out[i3] = x2 * mat.a + y2 * mat.c + mat.tx;
      out[i3 + 1] = x2 * mat.b + y2 * mat.d + mat.ty;
    }
    return out;
  }
  update(forceUpdate) {
    const tex = this._texture;
    if (!tex || !tex.valid) {
      return false;
    }
    if (!forceUpdate && this._textureID === tex._updateID) {
      return false;
    }
    this._textureID = tex._updateID;
    this._updateID++;
    const uvs = tex._uvs;
    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);
    const orig = tex.orig;
    const trim = tex.trim;
    if (trim) {
      tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);
      this.mapCoord.append(tempMat);
    }
    const texBase = tex.baseTexture;
    const frame = this.uClampFrame;
    const margin = this.clampMargin / texBase.resolution;
    const offset = this.clampOffset;
    frame[0] = (tex._frame.x + margin + offset) / texBase.width;
    frame[1] = (tex._frame.y + margin + offset) / texBase.height;
    frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;
    frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;
    this.uClampOffset[0] = offset / texBase.realWidth;
    this.uClampOffset[1] = offset / texBase.realHeight;
    this.isSimple = tex._frame.width === texBase.width && tex._frame.height === texBase.height && tex.rotate === 0;
    return true;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs
var fragment = "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs
var vertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs
var SpriteMaskFilter = class extends Filter {
  constructor(vertexSrc, fragmentSrc, uniforms) {
    let sprite = null;
    if (typeof vertexSrc !== "string" && fragmentSrc === void 0 && uniforms === void 0) {
      sprite = vertexSrc;
      vertexSrc = void 0;
      fragmentSrc = void 0;
      uniforms = void 0;
    }
    super(vertexSrc || vertex, fragmentSrc || fragment, uniforms);
    this.maskSprite = sprite;
    this.maskMatrix = new Matrix();
  }
  get maskSprite() {
    return this._maskSprite;
  }
  set maskSprite(value) {
    this._maskSprite = value;
    if (this._maskSprite) {
      this._maskSprite.renderable = false;
    }
  }
  apply(filterManager, input, output, clearMode) {
    const maskSprite = this._maskSprite;
    const tex = maskSprite._texture;
    if (!tex.valid) {
      return;
    }
    if (!tex.uvMatrix) {
      tex.uvMatrix = new TextureMatrix(tex, 0);
    }
    tex.uvMatrix.update();
    this.uniforms.npmAlpha = tex.baseTexture.alphaMode ? 0 : 1;
    this.uniforms.mask = tex;
    this.uniforms.otherMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(tex.uvMatrix.mapCoord);
    this.uniforms.alpha = maskSprite.worldAlpha;
    this.uniforms.maskClamp = tex.uvMatrix.uClampFrame;
    filterManager.applyFilter(this, input, output, clearMode);
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/mask/MaskData.mjs
var MaskData = class {
  constructor(maskObject = null) {
    this.type = MASK_TYPES.NONE;
    this.autoDetect = true;
    this.maskObject = maskObject || null;
    this.pooled = false;
    this.isMaskData = true;
    this.resolution = null;
    this.multisample = Filter.defaultMultisample;
    this.enabled = true;
    this.colorMask = 15;
    this._filters = null;
    this._stencilCounter = 0;
    this._scissorCounter = 0;
    this._scissorRect = null;
    this._scissorRectLocal = null;
    this._colorMask = 15;
    this._target = null;
  }
  get filter() {
    return this._filters ? this._filters[0] : null;
  }
  set filter(value) {
    if (value) {
      if (this._filters) {
        this._filters[0] = value;
      } else {
        this._filters = [value];
      }
    } else {
      this._filters = null;
    }
  }
  reset() {
    if (this.pooled) {
      this.maskObject = null;
      this.type = MASK_TYPES.NONE;
      this.autoDetect = true;
    }
    this._target = null;
    this._scissorRectLocal = null;
  }
  copyCountersOrReset(maskAbove) {
    if (maskAbove) {
      this._stencilCounter = maskAbove._stencilCounter;
      this._scissorCounter = maskAbove._scissorCounter;
      this._scissorRect = maskAbove._scissorRect;
    } else {
      this._stencilCounter = 0;
      this._scissorCounter = 0;
      this._scissorRect = null;
    }
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/mask/MaskSystem.mjs
var MaskSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.enableScissor = true;
    this.alphaMaskPool = [];
    this.maskDataPool = [];
    this.maskStack = [];
    this.alphaMaskIndex = 0;
  }
  setMaskStack(maskStack) {
    this.maskStack = maskStack;
    this.renderer.scissor.setMaskStack(maskStack);
    this.renderer.stencil.setMaskStack(maskStack);
  }
  push(target, maskDataOrTarget) {
    let maskData = maskDataOrTarget;
    if (!maskData.isMaskData) {
      const d2 = this.maskDataPool.pop() || new MaskData();
      d2.pooled = true;
      d2.maskObject = maskDataOrTarget;
      maskData = d2;
    }
    const maskAbove = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
    maskData.copyCountersOrReset(maskAbove);
    maskData._colorMask = maskAbove ? maskAbove._colorMask : 15;
    if (maskData.autoDetect) {
      this.detect(maskData);
    }
    maskData._target = target;
    if (maskData.type !== MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case MASK_TYPES.SCISSOR:
          this.renderer.scissor.push(maskData);
          break;
        case MASK_TYPES.STENCIL:
          this.renderer.stencil.push(maskData);
          break;
        case MASK_TYPES.SPRITE:
          maskData.copyCountersOrReset(null);
          this.pushSpriteMask(maskData);
          break;
        case MASK_TYPES.COLOR:
          this.pushColorMask(maskData);
          break;
        default:
          break;
      }
    }
    if (maskData.type === MASK_TYPES.SPRITE) {
      this.maskStack.push(maskData);
    }
  }
  pop(target) {
    const maskData = this.maskStack.pop();
    if (!maskData || maskData._target !== target) {
      return;
    }
    if (maskData.enabled) {
      switch (maskData.type) {
        case MASK_TYPES.SCISSOR:
          this.renderer.scissor.pop(maskData);
          break;
        case MASK_TYPES.STENCIL:
          this.renderer.stencil.pop(maskData.maskObject);
          break;
        case MASK_TYPES.SPRITE:
          this.popSpriteMask(maskData);
          break;
        case MASK_TYPES.COLOR:
          this.popColorMask(maskData);
          break;
        default:
          break;
      }
    }
    maskData.reset();
    if (maskData.pooled) {
      this.maskDataPool.push(maskData);
    }
    if (this.maskStack.length !== 0) {
      const maskCurrent = this.maskStack[this.maskStack.length - 1];
      if (maskCurrent.type === MASK_TYPES.SPRITE && maskCurrent._filters) {
        maskCurrent._filters[0].maskSprite = maskCurrent.maskObject;
      }
    }
  }
  detect(maskData) {
    const maskObject = maskData.maskObject;
    if (!maskObject) {
      maskData.type = MASK_TYPES.COLOR;
    } else if (maskObject.isSprite) {
      maskData.type = MASK_TYPES.SPRITE;
    } else if (this.enableScissor && this.renderer.scissor.testScissor(maskData)) {
      maskData.type = MASK_TYPES.SCISSOR;
    } else {
      maskData.type = MASK_TYPES.STENCIL;
    }
  }
  pushSpriteMask(maskData) {
    const { maskObject } = maskData;
    const target = maskData._target;
    let alphaMaskFilter = maskData._filters;
    if (!alphaMaskFilter) {
      alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];
      if (!alphaMaskFilter) {
        alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new SpriteMaskFilter()];
      }
    }
    const renderer = this.renderer;
    const renderTextureSystem = renderer.renderTexture;
    let resolution;
    let multisample;
    if (renderTextureSystem.current) {
      const renderTexture = renderTextureSystem.current;
      resolution = maskData.resolution || renderTexture.resolution;
      multisample = maskData.multisample ?? renderTexture.multisample;
    } else {
      resolution = maskData.resolution || renderer.resolution;
      multisample = maskData.multisample ?? renderer.multisample;
    }
    alphaMaskFilter[0].resolution = resolution;
    alphaMaskFilter[0].multisample = multisample;
    alphaMaskFilter[0].maskSprite = maskObject;
    const stashFilterArea = target.filterArea;
    target.filterArea = maskObject.getBounds(true);
    renderer.filter.push(target, alphaMaskFilter);
    target.filterArea = stashFilterArea;
    if (!maskData._filters) {
      this.alphaMaskIndex++;
    }
  }
  popSpriteMask(maskData) {
    this.renderer.filter.pop();
    if (maskData._filters) {
      maskData._filters[0].maskSprite = null;
    } else {
      this.alphaMaskIndex--;
      this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null;
    }
  }
  pushColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = maskData._colorMask = currColorMask & maskData.colorMask;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  popColorMask(maskData) {
    const currColorMask = maskData._colorMask;
    const nextColorMask = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;
    if (nextColorMask !== currColorMask) {
      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);
    }
  }
  destroy() {
    this.renderer = null;
  }
};
MaskSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "mask"
};
extensions.add(MaskSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs
var AbstractMaskSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.maskStack = [];
    this.glConst = 0;
  }
  getStackLength() {
    return this.maskStack.length;
  }
  setMaskStack(maskStack) {
    const { gl } = this.renderer;
    const curStackLen = this.getStackLength();
    this.maskStack = maskStack;
    const newStackLen = this.getStackLength();
    if (newStackLen !== curStackLen) {
      if (newStackLen === 0) {
        gl.disable(this.glConst);
      } else {
        gl.enable(this.glConst);
        this._useCurrent();
      }
    }
  }
  _useCurrent() {
  }
  destroy() {
    this.renderer = null;
    this.maskStack = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/mask/ScissorSystem.mjs
var tempMatrix2 = new Matrix();
var rectPool = [];
var _ScissorSystem = class extends AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._scissorCounter;
    }
    return 0;
  }
  calcScissorRect(maskData) {
    if (maskData._scissorRectLocal) {
      return;
    }
    const prevData = maskData._scissorRect;
    const { maskObject } = maskData;
    const { renderer } = this;
    const renderTextureSystem = renderer.renderTexture;
    const rect = maskObject.getBounds(true, rectPool.pop() ?? new Rectangle());
    this.roundFrameToPixels(rect, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);
    if (prevData) {
      rect.fit(prevData);
    }
    maskData._scissorRectLocal = rect;
  }
  static isMatrixRotated(matrix) {
    if (!matrix) {
      return false;
    }
    const { a: a2, b: b3, c: c2, d: d2 } = matrix;
    return (Math.abs(b3) > 1e-4 || Math.abs(c2) > 1e-4) && (Math.abs(a2) > 1e-4 || Math.abs(d2) > 1e-4);
  }
  testScissor(maskData) {
    const { maskObject } = maskData;
    if (!maskObject.isFastRect || !maskObject.isFastRect()) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(maskObject.worldTransform)) {
      return false;
    }
    if (_ScissorSystem.isMatrixRotated(this.renderer.projection.transform)) {
      return false;
    }
    this.calcScissorRect(maskData);
    const rect = maskData._scissorRectLocal;
    return rect.width > 0 && rect.height > 0;
  }
  roundFrameToPixels(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {
    if (_ScissorSystem.isMatrixRotated(transform)) {
      return;
    }
    transform = transform ? tempMatrix2.copyFrom(transform) : tempMatrix2.identity();
    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);
    this.renderer.filter.transformAABB(transform, frame);
    frame.fit(bindingDestinationFrame);
    frame.x = Math.round(frame.x * resolution);
    frame.y = Math.round(frame.y * resolution);
    frame.width = Math.round(frame.width * resolution);
    frame.height = Math.round(frame.height * resolution);
  }
  push(maskData) {
    if (!maskData._scissorRectLocal) {
      this.calcScissorRect(maskData);
    }
    const { gl } = this.renderer;
    if (!maskData._scissorRect) {
      gl.enable(gl.SCISSOR_TEST);
    }
    maskData._scissorCounter++;
    maskData._scissorRect = maskData._scissorRectLocal;
    this._useCurrent();
  }
  pop(maskData) {
    const { gl } = this.renderer;
    if (maskData) {
      rectPool.push(maskData._scissorRectLocal);
    }
    if (this.getStackLength() > 0) {
      this._useCurrent();
    } else {
      gl.disable(gl.SCISSOR_TEST);
    }
  }
  _useCurrent() {
    const rect = this.maskStack[this.maskStack.length - 1]._scissorRect;
    let y2;
    if (this.renderer.renderTexture.current) {
      y2 = rect.y;
    } else {
      y2 = this.renderer.height - rect.height - rect.y;
    }
    this.renderer.gl.scissor(rect.x, y2, rect.width, rect.height);
  }
};
var ScissorSystem = _ScissorSystem;
ScissorSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "scissor"
};
extensions.add(ScissorSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/mask/StencilSystem.mjs
var StencilSystem = class extends AbstractMaskSystem {
  constructor(renderer) {
    super(renderer);
    this.glConst = settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST;
  }
  getStackLength() {
    const maskData = this.maskStack[this.maskStack.length - 1];
    if (maskData) {
      return maskData._stencilCounter;
    }
    return 0;
  }
  push(maskData) {
    const maskObject = maskData.maskObject;
    const { gl } = this.renderer;
    const prevMaskCount = maskData._stencilCounter;
    if (prevMaskCount === 0) {
      this.renderer.framebuffer.forceStencil();
      gl.clearStencil(0);
      gl.clear(gl.STENCIL_BUFFER_BIT);
      gl.enable(gl.STENCIL_TEST);
    }
    maskData._stencilCounter++;
    const colorMask = maskData._colorMask;
    if (colorMask !== 0) {
      maskData._colorMask = 0;
      gl.colorMask(false, false, false, false);
    }
    gl.stencilFunc(gl.EQUAL, prevMaskCount, 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);
    maskObject.renderable = true;
    maskObject.render(this.renderer);
    this.renderer.batch.flush();
    maskObject.renderable = false;
    if (colorMask !== 0) {
      maskData._colorMask = colorMask;
      gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
    }
    this._useCurrent();
  }
  pop(maskObject) {
    const gl = this.renderer.gl;
    if (this.getStackLength() === 0) {
      gl.disable(gl.STENCIL_TEST);
    } else {
      const maskData = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;
      const colorMask = maskData ? maskData._colorMask : 15;
      if (colorMask !== 0) {
        maskData._colorMask = 0;
        gl.colorMask(false, false, false, false);
      }
      gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);
      maskObject.renderable = true;
      maskObject.render(this.renderer);
      this.renderer.batch.flush();
      maskObject.renderable = false;
      if (colorMask !== 0) {
        maskData._colorMask = colorMask;
        gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);
      }
      this._useCurrent();
    }
  }
  _useCurrent() {
    const gl = this.renderer.gl;
    gl.stencilFunc(gl.EQUAL, this.getStackLength(), 4294967295);
    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);
  }
};
StencilSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "stencil"
};
extensions.add(StencilSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/plugin/PluginSystem.mjs
var PluginSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.plugins = {};
    Object.defineProperties(this.plugins, {
      extract: {
        enumerable: false,
        get() {
          deprecation("7.0.0", "renderer.plugins.extract has moved to renderer.extract");
          return renderer.extract;
        }
      },
      prepare: {
        enumerable: false,
        get() {
          deprecation("7.0.0", "renderer.plugins.prepare has moved to renderer.prepare");
          return renderer.prepare;
        }
      },
      interaction: {
        enumerable: false,
        get() {
          deprecation("7.0.0", "renderer.plugins.interaction has been deprecated, use renderer.events");
          return renderer.events;
        }
      }
    });
  }
  init() {
    const staticMap = this.rendererPlugins;
    for (const o3 in staticMap) {
      this.plugins[o3] = new staticMap[o3](this.renderer);
    }
  }
  destroy() {
    for (const o3 in this.plugins) {
      this.plugins[o3].destroy();
      this.plugins[o3] = null;
    }
  }
};
PluginSystem.extension = {
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ],
  name: "_plugin"
};
extensions.add(PluginSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs
var ProjectionSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.destinationFrame = null;
    this.sourceFrame = null;
    this.defaultFrame = null;
    this.projectionMatrix = new Matrix();
    this.transform = null;
  }
  update(destinationFrame, sourceFrame, resolution, root) {
    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;
    this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;
    this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);
    if (this.transform) {
      this.projectionMatrix.append(this.transform);
    }
    const renderer = this.renderer;
    renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;
    renderer.globalUniforms.update();
    if (renderer.shader.shader) {
      renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);
    }
  }
  calculateProjection(_destinationFrame, sourceFrame, _resolution, root) {
    const pm = this.projectionMatrix;
    const sign2 = !root ? 1 : -1;
    pm.identity();
    pm.a = 1 / sourceFrame.width * 2;
    pm.d = sign2 * (1 / sourceFrame.height * 2);
    pm.tx = -1 - sourceFrame.x * pm.a;
    pm.ty = -sign2 - sourceFrame.y * pm.d;
  }
  setTransform(_matrix) {
  }
  destroy() {
    this.renderer = null;
  }
};
ProjectionSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "projection"
};
extensions.add(ProjectionSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs
var tempTransform = new Transform();
var GenerateTextureSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this._tempMatrix = new Matrix();
  }
  generateTexture(displayObject, options) {
    const { region: manualRegion, ...textureOptions } = options || {};
    const region = manualRegion || displayObject.getLocalBounds(null, true);
    if (region.width === 0)
      region.width = 1;
    if (region.height === 0)
      region.height = 1;
    const renderTexture = RenderTexture.create({
      width: region.width,
      height: region.height,
      ...textureOptions
    });
    this._tempMatrix.tx = -region.x;
    this._tempMatrix.ty = -region.y;
    const transform = displayObject.transform;
    displayObject.transform = tempTransform;
    this.renderer.render(displayObject, {
      renderTexture,
      transform: this._tempMatrix,
      skipUpdateTransform: !!displayObject.parent,
      blit: true
    });
    displayObject.transform = transform;
    return renderTexture;
  }
  destroy() {
  }
};
GenerateTextureSystem.extension = {
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ],
  name: "textureGenerator"
};
extensions.add(GenerateTextureSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs
var tempRect = new Rectangle();
var tempRect2 = new Rectangle();
var RenderTextureSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.defaultMaskStack = [];
    this.current = null;
    this.sourceFrame = new Rectangle();
    this.destinationFrame = new Rectangle();
    this.viewportFrame = new Rectangle();
  }
  contextChange() {
    const attributes = this.renderer?.gl.getContextAttributes();
    this._rendererPremultipliedAlpha = !!(attributes && attributes.alpha && attributes.premultipliedAlpha);
  }
  bind(renderTexture = null, sourceFrame, destinationFrame) {
    const renderer = this.renderer;
    this.current = renderTexture;
    let baseTexture;
    let framebuffer;
    let resolution;
    if (renderTexture) {
      baseTexture = renderTexture.baseTexture;
      resolution = baseTexture.resolution;
      if (!sourceFrame) {
        tempRect.width = renderTexture.frame.width;
        tempRect.height = renderTexture.frame.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        tempRect2.x = renderTexture.frame.x;
        tempRect2.y = renderTexture.frame.y;
        tempRect2.width = sourceFrame.width;
        tempRect2.height = sourceFrame.height;
        destinationFrame = tempRect2;
      }
      framebuffer = baseTexture.framebuffer;
    } else {
      resolution = renderer.resolution;
      if (!sourceFrame) {
        tempRect.width = renderer._view.screen.width;
        tempRect.height = renderer._view.screen.height;
        sourceFrame = tempRect;
      }
      if (!destinationFrame) {
        destinationFrame = tempRect;
        destinationFrame.width = sourceFrame.width;
        destinationFrame.height = sourceFrame.height;
      }
    }
    const viewportFrame = this.viewportFrame;
    viewportFrame.x = destinationFrame.x * resolution;
    viewportFrame.y = destinationFrame.y * resolution;
    viewportFrame.width = destinationFrame.width * resolution;
    viewportFrame.height = destinationFrame.height * resolution;
    if (!renderTexture) {
      viewportFrame.y = renderer.view.height - (viewportFrame.y + viewportFrame.height);
    }
    viewportFrame.ceil();
    this.renderer.framebuffer.bind(framebuffer, viewportFrame);
    this.renderer.projection.update(destinationFrame, sourceFrame, resolution, !framebuffer);
    if (renderTexture) {
      this.renderer.mask.setMaskStack(baseTexture.maskStack);
    } else {
      this.renderer.mask.setMaskStack(this.defaultMaskStack);
    }
    this.sourceFrame.copyFrom(sourceFrame);
    this.destinationFrame.copyFrom(destinationFrame);
  }
  clear(clearColor, mask2) {
    const fallbackColor = this.current ? this.current.baseTexture.clear : this.renderer.background.backgroundColor;
    const color = Color.shared.setValue(clearColor ? clearColor : fallbackColor);
    if (this.current && this.current.baseTexture.alphaMode > 0 || !this.current && this._rendererPremultipliedAlpha) {
      color.premultiply(color.alpha);
    }
    const destinationFrame = this.destinationFrame;
    const baseFrame = this.current ? this.current.baseTexture : this.renderer._view.screen;
    const clearMask = destinationFrame.width !== baseFrame.width || destinationFrame.height !== baseFrame.height;
    if (clearMask) {
      let { x: x2, y: y2, width, height } = this.viewportFrame;
      x2 = Math.round(x2);
      y2 = Math.round(y2);
      width = Math.round(width);
      height = Math.round(height);
      this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
      this.renderer.gl.scissor(x2, y2, width, height);
    }
    this.renderer.framebuffer.clear(color.red, color.green, color.blue, color.alpha, mask2);
    if (clearMask) {
      this.renderer.scissor.pop();
    }
  }
  resize() {
    this.bind(null);
  }
  reset() {
    this.bind(null);
  }
  destroy() {
    this.renderer = null;
  }
};
RenderTextureSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "renderTexture"
};
extensions.add(RenderTextureSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/GLProgram.mjs
var GLProgram = class {
  constructor(program, uniformData) {
    this.program = program;
    this.uniformData = uniformData;
    this.uniformGroups = {};
    this.uniformDirtyGroups = {};
    this.uniformBufferBindings = {};
  }
  destroy() {
    this.uniformData = null;
    this.uniformGroups = null;
    this.uniformDirtyGroups = null;
    this.uniformBufferBindings = null;
    this.program = null;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs
function getAttributeData(program, gl) {
  const attributes = {};
  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
  for (let i3 = 0; i3 < totalAttributes; i3++) {
    const attribData = gl.getActiveAttrib(program, i3);
    if (attribData.name.startsWith("gl_")) {
      continue;
    }
    const type2 = mapType(gl, attribData.type);
    const data = {
      type: type2,
      name: attribData.name,
      size: mapSize(type2),
      location: gl.getAttribLocation(program, attribData.name)
    };
    attributes[attribData.name] = data;
  }
  return attributes;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs
function getUniformData(program, gl) {
  const uniforms = {};
  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
  for (let i3 = 0; i3 < totalUniforms; i3++) {
    const uniformData = gl.getActiveUniform(program, i3);
    const name = uniformData.name.replace(/\[.*?\]$/, "");
    const isArray = !!uniformData.name.match(/\[.*?\]$/);
    const type2 = mapType(gl, uniformData.type);
    uniforms[name] = {
      name,
      index: i3,
      type: type2,
      size: uniformData.size,
      isArray,
      value: defaultValue(type2, uniformData.size)
    };
  }
  return uniforms;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs
function generateProgram(gl, program) {
  const glVertShader = compileShader(gl, gl.VERTEX_SHADER, program.vertexSrc);
  const glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, program.fragmentSrc);
  const webGLProgram = gl.createProgram();
  gl.attachShader(webGLProgram, glVertShader);
  gl.attachShader(webGLProgram, glFragShader);
  const transformFeedbackVaryings = program.extra?.transformFeedbackVaryings;
  if (transformFeedbackVaryings) {
    if (typeof gl.transformFeedbackVaryings !== "function") {
      console.warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);
    } else {
      gl.transformFeedbackVaryings(webGLProgram, transformFeedbackVaryings.names, transformFeedbackVaryings.bufferMode === "separate" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS);
    }
  }
  gl.linkProgram(webGLProgram);
  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {
    logProgramError(gl, webGLProgram, glVertShader, glFragShader);
  }
  program.attributeData = getAttributeData(webGLProgram, gl);
  program.uniformData = getUniformData(webGLProgram, gl);
  if (!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(program.vertexSrc)) {
    const keys = Object.keys(program.attributeData);
    keys.sort((a2, b3) => a2 > b3 ? 1 : -1);
    for (let i3 = 0; i3 < keys.length; i3++) {
      program.attributeData[keys[i3]].location = i3;
      gl.bindAttribLocation(webGLProgram, i3, keys[i3]);
    }
    gl.linkProgram(webGLProgram);
  }
  gl.deleteShader(glVertShader);
  gl.deleteShader(glFragShader);
  const uniformData = {};
  for (const i3 in program.uniformData) {
    const data = program.uniformData[i3];
    uniformData[i3] = {
      location: gl.getUniformLocation(webGLProgram, i3),
      value: defaultValue(data.type, data.size)
    };
  }
  const glProgram = new GLProgram(webGLProgram, uniformData);
  return glProgram;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs
function uboUpdate(_ud, _uv, _renderer, _syncData, buffer2) {
  _renderer.buffer.update(buffer2);
}
var UBO_TO_SINGLE_SETTERS = {
  float: `
        data[offset] = v;
    `,
  vec2: `
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,
  vec3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,
  vec4: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,
  mat2: `
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,
  mat3: `
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,
  mat4: `
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `
};
var GLSL_TO_STD40_SIZE = {
  float: 4,
  vec2: 8,
  vec3: 12,
  vec4: 16,
  int: 4,
  ivec2: 8,
  ivec3: 12,
  ivec4: 16,
  uint: 4,
  uvec2: 8,
  uvec3: 12,
  uvec4: 16,
  bool: 4,
  bvec2: 8,
  bvec3: 12,
  bvec4: 16,
  mat2: 16 * 2,
  mat3: 16 * 3,
  mat4: 16 * 4
};
function createUBOElements(uniformData) {
  const uboElements = uniformData.map((data) => ({
    data,
    offset: 0,
    dataLen: 0,
    dirty: 0
  }));
  let size = 0;
  let chunkSize = 0;
  let offset = 0;
  for (let i3 = 0; i3 < uboElements.length; i3++) {
    const uboElement = uboElements[i3];
    size = GLSL_TO_STD40_SIZE[uboElement.data.type];
    if (uboElement.data.size > 1) {
      size = Math.max(size, 16) * uboElement.data.size;
    }
    uboElement.dataLen = size;
    if (chunkSize % size !== 0 && chunkSize < 16) {
      const lineUpValue = chunkSize % size % 16;
      chunkSize += lineUpValue;
      offset += lineUpValue;
    }
    if (chunkSize + size > 16) {
      offset = Math.ceil(offset / 16) * 16;
      uboElement.offset = offset;
      offset += size;
      chunkSize = size;
    } else {
      uboElement.offset = offset;
      chunkSize += size;
      offset += size;
    }
  }
  offset = Math.ceil(offset / 16) * 16;
  return { uboElements, size: offset };
}
function getUBOData(uniforms, uniformData) {
  const usedUniformDatas = [];
  for (const i3 in uniforms) {
    if (uniformData[i3]) {
      usedUniformDatas.push(uniformData[i3]);
    }
  }
  usedUniformDatas.sort((a2, b3) => a2.index - b3.index);
  return usedUniformDatas;
}
function generateUniformBufferSync(group, uniformData) {
  if (!group.autoManage) {
    return { size: 0, syncFunc: uboUpdate };
  }
  const usedUniformDatas = getUBOData(group.uniforms, uniformData);
  const { uboElements, size } = createUBOElements(usedUniformDatas);
  const funcFragments = [`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];
  for (let i3 = 0; i3 < uboElements.length; i3++) {
    const uboElement = uboElements[i3];
    const uniform = group.uniforms[uboElement.data.name];
    const name = uboElement.data.name;
    let parsed = false;
    for (let j3 = 0; j3 < uniformParsers.length; j3++) {
      const uniformParser = uniformParsers[j3];
      if (uniformParser.codeUbo && uniformParser.test(uboElement.data, uniform)) {
        funcFragments.push(`offset = ${uboElement.offset / 4};`, uniformParsers[j3].codeUbo(uboElement.data.name, uniform));
        parsed = true;
        break;
      }
    }
    if (!parsed) {
      if (uboElement.data.size > 1) {
        const size2 = mapSize(uboElement.data.type);
        const rowSize = Math.max(GLSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);
        const elementSize = size2 / rowSize;
        const remainder = (4 - elementSize % 4) % 4;
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};

                t = 0;

                for(var i=0; i < ${uboElement.data.size * rowSize}; i++)
                {
                    for(var j = 0; j < ${elementSize}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${remainder};
                }

                `);
      } else {
        const template = UBO_TO_SINGLE_SETTERS[uboElement.data.type];
        funcFragments.push(`
                cv = ud.${name}.value;
                v = uv.${name};
                offset = ${uboElement.offset / 4};
                ${template};
                `);
      }
    }
  }
  funcFragments.push(`
       renderer.buffer.update(buffer);
    `);
  return {
    size,
    syncFunc: new Function("ud", "uv", "renderer", "syncData", "buffer", funcFragments.join("\n"))
  };
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/shader/ShaderSystem.mjs
var UID5 = 0;
var defaultSyncData = { textureCount: 0, uboCount: 0 };
var ShaderSystem = class {
  constructor(renderer) {
    this.destroyed = false;
    this.renderer = renderer;
    this.systemCheck();
    this.gl = null;
    this.shader = null;
    this.program = null;
    this.cache = {};
    this._uboCache = {};
    this.id = UID5++;
  }
  systemCheck() {
    if (!unsafeEvalSupported()) {
      throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");
    }
  }
  contextChange(gl) {
    this.gl = gl;
    this.reset();
  }
  bind(shader, dontSync) {
    shader.disposeRunner.add(this);
    shader.uniforms.globals = this.renderer.globalUniforms;
    const program = shader.program;
    const glProgram = program.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(shader);
    this.shader = shader;
    if (this.program !== program) {
      this.program = program;
      this.gl.useProgram(glProgram.program);
    }
    if (!dontSync) {
      defaultSyncData.textureCount = 0;
      defaultSyncData.uboCount = 0;
      this.syncUniformGroup(shader.uniformGroup, defaultSyncData);
    }
    return glProgram;
  }
  setUniforms(uniforms) {
    const shader = this.shader.program;
    const glProgram = shader.glPrograms[this.renderer.CONTEXT_UID];
    shader.syncUniforms(glProgram.uniformData, uniforms, this.renderer);
  }
  syncUniformGroup(group, syncData) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== glProgram.uniformDirtyGroups[group.id]) {
      glProgram.uniformDirtyGroups[group.id] = group.dirtyId;
      this.syncUniforms(group, glProgram, syncData);
    }
  }
  syncUniforms(group, glProgram, syncData) {
    const syncFunc = group.syncUniforms[this.shader.program.id] || this.createSyncGroups(group);
    syncFunc(glProgram.uniformData, group.uniforms, this.renderer, syncData);
  }
  createSyncGroups(group) {
    const id = this.getSignature(group, this.shader.program.uniformData, "u");
    if (!this.cache[id]) {
      this.cache[id] = generateUniformsSync(group, this.shader.program.uniformData);
    }
    group.syncUniforms[this.shader.program.id] = this.cache[id];
    return group.syncUniforms[this.shader.program.id];
  }
  syncUniformBufferGroup(group, name) {
    const glProgram = this.getGlProgram();
    if (!group.static || group.dirtyId !== 0 || !glProgram.uniformGroups[group.id]) {
      group.dirtyId = 0;
      const syncFunc = glProgram.uniformGroups[group.id] || this.createSyncBufferGroup(group, glProgram, name);
      group.buffer.update();
      syncFunc(glProgram.uniformData, group.uniforms, this.renderer, defaultSyncData, group.buffer);
    }
    this.renderer.buffer.bindBufferBase(group.buffer, glProgram.uniformBufferBindings[name]);
  }
  createSyncBufferGroup(group, glProgram, name) {
    const { gl } = this.renderer;
    this.renderer.buffer.bind(group.buffer);
    const uniformBlockIndex = this.gl.getUniformBlockIndex(glProgram.program, name);
    glProgram.uniformBufferBindings[name] = this.shader.uniformBindCount;
    gl.uniformBlockBinding(glProgram.program, uniformBlockIndex, this.shader.uniformBindCount);
    this.shader.uniformBindCount++;
    const id = this.getSignature(group, this.shader.program.uniformData, "ubo");
    let uboData = this._uboCache[id];
    if (!uboData) {
      uboData = this._uboCache[id] = generateUniformBufferSync(group, this.shader.program.uniformData);
    }
    if (group.autoManage) {
      const data = new Float32Array(uboData.size / 4);
      group.buffer.update(data);
    }
    glProgram.uniformGroups[group.id] = uboData.syncFunc;
    return glProgram.uniformGroups[group.id];
  }
  getSignature(group, uniformData, preFix) {
    const uniforms = group.uniforms;
    const strings = [`${preFix}-`];
    for (const i3 in uniforms) {
      strings.push(i3);
      if (uniformData[i3]) {
        strings.push(uniformData[i3].type);
      }
    }
    return strings.join("-");
  }
  getGlProgram() {
    if (this.shader) {
      return this.shader.program.glPrograms[this.renderer.CONTEXT_UID];
    }
    return null;
  }
  generateProgram(shader) {
    const gl = this.gl;
    const program = shader.program;
    const glProgram = generateProgram(gl, program);
    program.glPrograms[this.renderer.CONTEXT_UID] = glProgram;
    return glProgram;
  }
  reset() {
    this.program = null;
    this.shader = null;
  }
  disposeShader(shader) {
    if (this.shader === shader) {
      this.shader = null;
    }
  }
  destroy() {
    this.renderer = null;
    this.destroyed = true;
  }
};
ShaderSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "shader"
};
extensions.add(ShaderSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/startup/StartupSystem.mjs
var StartupSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  run(options) {
    const { renderer } = this;
    renderer.runners.init.emit(renderer.options);
    if (options.hello) {
      console.log(`PixiJS ${"7.2.4"} - ${renderer.rendererLogId} - https://pixijs.com`);
    }
    renderer.resize(renderer.screen.width, renderer.screen.height);
  }
  destroy() {
  }
};
StartupSystem.defaultOptions = {
  hello: false
};
StartupSystem.extension = {
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ],
  name: "startup"
};
extensions.add(StartupSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs
function mapWebGLBlendModesToPixi(gl, array = []) {
  array[BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.ADD] = [gl.ONE, gl.ONE];
  array[BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.SCREEN] = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.NONE] = [0, 0];
  array[BLEND_MODES.NORMAL_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.ADD_NPM] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];
  array[BLEND_MODES.SCREEN_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.SRC_IN] = [gl.DST_ALPHA, gl.ZERO];
  array[BLEND_MODES.SRC_OUT] = [gl.ONE_MINUS_DST_ALPHA, gl.ZERO];
  array[BLEND_MODES.SRC_ATOP] = [gl.DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.DST_OVER] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE];
  array[BLEND_MODES.DST_IN] = [gl.ZERO, gl.SRC_ALPHA];
  array[BLEND_MODES.DST_OUT] = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.DST_ATOP] = [gl.ONE_MINUS_DST_ALPHA, gl.SRC_ALPHA];
  array[BLEND_MODES.XOR] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];
  array[BLEND_MODES.SUBTRACT] = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD];
  return array;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/state/StateSystem.mjs
var BLEND2 = 0;
var OFFSET2 = 1;
var CULLING2 = 2;
var DEPTH_TEST2 = 3;
var WINDING2 = 4;
var DEPTH_MASK2 = 5;
var _StateSystem = class {
  constructor() {
    this.gl = null;
    this.stateId = 0;
    this.polygonOffset = 0;
    this.blendMode = BLEND_MODES.NONE;
    this._blendEq = false;
    this.map = [];
    this.map[BLEND2] = this.setBlend;
    this.map[OFFSET2] = this.setOffset;
    this.map[CULLING2] = this.setCullFace;
    this.map[DEPTH_TEST2] = this.setDepthTest;
    this.map[WINDING2] = this.setFrontFace;
    this.map[DEPTH_MASK2] = this.setDepthMask;
    this.checks = [];
    this.defaultState = new State();
    this.defaultState.blend = true;
  }
  contextChange(gl) {
    this.gl = gl;
    this.blendModes = mapWebGLBlendModesToPixi(gl);
    this.set(this.defaultState);
    this.reset();
  }
  set(state) {
    state = state || this.defaultState;
    if (this.stateId !== state.data) {
      let diff = this.stateId ^ state.data;
      let i3 = 0;
      while (diff) {
        if (diff & 1) {
          this.map[i3].call(this, !!(state.data & 1 << i3));
        }
        diff = diff >> 1;
        i3++;
      }
      this.stateId = state.data;
    }
    for (let i3 = 0; i3 < this.checks.length; i3++) {
      this.checks[i3](this, state);
    }
  }
  forceState(state) {
    state = state || this.defaultState;
    for (let i3 = 0; i3 < this.map.length; i3++) {
      this.map[i3].call(this, !!(state.data & 1 << i3));
    }
    for (let i3 = 0; i3 < this.checks.length; i3++) {
      this.checks[i3](this, state);
    }
    this.stateId = state.data;
  }
  setBlend(value) {
    this.updateCheck(_StateSystem.checkBlendMode, value);
    this.gl[value ? "enable" : "disable"](this.gl.BLEND);
  }
  setOffset(value) {
    this.updateCheck(_StateSystem.checkPolygonOffset, value);
    this.gl[value ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
  }
  setDepthTest(value) {
    this.gl[value ? "enable" : "disable"](this.gl.DEPTH_TEST);
  }
  setDepthMask(value) {
    this.gl.depthMask(value);
  }
  setCullFace(value) {
    this.gl[value ? "enable" : "disable"](this.gl.CULL_FACE);
  }
  setFrontFace(value) {
    this.gl.frontFace(this.gl[value ? "CW" : "CCW"]);
  }
  setBlendMode(value) {
    if (value === this.blendMode) {
      return;
    }
    this.blendMode = value;
    const mode = this.blendModes[value];
    const gl = this.gl;
    if (mode.length === 2) {
      gl.blendFunc(mode[0], mode[1]);
    } else {
      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);
    }
    if (mode.length === 6) {
      this._blendEq = true;
      gl.blendEquationSeparate(mode[4], mode[5]);
    } else if (this._blendEq) {
      this._blendEq = false;
      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
    }
  }
  setPolygonOffset(value, scale3) {
    this.gl.polygonOffset(value, scale3);
  }
  reset() {
    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);
    this.forceState(this.defaultState);
    this._blendEq = true;
    this.blendMode = -1;
    this.setBlendMode(0);
  }
  updateCheck(func2, value) {
    const index = this.checks.indexOf(func2);
    if (value && index === -1) {
      this.checks.push(func2);
    } else if (!value && index !== -1) {
      this.checks.splice(index, 1);
    }
  }
  static checkBlendMode(system, state) {
    system.setBlendMode(state.blendMode);
  }
  static checkPolygonOffset(system, state) {
    system.setPolygonOffset(1, state.polygonOffset);
  }
  destroy() {
    this.gl = null;
  }
};
var StateSystem = _StateSystem;
StateSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "state"
};
extensions.add(StateSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/system/SystemManager.mjs
var SystemManager = class extends import_eventemitter3.default {
  constructor() {
    super(...arguments);
    this.runners = {};
    this._systemsHash = {};
  }
  setup(config) {
    this.addRunners(...config.runners);
    const priority = (config.priority ?? []).filter((key2) => config.systems[key2]);
    const orderByPriority = [
      ...priority,
      ...Object.keys(config.systems).filter((key2) => !priority.includes(key2))
    ];
    for (const i3 of orderByPriority) {
      this.addSystem(config.systems[i3], i3);
    }
  }
  addRunners(...runnerIds) {
    runnerIds.forEach((runnerId) => {
      this.runners[runnerId] = new Runner(runnerId);
    });
  }
  addSystem(ClassRef, name) {
    const system = new ClassRef(this);
    if (this[name]) {
      throw new Error(`Whoops! The name "${name}" is already in use`);
    }
    this[name] = system;
    this._systemsHash[name] = system;
    for (const i3 in this.runners) {
      this.runners[i3].add(system);
    }
    return this;
  }
  emitWithCustomOptions(runner, options) {
    const systemHashKeys = Object.keys(this._systemsHash);
    runner.items.forEach((system) => {
      const systemName = systemHashKeys.find((systemId) => this._systemsHash[systemId] === system);
      system[runner.name](options[systemName]);
    });
  }
  destroy() {
    Object.values(this.runners).forEach((runner) => {
      runner.destroy();
    });
    this._systemsHash = {};
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs
var _TextureGCSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.count = 0;
    this.checkCount = 0;
    this.maxIdle = _TextureGCSystem.defaultMaxIdle;
    this.checkCountMax = _TextureGCSystem.defaultCheckCountMax;
    this.mode = _TextureGCSystem.defaultMode;
  }
  postrender() {
    if (!this.renderer.objectRenderer.renderingToScreen) {
      return;
    }
    this.count++;
    if (this.mode === GC_MODES.MANUAL) {
      return;
    }
    this.checkCount++;
    if (this.checkCount > this.checkCountMax) {
      this.checkCount = 0;
      this.run();
    }
  }
  run() {
    const tm = this.renderer.texture;
    const managedTextures = tm.managedTextures;
    let wasRemoved = false;
    for (let i3 = 0; i3 < managedTextures.length; i3++) {
      const texture = managedTextures[i3];
      if (!texture.framebuffer && this.count - texture.touched > this.maxIdle) {
        tm.destroyTexture(texture, true);
        managedTextures[i3] = null;
        wasRemoved = true;
      }
    }
    if (wasRemoved) {
      let j3 = 0;
      for (let i3 = 0; i3 < managedTextures.length; i3++) {
        if (managedTextures[i3] !== null) {
          managedTextures[j3++] = managedTextures[i3];
        }
      }
      managedTextures.length = j3;
    }
  }
  unload(displayObject) {
    const tm = this.renderer.texture;
    const texture = displayObject._texture;
    if (texture && !texture.framebuffer) {
      tm.destroyTexture(texture);
    }
    for (let i3 = displayObject.children.length - 1; i3 >= 0; i3--) {
      this.unload(displayObject.children[i3]);
    }
  }
  destroy() {
    this.renderer = null;
  }
};
var TextureGCSystem = _TextureGCSystem;
TextureGCSystem.defaultMode = GC_MODES.AUTO;
TextureGCSystem.defaultMaxIdle = 60 * 60;
TextureGCSystem.defaultCheckCountMax = 60 * 10;
TextureGCSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "textureGC"
};
extensions.add(TextureGCSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/GLTexture.mjs
var GLTexture = class {
  constructor(texture) {
    this.texture = texture;
    this.width = -1;
    this.height = -1;
    this.dirtyId = -1;
    this.dirtyStyleId = -1;
    this.mipmap = false;
    this.wrapMode = 33071;
    this.type = TYPES.UNSIGNED_BYTE;
    this.internalFormat = FORMATS.RGBA;
    this.samplerType = 0;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs
function mapTypeAndFormatToInternalFormat(gl) {
  let table;
  if ("WebGL2RenderingContext" in globalThis && gl instanceof globalThis.WebGL2RenderingContext) {
    table = {
      [TYPES.UNSIGNED_BYTE]: {
        [FORMATS.RGBA]: gl.RGBA8,
        [FORMATS.RGB]: gl.RGB8,
        [FORMATS.RG]: gl.RG8,
        [FORMATS.RED]: gl.R8,
        [FORMATS.RGBA_INTEGER]: gl.RGBA8UI,
        [FORMATS.RGB_INTEGER]: gl.RGB8UI,
        [FORMATS.RG_INTEGER]: gl.RG8UI,
        [FORMATS.RED_INTEGER]: gl.R8UI,
        [FORMATS.ALPHA]: gl.ALPHA,
        [FORMATS.LUMINANCE]: gl.LUMINANCE,
        [FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [TYPES.BYTE]: {
        [FORMATS.RGBA]: gl.RGBA8_SNORM,
        [FORMATS.RGB]: gl.RGB8_SNORM,
        [FORMATS.RG]: gl.RG8_SNORM,
        [FORMATS.RED]: gl.R8_SNORM,
        [FORMATS.RGBA_INTEGER]: gl.RGBA8I,
        [FORMATS.RGB_INTEGER]: gl.RGB8I,
        [FORMATS.RG_INTEGER]: gl.RG8I,
        [FORMATS.RED_INTEGER]: gl.R8I
      },
      [TYPES.UNSIGNED_SHORT]: {
        [FORMATS.RGBA_INTEGER]: gl.RGBA16UI,
        [FORMATS.RGB_INTEGER]: gl.RGB16UI,
        [FORMATS.RG_INTEGER]: gl.RG16UI,
        [FORMATS.RED_INTEGER]: gl.R16UI,
        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT16
      },
      [TYPES.SHORT]: {
        [FORMATS.RGBA_INTEGER]: gl.RGBA16I,
        [FORMATS.RGB_INTEGER]: gl.RGB16I,
        [FORMATS.RG_INTEGER]: gl.RG16I,
        [FORMATS.RED_INTEGER]: gl.R16I
      },
      [TYPES.UNSIGNED_INT]: {
        [FORMATS.RGBA_INTEGER]: gl.RGBA32UI,
        [FORMATS.RGB_INTEGER]: gl.RGB32UI,
        [FORMATS.RG_INTEGER]: gl.RG32UI,
        [FORMATS.RED_INTEGER]: gl.R32UI,
        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT24
      },
      [TYPES.INT]: {
        [FORMATS.RGBA_INTEGER]: gl.RGBA32I,
        [FORMATS.RGB_INTEGER]: gl.RGB32I,
        [FORMATS.RG_INTEGER]: gl.RG32I,
        [FORMATS.RED_INTEGER]: gl.R32I
      },
      [TYPES.FLOAT]: {
        [FORMATS.RGBA]: gl.RGBA32F,
        [FORMATS.RGB]: gl.RGB32F,
        [FORMATS.RG]: gl.RG32F,
        [FORMATS.RED]: gl.R32F,
        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT32F
      },
      [TYPES.HALF_FLOAT]: {
        [FORMATS.RGBA]: gl.RGBA16F,
        [FORMATS.RGB]: gl.RGB16F,
        [FORMATS.RG]: gl.RG16F,
        [FORMATS.RED]: gl.R16F
      },
      [TYPES.UNSIGNED_SHORT_5_6_5]: {
        [FORMATS.RGB]: gl.RGB565
      },
      [TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [FORMATS.RGBA]: gl.RGBA4
      },
      [TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [FORMATS.RGBA]: gl.RGB5_A1
      },
      [TYPES.UNSIGNED_INT_2_10_10_10_REV]: {
        [FORMATS.RGBA]: gl.RGB10_A2,
        [FORMATS.RGBA_INTEGER]: gl.RGB10_A2UI
      },
      [TYPES.UNSIGNED_INT_10F_11F_11F_REV]: {
        [FORMATS.RGB]: gl.R11F_G11F_B10F
      },
      [TYPES.UNSIGNED_INT_5_9_9_9_REV]: {
        [FORMATS.RGB]: gl.RGB9_E5
      },
      [TYPES.UNSIGNED_INT_24_8]: {
        [FORMATS.DEPTH_STENCIL]: gl.DEPTH24_STENCIL8
      },
      [TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]: {
        [FORMATS.DEPTH_STENCIL]: gl.DEPTH32F_STENCIL8
      }
    };
  } else {
    table = {
      [TYPES.UNSIGNED_BYTE]: {
        [FORMATS.RGBA]: gl.RGBA,
        [FORMATS.RGB]: gl.RGB,
        [FORMATS.ALPHA]: gl.ALPHA,
        [FORMATS.LUMINANCE]: gl.LUMINANCE,
        [FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA
      },
      [TYPES.UNSIGNED_SHORT_5_6_5]: {
        [FORMATS.RGB]: gl.RGB
      },
      [TYPES.UNSIGNED_SHORT_4_4_4_4]: {
        [FORMATS.RGBA]: gl.RGBA
      },
      [TYPES.UNSIGNED_SHORT_5_5_5_1]: {
        [FORMATS.RGBA]: gl.RGBA
      }
    };
  }
  return table;
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/TextureSystem.mjs
var TextureSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.boundTextures = [];
    this.currentLocation = -1;
    this.managedTextures = [];
    this._unknownBoundTextures = false;
    this.unknownTexture = new BaseTexture();
    this.hasIntegerTextures = false;
  }
  contextChange() {
    const gl = this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
    this.webGLVersion = this.renderer.context.webGLVersion;
    this.internalFormats = mapTypeAndFormatToInternalFormat(gl);
    const maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
    this.boundTextures.length = maxTextures;
    for (let i3 = 0; i3 < maxTextures; i3++) {
      this.boundTextures[i3] = null;
    }
    this.emptyTextures = {};
    const emptyTexture2D = new GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_2D, emptyTexture2D.texture);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(4));
    this.emptyTextures[gl.TEXTURE_2D] = emptyTexture2D;
    this.emptyTextures[gl.TEXTURE_CUBE_MAP] = new GLTexture(gl.createTexture());
    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this.emptyTextures[gl.TEXTURE_CUBE_MAP].texture);
    for (let i3 = 0; i3 < 6; i3++) {
      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i3, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
    }
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
    for (let i3 = 0; i3 < this.boundTextures.length; i3++) {
      this.bind(null, i3);
    }
  }
  bind(texture, location = 0) {
    const { gl } = this;
    texture = texture?.castToBaseTexture();
    if (texture?.valid && !texture.parentTextureArray) {
      texture.touched = this.renderer.textureGC.count;
      const glTexture = texture._glTextures[this.CONTEXT_UID] || this.initTexture(texture);
      if (this.boundTextures[location] !== texture) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        gl.bindTexture(texture.target, glTexture.texture);
      }
      if (glTexture.dirtyId !== texture.dirtyId) {
        if (this.currentLocation !== location) {
          this.currentLocation = location;
          gl.activeTexture(gl.TEXTURE0 + location);
        }
        this.updateTexture(texture);
      } else if (glTexture.dirtyStyleId !== texture.dirtyStyleId) {
        this.updateTextureStyle(texture);
      }
      this.boundTextures[location] = texture;
    } else {
      if (this.currentLocation !== location) {
        this.currentLocation = location;
        gl.activeTexture(gl.TEXTURE0 + location);
      }
      gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[gl.TEXTURE_2D].texture);
      this.boundTextures[location] = null;
    }
  }
  reset() {
    this._unknownBoundTextures = true;
    this.hasIntegerTextures = false;
    this.currentLocation = -1;
    for (let i3 = 0; i3 < this.boundTextures.length; i3++) {
      this.boundTextures[i3] = this.unknownTexture;
    }
  }
  unbind(texture) {
    const { gl, boundTextures } = this;
    if (this._unknownBoundTextures) {
      this._unknownBoundTextures = false;
      for (let i3 = 0; i3 < boundTextures.length; i3++) {
        if (boundTextures[i3] === this.unknownTexture) {
          this.bind(null, i3);
        }
      }
    }
    for (let i3 = 0; i3 < boundTextures.length; i3++) {
      if (boundTextures[i3] === texture) {
        if (this.currentLocation !== i3) {
          gl.activeTexture(gl.TEXTURE0 + i3);
          this.currentLocation = i3;
        }
        gl.bindTexture(texture.target, this.emptyTextures[texture.target].texture);
        boundTextures[i3] = null;
      }
    }
  }
  ensureSamplerType(maxTextures) {
    const { boundTextures, hasIntegerTextures, CONTEXT_UID } = this;
    if (!hasIntegerTextures) {
      return;
    }
    for (let i3 = maxTextures - 1; i3 >= 0; --i3) {
      const tex = boundTextures[i3];
      if (tex) {
        const glTexture = tex._glTextures[CONTEXT_UID];
        if (glTexture.samplerType !== SAMPLER_TYPES.FLOAT) {
          this.renderer.texture.unbind(tex);
        }
      }
    }
  }
  initTexture(texture) {
    const glTexture = new GLTexture(this.gl.createTexture());
    glTexture.dirtyId = -1;
    texture._glTextures[this.CONTEXT_UID] = glTexture;
    this.managedTextures.push(texture);
    texture.on("dispose", this.destroyTexture, this);
    return glTexture;
  }
  initTextureType(texture, glTexture) {
    glTexture.internalFormat = this.internalFormats[texture.type]?.[texture.format] ?? texture.format;
    if (this.webGLVersion === 2 && texture.type === TYPES.HALF_FLOAT) {
      glTexture.type = this.gl.HALF_FLOAT;
    } else {
      glTexture.type = texture.type;
    }
  }
  updateTexture(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    const renderer = this.renderer;
    this.initTextureType(texture, glTexture);
    if (texture.resource?.upload(renderer, texture, glTexture)) {
      if (glTexture.samplerType !== SAMPLER_TYPES.FLOAT) {
        this.hasIntegerTextures = true;
      }
    } else {
      const width = texture.realWidth;
      const height = texture.realHeight;
      const gl = renderer.gl;
      if (glTexture.width !== width || glTexture.height !== height || glTexture.dirtyId < 0) {
        glTexture.width = width;
        glTexture.height = height;
        gl.texImage2D(texture.target, 0, glTexture.internalFormat, width, height, 0, texture.format, glTexture.type, null);
      }
    }
    if (texture.dirtyStyleId !== glTexture.dirtyStyleId) {
      this.updateTextureStyle(texture);
    }
    glTexture.dirtyId = texture.dirtyId;
  }
  destroyTexture(texture, skipRemove) {
    const { gl } = this;
    texture = texture.castToBaseTexture();
    if (texture._glTextures[this.CONTEXT_UID]) {
      this.unbind(texture);
      gl.deleteTexture(texture._glTextures[this.CONTEXT_UID].texture);
      texture.off("dispose", this.destroyTexture, this);
      delete texture._glTextures[this.CONTEXT_UID];
      if (!skipRemove) {
        const i3 = this.managedTextures.indexOf(texture);
        if (i3 !== -1) {
          removeItems(this.managedTextures, i3, 1);
        }
      }
    }
  }
  updateTextureStyle(texture) {
    const glTexture = texture._glTextures[this.CONTEXT_UID];
    if (!glTexture) {
      return;
    }
    if ((texture.mipmap === MIPMAP_MODES.POW2 || this.webGLVersion !== 2) && !texture.isPowerOfTwo) {
      glTexture.mipmap = false;
    } else {
      glTexture.mipmap = texture.mipmap >= 1;
    }
    if (this.webGLVersion !== 2 && !texture.isPowerOfTwo) {
      glTexture.wrapMode = WRAP_MODES.CLAMP;
    } else {
      glTexture.wrapMode = texture.wrapMode;
    }
    if (texture.resource?.style(this.renderer, texture, glTexture)) {
    } else {
      this.setStyle(texture, glTexture);
    }
    glTexture.dirtyStyleId = texture.dirtyStyleId;
  }
  setStyle(texture, glTexture) {
    const gl = this.gl;
    if (glTexture.mipmap && texture.mipmap !== MIPMAP_MODES.ON_MANUAL) {
      gl.generateMipmap(texture.target);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_S, glTexture.wrapMode);
    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_T, glTexture.wrapMode);
    if (glTexture.mipmap) {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);
      const anisotropicExt = this.renderer.context.extensions.anisotropicFiltering;
      if (anisotropicExt && texture.anisotropicLevel > 0 && texture.scaleMode === SCALE_MODES.LINEAR) {
        const level = Math.min(texture.anisotropicLevel, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
        gl.texParameterf(texture.target, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);
      }
    } else {
      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
    }
    gl.texParameteri(texture.target, gl.TEXTURE_MAG_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
  }
  destroy() {
    this.renderer = null;
  }
};
TextureSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "texture"
};
extensions.add(TextureSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs
var TransformFeedbackSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange() {
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(transformFeedback) {
    const { gl, CONTEXT_UID } = this;
    const glTransformFeedback = transformFeedback._glTransformFeedbacks[CONTEXT_UID] || this.createGLTransformFeedback(transformFeedback);
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
  }
  unbind() {
    const { gl } = this;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
  }
  beginTransformFeedback(drawMode, shader) {
    const { gl, renderer } = this;
    if (shader) {
      renderer.shader.bind(shader);
    }
    gl.beginTransformFeedback(drawMode);
  }
  endTransformFeedback() {
    const { gl } = this;
    gl.endTransformFeedback();
  }
  createGLTransformFeedback(tf) {
    const { gl, renderer, CONTEXT_UID } = this;
    const glTransformFeedback = gl.createTransformFeedback();
    tf._glTransformFeedbacks[CONTEXT_UID] = glTransformFeedback;
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);
    for (let i3 = 0; i3 < tf.buffers.length; i3++) {
      const buffer2 = tf.buffers[i3];
      if (!buffer2)
        continue;
      renderer.buffer.update(buffer2);
      buffer2._glBuffers[CONTEXT_UID].refCount++;
      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, i3, buffer2._glBuffers[CONTEXT_UID].buffer || null);
    }
    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);
    tf.disposeRunner.add(this);
    return glTransformFeedback;
  }
  disposeTransformFeedback(tf, contextLost) {
    const glTF = tf._glTransformFeedbacks[this.CONTEXT_UID];
    const gl = this.gl;
    tf.disposeRunner.remove(this);
    const bufferSystem = this.renderer.buffer;
    if (bufferSystem) {
      for (let i3 = 0; i3 < tf.buffers.length; i3++) {
        const buffer2 = tf.buffers[i3];
        if (!buffer2)
          continue;
        const buf = buffer2._glBuffers[this.CONTEXT_UID];
        if (buf) {
          buf.refCount--;
          if (buf.refCount === 0 && !contextLost) {
            bufferSystem.dispose(buffer2, contextLost);
          }
        }
      }
    }
    if (!glTF) {
      return;
    }
    if (!contextLost) {
      gl.deleteTransformFeedback(glTF);
    }
    delete tf._glTransformFeedbacks[this.CONTEXT_UID];
  }
  destroy() {
    this.renderer = null;
  }
};
TransformFeedbackSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "transformFeedback"
};
extensions.add(TransformFeedbackSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/view/ViewSystem.mjs
var ViewSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  init(options) {
    this.screen = new Rectangle(0, 0, options.width, options.height);
    this.element = options.view || settings.ADAPTER.createCanvas();
    this.resolution = options.resolution || settings.RESOLUTION;
    this.autoDensity = !!options.autoDensity;
  }
  resizeView(desiredScreenWidth, desiredScreenHeight) {
    this.element.width = Math.round(desiredScreenWidth * this.resolution);
    this.element.height = Math.round(desiredScreenHeight * this.resolution);
    const screenWidth = this.element.width / this.resolution;
    const screenHeight = this.element.height / this.resolution;
    this.screen.width = screenWidth;
    this.screen.height = screenHeight;
    if (this.autoDensity) {
      this.element.style.width = `${screenWidth}px`;
      this.element.style.height = `${screenHeight}px`;
    }
    this.renderer.emit("resize", screenWidth, screenHeight);
    this.renderer.runners.resize.emit(this.screen.width, this.screen.height);
  }
  destroy(removeView) {
    if (removeView) {
      this.element.parentNode?.removeChild(this.element);
    }
    this.renderer = null;
    this.element = null;
    this.screen = null;
  }
};
ViewSystem.defaultOptions = {
  width: 800,
  height: 600,
  resolution: settings.RESOLUTION,
  autoDensity: false
};
ViewSystem.extension = {
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ],
  name: "_view"
};
extensions.add(ViewSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/settings.mjs
settings.PREFER_ENV = ENV.WEBGL2;
settings.STRICT_TEXTURE_CACHE = false;
settings.RENDER_OPTIONS = {
  ...ContextSystem.defaultOptions,
  ...BackgroundSystem.defaultOptions,
  ...ViewSystem.defaultOptions,
  ...StartupSystem.defaultOptions
};
Object.defineProperties(settings, {
  WRAP_MODE: {
    get() {
      return BaseTexture.defaultOptions.wrapMode;
    },
    set(value) {
      deprecation("7.1.0", "settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode");
      BaseTexture.defaultOptions.wrapMode = value;
    }
  },
  SCALE_MODE: {
    get() {
      return BaseTexture.defaultOptions.scaleMode;
    },
    set(value) {
      deprecation("7.1.0", "settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode");
      BaseTexture.defaultOptions.scaleMode = value;
    }
  },
  MIPMAP_TEXTURES: {
    get() {
      return BaseTexture.defaultOptions.mipmap;
    },
    set(value) {
      deprecation("7.1.0", "settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap");
      BaseTexture.defaultOptions.mipmap = value;
    }
  },
  ANISOTROPIC_LEVEL: {
    get() {
      return BaseTexture.defaultOptions.anisotropicLevel;
    },
    set(value) {
      deprecation("7.1.0", "settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel");
      BaseTexture.defaultOptions.anisotropicLevel = value;
    }
  },
  FILTER_RESOLUTION: {
    get() {
      deprecation("7.1.0", "settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution");
      return Filter.defaultResolution;
    },
    set(value) {
      Filter.defaultResolution = value;
    }
  },
  FILTER_MULTISAMPLE: {
    get() {
      deprecation("7.1.0", "settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample");
      return Filter.defaultMultisample;
    },
    set(value) {
      Filter.defaultMultisample = value;
    }
  },
  SPRITE_MAX_TEXTURES: {
    get() {
      return BatchRenderer.defaultMaxTextures;
    },
    set(value) {
      deprecation("7.1.0", "settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures");
      BatchRenderer.defaultMaxTextures = value;
    }
  },
  SPRITE_BATCH_SIZE: {
    get() {
      return BatchRenderer.defaultBatchSize;
    },
    set(value) {
      deprecation("7.1.0", "settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize");
      BatchRenderer.defaultBatchSize = value;
    }
  },
  CAN_UPLOAD_SAME_BUFFER: {
    get() {
      return BatchRenderer.canUploadSameBuffer;
    },
    set(value) {
      deprecation("7.1.0", "settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer");
      BatchRenderer.canUploadSameBuffer = value;
    }
  },
  GC_MODE: {
    get() {
      return TextureGCSystem.defaultMode;
    },
    set(value) {
      deprecation("7.1.0", "settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode");
      TextureGCSystem.defaultMode = value;
    }
  },
  GC_MAX_IDLE: {
    get() {
      return TextureGCSystem.defaultMaxIdle;
    },
    set(value) {
      deprecation("7.1.0", "settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle");
      TextureGCSystem.defaultMaxIdle = value;
    }
  },
  GC_MAX_CHECK_COUNT: {
    get() {
      return TextureGCSystem.defaultCheckCountMax;
    },
    set(value) {
      deprecation("7.1.0", "settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax");
      TextureGCSystem.defaultCheckCountMax = value;
    }
  },
  PRECISION_VERTEX: {
    get() {
      return Program.defaultVertexPrecision;
    },
    set(value) {
      deprecation("7.1.0", "settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision");
      Program.defaultVertexPrecision = value;
    }
  },
  PRECISION_FRAGMENT: {
    get() {
      return Program.defaultFragmentPrecision;
    },
    set(value) {
      deprecation("7.1.0", "settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision");
      Program.defaultFragmentPrecision = value;
    }
  }
});

// ../../node_modules/.pnpm/@pixi+ticker@7.2.4/node_modules/@pixi/ticker/lib/const.mjs
var UPDATE_PRIORITY = /* @__PURE__ */ ((UPDATE_PRIORITY2) => {
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["INTERACTION"] = 50] = "INTERACTION";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["HIGH"] = 25] = "HIGH";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["NORMAL"] = 0] = "NORMAL";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["LOW"] = -25] = "LOW";
  UPDATE_PRIORITY2[UPDATE_PRIORITY2["UTILITY"] = -50] = "UTILITY";
  return UPDATE_PRIORITY2;
})(UPDATE_PRIORITY || {});

// ../../node_modules/.pnpm/@pixi+ticker@7.2.4/node_modules/@pixi/ticker/lib/TickerListener.mjs
var TickerListener = class {
  constructor(fn, context2 = null, priority = 0, once = false) {
    this.next = null;
    this.previous = null;
    this._destroyed = false;
    this.fn = fn;
    this.context = context2;
    this.priority = priority;
    this.once = once;
  }
  match(fn, context2 = null) {
    return this.fn === fn && this.context === context2;
  }
  emit(deltaTime) {
    if (this.fn) {
      if (this.context) {
        this.fn.call(this.context, deltaTime);
      } else {
        this.fn(deltaTime);
      }
    }
    const redirect = this.next;
    if (this.once) {
      this.destroy(true);
    }
    if (this._destroyed) {
      this.next = null;
    }
    return redirect;
  }
  connect(previous) {
    this.previous = previous;
    if (previous.next) {
      previous.next.previous = this;
    }
    this.next = previous.next;
    previous.next = this;
  }
  destroy(hard = false) {
    this._destroyed = true;
    this.fn = null;
    this.context = null;
    if (this.previous) {
      this.previous.next = this.next;
    }
    if (this.next) {
      this.next.previous = this.previous;
    }
    const redirect = this.next;
    this.next = hard ? null : redirect;
    this.previous = null;
    return redirect;
  }
};

// ../../node_modules/.pnpm/@pixi+ticker@7.2.4/node_modules/@pixi/ticker/lib/Ticker.mjs
var _Ticker = class {
  constructor() {
    this.autoStart = false;
    this.deltaTime = 1;
    this.lastTime = -1;
    this.speed = 1;
    this.started = false;
    this._requestId = null;
    this._maxElapsedMS = 100;
    this._minElapsedMS = 0;
    this._protected = false;
    this._lastFrame = -1;
    this._head = new TickerListener(null, null, Infinity);
    this.deltaMS = 1 / _Ticker.targetFPMS;
    this.elapsedMS = 1 / _Ticker.targetFPMS;
    this._tick = (time) => {
      this._requestId = null;
      if (this.started) {
        this.update(time);
        if (this.started && this._requestId === null && this._head.next) {
          this._requestId = requestAnimationFrame(this._tick);
        }
      }
    };
  }
  _requestIfNeeded() {
    if (this._requestId === null && this._head.next) {
      this.lastTime = performance.now();
      this._lastFrame = this.lastTime;
      this._requestId = requestAnimationFrame(this._tick);
    }
  }
  _cancelIfNeeded() {
    if (this._requestId !== null) {
      cancelAnimationFrame(this._requestId);
      this._requestId = null;
    }
  }
  _startIfPossible() {
    if (this.started) {
      this._requestIfNeeded();
    } else if (this.autoStart) {
      this.start();
    }
  }
  add(fn, context2, priority = UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new TickerListener(fn, context2, priority));
  }
  addOnce(fn, context2, priority = UPDATE_PRIORITY.NORMAL) {
    return this._addListener(new TickerListener(fn, context2, priority, true));
  }
  _addListener(listener) {
    let current = this._head.next;
    let previous = this._head;
    if (!current) {
      listener.connect(previous);
    } else {
      while (current) {
        if (listener.priority > current.priority) {
          listener.connect(previous);
          break;
        }
        previous = current;
        current = current.next;
      }
      if (!listener.previous) {
        listener.connect(previous);
      }
    }
    this._startIfPossible();
    return this;
  }
  remove(fn, context2) {
    let listener = this._head.next;
    while (listener) {
      if (listener.match(fn, context2)) {
        listener = listener.destroy();
      } else {
        listener = listener.next;
      }
    }
    if (!this._head.next) {
      this._cancelIfNeeded();
    }
    return this;
  }
  get count() {
    if (!this._head) {
      return 0;
    }
    let count = 0;
    let current = this._head;
    while (current = current.next) {
      count++;
    }
    return count;
  }
  start() {
    if (!this.started) {
      this.started = true;
      this._requestIfNeeded();
    }
  }
  stop() {
    if (this.started) {
      this.started = false;
      this._cancelIfNeeded();
    }
  }
  destroy() {
    if (!this._protected) {
      this.stop();
      let listener = this._head.next;
      while (listener) {
        listener = listener.destroy(true);
      }
      this._head.destroy();
      this._head = null;
    }
  }
  update(currentTime = performance.now()) {
    let elapsedMS;
    if (currentTime > this.lastTime) {
      elapsedMS = this.elapsedMS = currentTime - this.lastTime;
      if (elapsedMS > this._maxElapsedMS) {
        elapsedMS = this._maxElapsedMS;
      }
      elapsedMS *= this.speed;
      if (this._minElapsedMS) {
        const delta = currentTime - this._lastFrame | 0;
        if (delta < this._minElapsedMS) {
          return;
        }
        this._lastFrame = currentTime - delta % this._minElapsedMS;
      }
      this.deltaMS = elapsedMS;
      this.deltaTime = this.deltaMS * _Ticker.targetFPMS;
      const head = this._head;
      let listener = head.next;
      while (listener) {
        listener = listener.emit(this.deltaTime);
      }
      if (!head.next) {
        this._cancelIfNeeded();
      }
    } else {
      this.deltaTime = this.deltaMS = this.elapsedMS = 0;
    }
    this.lastTime = currentTime;
  }
  get FPS() {
    return 1e3 / this.elapsedMS;
  }
  get minFPS() {
    return 1e3 / this._maxElapsedMS;
  }
  set minFPS(fps2) {
    const minFPS = Math.min(this.maxFPS, fps2);
    const minFPMS = Math.min(Math.max(0, minFPS) / 1e3, _Ticker.targetFPMS);
    this._maxElapsedMS = 1 / minFPMS;
  }
  get maxFPS() {
    if (this._minElapsedMS) {
      return Math.round(1e3 / this._minElapsedMS);
    }
    return 0;
  }
  set maxFPS(fps2) {
    if (fps2 === 0) {
      this._minElapsedMS = 0;
    } else {
      const maxFPS = Math.max(this.minFPS, fps2);
      this._minElapsedMS = 1 / (maxFPS / 1e3);
    }
  }
  static get shared() {
    if (!_Ticker._shared) {
      const shared = _Ticker._shared = new _Ticker();
      shared.autoStart = true;
      shared._protected = true;
    }
    return _Ticker._shared;
  }
  static get system() {
    if (!_Ticker._system) {
      const system = _Ticker._system = new _Ticker();
      system.autoStart = true;
      system._protected = true;
    }
    return _Ticker._system;
  }
};
var Ticker = _Ticker;
Ticker.targetFPMS = 0.06;

// ../../node_modules/.pnpm/@pixi+ticker@7.2.4/node_modules/@pixi/ticker/lib/settings.mjs
Object.defineProperties(settings, {
  TARGET_FPMS: {
    get() {
      return Ticker.targetFPMS;
    },
    set(value) {
      deprecation("7.1.0", "settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS");
      Ticker.targetFPMS = value;
    }
  }
});

// ../../node_modules/.pnpm/@pixi+ticker@7.2.4/node_modules/@pixi/ticker/lib/TickerPlugin.mjs
var TickerPlugin = class {
  static init(options) {
    options = Object.assign({
      autoStart: true,
      sharedTicker: false
    }, options);
    Object.defineProperty(this, "ticker", {
      set(ticker) {
        if (this._ticker) {
          this._ticker.remove(this.render, this);
        }
        this._ticker = ticker;
        if (ticker) {
          ticker.add(this.render, this, UPDATE_PRIORITY.LOW);
        }
      },
      get() {
        return this._ticker;
      }
    });
    this.stop = () => {
      this._ticker.stop();
    };
    this.start = () => {
      this._ticker.start();
    };
    this._ticker = null;
    this.ticker = options.sharedTicker ? Ticker.shared : new Ticker();
    if (options.autoStart) {
      this.start();
    }
  }
  static destroy() {
    if (this._ticker) {
      const oldTicker = this._ticker;
      this.ticker = null;
      oldTicker.destroy();
    }
  }
};
TickerPlugin.extension = ExtensionType.Application;
extensions.add(TickerPlugin);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/autoDetectRenderer.mjs
var renderers = [];
extensions.handleByList(ExtensionType.Renderer, renderers);
function autoDetectRenderer(options) {
  for (const RendererType of renderers) {
    if (RendererType.test(options)) {
      return new RendererType(options);
    }
  }
  throw new Error("Unable to auto-detect a suitable renderer.");
}

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/fragments/default.mjs
var $defaultVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/fragments/defaultFilter.mjs
var $defaultFilterVertex = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/fragments/index.mjs
var defaultVertex4 = $defaultVertex;
var defaultFilterVertex = $defaultFilterVertex;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs
var MultisampleSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  contextChange(gl) {
    let samples;
    if (this.renderer.context.webGLVersion === 1) {
      const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
    } else {
      const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
      samples = gl.getParameter(gl.SAMPLES);
      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);
    }
    if (samples >= MSAA_QUALITY.HIGH) {
      this.multisample = MSAA_QUALITY.HIGH;
    } else if (samples >= MSAA_QUALITY.MEDIUM) {
      this.multisample = MSAA_QUALITY.MEDIUM;
    } else if (samples >= MSAA_QUALITY.LOW) {
      this.multisample = MSAA_QUALITY.LOW;
    } else {
      this.multisample = MSAA_QUALITY.NONE;
    }
  }
  destroy() {
  }
};
MultisampleSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "_multisample"
};
extensions.add(MultisampleSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/GLBuffer.mjs
var GLBuffer = class {
  constructor(buffer2) {
    this.buffer = buffer2 || null;
    this.updateID = -1;
    this.byteLength = -1;
    this.refCount = 0;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/geometry/BufferSystem.mjs
var BufferSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
    this.managedBuffers = {};
    this.boundBufferBases = {};
  }
  destroy() {
    this.renderer = null;
  }
  contextChange() {
    this.disposeAll(true);
    this.gl = this.renderer.gl;
    this.CONTEXT_UID = this.renderer.CONTEXT_UID;
  }
  bind(buffer2) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer2._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer2);
    gl.bindBuffer(buffer2.type, glBuffer.buffer);
  }
  unbind(type2) {
    const { gl } = this;
    gl.bindBuffer(type2, null);
  }
  bindBufferBase(buffer2, index) {
    const { gl, CONTEXT_UID } = this;
    if (this.boundBufferBases[index] !== buffer2) {
      const glBuffer = buffer2._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer2);
      this.boundBufferBases[index] = buffer2;
      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);
    }
  }
  bindBufferRange(buffer2, index, offset) {
    const { gl, CONTEXT_UID } = this;
    offset = offset || 0;
    const glBuffer = buffer2._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer2);
    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, 256);
  }
  update(buffer2) {
    const { gl, CONTEXT_UID } = this;
    const glBuffer = buffer2._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer2);
    if (buffer2._updateID === glBuffer.updateID) {
      return;
    }
    glBuffer.updateID = buffer2._updateID;
    gl.bindBuffer(buffer2.type, glBuffer.buffer);
    if (glBuffer.byteLength >= buffer2.data.byteLength) {
      gl.bufferSubData(buffer2.type, 0, buffer2.data);
    } else {
      const drawType = buffer2.static ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;
      glBuffer.byteLength = buffer2.data.byteLength;
      gl.bufferData(buffer2.type, buffer2.data, drawType);
    }
  }
  dispose(buffer2, contextLost) {
    if (!this.managedBuffers[buffer2.id]) {
      return;
    }
    delete this.managedBuffers[buffer2.id];
    const glBuffer = buffer2._glBuffers[this.CONTEXT_UID];
    const gl = this.gl;
    buffer2.disposeRunner.remove(this);
    if (!glBuffer) {
      return;
    }
    if (!contextLost) {
      gl.deleteBuffer(glBuffer.buffer);
    }
    delete buffer2._glBuffers[this.CONTEXT_UID];
  }
  disposeAll(contextLost) {
    const all = Object.keys(this.managedBuffers);
    for (let i3 = 0; i3 < all.length; i3++) {
      this.dispose(this.managedBuffers[all[i3]], contextLost);
    }
  }
  createGLBuffer(buffer2) {
    const { CONTEXT_UID, gl } = this;
    buffer2._glBuffers[CONTEXT_UID] = new GLBuffer(gl.createBuffer());
    this.managedBuffers[buffer2.id] = buffer2;
    buffer2.disposeRunner.add(this);
    return buffer2._glBuffers[CONTEXT_UID];
  }
};
BufferSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "buffer"
};
extensions.add(BufferSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs
var ObjectRendererSystem = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  render(displayObject, options) {
    const renderer = this.renderer;
    let renderTexture;
    let clear;
    let transform;
    let skipUpdateTransform;
    if (options) {
      renderTexture = options.renderTexture;
      clear = options.clear;
      transform = options.transform;
      skipUpdateTransform = options.skipUpdateTransform;
    }
    this.renderingToScreen = !renderTexture;
    renderer.runners.prerender.emit();
    renderer.emit("prerender");
    renderer.projection.transform = transform;
    if (renderer.context.isLost) {
      return;
    }
    if (!renderTexture) {
      this.lastObjectRendered = displayObject;
    }
    if (!skipUpdateTransform) {
      const cacheParent = displayObject.enableTempParent();
      displayObject.updateTransform();
      displayObject.disableTempParent(cacheParent);
    }
    renderer.renderTexture.bind(renderTexture);
    renderer.batch.currentRenderer.start();
    if (clear ?? renderer.background.clearBeforeRender) {
      renderer.renderTexture.clear();
    }
    displayObject.render(renderer);
    renderer.batch.currentRenderer.flush();
    if (renderTexture) {
      if (options.blit) {
        renderer.framebuffer.blit();
      }
      renderTexture.baseTexture.update();
    }
    renderer.runners.postrender.emit();
    renderer.projection.transform = null;
    renderer.emit("postrender");
  }
  destroy() {
    this.renderer = null;
    this.lastObjectRendered = null;
  }
};
ObjectRendererSystem.extension = {
  type: ExtensionType.RendererSystem,
  name: "objectRenderer"
};
extensions.add(ObjectRendererSystem);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/Renderer.mjs
var _Renderer = class extends SystemManager {
  constructor(options) {
    super();
    this.type = RENDERER_TYPE.WEBGL;
    options = Object.assign({}, settings.RENDER_OPTIONS, options);
    this.gl = null;
    this.CONTEXT_UID = 0;
    this.globalUniforms = new UniformGroup({
      projectionMatrix: new Matrix()
    }, true);
    const systemConfig = {
      runners: [
        "init",
        "destroy",
        "contextChange",
        "resolutionChange",
        "reset",
        "update",
        "postrender",
        "prerender",
        "resize"
      ],
      systems: _Renderer.__systems,
      priority: [
        "_view",
        "textureGenerator",
        "background",
        "_plugin",
        "startup",
        "context",
        "state",
        "texture",
        "buffer",
        "geometry",
        "framebuffer",
        "transformFeedback",
        "mask",
        "scissor",
        "stencil",
        "projection",
        "textureGC",
        "filter",
        "renderTexture",
        "batch",
        "objectRenderer",
        "_multisample"
      ]
    };
    this.setup(systemConfig);
    if ("useContextAlpha" in options) {
      deprecation("7.0.0", "options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead");
      options.premultipliedAlpha = options.useContextAlpha && options.useContextAlpha !== "notMultiplied";
      options.backgroundAlpha = options.useContextAlpha === false ? 1 : options.backgroundAlpha;
    }
    this._plugin.rendererPlugins = _Renderer.__plugins;
    this.options = options;
    this.startup.run(this.options);
  }
  static test(options) {
    if (options?.forceCanvas) {
      return false;
    }
    return isWebGLSupported();
  }
  render(displayObject, options) {
    this.objectRenderer.render(displayObject, options);
  }
  resize(desiredScreenWidth, desiredScreenHeight) {
    this._view.resizeView(desiredScreenWidth, desiredScreenHeight);
  }
  reset() {
    this.runners.reset.emit();
    return this;
  }
  clear() {
    this.renderTexture.bind();
    this.renderTexture.clear();
  }
  destroy(removeView = false) {
    this.runners.destroy.items.reverse();
    this.emitWithCustomOptions(this.runners.destroy, {
      _view: removeView
    });
    super.destroy();
  }
  get plugins() {
    return this._plugin.plugins;
  }
  get multisample() {
    return this._multisample.multisample;
  }
  get width() {
    return this._view.element.width;
  }
  get height() {
    return this._view.element.height;
  }
  get resolution() {
    return this._view.resolution;
  }
  set resolution(value) {
    this._view.resolution = value;
    this.runners.resolutionChange.emit(value);
  }
  get autoDensity() {
    return this._view.autoDensity;
  }
  get view() {
    return this._view.element;
  }
  get screen() {
    return this._view.screen;
  }
  get lastObjectRendered() {
    return this.objectRenderer.lastObjectRendered;
  }
  get renderingToScreen() {
    return this.objectRenderer.renderingToScreen;
  }
  get rendererLogId() {
    return `WebGL ${this.context.webGLVersion}`;
  }
  get clearBeforeRender() {
    deprecation("7.0.0", "renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead.");
    return this.background.clearBeforeRender;
  }
  get useContextAlpha() {
    deprecation("7.0.0", "renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead.");
    return this.context.useContextAlpha;
  }
  get preserveDrawingBuffer() {
    deprecation("7.0.0", "renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context");
    return this.context.preserveDrawingBuffer;
  }
  get backgroundColor() {
    deprecation("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    return this.background.color;
  }
  set backgroundColor(value) {
    deprecation("7.0.0", "renderer.backgroundColor has been deprecated, use renderer.background.color instead.");
    this.background.color = value;
  }
  get backgroundAlpha() {
    deprecation("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    return this.background.alpha;
  }
  set backgroundAlpha(value) {
    deprecation("7.0.0", "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.");
    this.background.alpha = value;
  }
  get powerPreference() {
    deprecation("7.0.0", "renderer.powerPreference has been deprecated, we can only know this if pixi creates the context");
    return this.context.powerPreference;
  }
  generateTexture(displayObject, options) {
    return this.textureGenerator.generateTexture(displayObject, options);
  }
};
var Renderer = _Renderer;
Renderer.extension = {
  type: ExtensionType.Renderer,
  priority: 1
};
Renderer.__plugins = {};
Renderer.__systems = {};
extensions.handleByMap(ExtensionType.RendererPlugin, Renderer.__plugins);
extensions.handleByMap(ExtensionType.RendererSystem, Renderer.__systems);
extensions.add(Renderer);

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs
var AbstractMultiResource = class extends Resource2 {
  constructor(length, options) {
    const { width, height } = options || {};
    super(width, height);
    this.items = [];
    this.itemDirtyIds = [];
    for (let i3 = 0; i3 < length; i3++) {
      const partTexture = new BaseTexture();
      this.items.push(partTexture);
      this.itemDirtyIds.push(-2);
    }
    this.length = length;
    this._load = null;
    this.baseTexture = null;
  }
  initFromArray(resources, options) {
    for (let i3 = 0; i3 < this.length; i3++) {
      if (!resources[i3]) {
        continue;
      }
      if (resources[i3].castToBaseTexture) {
        this.addBaseTextureAt(resources[i3].castToBaseTexture(), i3);
      } else if (resources[i3] instanceof Resource2) {
        this.addResourceAt(resources[i3], i3);
      } else {
        this.addResourceAt(autoDetectResource(resources[i3], options), i3);
      }
    }
  }
  dispose() {
    for (let i3 = 0, len = this.length; i3 < len; i3++) {
      this.items[i3].destroy();
    }
    this.items = null;
    this.itemDirtyIds = null;
    this._load = null;
  }
  addResourceAt(resource, index) {
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (resource.valid && !this.valid) {
      this.resize(resource.width, resource.height);
    }
    this.items[index].setResource(resource);
    return this;
  }
  bind(baseTexture) {
    if (this.baseTexture !== null) {
      throw new Error("Only one base texture per TextureArray is allowed");
    }
    super.bind(baseTexture);
    for (let i3 = 0; i3 < this.length; i3++) {
      this.items[i3].parentTextureArray = baseTexture;
      this.items[i3].on("update", baseTexture.update, baseTexture);
    }
  }
  unbind(baseTexture) {
    super.unbind(baseTexture);
    for (let i3 = 0; i3 < this.length; i3++) {
      this.items[i3].parentTextureArray = null;
      this.items[i3].off("update", baseTexture.update, baseTexture);
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const resources = this.items.map((item) => item.resource).filter((item) => item);
    const promises = resources.map((item) => item.load());
    this._load = Promise.all(promises).then(() => {
      const { realWidth, realHeight } = this.items[0];
      this.resize(realWidth, realHeight);
      return Promise.resolve(this);
    });
    return this._load;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs
var ArrayResource = class extends AbstractMultiResource {
  constructor(source, options) {
    const { width, height } = options || {};
    let urls;
    let length;
    if (Array.isArray(source)) {
      urls = source;
      length = source.length;
    } else {
      length = source;
    }
    super(length, { width, height });
    if (urls) {
      this.initFromArray(urls, options);
    }
  }
  addBaseTextureAt(baseTexture, index) {
    if (baseTexture.resource) {
      this.addResourceAt(baseTexture.resource, index);
    } else {
      throw new Error("ArrayResource does not support RenderTexture");
    }
    return this;
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = TARGETS.TEXTURE_2D_ARRAY;
  }
  upload(renderer, texture, glTexture) {
    const { length, itemDirtyIds, items } = this;
    const { gl } = renderer;
    if (glTexture.dirtyId < 0) {
      gl.texImage3D(gl.TEXTURE_2D_ARRAY, 0, glTexture.internalFormat, this._width, this._height, length, 0, texture.format, glTexture.type, null);
    }
    for (let i3 = 0; i3 < length; i3++) {
      const item = items[i3];
      if (itemDirtyIds[i3] < item.dirtyId) {
        itemDirtyIds[i3] = item.dirtyId;
        if (item.valid) {
          gl.texSubImage3D(gl.TEXTURE_2D_ARRAY, 0, 0, 0, i3, item.resource.width, item.resource.height, 1, texture.format, glTexture.type, item.resource.source);
        }
      }
    }
    return true;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs
var CanvasResource = class extends BaseImageResource {
  constructor(source) {
    super(source);
  }
  static test(source) {
    const { OffscreenCanvas: OffscreenCanvas2 } = globalThis;
    if (OffscreenCanvas2 && source instanceof OffscreenCanvas2) {
      return true;
    }
    return globalThis.HTMLCanvasElement && source instanceof HTMLCanvasElement;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs
var _CubeResource = class extends AbstractMultiResource {
  constructor(source, options) {
    const { width, height, autoLoad, linkBaseTexture } = options || {};
    if (source && source.length !== _CubeResource.SIDES) {
      throw new Error(`Invalid length. Got ${source.length}, expected 6`);
    }
    super(6, { width, height });
    for (let i3 = 0; i3 < _CubeResource.SIDES; i3++) {
      this.items[i3].target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + i3;
    }
    this.linkBaseTexture = linkBaseTexture !== false;
    if (source) {
      this.initFromArray(source, options);
    }
    if (autoLoad !== false) {
      this.load();
    }
  }
  bind(baseTexture) {
    super.bind(baseTexture);
    baseTexture.target = TARGETS.TEXTURE_CUBE_MAP;
  }
  addBaseTextureAt(baseTexture, index, linkBaseTexture) {
    if (linkBaseTexture === void 0) {
      linkBaseTexture = this.linkBaseTexture;
    }
    if (!this.items[index]) {
      throw new Error(`Index ${index} is out of bounds`);
    }
    if (!this.linkBaseTexture || baseTexture.parentTextureArray || Object.keys(baseTexture._glTextures).length > 0) {
      if (baseTexture.resource) {
        this.addResourceAt(baseTexture.resource, index);
      } else {
        throw new Error(`CubeResource does not support copying of renderTexture.`);
      }
    } else {
      baseTexture.target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + index;
      baseTexture.parentTextureArray = this.baseTexture;
      this.items[index] = baseTexture;
    }
    if (baseTexture.valid && !this.valid) {
      this.resize(baseTexture.realWidth, baseTexture.realHeight);
    }
    this.items[index] = baseTexture;
    return this;
  }
  upload(renderer, _baseTexture, glTexture) {
    const dirty = this.itemDirtyIds;
    for (let i3 = 0; i3 < _CubeResource.SIDES; i3++) {
      const side = this.items[i3];
      if (dirty[i3] < side.dirtyId || glTexture.dirtyId < _baseTexture.dirtyId) {
        if (side.valid && side.resource) {
          side.resource.upload(renderer, side, glTexture);
          dirty[i3] = side.dirtyId;
        } else if (dirty[i3] < -1) {
          renderer.gl.texImage2D(side.target, 0, glTexture.internalFormat, _baseTexture.realWidth, _baseTexture.realHeight, 0, _baseTexture.format, glTexture.type, null);
          dirty[i3] = -1;
        }
      }
    }
    return true;
  }
  static test(source) {
    return Array.isArray(source) && source.length === _CubeResource.SIDES;
  }
};
var CubeResource = _CubeResource;
CubeResource.SIDES = 6;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs
var ImageBitmapResource = class extends BaseImageResource {
  constructor(source, options) {
    options = options || {};
    let baseSource;
    let url2;
    if (typeof source === "string") {
      baseSource = ImageBitmapResource.EMPTY;
      url2 = source;
    } else {
      baseSource = source;
      url2 = null;
    }
    super(baseSource);
    this.url = url2;
    this.crossOrigin = options.crossOrigin ?? true;
    this.alphaMode = typeof options.alphaMode === "number" ? options.alphaMode : null;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise(async (resolve2, reject) => {
      if (this.url === null) {
        resolve2(this);
        return;
      }
      try {
        const response = await settings.ADAPTER.fetch(this.url, {
          mode: this.crossOrigin ? "cors" : "no-cors"
        });
        if (this.destroyed)
          return;
        const imageBlob = await response.blob();
        if (this.destroyed)
          return;
        const imageBitmap = await createImageBitmap(imageBlob, {
          premultiplyAlpha: this.alphaMode === null || this.alphaMode === ALPHA_MODES.UNPACK ? "premultiply" : "none"
        });
        if (this.destroyed)
          return;
        this.source = imageBitmap;
        this.update();
        resolve2(this);
      } catch (e3) {
        if (this.destroyed)
          return;
        reject(e3);
        this.onError.emit(e3);
      }
    });
    return this._load;
  }
  upload(renderer, baseTexture, glTexture) {
    if (!(this.source instanceof ImageBitmap)) {
      this.load();
      return false;
    }
    if (typeof this.alphaMode === "number") {
      baseTexture.alphaMode = this.alphaMode;
    }
    return super.upload(renderer, baseTexture, glTexture);
  }
  dispose() {
    if (this.source instanceof ImageBitmap) {
      this.source.close();
    }
    super.dispose();
    this._load = null;
  }
  static test(source) {
    return !!globalThis.createImageBitmap && typeof ImageBitmap !== "undefined" && (typeof source === "string" || source instanceof ImageBitmap);
  }
  static get EMPTY() {
    ImageBitmapResource._EMPTY = ImageBitmapResource._EMPTY ?? settings.ADAPTER.createCanvas(0, 0);
    return ImageBitmapResource._EMPTY;
  }
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs
var _SVGResource = class extends BaseImageResource {
  constructor(sourceBase64, options) {
    options = options || {};
    super(settings.ADAPTER.createCanvas());
    this._width = 0;
    this._height = 0;
    this.svg = sourceBase64;
    this.scale = options.scale || 1;
    this._overrideWidth = options.width;
    this._overrideHeight = options.height;
    this._resolve = null;
    this._crossorigin = options.crossorigin;
    this._load = null;
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = new Promise((resolve2) => {
      this._resolve = () => {
        this.resize(this.source.width, this.source.height);
        resolve2(this);
      };
      if (_SVGResource.SVG_XML.test(this.svg.trim())) {
        if (!btoa) {
          throw new Error("Your browser doesn't support base64 conversions.");
        }
        this.svg = `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`;
      }
      this._loadSvg();
    });
    return this._load;
  }
  _loadSvg() {
    const tempImage = new Image();
    BaseImageResource.crossOrigin(tempImage, this.svg, this._crossorigin);
    tempImage.src = this.svg;
    tempImage.onerror = (event) => {
      if (!this._resolve) {
        return;
      }
      tempImage.onerror = null;
      this.onError.emit(event);
    };
    tempImage.onload = () => {
      if (!this._resolve) {
        return;
      }
      const svgWidth = tempImage.width;
      const svgHeight = tempImage.height;
      if (!svgWidth || !svgHeight) {
        throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
      }
      let width = svgWidth * this.scale;
      let height = svgHeight * this.scale;
      if (this._overrideWidth || this._overrideHeight) {
        width = this._overrideWidth || this._overrideHeight / svgHeight * svgWidth;
        height = this._overrideHeight || this._overrideWidth / svgWidth * svgHeight;
      }
      width = Math.round(width);
      height = Math.round(height);
      const canvas = this.source;
      canvas.width = width;
      canvas.height = height;
      canvas._pixiId = `canvas_${uid()}`;
      canvas.getContext("2d").drawImage(tempImage, 0, 0, svgWidth, svgHeight, 0, 0, width, height);
      this._resolve();
      this._resolve = null;
    };
  }
  static getSize(svgString) {
    const sizeMatch = _SVGResource.SVG_SIZE.exec(svgString);
    const size = {};
    if (sizeMatch) {
      size[sizeMatch[1]] = Math.round(parseFloat(sizeMatch[3]));
      size[sizeMatch[5]] = Math.round(parseFloat(sizeMatch[7]));
    }
    return size;
  }
  dispose() {
    super.dispose();
    this._resolve = null;
    this._crossorigin = null;
  }
  static test(source, extension) {
    return extension === "svg" || typeof source === "string" && source.startsWith("data:image/svg+xml") || typeof source === "string" && _SVGResource.SVG_XML.test(source);
  }
};
var SVGResource = _SVGResource;
SVGResource.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;
SVGResource.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs
var _VideoResource = class extends BaseImageResource {
  constructor(source, options) {
    options = options || {};
    if (!(source instanceof HTMLVideoElement)) {
      const videoElement = document.createElement("video");
      videoElement.setAttribute("preload", "auto");
      videoElement.setAttribute("webkit-playsinline", "");
      videoElement.setAttribute("playsinline", "");
      if (typeof source === "string") {
        source = [source];
      }
      const firstSrc = source[0].src || source[0];
      BaseImageResource.crossOrigin(videoElement, firstSrc, options.crossorigin);
      for (let i3 = 0; i3 < source.length; ++i3) {
        const sourceElement = document.createElement("source");
        let { src, mime } = source[i3];
        src = src || source[i3];
        const baseSrc = src.split("?").shift().toLowerCase();
        const ext = baseSrc.slice(baseSrc.lastIndexOf(".") + 1);
        mime = mime || _VideoResource.MIME_TYPES[ext] || `video/${ext}`;
        sourceElement.src = src;
        sourceElement.type = mime;
        videoElement.appendChild(sourceElement);
      }
      source = videoElement;
    }
    super(source);
    this.noSubImage = true;
    this._autoUpdate = true;
    this._isConnectedToTicker = false;
    this._updateFPS = options.updateFPS || 0;
    this._msToNextUpdate = 0;
    this.autoPlay = options.autoPlay !== false;
    this._load = null;
    this._resolve = null;
    this._onCanPlay = this._onCanPlay.bind(this);
    this._onError = this._onError.bind(this);
    if (options.autoLoad !== false) {
      this.load();
    }
  }
  update(_deltaTime = 0) {
    if (!this.destroyed) {
      const elapsedMS = Ticker.shared.elapsedMS * this.source.playbackRate;
      this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);
      if (!this._updateFPS || this._msToNextUpdate <= 0) {
        super.update();
        this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0;
      }
    }
  }
  load() {
    if (this._load) {
      return this._load;
    }
    const source = this.source;
    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {
      source.complete = true;
    }
    source.addEventListener("play", this._onPlayStart.bind(this));
    source.addEventListener("pause", this._onPlayStop.bind(this));
    if (!this._isSourceReady()) {
      source.addEventListener("canplay", this._onCanPlay);
      source.addEventListener("canplaythrough", this._onCanPlay);
      source.addEventListener("error", this._onError, true);
    } else {
      this._onCanPlay();
    }
    this._load = new Promise((resolve2) => {
      if (this.valid) {
        resolve2(this);
      } else {
        this._resolve = resolve2;
        source.load();
      }
    });
    return this._load;
  }
  _onError(event) {
    this.source.removeEventListener("error", this._onError, true);
    this.onError.emit(event);
  }
  _isSourcePlaying() {
    const source = this.source;
    return !source.paused && !source.ended && this._isSourceReady();
  }
  _isSourceReady() {
    const source = this.source;
    return source.readyState > 2;
  }
  _onPlayStart() {
    if (!this.valid) {
      this._onCanPlay();
    }
    if (this.autoUpdate && !this._isConnectedToTicker) {
      Ticker.shared.add(this.update, this);
      this._isConnectedToTicker = true;
    }
  }
  _onPlayStop() {
    if (this._isConnectedToTicker) {
      Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  _onCanPlay() {
    const source = this.source;
    source.removeEventListener("canplay", this._onCanPlay);
    source.removeEventListener("canplaythrough", this._onCanPlay);
    const valid = this.valid;
    this.resize(source.videoWidth, source.videoHeight);
    if (!valid && this._resolve) {
      this._resolve(this);
      this._resolve = null;
    }
    if (this._isSourcePlaying()) {
      this._onPlayStart();
    } else if (this.autoPlay) {
      source.play();
    }
  }
  dispose() {
    if (this._isConnectedToTicker) {
      Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
    const source = this.source;
    if (source) {
      source.removeEventListener("error", this._onError, true);
      source.pause();
      source.src = "";
      source.load();
    }
    super.dispose();
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying()) {
        Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
  get updateFPS() {
    return this._updateFPS;
  }
  set updateFPS(value) {
    if (value !== this._updateFPS) {
      this._updateFPS = value;
    }
  }
  static test(source, extension) {
    return globalThis.HTMLVideoElement && source instanceof HTMLVideoElement || _VideoResource.TYPES.includes(extension);
  }
};
var VideoResource = _VideoResource;
VideoResource.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"];
VideoResource.MIME_TYPES = {
  ogv: "video/ogg",
  mov: "video/quicktime",
  m4v: "video/mp4"
};

// ../../node_modules/.pnpm/@pixi+core@7.2.4/node_modules/@pixi/core/lib/textures/resources/index.mjs
INSTALLED.push(ImageBitmapResource, ImageResource, CanvasResource, VideoResource, SVGResource, BufferResource, CubeResource, ArrayResource);

// ../../node_modules/.pnpm/@pixi+display@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/display/lib/Bounds.mjs
var Bounds = class {
  constructor() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
    this.rect = null;
    this.updateID = -1;
  }
  isEmpty() {
    return this.minX > this.maxX || this.minY > this.maxY;
  }
  clear() {
    this.minX = Infinity;
    this.minY = Infinity;
    this.maxX = -Infinity;
    this.maxY = -Infinity;
  }
  getRectangle(rect) {
    if (this.minX > this.maxX || this.minY > this.maxY) {
      return Rectangle.EMPTY;
    }
    rect = rect || new Rectangle(0, 0, 1, 1);
    rect.x = this.minX;
    rect.y = this.minY;
    rect.width = this.maxX - this.minX;
    rect.height = this.maxY - this.minY;
    return rect;
  }
  addPoint(point) {
    this.minX = Math.min(this.minX, point.x);
    this.maxX = Math.max(this.maxX, point.x);
    this.minY = Math.min(this.minY, point.y);
    this.maxY = Math.max(this.maxY, point.y);
  }
  addPointMatrix(matrix, point) {
    const { a: a2, b: b3, c: c2, d: d2, tx, ty } = matrix;
    const x2 = a2 * point.x + c2 * point.y + tx;
    const y2 = b3 * point.x + d2 * point.y + ty;
    this.minX = Math.min(this.minX, x2);
    this.maxX = Math.max(this.maxX, x2);
    this.minY = Math.min(this.minY, y2);
    this.maxY = Math.max(this.maxY, y2);
  }
  addQuad(vertices) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x2 = vertices[0];
    let y2 = vertices[1];
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = vertices[2];
    y2 = vertices[3];
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = vertices[4];
    y2 = vertices[5];
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = vertices[6];
    y2 = vertices[7];
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addFrame(transform, x0, y0, x1, y1) {
    this.addFrameMatrix(transform.worldTransform, x0, y0, x1, y1);
  }
  addFrameMatrix(matrix, x0, y0, x1, y1) {
    const a2 = matrix.a;
    const b3 = matrix.b;
    const c2 = matrix.c;
    const d2 = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    let x2 = a2 * x0 + c2 * y0 + tx;
    let y2 = b3 * x0 + d2 * y0 + ty;
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = a2 * x1 + c2 * y0 + tx;
    y2 = b3 * x1 + d2 * y0 + ty;
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = a2 * x0 + c2 * y1 + tx;
    y2 = b3 * x0 + d2 * y1 + ty;
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    x2 = a2 * x1 + c2 * y1 + tx;
    y2 = b3 * x1 + d2 * y1 + ty;
    minX = x2 < minX ? x2 : minX;
    minY = y2 < minY ? y2 : minY;
    maxX = x2 > maxX ? x2 : maxX;
    maxY = y2 > maxY ? y2 : maxY;
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertexData(vertexData, beginOffset, endOffset) {
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i3 = beginOffset; i3 < endOffset; i3 += 2) {
      const x2 = vertexData[i3];
      const y2 = vertexData[i3 + 1];
      minX = x2 < minX ? x2 : minX;
      minY = y2 < minY ? y2 : minY;
      maxX = x2 > maxX ? x2 : maxX;
      maxY = y2 > maxY ? y2 : maxY;
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addVertices(transform, vertices, beginOffset, endOffset) {
    this.addVerticesMatrix(transform.worldTransform, vertices, beginOffset, endOffset);
  }
  addVerticesMatrix(matrix, vertices, beginOffset, endOffset, padX = 0, padY = padX) {
    const a2 = matrix.a;
    const b3 = matrix.b;
    const c2 = matrix.c;
    const d2 = matrix.d;
    const tx = matrix.tx;
    const ty = matrix.ty;
    let minX = this.minX;
    let minY = this.minY;
    let maxX = this.maxX;
    let maxY = this.maxY;
    for (let i3 = beginOffset; i3 < endOffset; i3 += 2) {
      const rawX = vertices[i3];
      const rawY = vertices[i3 + 1];
      const x2 = a2 * rawX + c2 * rawY + tx;
      const y2 = d2 * rawY + b3 * rawX + ty;
      minX = Math.min(minX, x2 - padX);
      maxX = Math.max(maxX, x2 + padX);
      minY = Math.min(minY, y2 - padY);
      maxY = Math.max(maxY, y2 + padY);
    }
    this.minX = minX;
    this.minY = minY;
    this.maxX = maxX;
    this.maxY = maxY;
  }
  addBounds(bounds) {
    const minX = this.minX;
    const minY = this.minY;
    const maxX = this.maxX;
    const maxY = this.maxY;
    this.minX = bounds.minX < minX ? bounds.minX : minX;
    this.minY = bounds.minY < minY ? bounds.minY : minY;
    this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;
    this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;
  }
  addBoundsMask(bounds, mask2) {
    const _minX = bounds.minX > mask2.minX ? bounds.minX : mask2.minX;
    const _minY = bounds.minY > mask2.minY ? bounds.minY : mask2.minY;
    const _maxX = bounds.maxX < mask2.maxX ? bounds.maxX : mask2.maxX;
    const _maxY = bounds.maxY < mask2.maxY ? bounds.maxY : mask2.maxY;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  addBoundsMatrix(bounds, matrix) {
    this.addFrameMatrix(matrix, bounds.minX, bounds.minY, bounds.maxX, bounds.maxY);
  }
  addBoundsArea(bounds, area) {
    const _minX = bounds.minX > area.x ? bounds.minX : area.x;
    const _minY = bounds.minY > area.y ? bounds.minY : area.y;
    const _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;
    const _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;
    if (_minX <= _maxX && _minY <= _maxY) {
      const minX = this.minX;
      const minY = this.minY;
      const maxX = this.maxX;
      const maxY = this.maxY;
      this.minX = _minX < minX ? _minX : minX;
      this.minY = _minY < minY ? _minY : minY;
      this.maxX = _maxX > maxX ? _maxX : maxX;
      this.maxY = _maxY > maxY ? _maxY : maxY;
    }
  }
  pad(paddingX = 0, paddingY = paddingX) {
    if (!this.isEmpty()) {
      this.minX -= paddingX;
      this.maxX += paddingX;
      this.minY -= paddingY;
      this.maxY += paddingY;
    }
  }
  addFramePad(x0, y0, x1, y1, padX, padY) {
    x0 -= padX;
    y0 -= padY;
    x1 += padX;
    y1 += padY;
    this.minX = this.minX < x0 ? this.minX : x0;
    this.maxX = this.maxX > x1 ? this.maxX : x1;
    this.minY = this.minY < y0 ? this.minY : y0;
    this.maxY = this.maxY > y1 ? this.maxY : y1;
  }
};

// ../../node_modules/.pnpm/@pixi+display@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/display/lib/DisplayObject.mjs
var DisplayObject = class extends lib_exports.EventEmitter {
  constructor() {
    super();
    this.tempDisplayObjectParent = null;
    this.transform = new Transform();
    this.alpha = 1;
    this.visible = true;
    this.renderable = true;
    this.cullable = false;
    this.cullArea = null;
    this.parent = null;
    this.worldAlpha = 1;
    this._lastSortedIndex = 0;
    this._zIndex = 0;
    this.filterArea = null;
    this.filters = null;
    this._enabledFilters = null;
    this._bounds = new Bounds();
    this._localBounds = null;
    this._boundsID = 0;
    this._boundsRect = null;
    this._localBoundsRect = null;
    this._mask = null;
    this._maskRefCount = 0;
    this._destroyed = false;
    this.isSprite = false;
    this.isMask = false;
  }
  static mixin(source) {
    const keys = Object.keys(source);
    for (let i3 = 0; i3 < keys.length; ++i3) {
      const propertyName = keys[i3];
      Object.defineProperty(DisplayObject.prototype, propertyName, Object.getOwnPropertyDescriptor(source, propertyName));
    }
  }
  get destroyed() {
    return this._destroyed;
  }
  _recursivePostUpdateTransform() {
    if (this.parent) {
      this.parent._recursivePostUpdateTransform();
      this.transform.updateTransform(this.parent.transform);
    } else {
      this.transform.updateTransform(this._tempDisplayObjectParent.transform);
    }
  }
  updateTransform() {
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
  }
  getBounds(skipUpdate, rect) {
    if (!skipUpdate) {
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.updateTransform();
        this.parent = null;
      } else {
        this._recursivePostUpdateTransform();
        this.updateTransform();
      }
    }
    if (this._bounds.updateID !== this._boundsID) {
      this.calculateBounds();
      this._bounds.updateID = this._boundsID;
    }
    if (!rect) {
      if (!this._boundsRect) {
        this._boundsRect = new Rectangle();
      }
      rect = this._boundsRect;
    }
    return this._bounds.getRectangle(rect);
  }
  getLocalBounds(rect) {
    if (!rect) {
      if (!this._localBoundsRect) {
        this._localBoundsRect = new Rectangle();
      }
      rect = this._localBoundsRect;
    }
    if (!this._localBounds) {
      this._localBounds = new Bounds();
    }
    const transformRef = this.transform;
    const parentRef = this.parent;
    this.parent = null;
    this.transform = this._tempDisplayObjectParent.transform;
    const worldBounds = this._bounds;
    const worldBoundsID = this._boundsID;
    this._bounds = this._localBounds;
    const bounds = this.getBounds(false, rect);
    this.parent = parentRef;
    this.transform = transformRef;
    this._bounds = worldBounds;
    this._bounds.updateID += this._boundsID - worldBoundsID;
    return bounds;
  }
  toGlobal(position, point, skipUpdate = false) {
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.apply(position, point);
  }
  toLocal(position, from, point, skipUpdate) {
    if (from) {
      position = from.toGlobal(position, point, skipUpdate);
    }
    if (!skipUpdate) {
      this._recursivePostUpdateTransform();
      if (!this.parent) {
        this.parent = this._tempDisplayObjectParent;
        this.displayObjectUpdateTransform();
        this.parent = null;
      } else {
        this.displayObjectUpdateTransform();
      }
    }
    return this.worldTransform.applyInverse(position, point);
  }
  setParent(container) {
    if (!container || !container.addChild) {
      throw new Error("setParent: Argument must be a Container");
    }
    container.addChild(this);
    return container;
  }
  removeFromParent() {
    this.parent?.removeChild(this);
  }
  setTransform(x2 = 0, y2 = 0, scaleX = 1, scaleY = 1, rotation = 0, skewX = 0, skewY = 0, pivotX = 0, pivotY = 0) {
    this.position.x = x2;
    this.position.y = y2;
    this.scale.x = !scaleX ? 1 : scaleX;
    this.scale.y = !scaleY ? 1 : scaleY;
    this.rotation = rotation;
    this.skew.x = skewX;
    this.skew.y = skewY;
    this.pivot.x = pivotX;
    this.pivot.y = pivotY;
    return this;
  }
  destroy(_options) {
    this.removeFromParent();
    this._destroyed = true;
    this.transform = null;
    this.parent = null;
    this._bounds = null;
    this.mask = null;
    this.cullArea = null;
    this.filters = null;
    this.filterArea = null;
    this.hitArea = null;
    this.eventMode = "auto";
    this.interactiveChildren = false;
    this.emit("destroyed");
    this.removeAllListeners();
  }
  get _tempDisplayObjectParent() {
    if (this.tempDisplayObjectParent === null) {
      this.tempDisplayObjectParent = new TemporaryDisplayObject();
    }
    return this.tempDisplayObjectParent;
  }
  enableTempParent() {
    const myParent = this.parent;
    this.parent = this._tempDisplayObjectParent;
    return myParent;
  }
  disableTempParent(cacheParent) {
    this.parent = cacheParent;
  }
  get x() {
    return this.position.x;
  }
  set x(value) {
    this.transform.position.x = value;
  }
  get y() {
    return this.position.y;
  }
  set y(value) {
    this.transform.position.y = value;
  }
  get worldTransform() {
    return this.transform.worldTransform;
  }
  get localTransform() {
    return this.transform.localTransform;
  }
  get position() {
    return this.transform.position;
  }
  set position(value) {
    this.transform.position.copyFrom(value);
  }
  get scale() {
    return this.transform.scale;
  }
  set scale(value) {
    this.transform.scale.copyFrom(value);
  }
  get pivot() {
    return this.transform.pivot;
  }
  set pivot(value) {
    this.transform.pivot.copyFrom(value);
  }
  get skew() {
    return this.transform.skew;
  }
  set skew(value) {
    this.transform.skew.copyFrom(value);
  }
  get rotation() {
    return this.transform.rotation;
  }
  set rotation(value) {
    this.transform.rotation = value;
  }
  get angle() {
    return this.transform.rotation * RAD_TO_DEG;
  }
  set angle(value) {
    this.transform.rotation = value * DEG_TO_RAD;
  }
  get zIndex() {
    return this._zIndex;
  }
  set zIndex(value) {
    this._zIndex = value;
    if (this.parent) {
      this.parent.sortDirty = true;
    }
  }
  get worldVisible() {
    let item = this;
    do {
      if (!item.visible) {
        return false;
      }
      item = item.parent;
    } while (item);
    return true;
  }
  get mask() {
    return this._mask;
  }
  set mask(value) {
    if (this._mask === value) {
      return;
    }
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        maskObject._maskRefCount--;
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = true;
          maskObject.isMask = false;
        }
      }
    }
    this._mask = value;
    if (this._mask) {
      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;
      if (maskObject) {
        if (maskObject._maskRefCount === 0) {
          maskObject.renderable = false;
          maskObject.isMask = true;
        }
        maskObject._maskRefCount++;
      }
    }
  }
};
var TemporaryDisplayObject = class extends DisplayObject {
  constructor() {
    super(...arguments);
    this.sortDirty = null;
  }
};
DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;

// ../../node_modules/.pnpm/@pixi+display@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/display/lib/Container.mjs
var tempMatrix3 = new Matrix();
function sortChildren(a2, b3) {
  if (a2.zIndex === b3.zIndex) {
    return a2._lastSortedIndex - b3._lastSortedIndex;
  }
  return a2.zIndex - b3.zIndex;
}
var _Container = class extends DisplayObject {
  constructor() {
    super();
    this.children = [];
    this.sortableChildren = _Container.defaultSortableChildren;
    this.sortDirty = false;
  }
  onChildrenChange(_length) {
  }
  addChild(...children) {
    if (children.length > 1) {
      for (let i3 = 0; i3 < children.length; i3++) {
        this.addChild(children[i3]);
      }
    } else {
      const child = children[0];
      if (child.parent) {
        child.parent.removeChild(child);
      }
      child.parent = this;
      this.sortDirty = true;
      child.transform._parentID = -1;
      this.children.push(child);
      this._boundsID++;
      this.onChildrenChange(this.children.length - 1);
      this.emit("childAdded", child, this, this.children.length - 1);
      child.emit("added", this);
    }
    return children[0];
  }
  addChildAt(child, index) {
    if (index < 0 || index > this.children.length) {
      throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    if (child.parent) {
      child.parent.removeChild(child);
    }
    child.parent = this;
    this.sortDirty = true;
    child.transform._parentID = -1;
    this.children.splice(index, 0, child);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("added", this);
    this.emit("childAdded", child, this, index);
    return child;
  }
  swapChildren(child, child2) {
    if (child === child2) {
      return;
    }
    const index1 = this.getChildIndex(child);
    const index2 = this.getChildIndex(child2);
    this.children[index1] = child2;
    this.children[index2] = child;
    this.onChildrenChange(index1 < index2 ? index1 : index2);
  }
  getChildIndex(child) {
    const index = this.children.indexOf(child);
    if (index === -1) {
      throw new Error("The supplied DisplayObject must be a child of the caller");
    }
    return index;
  }
  setChildIndex(child, index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);
    }
    const currentIndex = this.getChildIndex(child);
    lib_exports.removeItems(this.children, currentIndex, 1);
    this.children.splice(index, 0, child);
    this.onChildrenChange(index);
  }
  getChildAt(index) {
    if (index < 0 || index >= this.children.length) {
      throw new Error(`getChildAt: Index (${index}) does not exist.`);
    }
    return this.children[index];
  }
  removeChild(...children) {
    if (children.length > 1) {
      for (let i3 = 0; i3 < children.length; i3++) {
        this.removeChild(children[i3]);
      }
    } else {
      const child = children[0];
      const index = this.children.indexOf(child);
      if (index === -1)
        return null;
      child.parent = null;
      child.transform._parentID = -1;
      lib_exports.removeItems(this.children, index, 1);
      this._boundsID++;
      this.onChildrenChange(index);
      child.emit("removed", this);
      this.emit("childRemoved", child, this, index);
    }
    return children[0];
  }
  removeChildAt(index) {
    const child = this.getChildAt(index);
    child.parent = null;
    child.transform._parentID = -1;
    lib_exports.removeItems(this.children, index, 1);
    this._boundsID++;
    this.onChildrenChange(index);
    child.emit("removed", this);
    this.emit("childRemoved", child, this, index);
    return child;
  }
  removeChildren(beginIndex = 0, endIndex = this.children.length) {
    const begin = beginIndex;
    const end = endIndex;
    const range = end - begin;
    let removed;
    if (range > 0 && range <= end) {
      removed = this.children.splice(begin, range);
      for (let i3 = 0; i3 < removed.length; ++i3) {
        removed[i3].parent = null;
        if (removed[i3].transform) {
          removed[i3].transform._parentID = -1;
        }
      }
      this._boundsID++;
      this.onChildrenChange(beginIndex);
      for (let i3 = 0; i3 < removed.length; ++i3) {
        removed[i3].emit("removed", this);
        this.emit("childRemoved", removed[i3], this, i3);
      }
      return removed;
    } else if (range === 0 && this.children.length === 0) {
      return [];
    }
    throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
  }
  sortChildren() {
    let sortRequired = false;
    for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
      const child = this.children[i3];
      child._lastSortedIndex = i3;
      if (!sortRequired && child.zIndex !== 0) {
        sortRequired = true;
      }
    }
    if (sortRequired && this.children.length > 1) {
      this.children.sort(sortChildren);
    }
    this.sortDirty = false;
  }
  updateTransform() {
    if (this.sortableChildren && this.sortDirty) {
      this.sortChildren();
    }
    this._boundsID++;
    this.transform.updateTransform(this.parent.transform);
    this.worldAlpha = this.alpha * this.parent.worldAlpha;
    for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
      const child = this.children[i3];
      if (child.visible) {
        child.updateTransform();
      }
    }
  }
  calculateBounds() {
    this._bounds.clear();
    this._calculateBounds();
    for (let i3 = 0; i3 < this.children.length; i3++) {
      const child = this.children[i3];
      if (!child.visible || !child.renderable) {
        continue;
      }
      child.calculateBounds();
      if (child._mask) {
        const maskObject = child._mask.isMaskData ? child._mask.maskObject : child._mask;
        if (maskObject) {
          maskObject.calculateBounds();
          this._bounds.addBoundsMask(child._bounds, maskObject._bounds);
        } else {
          this._bounds.addBounds(child._bounds);
        }
      } else if (child.filterArea) {
        this._bounds.addBoundsArea(child._bounds, child.filterArea);
      } else {
        this._bounds.addBounds(child._bounds);
      }
    }
    this._bounds.updateID = this._boundsID;
  }
  getLocalBounds(rect, skipChildrenUpdate = false) {
    const result = super.getLocalBounds(rect);
    if (!skipChildrenUpdate) {
      for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
        const child = this.children[i3];
        if (child.visible) {
          child.updateTransform();
        }
      }
    }
    return result;
  }
  _calculateBounds() {
  }
  _renderWithCulling(renderer) {
    const sourceFrame = renderer.renderTexture.sourceFrame;
    if (!(sourceFrame.width > 0 && sourceFrame.height > 0)) {
      return;
    }
    let bounds;
    let transform;
    if (this.cullArea) {
      bounds = this.cullArea;
      transform = this.worldTransform;
    } else if (this._render !== _Container.prototype._render) {
      bounds = this.getBounds(true);
    }
    const projectionTransform = renderer.projection.transform;
    if (projectionTransform) {
      if (transform) {
        transform = tempMatrix3.copyFrom(transform);
        transform.prepend(projectionTransform);
      } else {
        transform = projectionTransform;
      }
    }
    if (bounds && sourceFrame.intersects(bounds, transform)) {
      this._render(renderer);
    } else if (this.cullArea) {
      return;
    }
    for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
      const child = this.children[i3];
      const childCullable = child.cullable;
      child.cullable = childCullable || !this.cullArea;
      child.render(renderer);
      child.cullable = childCullable;
    }
  }
  render(renderer) {
    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
      return;
    }
    if (this._mask || this.filters?.length) {
      this.renderAdvanced(renderer);
    } else if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
        this.children[i3].render(renderer);
      }
    }
  }
  renderAdvanced(renderer) {
    const filters2 = this.filters;
    const mask2 = this._mask;
    if (filters2) {
      if (!this._enabledFilters) {
        this._enabledFilters = [];
      }
      this._enabledFilters.length = 0;
      for (let i3 = 0; i3 < filters2.length; i3++) {
        if (filters2[i3].enabled) {
          this._enabledFilters.push(filters2[i3]);
        }
      }
    }
    const flush = filters2 && this._enabledFilters?.length || mask2 && (!mask2.isMaskData || mask2.enabled && (mask2.autoDetect || mask2.type !== MASK_TYPES.NONE));
    if (flush) {
      renderer.batch.flush();
    }
    if (filters2 && this._enabledFilters?.length) {
      renderer.filter.push(this, this._enabledFilters);
    }
    if (mask2) {
      renderer.mask.push(this, this._mask);
    }
    if (this.cullable) {
      this._renderWithCulling(renderer);
    } else {
      this._render(renderer);
      for (let i3 = 0, j3 = this.children.length; i3 < j3; ++i3) {
        this.children[i3].render(renderer);
      }
    }
    if (flush) {
      renderer.batch.flush();
    }
    if (mask2) {
      renderer.mask.pop(this);
    }
    if (filters2 && this._enabledFilters?.length) {
      renderer.filter.pop();
    }
  }
  _render(_renderer) {
  }
  destroy(options) {
    super.destroy();
    this.sortDirty = false;
    const destroyChildren = typeof options === "boolean" ? options : options?.children;
    const oldChildren = this.removeChildren(0, this.children.length);
    if (destroyChildren) {
      for (let i3 = 0; i3 < oldChildren.length; ++i3) {
        oldChildren[i3].destroy(options);
      }
    }
  }
  get width() {
    return this.scale.x * this.getLocalBounds().width;
  }
  set width(value) {
    const width = this.getLocalBounds().width;
    if (width !== 0) {
      this.scale.x = value / width;
    } else {
      this.scale.x = 1;
    }
    this._width = value;
  }
  get height() {
    return this.scale.y * this.getLocalBounds().height;
  }
  set height(value) {
    const height = this.getLocalBounds().height;
    if (height !== 0) {
      this.scale.y = value / height;
    } else {
      this.scale.y = 1;
    }
    this._height = value;
  }
};
var Container = _Container;
Container.defaultSortableChildren = false;
Container.prototype.containerUpdateTransform = Container.prototype.updateTransform;

// ../../node_modules/.pnpm/@pixi+display@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/display/lib/settings.mjs
Object.defineProperties(settings, {
  SORTABLE_CHILDREN: {
    get() {
      return Container.defaultSortableChildren;
    },
    set(value) {
      lib_exports.deprecation("7.1.0", "settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren");
      Container.defaultSortableChildren = value;
    }
  }
});

// ../../node_modules/.pnpm/@pixi+sprite@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/sprite/lib/Sprite.mjs
var tempPoint = new Point();
var indices = new Uint16Array([0, 1, 2, 0, 2, 3]);
var Sprite = class extends Container {
  constructor(texture) {
    super();
    this._anchor = new ObservablePoint(this._onAnchorUpdate, this, texture ? texture.defaultAnchor.x : 0, texture ? texture.defaultAnchor.y : 0);
    this._texture = null;
    this._width = 0;
    this._height = 0;
    this._tintColor = new Color(16777215);
    this._tintRGB = null;
    this.tint = 16777215;
    this.blendMode = BLEND_MODES.NORMAL;
    this._cachedTint = 16777215;
    this.uvs = null;
    this.texture = texture || Texture.EMPTY;
    this.vertexData = new Float32Array(8);
    this.vertexTrimmedData = null;
    this._transformID = -1;
    this._textureID = -1;
    this._transformTrimmedID = -1;
    this._textureTrimmedID = -1;
    this.indices = indices;
    this.pluginName = "batch";
    this.isSprite = true;
    this._roundPixels = settings.ROUND_PIXELS;
  }
  _onTextureUpdate() {
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    if (this._width) {
      this.scale.x = lib_exports.sign(this.scale.x) * this._width / this._texture.orig.width;
    }
    if (this._height) {
      this.scale.y = lib_exports.sign(this.scale.y) * this._height / this._texture.orig.height;
    }
  }
  _onAnchorUpdate() {
    this._transformID = -1;
    this._transformTrimmedID = -1;
  }
  calculateVertices() {
    const texture = this._texture;
    if (this._transformID === this.transform._worldID && this._textureID === texture._updateID) {
      return;
    }
    if (this._textureID !== texture._updateID) {
      this.uvs = this._texture._uvs.uvsFloat32;
    }
    this._transformID = this.transform._worldID;
    this._textureID = texture._updateID;
    const wt = this.transform.worldTransform;
    const a2 = wt.a;
    const b3 = wt.b;
    const c2 = wt.c;
    const d2 = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    const trim = texture.trim;
    const orig = texture.orig;
    const anchor = this._anchor;
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    if (trim) {
      w1 = trim.x - anchor._x * orig.width;
      w0 = w1 + trim.width;
      h1 = trim.y - anchor._y * orig.height;
      h0 = h1 + trim.height;
    } else {
      w1 = -anchor._x * orig.width;
      w0 = w1 + orig.width;
      h1 = -anchor._y * orig.height;
      h0 = h1 + orig.height;
    }
    vertexData[0] = a2 * w1 + c2 * h1 + tx;
    vertexData[1] = d2 * h1 + b3 * w1 + ty;
    vertexData[2] = a2 * w0 + c2 * h1 + tx;
    vertexData[3] = d2 * h1 + b3 * w0 + ty;
    vertexData[4] = a2 * w0 + c2 * h0 + tx;
    vertexData[5] = d2 * h0 + b3 * w0 + ty;
    vertexData[6] = a2 * w1 + c2 * h0 + tx;
    vertexData[7] = d2 * h0 + b3 * w1 + ty;
    if (this._roundPixels) {
      const resolution = settings.RESOLUTION;
      for (let i3 = 0; i3 < vertexData.length; ++i3) {
        vertexData[i3] = Math.round(vertexData[i3] * resolution) / resolution;
      }
    }
  }
  calculateTrimmedVertices() {
    if (!this.vertexTrimmedData) {
      this.vertexTrimmedData = new Float32Array(8);
    } else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {
      return;
    }
    this._transformTrimmedID = this.transform._worldID;
    this._textureTrimmedID = this._texture._updateID;
    const texture = this._texture;
    const vertexData = this.vertexTrimmedData;
    const orig = texture.orig;
    const anchor = this._anchor;
    const wt = this.transform.worldTransform;
    const a2 = wt.a;
    const b3 = wt.b;
    const c2 = wt.c;
    const d2 = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const w1 = -anchor._x * orig.width;
    const w0 = w1 + orig.width;
    const h1 = -anchor._y * orig.height;
    const h0 = h1 + orig.height;
    vertexData[0] = a2 * w1 + c2 * h1 + tx;
    vertexData[1] = d2 * h1 + b3 * w1 + ty;
    vertexData[2] = a2 * w0 + c2 * h1 + tx;
    vertexData[3] = d2 * h1 + b3 * w0 + ty;
    vertexData[4] = a2 * w0 + c2 * h0 + tx;
    vertexData[5] = d2 * h0 + b3 * w0 + ty;
    vertexData[6] = a2 * w1 + c2 * h0 + tx;
    vertexData[7] = d2 * h0 + b3 * w1 + ty;
  }
  _render(renderer) {
    this.calculateVertices();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const trim = this._texture.trim;
    const orig = this._texture.orig;
    if (!trim || trim.width === orig.width && trim.height === orig.height) {
      this.calculateVertices();
      this._bounds.addQuad(this.vertexData);
    } else {
      this.calculateTrimmedVertices();
      this._bounds.addQuad(this.vertexTrimmedData);
    }
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      if (!this._localBounds) {
        this._localBounds = new Bounds();
      }
      this._localBounds.minX = this._texture.orig.width * -this._anchor._x;
      this._localBounds.minY = this._texture.orig.height * -this._anchor._y;
      this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x);
      this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._localBounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint);
    const width = this._texture.orig.width;
    const height = this._texture.orig.height;
    const x1 = -width * this.anchor.x;
    let y1 = 0;
    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {
      y1 = -height * this.anchor.y;
      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this._texture.off("update", this._onTextureUpdate, this);
    this._anchor = null;
    const destroyTexture = typeof options === "boolean" ? options : options?.texture;
    if (destroyTexture) {
      const destroyBaseTexture = typeof options === "boolean" ? options : options?.baseTexture;
      this._texture.destroy(!!destroyBaseTexture);
    }
    this._texture = null;
  }
  static from(source, options) {
    const texture = source instanceof Texture ? source : Texture.from(source, options);
    return new Sprite(texture);
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get width() {
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    const s2 = lib_exports.sign(this.scale.x) || 1;
    this.scale.x = s2 * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    const s2 = lib_exports.sign(this.scale.y) || 1;
    this.scale.y = s2 * value / this._texture.orig.height;
    this._height = value;
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    this._anchor.copyFrom(value);
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    this._tintColor.setValue(value);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
  }
  get tintValue() {
    return this._tintColor.toNumber();
  }
  get texture() {
    return this._texture;
  }
  set texture(value) {
    if (this._texture === value) {
      return;
    }
    if (this._texture) {
      this._texture.off("update", this._onTextureUpdate, this);
    }
    this._texture = value || Texture.EMPTY;
    this._cachedTint = 16777215;
    this._textureID = -1;
    this._textureTrimmedID = -1;
    if (value) {
      if (value.baseTexture.valid) {
        this._onTextureUpdate();
      } else {
        value.once("update", this._onTextureUpdate, this);
      }
    }
  }
};

// ../../node_modules/.pnpm/@pixi+mixin-cache-as-bitmap@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs
var _tempMatrix = new Matrix();
DisplayObject.prototype._cacheAsBitmap = false;
DisplayObject.prototype._cacheData = null;
DisplayObject.prototype._cacheAsBitmapResolution = null;
DisplayObject.prototype._cacheAsBitmapMultisample = null;
var CacheData = class {
  constructor() {
    this.textureCacheId = null;
    this.originalRender = null;
    this.originalRenderCanvas = null;
    this.originalCalculateBounds = null;
    this.originalGetLocalBounds = null;
    this.originalUpdateTransform = null;
    this.originalDestroy = null;
    this.originalMask = null;
    this.originalFilterArea = null;
    this.originalContainsPoint = null;
    this.sprite = null;
  }
};
Object.defineProperties(DisplayObject.prototype, {
  cacheAsBitmapResolution: {
    get() {
      return this._cacheAsBitmapResolution;
    },
    set(resolution) {
      if (resolution === this._cacheAsBitmapResolution) {
        return;
      }
      this._cacheAsBitmapResolution = resolution;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmapMultisample: {
    get() {
      return this._cacheAsBitmapMultisample;
    },
    set(multisample) {
      if (multisample === this._cacheAsBitmapMultisample) {
        return;
      }
      this._cacheAsBitmapMultisample = multisample;
      if (this.cacheAsBitmap) {
        this.cacheAsBitmap = false;
        this.cacheAsBitmap = true;
      }
    }
  },
  cacheAsBitmap: {
    get() {
      return this._cacheAsBitmap;
    },
    set(value) {
      if (this._cacheAsBitmap === value) {
        return;
      }
      this._cacheAsBitmap = value;
      let data;
      if (value) {
        if (!this._cacheData) {
          this._cacheData = new CacheData();
        }
        data = this._cacheData;
        data.originalRender = this.render;
        data.originalRenderCanvas = this.renderCanvas;
        data.originalUpdateTransform = this.updateTransform;
        data.originalCalculateBounds = this.calculateBounds;
        data.originalGetLocalBounds = this.getLocalBounds;
        data.originalDestroy = this.destroy;
        data.originalContainsPoint = this.containsPoint;
        data.originalMask = this._mask;
        data.originalFilterArea = this.filterArea;
        this.render = this._renderCached;
        this.renderCanvas = this._renderCachedCanvas;
        this.destroy = this._cacheAsBitmapDestroy;
      } else {
        data = this._cacheData;
        if (data.sprite) {
          this._destroyCachedDisplayObject();
        }
        this.render = data.originalRender;
        this.renderCanvas = data.originalRenderCanvas;
        this.calculateBounds = data.originalCalculateBounds;
        this.getLocalBounds = data.originalGetLocalBounds;
        this.destroy = data.originalDestroy;
        this.updateTransform = data.originalUpdateTransform;
        this.containsPoint = data.originalContainsPoint;
        this._mask = data.originalMask;
        this.filterArea = data.originalFilterArea;
      }
    }
  }
});
DisplayObject.prototype._renderCached = function _renderCached(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObject(renderer);
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._render(renderer);
};
DisplayObject.prototype._initCachedDisplayObject = function _initCachedDisplayObject(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  renderer.batch.flush();
  const bounds = this.getLocalBounds(null, true).clone();
  if (this.filters?.length) {
    const padding = this.filters[0].padding;
    bounds.pad(padding);
  }
  bounds.ceil(settings.RESOLUTION);
  const cachedRenderTexture = renderer.renderTexture.current;
  const cachedSourceFrame = renderer.renderTexture.sourceFrame.clone();
  const cachedDestinationFrame = renderer.renderTexture.destinationFrame.clone();
  const cachedProjectionTransform = renderer.projection.transform;
  const renderTexture = RenderTexture.create({
    width: bounds.width,
    height: bounds.height,
    resolution: this.cacheAsBitmapResolution || renderer.resolution,
    multisample: this.cacheAsBitmapMultisample ?? renderer.multisample
  });
  const textureCacheId = `cacheAsBitmap_${lib_exports.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  Texture.addToCache(renderTexture, textureCacheId);
  const m2 = this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-bounds.x, -bounds.y);
  this.render = this._cacheData.originalRender;
  renderer.render(this, { renderTexture, clear: true, transform: m2, skipUpdateTransform: false });
  renderer.framebuffer.blit();
  renderer.projection.transform = cachedProjectionTransform;
  renderer.renderTexture.bind(cachedRenderTexture, cachedSourceFrame, cachedDestinationFrame);
  this.render = this._renderCached;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.enableTempParent();
    this.updateTransform();
    this.disableTempParent(null);
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
DisplayObject.prototype._renderCachedCanvas = function _renderCachedCanvas(renderer) {
  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {
    return;
  }
  this._initCachedDisplayObjectCanvas(renderer);
  this._cacheData.sprite.worldAlpha = this.worldAlpha;
  this._cacheData.sprite._renderCanvas(renderer);
};
DisplayObject.prototype._initCachedDisplayObjectCanvas = function _initCachedDisplayObjectCanvas(renderer) {
  if (this._cacheData?.sprite) {
    return;
  }
  const bounds = this.getLocalBounds(null, true);
  const cacheAlpha = this.alpha;
  this.alpha = 1;
  const cachedRenderTarget = renderer.canvasContext.activeContext;
  const cachedProjectionTransform = renderer._projTransform;
  bounds.ceil(settings.RESOLUTION);
  const renderTexture = RenderTexture.create({ width: bounds.width, height: bounds.height });
  const textureCacheId = `cacheAsBitmap_${lib_exports.uid()}`;
  this._cacheData.textureCacheId = textureCacheId;
  BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);
  Texture.addToCache(renderTexture, textureCacheId);
  const m2 = _tempMatrix;
  this.transform.localTransform.copyTo(m2);
  m2.invert();
  m2.tx -= bounds.x;
  m2.ty -= bounds.y;
  this.renderCanvas = this._cacheData.originalRenderCanvas;
  renderer.render(this, { renderTexture, clear: true, transform: m2, skipUpdateTransform: false });
  renderer.canvasContext.activeContext = cachedRenderTarget;
  renderer._projTransform = cachedProjectionTransform;
  this.renderCanvas = this._renderCachedCanvas;
  this.updateTransform = this.displayObjectUpdateTransform;
  this.calculateBounds = this._calculateCachedBounds;
  this.getLocalBounds = this._getCachedLocalBounds;
  this._mask = null;
  this.filterArea = null;
  this.alpha = cacheAlpha;
  const cachedSprite = new Sprite(renderTexture);
  cachedSprite.transform.worldTransform = this.transform.worldTransform;
  cachedSprite.anchor.x = -(bounds.x / bounds.width);
  cachedSprite.anchor.y = -(bounds.y / bounds.height);
  cachedSprite.alpha = cacheAlpha;
  cachedSprite._bounds = this._bounds;
  this._cacheData.sprite = cachedSprite;
  this.transform._parentID = -1;
  if (!this.parent) {
    this.parent = renderer._tempDisplayObjectParent;
    this.updateTransform();
    this.parent = null;
  } else {
    this.updateTransform();
  }
  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);
};
DisplayObject.prototype._calculateCachedBounds = function _calculateCachedBounds() {
  this._bounds.clear();
  this._cacheData.sprite.transform._worldID = this.transform._worldID;
  this._cacheData.sprite._calculateBounds();
  this._bounds.updateID = this._boundsID;
};
DisplayObject.prototype._getCachedLocalBounds = function _getCachedLocalBounds() {
  return this._cacheData.sprite.getLocalBounds(null);
};
DisplayObject.prototype._destroyCachedDisplayObject = function _destroyCachedDisplayObject() {
  this._cacheData.sprite._texture.destroy(true);
  this._cacheData.sprite = null;
  BaseTexture.removeFromCache(this._cacheData.textureCacheId);
  Texture.removeFromCache(this._cacheData.textureCacheId);
  this._cacheData.textureCacheId = null;
};
DisplayObject.prototype._cacheAsBitmapDestroy = function _cacheAsBitmapDestroy(options) {
  this.cacheAsBitmap = false;
  this.destroy(options);
};

// ../../node_modules/.pnpm/@pixi+mixin-get-child-by-name@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs
DisplayObject.prototype.name = null;
Container.prototype.getChildByName = function getChildByName(name, deep) {
  for (let i3 = 0, j3 = this.children.length; i3 < j3; i3++) {
    if (this.children[i3].name === name) {
      return this.children[i3];
    }
  }
  if (deep) {
    for (let i3 = 0, j3 = this.children.length; i3 < j3; i3++) {
      const child = this.children[i3];
      if (!child.getChildByName) {
        continue;
      }
      const target = child.getChildByName(name, true);
      if (target) {
        return target;
      }
    }
  }
  return null;
};

// ../../node_modules/.pnpm/@pixi+mixin-get-global-position@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mixin-get-global-position/lib/index.mjs
DisplayObject.prototype.getGlobalPosition = function getGlobalPosition(point = new Point(), skipUpdate = false) {
  if (this.parent) {
    this.parent.toGlobal(this.position, point, skipUpdate);
  } else {
    point.x = this.position.x;
    point.y = this.position.y;
  }
  return point;
};

// ../../node_modules/.pnpm/@pixi+filter-alpha@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-alpha/lib/alpha.mjs
var fragment2 = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-alpha@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs
var AlphaFilter = class extends Filter {
  constructor(alpha = 1) {
    super(defaultVertex4, fragment2, { uAlpha: 1 });
    this.alpha = alpha;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
};

// ../../node_modules/.pnpm/@pixi+filter-blur@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs
var GAUSSIAN_VALUES = {
  5: [0.153388, 0.221461, 0.250301],
  7: [0.071303, 0.131514, 0.189879, 0.214607],
  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]
};
var fragTemplate2 = [
  "varying vec2 vBlurTexCoords[%size%];",
  "uniform sampler2D uSampler;",
  "void main(void)",
  "{",
  "    gl_FragColor = vec4(0.0);",
  "    %blur%",
  "}"
].join("\n");
function generateBlurFragSource(kernelSize) {
  const kernel = GAUSSIAN_VALUES[kernelSize];
  const halfLength = kernel.length;
  let fragSource = fragTemplate2;
  let blurLoop = "";
  const template = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";
  let value;
  for (let i3 = 0; i3 < kernelSize; i3++) {
    let blur = template.replace("%index%", i3.toString());
    value = i3;
    if (i3 >= halfLength) {
      value = kernelSize - i3 - 1;
    }
    blur = blur.replace("%value%", kernel[value].toString());
    blurLoop += blur;
    blurLoop += "\n";
  }
  fragSource = fragSource.replace("%blur%", blurLoop);
  fragSource = fragSource.replace("%size%", kernelSize.toString());
  return fragSource;
}

// ../../node_modules/.pnpm/@pixi+filter-blur@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs
var vertTemplate = `
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function generateBlurVertSource(kernelSize, x2) {
  const halfLength = Math.ceil(kernelSize / 2);
  let vertSource = vertTemplate;
  let blurLoop = "";
  let template;
  if (x2) {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);";
  } else {
    template = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
  }
  for (let i3 = 0; i3 < kernelSize; i3++) {
    let blur = template.replace("%index%", i3.toString());
    blur = blur.replace("%sampleIndex%", `${i3 - (halfLength - 1)}.0`);
    blurLoop += blur;
    blurLoop += "\n";
  }
  vertSource = vertSource.replace("%blur%", blurLoop);
  vertSource = vertSource.replace("%size%", kernelSize.toString());
  return vertSource;
}

// ../../node_modules/.pnpm/@pixi+filter-blur@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs
var BlurFilterPass = class extends Filter {
  constructor(horizontal, strength = 8, quality = 4, resolution = Filter.defaultResolution, kernelSize = 5) {
    const vertSrc = generateBlurVertSource(kernelSize, horizontal);
    const fragSrc = generateBlurFragSource(kernelSize);
    super(vertSrc, fragSrc);
    this.horizontal = horizontal;
    this.resolution = resolution;
    this._quality = 0;
    this.quality = quality;
    this.blur = strength;
  }
  apply(filterManager, input, output, clearMode) {
    if (output) {
      if (this.horizontal) {
        this.uniforms.strength = 1 / output.width * (output.width / input.width);
      } else {
        this.uniforms.strength = 1 / output.height * (output.height / input.height);
      }
    } else {
      if (this.horizontal) {
        this.uniforms.strength = 1 / filterManager.renderer.width * (filterManager.renderer.width / input.width);
      } else {
        this.uniforms.strength = 1 / filterManager.renderer.height * (filterManager.renderer.height / input.height);
      }
    }
    this.uniforms.strength *= this.strength;
    this.uniforms.strength /= this.passes;
    if (this.passes === 1) {
      filterManager.applyFilter(this, input, output, clearMode);
    } else {
      const renderTarget = filterManager.getFilterTexture();
      const renderer = filterManager.renderer;
      let flip = input;
      let flop = renderTarget;
      this.state.blend = false;
      filterManager.applyFilter(this, flip, flop, CLEAR_MODES.CLEAR);
      for (let i3 = 1; i3 < this.passes - 1; i3++) {
        filterManager.bindAndClear(flip, CLEAR_MODES.BLIT);
        this.uniforms.uSampler = flop;
        const temp = flop;
        flop = flip;
        flip = temp;
        renderer.shader.bind(this);
        renderer.geometry.draw(5);
      }
      this.state.blend = true;
      filterManager.applyFilter(this, flop, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    }
  }
  get blur() {
    return this.strength;
  }
  set blur(value) {
    this.padding = 1 + Math.abs(value) * 2;
    this.strength = value;
  }
  get quality() {
    return this._quality;
  }
  set quality(value) {
    this._quality = value;
    this.passes = value;
  }
};

// ../../node_modules/.pnpm/@pixi+filter-blur@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-blur/lib/BlurFilter.mjs
var BlurFilter = class extends Filter {
  constructor(strength = 8, quality = 4, resolution = Filter.defaultResolution, kernelSize = 5) {
    super();
    this._repeatEdgePixels = false;
    this.blurXFilter = new BlurFilterPass(true, strength, quality, resolution, kernelSize);
    this.blurYFilter = new BlurFilterPass(false, strength, quality, resolution, kernelSize);
    this.resolution = resolution;
    this.quality = quality;
    this.blur = strength;
    this.repeatEdgePixels = false;
  }
  apply(filterManager, input, output, clearMode) {
    const xStrength = Math.abs(this.blurXFilter.strength);
    const yStrength = Math.abs(this.blurYFilter.strength);
    if (xStrength && yStrength) {
      const renderTarget = filterManager.getFilterTexture();
      this.blurXFilter.apply(filterManager, input, renderTarget, CLEAR_MODES.CLEAR);
      this.blurYFilter.apply(filterManager, renderTarget, output, clearMode);
      filterManager.returnFilterTexture(renderTarget);
    } else if (yStrength) {
      this.blurYFilter.apply(filterManager, input, output, clearMode);
    } else {
      this.blurXFilter.apply(filterManager, input, output, clearMode);
    }
  }
  updatePadding() {
    if (this._repeatEdgePixels) {
      this.padding = 0;
    } else {
      this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
    }
  }
  get blur() {
    return this.blurXFilter.blur;
  }
  set blur(value) {
    this.blurXFilter.blur = this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get quality() {
    return this.blurXFilter.quality;
  }
  set quality(value) {
    this.blurXFilter.quality = this.blurYFilter.quality = value;
  }
  get blurX() {
    return this.blurXFilter.blur;
  }
  set blurX(value) {
    this.blurXFilter.blur = value;
    this.updatePadding();
  }
  get blurY() {
    return this.blurYFilter.blur;
  }
  set blurY(value) {
    this.blurYFilter.blur = value;
    this.updatePadding();
  }
  get blendMode() {
    return this.blurYFilter.blendMode;
  }
  set blendMode(value) {
    this.blurYFilter.blendMode = value;
  }
  get repeatEdgePixels() {
    return this._repeatEdgePixels;
  }
  set repeatEdgePixels(value) {
    this._repeatEdgePixels = value;
    this.updatePadding();
  }
};

// ../../node_modules/.pnpm/@pixi+filter-color-matrix@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs
var fragment3 = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-color-matrix@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs
var ColorMatrixFilter = class extends Filter {
  constructor() {
    const uniforms = {
      m: new Float32Array([
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ]),
      uAlpha: 1
    };
    super(defaultFilterVertex, fragment3, uniforms);
    this.alpha = 1;
  }
  _loadMatrix(matrix, multiply = false) {
    let newMatrix = matrix;
    if (multiply) {
      this._multiply(newMatrix, this.uniforms.m, matrix);
      newMatrix = this._colorMatrix(newMatrix);
    }
    this.uniforms.m = newMatrix;
  }
  _multiply(out, a2, b3) {
    out[0] = a2[0] * b3[0] + a2[1] * b3[5] + a2[2] * b3[10] + a2[3] * b3[15];
    out[1] = a2[0] * b3[1] + a2[1] * b3[6] + a2[2] * b3[11] + a2[3] * b3[16];
    out[2] = a2[0] * b3[2] + a2[1] * b3[7] + a2[2] * b3[12] + a2[3] * b3[17];
    out[3] = a2[0] * b3[3] + a2[1] * b3[8] + a2[2] * b3[13] + a2[3] * b3[18];
    out[4] = a2[0] * b3[4] + a2[1] * b3[9] + a2[2] * b3[14] + a2[3] * b3[19] + a2[4];
    out[5] = a2[5] * b3[0] + a2[6] * b3[5] + a2[7] * b3[10] + a2[8] * b3[15];
    out[6] = a2[5] * b3[1] + a2[6] * b3[6] + a2[7] * b3[11] + a2[8] * b3[16];
    out[7] = a2[5] * b3[2] + a2[6] * b3[7] + a2[7] * b3[12] + a2[8] * b3[17];
    out[8] = a2[5] * b3[3] + a2[6] * b3[8] + a2[7] * b3[13] + a2[8] * b3[18];
    out[9] = a2[5] * b3[4] + a2[6] * b3[9] + a2[7] * b3[14] + a2[8] * b3[19] + a2[9];
    out[10] = a2[10] * b3[0] + a2[11] * b3[5] + a2[12] * b3[10] + a2[13] * b3[15];
    out[11] = a2[10] * b3[1] + a2[11] * b3[6] + a2[12] * b3[11] + a2[13] * b3[16];
    out[12] = a2[10] * b3[2] + a2[11] * b3[7] + a2[12] * b3[12] + a2[13] * b3[17];
    out[13] = a2[10] * b3[3] + a2[11] * b3[8] + a2[12] * b3[13] + a2[13] * b3[18];
    out[14] = a2[10] * b3[4] + a2[11] * b3[9] + a2[12] * b3[14] + a2[13] * b3[19] + a2[14];
    out[15] = a2[15] * b3[0] + a2[16] * b3[5] + a2[17] * b3[10] + a2[18] * b3[15];
    out[16] = a2[15] * b3[1] + a2[16] * b3[6] + a2[17] * b3[11] + a2[18] * b3[16];
    out[17] = a2[15] * b3[2] + a2[16] * b3[7] + a2[17] * b3[12] + a2[18] * b3[17];
    out[18] = a2[15] * b3[3] + a2[16] * b3[8] + a2[17] * b3[13] + a2[18] * b3[18];
    out[19] = a2[15] * b3[4] + a2[16] * b3[9] + a2[17] * b3[14] + a2[18] * b3[19] + a2[19];
    return out;
  }
  _colorMatrix(matrix) {
    const m2 = new Float32Array(matrix);
    m2[4] /= 255;
    m2[9] /= 255;
    m2[14] /= 255;
    m2[19] /= 255;
    return m2;
  }
  brightness(b3, multiply) {
    const matrix = [
      b3,
      0,
      0,
      0,
      0,
      0,
      b3,
      0,
      0,
      0,
      0,
      0,
      b3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  tint(color, multiply) {
    const [r2, g3, b3] = Color.shared.setValue(color).toArray();
    const matrix = [
      r2,
      0,
      0,
      0,
      0,
      0,
      g3,
      0,
      0,
      0,
      0,
      0,
      b3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  greyscale(scale3, multiply) {
    const matrix = [
      scale3,
      scale3,
      scale3,
      0,
      0,
      scale3,
      scale3,
      scale3,
      0,
      0,
      scale3,
      scale3,
      scale3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  blackAndWhite(multiply) {
    const matrix = [
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0.3,
      0.6,
      0.1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  hue(rotation, multiply) {
    rotation = (rotation || 0) / 180 * Math.PI;
    const cosR = Math.cos(rotation);
    const sinR = Math.sin(rotation);
    const sqrt = Math.sqrt;
    const w3 = 1 / 3;
    const sqrW = sqrt(w3);
    const a00 = cosR + (1 - cosR) * w3;
    const a01 = w3 * (1 - cosR) - sqrW * sinR;
    const a02 = w3 * (1 - cosR) + sqrW * sinR;
    const a10 = w3 * (1 - cosR) + sqrW * sinR;
    const a11 = cosR + w3 * (1 - cosR);
    const a12 = w3 * (1 - cosR) - sqrW * sinR;
    const a20 = w3 * (1 - cosR) - sqrW * sinR;
    const a21 = w3 * (1 - cosR) + sqrW * sinR;
    const a22 = cosR + w3 * (1 - cosR);
    const matrix = [
      a00,
      a01,
      a02,
      0,
      0,
      a10,
      a11,
      a12,
      0,
      0,
      a20,
      a21,
      a22,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  contrast(amount, multiply) {
    const v2 = (amount || 0) + 1;
    const o3 = -0.5 * (v2 - 1);
    const matrix = [
      v2,
      0,
      0,
      0,
      o3,
      0,
      v2,
      0,
      0,
      o3,
      0,
      0,
      v2,
      0,
      o3,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  saturate(amount = 0, multiply) {
    const x2 = amount * 2 / 3 + 1;
    const y2 = (x2 - 1) * -0.5;
    const matrix = [
      x2,
      y2,
      y2,
      0,
      0,
      y2,
      x2,
      y2,
      0,
      0,
      y2,
      y2,
      x2,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  desaturate() {
    this.saturate(-1);
  }
  negative(multiply) {
    const matrix = [
      -1,
      0,
      0,
      1,
      0,
      0,
      -1,
      0,
      1,
      0,
      0,
      0,
      -1,
      1,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  sepia(multiply) {
    const matrix = [
      0.393,
      0.7689999,
      0.18899999,
      0,
      0,
      0.349,
      0.6859999,
      0.16799999,
      0,
      0,
      0.272,
      0.5339999,
      0.13099999,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  technicolor(multiply) {
    const matrix = [
      1.9125277891456083,
      -0.8545344976951645,
      -0.09155508482755585,
      0,
      11.793603434377337,
      -0.3087833385928097,
      1.7658908555458428,
      -0.10601743074722245,
      0,
      -70.35205161461398,
      -0.231103377548616,
      -0.7501899197440212,
      1.847597816108189,
      0,
      30.950940869491138,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  polaroid(multiply) {
    const matrix = [
      1.438,
      -0.062,
      -0.062,
      0,
      0,
      -0.122,
      1.378,
      -0.122,
      0,
      0,
      -0.016,
      -0.016,
      1.483,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  toBGR(multiply) {
    const matrix = [
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  kodachrome(multiply) {
    const matrix = [
      1.1285582396593525,
      -0.3967382283601348,
      -0.03992559172921793,
      0,
      63.72958762196502,
      -0.16404339962244616,
      1.0835251566291304,
      -0.05498805115633132,
      0,
      24.732407896706203,
      -0.16786010706155763,
      -0.5603416277695248,
      1.6014850761964943,
      0,
      35.62982807460946,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  browni(multiply) {
    const matrix = [
      0.5997023498159715,
      0.34553243048391263,
      -0.2708298674538042,
      0,
      47.43192855600873,
      -0.037703249837783157,
      0.8609577587992641,
      0.15059552388459913,
      0,
      -36.96841498319127,
      0.24113635128153335,
      -0.07441037908422492,
      0.44972182064877153,
      0,
      -7.562075277591283,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  vintage(multiply) {
    const matrix = [
      0.6279345635605994,
      0.3202183420819367,
      -0.03965408211312453,
      0,
      9.651285835294123,
      0.02578397704808868,
      0.6441188644374771,
      0.03259127616149294,
      0,
      7.462829176470591,
      0.0466055556782719,
      -0.0851232987247891,
      0.5241648018700465,
      0,
      5.159190588235296,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  colorTone(desaturation, toned, lightColor, darkColor, multiply) {
    desaturation = desaturation || 0.2;
    toned = toned || 0.15;
    lightColor = lightColor || 16770432;
    darkColor = darkColor || 3375104;
    const temp = Color.shared;
    const [lR, lG, lB] = temp.setValue(lightColor).toArray();
    const [dR, dG, dB] = temp.setValue(darkColor).toArray();
    const matrix = [
      0.3,
      0.59,
      0.11,
      0,
      0,
      lR,
      lG,
      lB,
      desaturation,
      0,
      dR,
      dG,
      dB,
      toned,
      0,
      lR - dR,
      lG - dG,
      lB - dB,
      0,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  night(intensity, multiply) {
    intensity = intensity || 0.1;
    const matrix = [
      intensity * -2,
      -intensity,
      0,
      0,
      0,
      -intensity,
      0,
      intensity,
      0,
      0,
      0,
      intensity,
      intensity * 2,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  predator(amount, multiply) {
    const matrix = [
      11.224130630493164 * amount,
      -4.794486999511719 * amount,
      -2.8746118545532227 * amount,
      0 * amount,
      0.40342438220977783 * amount,
      -3.6330697536468506 * amount,
      9.193157196044922 * amount,
      -2.951810836791992 * amount,
      0 * amount,
      -1.316135048866272 * amount,
      -3.2184197902679443 * amount,
      -4.2375030517578125 * amount,
      7.476448059082031 * amount,
      0 * amount,
      0.8044459223747253 * amount,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  lsd(multiply) {
    const matrix = [
      2,
      -0.4,
      0.5,
      0,
      0,
      -0.5,
      2,
      -0.4,
      0,
      0,
      -0.4,
      -0.5,
      3,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, multiply);
  }
  reset() {
    const matrix = [
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      1,
      0
    ];
    this._loadMatrix(matrix, false);
  }
  get matrix() {
    return this.uniforms.m;
  }
  set matrix(value) {
    this.uniforms.m = value;
  }
  get alpha() {
    return this.uniforms.uAlpha;
  }
  set alpha(value) {
    this.uniforms.uAlpha = value;
  }
};
ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;

// ../../node_modules/.pnpm/@pixi+filter-displacement@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-displacement/lib/displacement.mjs
var fragment4 = "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-displacement@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-displacement/lib/displacement2.mjs
var vertex2 = "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-displacement@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs
var DisplacementFilter = class extends Filter {
  constructor(sprite, scale3) {
    const maskMatrix = new Matrix();
    sprite.renderable = false;
    super(vertex2, fragment4, {
      mapSampler: sprite._texture,
      filterMatrix: maskMatrix,
      scale: { x: 1, y: 1 },
      rotation: new Float32Array([1, 0, 0, 1])
    });
    this.maskSprite = sprite;
    this.maskMatrix = maskMatrix;
    if (scale3 === null || scale3 === void 0) {
      scale3 = 20;
    }
    this.scale = new Point(scale3, scale3);
  }
  apply(filterManager, input, output, clearMode) {
    this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);
    this.uniforms.scale.x = this.scale.x;
    this.uniforms.scale.y = this.scale.y;
    const wt = this.maskSprite.worldTransform;
    const lenX = Math.sqrt(wt.a * wt.a + wt.b * wt.b);
    const lenY = Math.sqrt(wt.c * wt.c + wt.d * wt.d);
    if (lenX !== 0 && lenY !== 0) {
      this.uniforms.rotation[0] = wt.a / lenX;
      this.uniforms.rotation[1] = wt.b / lenX;
      this.uniforms.rotation[2] = wt.c / lenY;
      this.uniforms.rotation[3] = wt.d / lenY;
    }
    filterManager.applyFilter(this, input, output, clearMode);
  }
  get map() {
    return this.uniforms.mapSampler;
  }
  set map(value) {
    this.uniforms.mapSampler = value;
  }
};

// ../../node_modules/.pnpm/@pixi+filter-fxaa@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-fxaa/lib/fxaa.mjs
var fragment5 = `varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;

// ../../node_modules/.pnpm/@pixi+filter-fxaa@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs
var vertex3 = "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-fxaa@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs
var FXAAFilter = class extends Filter {
  constructor() {
    super(vertex3, fragment5);
  }
};

// ../../node_modules/.pnpm/@pixi+filter-noise@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-noise/lib/noise.mjs
var fragment6 = "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n";

// ../../node_modules/.pnpm/@pixi+filter-noise@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs
var NoiseFilter = class extends Filter {
  constructor(noise = 0.5, seed = Math.random()) {
    super(defaultFilterVertex, fragment6, {
      uNoise: 0,
      uSeed: 0
    });
    this.noise = noise;
    this.seed = seed;
  }
  get noise() {
    return this.uniforms.uNoise;
  }
  set noise(value) {
    this.uniforms.uNoise = value;
  }
  get seed() {
    return this.uniforms.uSeed;
  }
  set seed(value) {
    this.uniforms.uSeed = value;
  }
};

// ../../node_modules/.pnpm/pixi.js@7.2.4_@pixi+utils@7.2.4/node_modules/pixi.js/lib/filters.mjs
var filters = {
  AlphaFilter,
  BlurFilter,
  BlurFilterPass,
  ColorMatrixFilter,
  DisplacementFilter,
  FXAAFilter,
  NoiseFilter
};
Object.entries(filters).forEach(([key2, FilterClass]) => {
  Object.defineProperty(filters, key2, {
    get() {
      lib_exports.deprecation("7.1.0", `filters.${key2} has moved to ${key2}`);
      return FilterClass;
    }
  });
});

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/EventTicker.mjs
var EventsTickerClass = class {
  constructor() {
    this.interactionFrequency = 10;
    this._deltaTime = 0;
    this._didMove = false;
    this.tickerAdded = false;
    this._pauseUpdate = true;
  }
  init(events) {
    this.removeTickerListener();
    this.events = events;
    this.interactionFrequency = 10;
    this._deltaTime = 0;
    this._didMove = false;
    this.tickerAdded = false;
    this._pauseUpdate = true;
  }
  get pauseUpdate() {
    return this._pauseUpdate;
  }
  set pauseUpdate(paused) {
    this._pauseUpdate = paused;
  }
  addTickerListener() {
    if (this.tickerAdded || !this.domElement) {
      return;
    }
    Ticker.system.add(this.tickerUpdate, this, UPDATE_PRIORITY.INTERACTION);
    this.tickerAdded = true;
  }
  removeTickerListener() {
    if (!this.tickerAdded) {
      return;
    }
    Ticker.system.remove(this.tickerUpdate, this);
    this.tickerAdded = false;
  }
  pointerMoved() {
    this._didMove = true;
  }
  update() {
    if (!this.domElement || this._pauseUpdate) {
      return;
    }
    if (this._didMove) {
      this._didMove = false;
      return;
    }
    const rootPointerEvent = this.events["rootPointerEvent"];
    if (this.events.supportsTouchEvents && rootPointerEvent.pointerType === "touch") {
      return;
    }
    globalThis.document.dispatchEvent(new PointerEvent("pointermove", {
      clientX: rootPointerEvent.clientX,
      clientY: rootPointerEvent.clientY
    }));
  }
  tickerUpdate(deltaTime) {
    this._deltaTime += deltaTime;
    if (this._deltaTime < this.interactionFrequency) {
      return;
    }
    this._deltaTime = 0;
    this.update();
  }
};
var EventsTicker = new EventsTickerClass();

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/FederatedEvent.mjs
var FederatedEvent = class {
  constructor(manager) {
    this.bubbles = true;
    this.cancelBubble = true;
    this.cancelable = false;
    this.composed = false;
    this.defaultPrevented = false;
    this.eventPhase = FederatedEvent.prototype.NONE;
    this.propagationStopped = false;
    this.propagationImmediatelyStopped = false;
    this.layer = new Point();
    this.page = new Point();
    this.NONE = 0;
    this.CAPTURING_PHASE = 1;
    this.AT_TARGET = 2;
    this.BUBBLING_PHASE = 3;
    this.manager = manager;
  }
  get layerX() {
    return this.layer.x;
  }
  get layerY() {
    return this.layer.y;
  }
  get pageX() {
    return this.page.x;
  }
  get pageY() {
    return this.page.y;
  }
  get data() {
    return this;
  }
  composedPath() {
    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {
      this.path = this.target ? this.manager.propagationPath(this.target) : [];
    }
    return this.path;
  }
  initEvent(_type, _bubbles, _cancelable) {
    throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {
    throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.");
  }
  preventDefault() {
    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {
      this.nativeEvent.preventDefault();
    }
    this.defaultPrevented = true;
  }
  stopImmediatePropagation() {
    this.propagationImmediatelyStopped = true;
  }
  stopPropagation() {
    this.propagationStopped = true;
  }
};

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/FederatedMouseEvent.mjs
var FederatedMouseEvent = class extends FederatedEvent {
  constructor() {
    super(...arguments);
    this.client = new Point();
    this.movement = new Point();
    this.offset = new Point();
    this.global = new Point();
    this.screen = new Point();
  }
  get clientX() {
    return this.client.x;
  }
  get clientY() {
    return this.client.y;
  }
  get x() {
    return this.clientX;
  }
  get y() {
    return this.clientY;
  }
  get movementX() {
    return this.movement.x;
  }
  get movementY() {
    return this.movement.y;
  }
  get offsetX() {
    return this.offset.x;
  }
  get offsetY() {
    return this.offset.y;
  }
  get globalX() {
    return this.global.x;
  }
  get globalY() {
    return this.global.y;
  }
  get screenX() {
    return this.screen.x;
  }
  get screenY() {
    return this.screen.y;
  }
  getLocalPosition(displayObject, point, globalPos) {
    return displayObject.worldTransform.applyInverse(globalPos || this.global, point);
  }
  getModifierState(key2) {
    return "getModifierState" in this.nativeEvent && this.nativeEvent.getModifierState(key2);
  }
  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {
    throw new Error("Method not implemented.");
  }
};

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/FederatedPointerEvent.mjs
var FederatedPointerEvent = class extends FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.height = 0;
    this.isPrimary = false;
  }
  getCoalescedEvents() {
    if (this.type === "pointermove" || this.type === "mousemove" || this.type === "touchmove") {
      return [this];
    }
    return [];
  }
  getPredictedEvents() {
    throw new Error("getPredictedEvents is not supported!");
  }
};

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/FederatedWheelEvent.mjs
var FederatedWheelEvent = class extends FederatedMouseEvent {
  constructor() {
    super(...arguments);
    this.DOM_DELTA_PIXEL = 0;
    this.DOM_DELTA_LINE = 1;
    this.DOM_DELTA_PAGE = 2;
  }
};
FederatedWheelEvent.DOM_DELTA_PIXEL = 0;
FederatedWheelEvent.DOM_DELTA_LINE = 1;
FederatedWheelEvent.DOM_DELTA_PAGE = 2;

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/EventBoundary.mjs
var PROPAGATION_LIMIT = 2048;
var tempHitLocation = new Point();
var tempLocalMapping = new Point();
var EventBoundary = class {
  constructor(rootTarget) {
    this.dispatch = new lib_exports.EventEmitter();
    this.moveOnAll = false;
    this.enableGlobalMoveEvents = true;
    this.mappingState = {
      trackingData: {}
    };
    this.eventPool = /* @__PURE__ */ new Map();
    this._allInteractiveElements = [];
    this._hitElements = [];
    this._isPointerMoveEvent = false;
    this.rootTarget = rootTarget;
    this.hitPruneFn = this.hitPruneFn.bind(this);
    this.hitTestFn = this.hitTestFn.bind(this);
    this.mapPointerDown = this.mapPointerDown.bind(this);
    this.mapPointerMove = this.mapPointerMove.bind(this);
    this.mapPointerOut = this.mapPointerOut.bind(this);
    this.mapPointerOver = this.mapPointerOver.bind(this);
    this.mapPointerUp = this.mapPointerUp.bind(this);
    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);
    this.mapWheel = this.mapWheel.bind(this);
    this.mappingTable = {};
    this.addEventMapping("pointerdown", this.mapPointerDown);
    this.addEventMapping("pointermove", this.mapPointerMove);
    this.addEventMapping("pointerout", this.mapPointerOut);
    this.addEventMapping("pointerleave", this.mapPointerOut);
    this.addEventMapping("pointerover", this.mapPointerOver);
    this.addEventMapping("pointerup", this.mapPointerUp);
    this.addEventMapping("pointerupoutside", this.mapPointerUpOutside);
    this.addEventMapping("wheel", this.mapWheel);
  }
  addEventMapping(type2, fn) {
    if (!this.mappingTable[type2]) {
      this.mappingTable[type2] = [];
    }
    this.mappingTable[type2].push({
      fn,
      priority: 0
    });
    this.mappingTable[type2].sort((a2, b3) => a2.priority - b3.priority);
  }
  dispatchEvent(e3, type2) {
    e3.propagationStopped = false;
    e3.propagationImmediatelyStopped = false;
    this.propagate(e3, type2);
    this.dispatch.emit(type2 || e3.type, e3);
  }
  mapEvent(e3) {
    if (!this.rootTarget) {
      return;
    }
    const mappers = this.mappingTable[e3.type];
    if (mappers) {
      for (let i3 = 0, j3 = mappers.length; i3 < j3; i3++) {
        mappers[i3].fn(e3);
      }
    } else {
      console.warn(`[EventBoundary]: Event mapping not defined for ${e3.type}`);
    }
  }
  hitTest(x2, y2) {
    EventsTicker.pauseUpdate = true;
    const useMove = this._isPointerMoveEvent && this.enableGlobalMoveEvents;
    const fn = useMove ? "hitTestMoveRecursive" : "hitTestRecursive";
    const invertedPath = this[fn](this.rootTarget, this.rootTarget.eventMode, tempHitLocation.set(x2, y2), this.hitTestFn, this.hitPruneFn);
    return invertedPath && invertedPath[0];
  }
  propagate(e3, type2) {
    if (!e3.target) {
      return;
    }
    const composedPath = e3.composedPath();
    e3.eventPhase = e3.CAPTURING_PHASE;
    for (let i3 = 0, j3 = composedPath.length - 1; i3 < j3; i3++) {
      e3.currentTarget = composedPath[i3];
      this.notifyTarget(e3, type2);
      if (e3.propagationStopped || e3.propagationImmediatelyStopped)
        return;
    }
    e3.eventPhase = e3.AT_TARGET;
    e3.currentTarget = e3.target;
    this.notifyTarget(e3, type2);
    if (e3.propagationStopped || e3.propagationImmediatelyStopped)
      return;
    e3.eventPhase = e3.BUBBLING_PHASE;
    for (let i3 = composedPath.length - 2; i3 >= 0; i3--) {
      e3.currentTarget = composedPath[i3];
      this.notifyTarget(e3, type2);
      if (e3.propagationStopped || e3.propagationImmediatelyStopped)
        return;
    }
  }
  all(e3, type2, targets = this._allInteractiveElements) {
    if (targets.length === 0)
      return;
    e3.eventPhase = e3.BUBBLING_PHASE;
    const events = Array.isArray(type2) ? type2 : [type2];
    for (let i3 = targets.length - 1; i3 >= 0; i3--) {
      events.forEach((event) => {
        e3.currentTarget = targets[i3];
        this.notifyTarget(e3, event);
      });
    }
  }
  propagationPath(target) {
    const propagationPath = [target];
    for (let i3 = 0; i3 < PROPAGATION_LIMIT && target !== this.rootTarget; i3++) {
      if (!target.parent) {
        throw new Error("Cannot find propagation path to disconnected target");
      }
      propagationPath.push(target.parent);
      target = target.parent;
    }
    propagationPath.reverse();
    return propagationPath;
  }
  hitTestMoveRecursive(currentTarget, eventMode, location, testFn, pruneFn, ignore = false) {
    let shouldReturn = false;
    if (this._interactivePrune(currentTarget))
      return null;
    if (currentTarget.eventMode === "dynamic" || eventMode === "dynamic") {
      EventsTicker.pauseUpdate = false;
    }
    if (currentTarget.interactiveChildren && currentTarget.children) {
      const children = currentTarget.children;
      for (let i3 = children.length - 1; i3 >= 0; i3--) {
        const child = children[i3];
        const nestedHit = this.hitTestMoveRecursive(child, this._isInteractive(eventMode) ? eventMode : child.eventMode, location, testFn, pruneFn, ignore || pruneFn(currentTarget, location));
        if (nestedHit) {
          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {
            continue;
          }
          const isInteractive = currentTarget.isInteractive();
          if (nestedHit.length > 0 || isInteractive) {
            if (isInteractive)
              this._allInteractiveElements.push(currentTarget);
            nestedHit.push(currentTarget);
          }
          if (this._hitElements.length === 0)
            this._hitElements = nestedHit;
          shouldReturn = true;
        }
      }
    }
    const isInteractiveMode = this._isInteractive(eventMode);
    const isInteractiveTarget = currentTarget.isInteractive();
    if (isInteractiveTarget && isInteractiveTarget)
      this._allInteractiveElements.push(currentTarget);
    if (ignore || this._hitElements.length > 0)
      return null;
    if (shouldReturn)
      return this._hitElements;
    if (isInteractiveMode && (!pruneFn(currentTarget, location) && testFn(currentTarget, location))) {
      return isInteractiveTarget ? [currentTarget] : [];
    }
    return null;
  }
  hitTestRecursive(currentTarget, eventMode, location, testFn, pruneFn) {
    if (this._interactivePrune(currentTarget) || pruneFn(currentTarget, location)) {
      return null;
    }
    if (currentTarget.eventMode === "dynamic" || eventMode === "dynamic") {
      EventsTicker.pauseUpdate = false;
    }
    if (currentTarget.interactiveChildren && currentTarget.children) {
      const children = currentTarget.children;
      for (let i3 = children.length - 1; i3 >= 0; i3--) {
        const child = children[i3];
        const nestedHit = this.hitTestRecursive(child, this._isInteractive(eventMode) ? eventMode : child.eventMode, location, testFn, pruneFn);
        if (nestedHit) {
          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {
            continue;
          }
          const isInteractive = currentTarget.isInteractive();
          if (nestedHit.length > 0 || isInteractive)
            nestedHit.push(currentTarget);
          return nestedHit;
        }
      }
    }
    const isInteractiveMode = this._isInteractive(eventMode);
    const isInteractiveTarget = currentTarget.isInteractive();
    if (isInteractiveMode && testFn(currentTarget, location)) {
      return isInteractiveTarget ? [currentTarget] : [];
    }
    return null;
  }
  _isInteractive(int) {
    return int === "static" || int === "dynamic";
  }
  _interactivePrune(displayObject) {
    if (!displayObject || displayObject.isMask || !displayObject.visible || !displayObject.renderable) {
      return true;
    }
    if (displayObject.eventMode === "none") {
      return true;
    }
    if (displayObject.eventMode === "passive" && !displayObject.interactiveChildren) {
      return true;
    }
    if (displayObject.isMask) {
      return true;
    }
    return false;
  }
  hitPruneFn(displayObject, location) {
    if (displayObject.hitArea) {
      displayObject.worldTransform.applyInverse(location, tempLocalMapping);
      if (!displayObject.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {
        return true;
      }
    }
    if (displayObject._mask) {
      const maskObject = displayObject._mask.isMaskData ? displayObject._mask.maskObject : displayObject._mask;
      if (maskObject && !maskObject.containsPoint?.(location)) {
        return true;
      }
    }
    return false;
  }
  hitTestFn(displayObject, location) {
    if (displayObject.eventMode === "passive") {
      return false;
    }
    if (displayObject.hitArea) {
      return true;
    }
    if (displayObject.containsPoint) {
      return displayObject.containsPoint(location);
    }
    return false;
  }
  notifyTarget(e3, type2) {
    type2 = type2 ?? e3.type;
    const handlerKey = `on${type2}`;
    e3.currentTarget[handlerKey]?.(e3);
    const key2 = e3.eventPhase === e3.CAPTURING_PHASE || e3.eventPhase === e3.AT_TARGET ? `${type2}capture` : type2;
    this.notifyListeners(e3, key2);
    if (e3.eventPhase === e3.AT_TARGET) {
      this.notifyListeners(e3, type2);
    }
  }
  mapPointerDown(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const e3 = this.createPointerEvent(from);
    this.dispatchEvent(e3, "pointerdown");
    if (e3.pointerType === "touch") {
      this.dispatchEvent(e3, "touchstart");
    } else if (e3.pointerType === "mouse" || e3.pointerType === "pen") {
      const isRightButton = e3.button === 2;
      this.dispatchEvent(e3, isRightButton ? "rightdown" : "mousedown");
    }
    const trackingData = this.trackingData(from.pointerId);
    trackingData.pressTargetsByButton[from.button] = e3.composedPath();
    this.freeEvent(e3);
  }
  mapPointerMove(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    this._allInteractiveElements.length = 0;
    this._hitElements.length = 0;
    this._isPointerMoveEvent = true;
    const e3 = this.createPointerEvent(from);
    this._isPointerMoveEvent = false;
    const isMouse = e3.pointerType === "mouse" || e3.pointerType === "pen";
    const trackingData = this.trackingData(from.pointerId);
    const outTarget = this.findMountedTarget(trackingData.overTargets);
    if (trackingData.overTargets?.length > 0 && outTarget !== e3.target) {
      const outType = from.type === "mousemove" ? "mouseout" : "pointerout";
      const outEvent = this.createPointerEvent(from, outType, outTarget);
      this.dispatchEvent(outEvent, "pointerout");
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      if (!e3.composedPath().includes(outTarget)) {
        const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
        leaveEvent.eventPhase = leaveEvent.AT_TARGET;
        while (leaveEvent.target && !e3.composedPath().includes(leaveEvent.target)) {
          leaveEvent.currentTarget = leaveEvent.target;
          this.notifyTarget(leaveEvent);
          if (isMouse)
            this.notifyTarget(leaveEvent, "mouseleave");
          leaveEvent.target = leaveEvent.target.parent;
        }
        this.freeEvent(leaveEvent);
      }
      this.freeEvent(outEvent);
    }
    if (outTarget !== e3.target) {
      const overType = from.type === "mousemove" ? "mouseover" : "pointerover";
      const overEvent = this.clonePointerEvent(e3, overType);
      this.dispatchEvent(overEvent, "pointerover");
      if (isMouse)
        this.dispatchEvent(overEvent, "mouseover");
      let overTargetAncestor = outTarget?.parent;
      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {
        if (overTargetAncestor === e3.target)
          break;
        overTargetAncestor = overTargetAncestor.parent;
      }
      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;
      if (didPointerEnter) {
        const enterEvent = this.clonePointerEvent(e3, "pointerenter");
        enterEvent.eventPhase = enterEvent.AT_TARGET;
        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {
          enterEvent.currentTarget = enterEvent.target;
          this.notifyTarget(enterEvent);
          if (isMouse)
            this.notifyTarget(enterEvent, "mouseenter");
          enterEvent.target = enterEvent.target.parent;
        }
        this.freeEvent(enterEvent);
      }
      this.freeEvent(overEvent);
    }
    const allMethods = [];
    const allowGlobalPointerEvents = this.enableGlobalMoveEvents ?? true;
    this.moveOnAll ? allMethods.push("pointermove") : this.dispatchEvent(e3, "pointermove");
    allowGlobalPointerEvents && allMethods.push("globalpointermove");
    if (e3.pointerType === "touch") {
      this.moveOnAll ? allMethods.splice(1, 0, "touchmove") : this.dispatchEvent(e3, "touchmove");
      allowGlobalPointerEvents && allMethods.push("globaltouchmove");
    }
    if (isMouse) {
      this.moveOnAll ? allMethods.splice(1, 0, "mousemove") : this.dispatchEvent(e3, "mousemove");
      allowGlobalPointerEvents && allMethods.push("globalmousemove");
      this.cursor = e3.target?.cursor;
    }
    if (allMethods.length > 0) {
      this.all(e3, allMethods);
    }
    this._allInteractiveElements.length = 0;
    this._hitElements.length = 0;
    trackingData.overTargets = e3.composedPath();
    this.freeEvent(e3);
  }
  mapPointerOver(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const e3 = this.createPointerEvent(from);
    const isMouse = e3.pointerType === "mouse" || e3.pointerType === "pen";
    this.dispatchEvent(e3, "pointerover");
    if (isMouse)
      this.dispatchEvent(e3, "mouseover");
    if (e3.pointerType === "mouse")
      this.cursor = e3.target?.cursor;
    const enterEvent = this.clonePointerEvent(e3, "pointerenter");
    enterEvent.eventPhase = enterEvent.AT_TARGET;
    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {
      enterEvent.currentTarget = enterEvent.target;
      this.notifyTarget(enterEvent);
      if (isMouse)
        this.notifyTarget(enterEvent, "mouseenter");
      enterEvent.target = enterEvent.target.parent;
    }
    trackingData.overTargets = e3.composedPath();
    this.freeEvent(e3);
    this.freeEvent(enterEvent);
  }
  mapPointerOut(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    if (trackingData.overTargets) {
      const isMouse = from.pointerType === "mouse" || from.pointerType === "pen";
      const outTarget = this.findMountedTarget(trackingData.overTargets);
      const outEvent = this.createPointerEvent(from, "pointerout", outTarget);
      this.dispatchEvent(outEvent);
      if (isMouse)
        this.dispatchEvent(outEvent, "mouseout");
      const leaveEvent = this.createPointerEvent(from, "pointerleave", outTarget);
      leaveEvent.eventPhase = leaveEvent.AT_TARGET;
      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {
        leaveEvent.currentTarget = leaveEvent.target;
        this.notifyTarget(leaveEvent);
        if (isMouse)
          this.notifyTarget(leaveEvent, "mouseleave");
        leaveEvent.target = leaveEvent.target.parent;
      }
      trackingData.overTargets = null;
      this.freeEvent(outEvent);
      this.freeEvent(leaveEvent);
    }
    this.cursor = null;
  }
  mapPointerUp(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const now = performance.now();
    const e3 = this.createPointerEvent(from);
    this.dispatchEvent(e3, "pointerup");
    if (e3.pointerType === "touch") {
      this.dispatchEvent(e3, "touchend");
    } else if (e3.pointerType === "mouse" || e3.pointerType === "pen") {
      const isRightButton = e3.button === 2;
      this.dispatchEvent(e3, isRightButton ? "rightup" : "mouseup");
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    let clickTarget = pressTarget;
    if (pressTarget && !e3.composedPath().includes(pressTarget)) {
      let currentTarget = pressTarget;
      while (currentTarget && !e3.composedPath().includes(currentTarget)) {
        e3.currentTarget = currentTarget;
        this.notifyTarget(e3, "pointerupoutside");
        if (e3.pointerType === "touch") {
          this.notifyTarget(e3, "touchendoutside");
        } else if (e3.pointerType === "mouse" || e3.pointerType === "pen") {
          const isRightButton = e3.button === 2;
          this.notifyTarget(e3, isRightButton ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
      clickTarget = currentTarget;
    }
    if (clickTarget) {
      const clickEvent = this.clonePointerEvent(e3, "click");
      clickEvent.target = clickTarget;
      clickEvent.path = null;
      if (!trackingData.clicksByButton[from.button]) {
        trackingData.clicksByButton[from.button] = {
          clickCount: 0,
          target: clickEvent.target,
          timeStamp: now
        };
      }
      const clickHistory = trackingData.clicksByButton[from.button];
      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {
        ++clickHistory.clickCount;
      } else {
        clickHistory.clickCount = 1;
      }
      clickHistory.target = clickEvent.target;
      clickHistory.timeStamp = now;
      clickEvent.detail = clickHistory.clickCount;
      if (clickEvent.pointerType === "mouse") {
        const isRightButton = clickEvent.button === 2;
        this.dispatchEvent(clickEvent, isRightButton ? "rightclick" : "click");
      } else if (clickEvent.pointerType === "touch") {
        this.dispatchEvent(clickEvent, "tap");
      }
      this.dispatchEvent(clickEvent, "pointertap");
      this.freeEvent(clickEvent);
    }
    this.freeEvent(e3);
  }
  mapPointerUpOutside(from) {
    if (!(from instanceof FederatedPointerEvent)) {
      console.warn("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const trackingData = this.trackingData(from.pointerId);
    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);
    const e3 = this.createPointerEvent(from);
    if (pressTarget) {
      let currentTarget = pressTarget;
      while (currentTarget) {
        e3.currentTarget = currentTarget;
        this.notifyTarget(e3, "pointerupoutside");
        if (e3.pointerType === "touch") {
          this.notifyTarget(e3, "touchendoutside");
        } else if (e3.pointerType === "mouse" || e3.pointerType === "pen") {
          this.notifyTarget(e3, e3.button === 2 ? "rightupoutside" : "mouseupoutside");
        }
        currentTarget = currentTarget.parent;
      }
      delete trackingData.pressTargetsByButton[from.button];
    }
    this.freeEvent(e3);
  }
  mapWheel(from) {
    if (!(from instanceof FederatedWheelEvent)) {
      console.warn("EventBoundary cannot map a non-wheel event as a wheel event");
      return;
    }
    const wheelEvent = this.createWheelEvent(from);
    this.dispatchEvent(wheelEvent);
    this.freeEvent(wheelEvent);
  }
  findMountedTarget(propagationPath) {
    if (!propagationPath) {
      return null;
    }
    let currentTarget = propagationPath[0];
    for (let i3 = 1; i3 < propagationPath.length; i3++) {
      if (propagationPath[i3].parent === currentTarget) {
        currentTarget = propagationPath[i3];
      } else {
        break;
      }
    }
    return currentTarget;
  }
  createPointerEvent(from, type2, target) {
    const event = this.allocateEvent(FederatedPointerEvent);
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = target ?? this.hitTest(event.global.x, event.global.y) ?? this._hitElements[0];
    if (typeof type2 === "string") {
      event.type = type2;
    }
    return event;
  }
  createWheelEvent(from) {
    const event = this.allocateEvent(FederatedWheelEvent);
    this.copyWheelData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from;
    event.target = this.hitTest(event.global.x, event.global.y);
    return event;
  }
  clonePointerEvent(from, type2) {
    const event = this.allocateEvent(FederatedPointerEvent);
    event.nativeEvent = from.nativeEvent;
    event.originalEvent = from.originalEvent;
    this.copyPointerData(from, event);
    this.copyMouseData(from, event);
    this.copyData(from, event);
    event.target = from.target;
    event.path = from.composedPath().slice();
    event.type = type2 ?? event.type;
    return event;
  }
  copyWheelData(from, to) {
    to.deltaMode = from.deltaMode;
    to.deltaX = from.deltaX;
    to.deltaY = from.deltaY;
    to.deltaZ = from.deltaZ;
  }
  copyPointerData(from, to) {
    if (!(from instanceof FederatedPointerEvent && to instanceof FederatedPointerEvent))
      return;
    to.pointerId = from.pointerId;
    to.width = from.width;
    to.height = from.height;
    to.isPrimary = from.isPrimary;
    to.pointerType = from.pointerType;
    to.pressure = from.pressure;
    to.tangentialPressure = from.tangentialPressure;
    to.tiltX = from.tiltX;
    to.tiltY = from.tiltY;
    to.twist = from.twist;
  }
  copyMouseData(from, to) {
    if (!(from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent))
      return;
    to.altKey = from.altKey;
    to.button = from.button;
    to.buttons = from.buttons;
    to.client.copyFrom(from.client);
    to.ctrlKey = from.ctrlKey;
    to.metaKey = from.metaKey;
    to.movement.copyFrom(from.movement);
    to.screen.copyFrom(from.screen);
    to.shiftKey = from.shiftKey;
    to.global.copyFrom(from.global);
  }
  copyData(from, to) {
    to.isTrusted = from.isTrusted;
    to.srcElement = from.srcElement;
    to.timeStamp = performance.now();
    to.type = from.type;
    to.detail = from.detail;
    to.view = from.view;
    to.which = from.which;
    to.layer.copyFrom(from.layer);
    to.page.copyFrom(from.page);
  }
  trackingData(id) {
    if (!this.mappingState.trackingData[id]) {
      this.mappingState.trackingData[id] = {
        pressTargetsByButton: {},
        clicksByButton: {},
        overTarget: null
      };
    }
    return this.mappingState.trackingData[id];
  }
  allocateEvent(constructor) {
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    const event = this.eventPool.get(constructor).pop() || new constructor(this);
    event.eventPhase = event.NONE;
    event.currentTarget = null;
    event.path = null;
    event.target = null;
    return event;
  }
  freeEvent(event) {
    if (event.manager !== this)
      throw new Error("It is illegal to free an event not managed by this EventBoundary!");
    const constructor = event.constructor;
    if (!this.eventPool.has(constructor)) {
      this.eventPool.set(constructor, []);
    }
    this.eventPool.get(constructor).push(event);
  }
  notifyListeners(e3, type2) {
    const listeners = e3.currentTarget._events[type2];
    if (!listeners)
      return;
    if (!e3.currentTarget.isInteractive())
      return;
    if ("fn" in listeners) {
      if (listeners.once)
        e3.currentTarget.removeListener(type2, listeners.fn, void 0, true);
      listeners.fn.call(listeners.context, e3);
    } else {
      for (let i3 = 0, j3 = listeners.length; i3 < j3 && !e3.propagationImmediatelyStopped; i3++) {
        if (listeners[i3].once)
          e3.currentTarget.removeListener(type2, listeners[i3].fn, void 0, true);
        listeners[i3].fn.call(listeners[i3].context, e3);
      }
    }
  }
};

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/EventSystem.mjs
var MOUSE_POINTER_ID = 1;
var TOUCH_TO_POINTER = {
  touchstart: "pointerdown",
  touchend: "pointerup",
  touchendoutside: "pointerupoutside",
  touchmove: "pointermove",
  touchcancel: "pointercancel"
};
var _EventSystem = class {
  constructor(renderer) {
    this.supportsTouchEvents = "ontouchstart" in globalThis;
    this.supportsPointerEvents = !!globalThis.PointerEvent;
    this.domElement = null;
    this.resolution = 1;
    this.renderer = renderer;
    this.rootBoundary = new EventBoundary(null);
    EventsTicker.init(this);
    this.autoPreventDefault = true;
    this.eventsAdded = false;
    this.rootPointerEvent = new FederatedPointerEvent(null);
    this.rootWheelEvent = new FederatedWheelEvent(null);
    this.cursorStyles = {
      default: "inherit",
      pointer: "pointer"
    };
    this.features = new Proxy({ ..._EventSystem.defaultEventFeatures }, {
      set: (target, key2, value) => {
        if (key2 === "globalMove") {
          this.rootBoundary.enableGlobalMoveEvents = value;
        }
        target[key2] = value;
        return true;
      }
    });
    this.onPointerDown = this.onPointerDown.bind(this);
    this.onPointerMove = this.onPointerMove.bind(this);
    this.onPointerUp = this.onPointerUp.bind(this);
    this.onPointerOverOut = this.onPointerOverOut.bind(this);
    this.onWheel = this.onWheel.bind(this);
  }
  static get defaultEventMode() {
    return this._defaultEventMode;
  }
  init(options) {
    const { view, resolution } = this.renderer;
    this.setTargetElement(view);
    this.resolution = resolution;
    _EventSystem._defaultEventMode = options.eventMode ?? "auto";
    Object.assign(this.features, options.eventFeatures ?? {});
    this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove;
  }
  resolutionChange(resolution) {
    this.resolution = resolution;
  }
  destroy() {
    this.setTargetElement(null);
    this.renderer = null;
  }
  setCursor(mode) {
    mode = mode || "default";
    let applyStyles = true;
    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {
      applyStyles = false;
    }
    if (this.currentCursor === mode) {
      return;
    }
    this.currentCursor = mode;
    const style = this.cursorStyles[mode];
    if (style) {
      switch (typeof style) {
        case "string":
          if (applyStyles) {
            this.domElement.style.cursor = style;
          }
          break;
        case "function":
          style(mode);
          break;
        case "object":
          if (applyStyles) {
            Object.assign(this.domElement.style, style);
          }
          break;
      }
    } else if (applyStyles && typeof mode === "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {
      this.domElement.style.cursor = mode;
    }
  }
  get pointer() {
    return this.rootPointerEvent;
  }
  onPointerDown(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const events = this.normalizeToPointerData(nativeEvent);
    if (this.autoPreventDefault && events[0].isNormalized) {
      const cancelable = nativeEvent.cancelable || !("cancelable" in nativeEvent);
      if (cancelable) {
        nativeEvent.preventDefault();
      }
    }
    for (let i3 = 0, j3 = events.length; i3 < j3; i3++) {
      const nativeEvent2 = events[i3];
      const federatedEvent = this.bootstrapEvent(this.rootPointerEvent, nativeEvent2);
      this.rootBoundary.mapEvent(federatedEvent);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerMove(nativeEvent) {
    if (!this.features.move)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    EventsTicker.pointerMoved();
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i3 = 0, j3 = normalizedEvents.length; i3 < j3; i3++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i3]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerUp(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    let target = nativeEvent.target;
    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {
      target = nativeEvent.composedPath()[0];
    }
    const outside = target !== this.domElement ? "outside" : "";
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i3 = 0, j3 = normalizedEvents.length; i3 < j3; i3++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i3]);
      event.type += outside;
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onPointerOverOut(nativeEvent) {
    if (!this.features.click)
      return;
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    if (this.supportsTouchEvents && nativeEvent.pointerType === "touch")
      return;
    const normalizedEvents = this.normalizeToPointerData(nativeEvent);
    for (let i3 = 0, j3 = normalizedEvents.length; i3 < j3; i3++) {
      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i3]);
      this.rootBoundary.mapEvent(event);
    }
    this.setCursor(this.rootBoundary.cursor);
  }
  onWheel(nativeEvent) {
    if (!this.features.wheel)
      return;
    const wheelEvent = this.normalizeWheelEvent(nativeEvent);
    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
    this.rootBoundary.mapEvent(wheelEvent);
  }
  setTargetElement(element) {
    this.removeEvents();
    this.domElement = element;
    EventsTicker.domElement = element;
    this.addEvents();
  }
  addEvents() {
    if (this.eventsAdded || !this.domElement) {
      return;
    }
    EventsTicker.addTickerListener();
    const style = this.domElement.style;
    if (style) {
      if (globalThis.navigator.msPointerEnabled) {
        style.msContentZooming = "none";
        style.msTouchAction = "none";
      } else if (this.supportsPointerEvents) {
        style.touchAction = "none";
      }
    }
    if (this.supportsPointerEvents) {
      globalThis.document.addEventListener("pointermove", this.onPointerMove, true);
      this.domElement.addEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.addEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.addEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.addEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.addEventListener("mousemove", this.onPointerMove, true);
      this.domElement.addEventListener("mousedown", this.onPointerDown, true);
      this.domElement.addEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.addEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.addEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.addEventListener("touchstart", this.onPointerDown, true);
      this.domElement.addEventListener("touchend", this.onPointerUp, true);
      this.domElement.addEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.addEventListener("wheel", this.onWheel, {
      passive: true,
      capture: true
    });
    this.eventsAdded = true;
  }
  removeEvents() {
    if (!this.eventsAdded || !this.domElement) {
      return;
    }
    EventsTicker.removeTickerListener();
    const style = this.domElement.style;
    if (globalThis.navigator.msPointerEnabled) {
      style.msContentZooming = "";
      style.msTouchAction = "";
    } else if (this.supportsPointerEvents) {
      style.touchAction = "";
    }
    if (this.supportsPointerEvents) {
      globalThis.document.removeEventListener("pointermove", this.onPointerMove, true);
      this.domElement.removeEventListener("pointerdown", this.onPointerDown, true);
      this.domElement.removeEventListener("pointerleave", this.onPointerOverOut, true);
      this.domElement.removeEventListener("pointerover", this.onPointerOverOut, true);
      globalThis.removeEventListener("pointerup", this.onPointerUp, true);
    } else {
      globalThis.document.removeEventListener("mousemove", this.onPointerMove, true);
      this.domElement.removeEventListener("mousedown", this.onPointerDown, true);
      this.domElement.removeEventListener("mouseout", this.onPointerOverOut, true);
      this.domElement.removeEventListener("mouseover", this.onPointerOverOut, true);
      globalThis.removeEventListener("mouseup", this.onPointerUp, true);
    }
    if (this.supportsTouchEvents) {
      this.domElement.removeEventListener("touchstart", this.onPointerDown, true);
      this.domElement.removeEventListener("touchend", this.onPointerUp, true);
      this.domElement.removeEventListener("touchmove", this.onPointerMove, true);
    }
    this.domElement.removeEventListener("wheel", this.onWheel, true);
    this.domElement = null;
    this.eventsAdded = false;
  }
  mapPositionToPoint(point, x2, y2) {
    let rect;
    if (!this.domElement.parentElement) {
      rect = {
        x: 0,
        y: 0,
        width: this.domElement.width,
        height: this.domElement.height,
        left: 0,
        top: 0
      };
    } else {
      rect = this.domElement.getBoundingClientRect();
    }
    const resolutionMultiplier = 1 / this.resolution;
    point.x = (x2 - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;
    point.y = (y2 - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;
  }
  normalizeToPointerData(event) {
    const normalizedEvents = [];
    if (this.supportsTouchEvents && event instanceof TouchEvent) {
      for (let i3 = 0, li = event.changedTouches.length; i3 < li; i3++) {
        const touch = event.changedTouches[i3];
        if (typeof touch.button === "undefined")
          touch.button = 0;
        if (typeof touch.buttons === "undefined")
          touch.buttons = 1;
        if (typeof touch.isPrimary === "undefined") {
          touch.isPrimary = event.touches.length === 1 && event.type === "touchstart";
        }
        if (typeof touch.width === "undefined")
          touch.width = touch.radiusX || 1;
        if (typeof touch.height === "undefined")
          touch.height = touch.radiusY || 1;
        if (typeof touch.tiltX === "undefined")
          touch.tiltX = 0;
        if (typeof touch.tiltY === "undefined")
          touch.tiltY = 0;
        if (typeof touch.pointerType === "undefined")
          touch.pointerType = "touch";
        if (typeof touch.pointerId === "undefined")
          touch.pointerId = touch.identifier || 0;
        if (typeof touch.pressure === "undefined")
          touch.pressure = touch.force || 0.5;
        if (typeof touch.twist === "undefined")
          touch.twist = 0;
        if (typeof touch.tangentialPressure === "undefined")
          touch.tangentialPressure = 0;
        if (typeof touch.layerX === "undefined")
          touch.layerX = touch.offsetX = touch.clientX;
        if (typeof touch.layerY === "undefined")
          touch.layerY = touch.offsetY = touch.clientY;
        touch.isNormalized = true;
        touch.type = event.type;
        normalizedEvents.push(touch);
      }
    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {
      const tempEvent = event;
      if (typeof tempEvent.isPrimary === "undefined")
        tempEvent.isPrimary = true;
      if (typeof tempEvent.width === "undefined")
        tempEvent.width = 1;
      if (typeof tempEvent.height === "undefined")
        tempEvent.height = 1;
      if (typeof tempEvent.tiltX === "undefined")
        tempEvent.tiltX = 0;
      if (typeof tempEvent.tiltY === "undefined")
        tempEvent.tiltY = 0;
      if (typeof tempEvent.pointerType === "undefined")
        tempEvent.pointerType = "mouse";
      if (typeof tempEvent.pointerId === "undefined")
        tempEvent.pointerId = MOUSE_POINTER_ID;
      if (typeof tempEvent.pressure === "undefined")
        tempEvent.pressure = 0.5;
      if (typeof tempEvent.twist === "undefined")
        tempEvent.twist = 0;
      if (typeof tempEvent.tangentialPressure === "undefined")
        tempEvent.tangentialPressure = 0;
      tempEvent.isNormalized = true;
      normalizedEvents.push(tempEvent);
    } else {
      normalizedEvents.push(event);
    }
    return normalizedEvents;
  }
  normalizeWheelEvent(nativeEvent) {
    const event = this.rootWheelEvent;
    this.transferMouseData(event, nativeEvent);
    event.deltaX = nativeEvent.deltaX;
    event.deltaY = nativeEvent.deltaY;
    event.deltaZ = nativeEvent.deltaZ;
    event.deltaMode = nativeEvent.deltaMode;
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.nativeEvent = nativeEvent;
    event.type = nativeEvent.type;
    return event;
  }
  bootstrapEvent(event, nativeEvent) {
    event.originalEvent = null;
    event.nativeEvent = nativeEvent;
    event.pointerId = nativeEvent.pointerId;
    event.width = nativeEvent.width;
    event.height = nativeEvent.height;
    event.isPrimary = nativeEvent.isPrimary;
    event.pointerType = nativeEvent.pointerType;
    event.pressure = nativeEvent.pressure;
    event.tangentialPressure = nativeEvent.tangentialPressure;
    event.tiltX = nativeEvent.tiltX;
    event.tiltY = nativeEvent.tiltY;
    event.twist = nativeEvent.twist;
    this.transferMouseData(event, nativeEvent);
    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);
    event.global.copyFrom(event.screen);
    event.offset.copyFrom(event.screen);
    event.isTrusted = nativeEvent.isTrusted;
    if (event.type === "pointerleave") {
      event.type = "pointerout";
    }
    if (event.type.startsWith("mouse")) {
      event.type = event.type.replace("mouse", "pointer");
    }
    if (event.type.startsWith("touch")) {
      event.type = TOUCH_TO_POINTER[event.type] || event.type;
    }
    return event;
  }
  transferMouseData(event, nativeEvent) {
    event.isTrusted = nativeEvent.isTrusted;
    event.srcElement = nativeEvent.srcElement;
    event.timeStamp = performance.now();
    event.type = nativeEvent.type;
    event.altKey = nativeEvent.altKey;
    event.button = nativeEvent.button;
    event.buttons = nativeEvent.buttons;
    event.client.x = nativeEvent.clientX;
    event.client.y = nativeEvent.clientY;
    event.ctrlKey = nativeEvent.ctrlKey;
    event.metaKey = nativeEvent.metaKey;
    event.movement.x = nativeEvent.movementX;
    event.movement.y = nativeEvent.movementY;
    event.page.x = nativeEvent.pageX;
    event.page.y = nativeEvent.pageY;
    event.relatedTarget = null;
    event.shiftKey = nativeEvent.shiftKey;
  }
};
var EventSystem = _EventSystem;
EventSystem.extension = {
  name: "events",
  type: [
    ExtensionType.RendererSystem,
    ExtensionType.CanvasRendererSystem
  ]
};
EventSystem.defaultEventFeatures = {
  move: true,
  globalMove: true,
  click: true,
  wheel: true
};
extensions.add(EventSystem);

// ../../node_modules/.pnpm/@pixi+events@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/events/lib/FederatedEventTarget.mjs
function convertEventModeToInteractiveMode(mode) {
  return mode === "dynamic" || mode === "static";
}
var FederatedDisplayObject = {
  onclick: null,
  onmousedown: null,
  onmouseenter: null,
  onmouseleave: null,
  onmousemove: null,
  onglobalmousemove: null,
  onmouseout: null,
  onmouseover: null,
  onmouseup: null,
  onmouseupoutside: null,
  onpointercancel: null,
  onpointerdown: null,
  onpointerenter: null,
  onpointerleave: null,
  onpointermove: null,
  onglobalpointermove: null,
  onpointerout: null,
  onpointerover: null,
  onpointertap: null,
  onpointerup: null,
  onpointerupoutside: null,
  onrightclick: null,
  onrightdown: null,
  onrightup: null,
  onrightupoutside: null,
  ontap: null,
  ontouchcancel: null,
  ontouchend: null,
  ontouchendoutside: null,
  ontouchmove: null,
  onglobaltouchmove: null,
  ontouchstart: null,
  onwheel: null,
  _internalInteractive: void 0,
  get interactive() {
    return this._internalInteractive ?? convertEventModeToInteractiveMode(EventSystem.defaultEventMode);
  },
  set interactive(value) {
    lib_exports.deprecation("7.2.0", `Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead.`);
    this._internalInteractive = value;
    this.eventMode = value ? "static" : "auto";
  },
  _internalEventMode: void 0,
  get eventMode() {
    return this._internalEventMode ?? EventSystem.defaultEventMode;
  },
  set eventMode(value) {
    this._internalInteractive = convertEventModeToInteractiveMode(value);
    this._internalEventMode = value;
  },
  isInteractive() {
    return this.eventMode === "static" || this.eventMode === "dynamic";
  },
  interactiveChildren: true,
  hitArea: null,
  addEventListener(type2, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context2 = typeof listener === "function" ? void 0 : listener;
    type2 = capture ? `${type2}capture` : type2;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.on(type2, listener, context2);
  },
  removeEventListener(type2, listener, options) {
    const capture = typeof options === "boolean" && options || typeof options === "object" && options.capture;
    const context2 = typeof listener === "function" ? void 0 : listener;
    type2 = capture ? `${type2}capture` : type2;
    listener = typeof listener === "function" ? listener : listener.handleEvent;
    this.off(type2, listener, context2);
  },
  dispatchEvent(e3) {
    if (!(e3 instanceof FederatedEvent)) {
      throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");
    }
    e3.defaultPrevented = false;
    e3.path = null;
    e3.target = this;
    e3.manager.dispatchEvent(e3);
    return !e3.defaultPrevented;
  }
};
DisplayObject.mixin(FederatedDisplayObject);

// ../../node_modules/.pnpm/@pixi+accessibility@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+events@7.2.4/node_modules/@pixi/accessibility/lib/accessibleTarget.mjs
var accessibleTarget = {
  accessible: false,
  accessibleTitle: null,
  accessibleHint: null,
  tabIndex: 0,
  _accessibleActive: false,
  _accessibleDiv: null,
  accessibleType: "button",
  accessiblePointerEvents: "auto",
  accessibleChildren: true,
  renderId: -1
};

// ../../node_modules/.pnpm/@pixi+accessibility@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+events@7.2.4/node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs
DisplayObject.mixin(accessibleTarget);
var KEY_CODE_TAB = 9;
var DIV_TOUCH_SIZE = 100;
var DIV_TOUCH_POS_X = 0;
var DIV_TOUCH_POS_Y = 0;
var DIV_TOUCH_ZINDEX = 2;
var DIV_HOOK_SIZE = 1;
var DIV_HOOK_POS_X = -1e3;
var DIV_HOOK_POS_Y = -1e3;
var DIV_HOOK_ZINDEX = 2;
var AccessibilityManager = class {
  constructor(renderer) {
    this.debug = false;
    this._isActive = false;
    this._isMobileAccessibility = false;
    this.pool = [];
    this.renderId = 0;
    this.children = [];
    this.androidUpdateCount = 0;
    this.androidUpdateFrequency = 500;
    this._hookDiv = null;
    if (lib_exports.isMobile.tablet || lib_exports.isMobile.phone) {
      this.createTouchHook();
    }
    const div = document.createElement("div");
    div.style.width = `${DIV_TOUCH_SIZE}px`;
    div.style.height = `${DIV_TOUCH_SIZE}px`;
    div.style.position = "absolute";
    div.style.top = `${DIV_TOUCH_POS_X}px`;
    div.style.left = `${DIV_TOUCH_POS_Y}px`;
    div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
    this.div = div;
    this.renderer = renderer;
    this._onKeyDown = this._onKeyDown.bind(this);
    this._onMouseMove = this._onMouseMove.bind(this);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
  }
  get isActive() {
    return this._isActive;
  }
  get isMobileAccessibility() {
    return this._isMobileAccessibility;
  }
  createTouchHook() {
    const hookDiv = document.createElement("button");
    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;
    hookDiv.style.position = "absolute";
    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;
    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;
    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();
    hookDiv.style.backgroundColor = "#FF0000";
    hookDiv.title = "select to enable accessibility for this content";
    hookDiv.addEventListener("focus", () => {
      this._isMobileAccessibility = true;
      this.activate();
      this.destroyTouchHook();
    });
    document.body.appendChild(hookDiv);
    this._hookDiv = hookDiv;
  }
  destroyTouchHook() {
    if (!this._hookDiv) {
      return;
    }
    document.body.removeChild(this._hookDiv);
    this._hookDiv = null;
  }
  activate() {
    if (this._isActive) {
      return;
    }
    this._isActive = true;
    globalThis.document.addEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown, false);
    this.renderer.on("postrender", this.update, this);
    this.renderer.view.parentNode?.appendChild(this.div);
  }
  deactivate() {
    if (!this._isActive || this._isMobileAccessibility) {
      return;
    }
    this._isActive = false;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.addEventListener("keydown", this._onKeyDown, false);
    this.renderer.off("postrender", this.update);
    this.div.parentNode?.removeChild(this.div);
  }
  updateAccessibleObjects(displayObject) {
    if (!displayObject.visible || !displayObject.accessibleChildren) {
      return;
    }
    if (displayObject.accessible && displayObject.isInteractive()) {
      if (!displayObject._accessibleActive) {
        this.addChild(displayObject);
      }
      displayObject.renderId = this.renderId;
    }
    const children = displayObject.children;
    if (children) {
      for (let i3 = 0; i3 < children.length; i3++) {
        this.updateAccessibleObjects(children[i3]);
      }
    }
  }
  update() {
    const now = performance.now();
    if (lib_exports.isMobile.android.device && now < this.androidUpdateCount) {
      return;
    }
    this.androidUpdateCount = now + this.androidUpdateFrequency;
    if (!this.renderer.renderingToScreen) {
      return;
    }
    if (this.renderer.lastObjectRendered) {
      this.updateAccessibleObjects(this.renderer.lastObjectRendered);
    }
    const { x: x2, y: y2, width, height } = this.renderer.view.getBoundingClientRect();
    const { width: viewWidth, height: viewHeight, resolution } = this.renderer;
    const sx = width / viewWidth * resolution;
    const sy = height / viewHeight * resolution;
    let div = this.div;
    div.style.left = `${x2}px`;
    div.style.top = `${y2}px`;
    div.style.width = `${viewWidth}px`;
    div.style.height = `${viewHeight}px`;
    for (let i3 = 0; i3 < this.children.length; i3++) {
      const child = this.children[i3];
      if (child.renderId !== this.renderId) {
        child._accessibleActive = false;
        lib_exports.removeItems(this.children, i3, 1);
        this.div.removeChild(child._accessibleDiv);
        this.pool.push(child._accessibleDiv);
        child._accessibleDiv = null;
        i3--;
      } else {
        div = child._accessibleDiv;
        let hitArea = child.hitArea;
        const wt = child.worldTransform;
        if (child.hitArea) {
          div.style.left = `${(wt.tx + hitArea.x * wt.a) * sx}px`;
          div.style.top = `${(wt.ty + hitArea.y * wt.d) * sy}px`;
          div.style.width = `${hitArea.width * wt.a * sx}px`;
          div.style.height = `${hitArea.height * wt.d * sy}px`;
        } else {
          hitArea = child.getBounds();
          this.capHitArea(hitArea);
          div.style.left = `${hitArea.x * sx}px`;
          div.style.top = `${hitArea.y * sy}px`;
          div.style.width = `${hitArea.width * sx}px`;
          div.style.height = `${hitArea.height * sy}px`;
          if (div.title !== child.accessibleTitle && child.accessibleTitle !== null) {
            div.title = child.accessibleTitle;
          }
          if (div.getAttribute("aria-label") !== child.accessibleHint && child.accessibleHint !== null) {
            div.setAttribute("aria-label", child.accessibleHint);
          }
        }
        if (child.accessibleTitle !== div.title || child.tabIndex !== div.tabIndex) {
          div.title = child.accessibleTitle;
          div.tabIndex = child.tabIndex;
          if (this.debug)
            this.updateDebugHTML(div);
        }
      }
    }
    this.renderId++;
  }
  updateDebugHTML(div) {
    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;
  }
  capHitArea(hitArea) {
    if (hitArea.x < 0) {
      hitArea.width += hitArea.x;
      hitArea.x = 0;
    }
    if (hitArea.y < 0) {
      hitArea.height += hitArea.y;
      hitArea.y = 0;
    }
    const { width: viewWidth, height: viewHeight } = this.renderer;
    if (hitArea.x + hitArea.width > viewWidth) {
      hitArea.width = viewWidth - hitArea.x;
    }
    if (hitArea.y + hitArea.height > viewHeight) {
      hitArea.height = viewHeight - hitArea.y;
    }
  }
  addChild(displayObject) {
    let div = this.pool.pop();
    if (!div) {
      div = document.createElement("button");
      div.style.width = `${DIV_TOUCH_SIZE}px`;
      div.style.height = `${DIV_TOUCH_SIZE}px`;
      div.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent";
      div.style.position = "absolute";
      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();
      div.style.borderStyle = "none";
      if (navigator.userAgent.toLowerCase().includes("chrome")) {
        div.setAttribute("aria-live", "off");
      } else {
        div.setAttribute("aria-live", "polite");
      }
      if (navigator.userAgent.match(/rv:.*Gecko\//)) {
        div.setAttribute("aria-relevant", "additions");
      } else {
        div.setAttribute("aria-relevant", "text");
      }
      div.addEventListener("click", this._onClick.bind(this));
      div.addEventListener("focus", this._onFocus.bind(this));
      div.addEventListener("focusout", this._onFocusOut.bind(this));
    }
    div.style.pointerEvents = displayObject.accessiblePointerEvents;
    div.type = displayObject.accessibleType;
    if (displayObject.accessibleTitle && displayObject.accessibleTitle !== null) {
      div.title = displayObject.accessibleTitle;
    } else if (!displayObject.accessibleHint || displayObject.accessibleHint === null) {
      div.title = `displayObject ${displayObject.tabIndex}`;
    }
    if (displayObject.accessibleHint && displayObject.accessibleHint !== null) {
      div.setAttribute("aria-label", displayObject.accessibleHint);
    }
    if (this.debug)
      this.updateDebugHTML(div);
    displayObject._accessibleActive = true;
    displayObject._accessibleDiv = div;
    div.displayObject = displayObject;
    this.children.push(displayObject);
    this.div.appendChild(displayObject._accessibleDiv);
    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;
  }
  _dispatchEvent(e3, type2) {
    const { displayObject: target } = e3.target;
    const boundry = this.renderer.events.rootBoundary;
    const event = Object.assign(new FederatedEvent(boundry), { target });
    boundry.rootTarget = this.renderer.lastObjectRendered;
    type2.forEach((type22) => boundry.dispatchEvent(event, type22));
  }
  _onClick(e3) {
    this._dispatchEvent(e3, ["click", "pointertap", "tap"]);
  }
  _onFocus(e3) {
    if (!e3.target.getAttribute("aria-live")) {
      e3.target.setAttribute("aria-live", "assertive");
    }
    this._dispatchEvent(e3, ["mouseover"]);
  }
  _onFocusOut(e3) {
    if (!e3.target.getAttribute("aria-live")) {
      e3.target.setAttribute("aria-live", "polite");
    }
    this._dispatchEvent(e3, ["mouseout"]);
  }
  _onKeyDown(e3) {
    if (e3.keyCode !== KEY_CODE_TAB) {
      return;
    }
    this.activate();
  }
  _onMouseMove(e3) {
    if (e3.movementX === 0 && e3.movementY === 0) {
      return;
    }
    this.deactivate();
  }
  destroy() {
    this.destroyTouchHook();
    this.div = null;
    globalThis.document.removeEventListener("mousemove", this._onMouseMove, true);
    globalThis.removeEventListener("keydown", this._onKeyDown);
    this.pool = null;
    this.children = null;
    this.renderer = null;
  }
};
AccessibilityManager.extension = {
  name: "accessibility",
  type: [
    ExtensionType.RendererPlugin,
    ExtensionType.CanvasRendererPlugin
  ]
};
extensions.add(AccessibilityManager);

// ../../node_modules/.pnpm/@pixi+app@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/app/lib/Application.mjs
var _Application = class {
  constructor(options) {
    this.stage = new Container();
    options = Object.assign({
      forceCanvas: false
    }, options);
    this.renderer = autoDetectRenderer(options);
    _Application._plugins.forEach((plugin) => {
      plugin.init.call(this, options);
    });
  }
  render() {
    this.renderer.render(this.stage);
  }
  get view() {
    return this.renderer.view;
  }
  get screen() {
    return this.renderer.screen;
  }
  destroy(removeView, stageOptions) {
    const plugins = _Application._plugins.slice(0);
    plugins.reverse();
    plugins.forEach((plugin) => {
      plugin.destroy.call(this);
    });
    this.stage.destroy(stageOptions);
    this.stage = null;
    this.renderer.destroy(removeView);
    this.renderer = null;
  }
};
var Application = _Application;
Application._plugins = [];
extensions.handleByList(ExtensionType.Application, Application._plugins);

// ../../node_modules/.pnpm/@pixi+app@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/app/lib/ResizePlugin.mjs
var ResizePlugin = class {
  static init(options) {
    Object.defineProperty(this, "resizeTo", {
      set(dom) {
        globalThis.removeEventListener("resize", this.queueResize);
        this._resizeTo = dom;
        if (dom) {
          globalThis.addEventListener("resize", this.queueResize);
          this.resize();
        }
      },
      get() {
        return this._resizeTo;
      }
    });
    this.queueResize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      this._resizeId = requestAnimationFrame(() => this.resize());
    };
    this.cancelResize = () => {
      if (this._resizeId) {
        cancelAnimationFrame(this._resizeId);
        this._resizeId = null;
      }
    };
    this.resize = () => {
      if (!this._resizeTo) {
        return;
      }
      this.cancelResize();
      let width;
      let height;
      if (this._resizeTo === globalThis.window) {
        width = globalThis.innerWidth;
        height = globalThis.innerHeight;
      } else {
        const { clientWidth, clientHeight } = this._resizeTo;
        width = clientWidth;
        height = clientHeight;
      }
      this.renderer.resize(width, height);
      this.render();
    };
    this._resizeId = null;
    this._resizeTo = null;
    this.resizeTo = options.resizeTo || null;
  }
  static destroy() {
    globalThis.removeEventListener("resize", this.queueResize);
    this.cancelResize();
    this.cancelResize = null;
    this.queueResize = null;
    this.resizeTo = null;
    this.resize = null;
  }
};
ResizePlugin.extension = ExtensionType.Application;
extensions.add(ResizePlugin);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/AssetExtension.mjs
var assetKeyMap = {
  loader: ExtensionType.LoadParser,
  resolver: ExtensionType.ResolveParser,
  cache: ExtensionType.CacheParser,
  detection: ExtensionType.DetectionParser
};
extensions.handle(ExtensionType.Asset, (extension) => {
  const ref = extension.ref;
  Object.entries(assetKeyMap).filter(([key2]) => !!ref[key2]).forEach(([key2, type2]) => extensions.add(Object.assign(ref[key2], { extension: ref[key2].extension ?? type2 })));
}, (extension) => {
  const ref = extension.ref;
  Object.keys(assetKeyMap).filter((key2) => !!ref[key2]).forEach((key2) => extensions.remove(ref[key2]));
});

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/BackgroundLoader.mjs
var BackgroundLoader = class {
  constructor(loader, verbose = false) {
    this._loader = loader;
    this._assetList = [];
    this._isLoading = false;
    this._maxConcurrent = 1;
    this.verbose = verbose;
  }
  add(assetUrls) {
    assetUrls.forEach((a2) => {
      this._assetList.push(a2);
    });
    if (this.verbose)
      console.log("[BackgroundLoader] assets: ", this._assetList);
    if (this._isActive && !this._isLoading) {
      this._next();
    }
  }
  async _next() {
    if (this._assetList.length && this._isActive) {
      this._isLoading = true;
      const toLoad = [];
      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);
      for (let i3 = 0; i3 < toLoadAmount; i3++) {
        toLoad.push(this._assetList.pop());
      }
      await this._loader.load(toLoad);
      this._isLoading = false;
      this._next();
    }
  }
  get active() {
    return this._isActive;
  }
  set active(value) {
    if (this._isActive === value)
      return;
    this._isActive = value;
    if (value && !this._isLoading) {
      this._next();
    }
  }
};

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs
function checkDataUrl(url2, mimes) {
  if (Array.isArray(mimes)) {
    for (const mime of mimes) {
      if (url2.startsWith(`data:${mime}`))
        return true;
    }
    return false;
  }
  return url2.startsWith(`data:${mimes}`);
}

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/checkExtension.mjs
function checkExtension(url2, extension) {
  const tempURL = url2.split("?")[0];
  const ext = lib_exports.path.extname(tempURL).toLowerCase();
  if (Array.isArray(extension)) {
    return extension.includes(ext);
  }
  return ext === extension;
}

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/convertToList.mjs
var convertToList = (input, transform) => {
  if (!Array.isArray(input)) {
    input = [input];
  }
  if (!transform) {
    return input;
  }
  return input.map((item) => {
    if (typeof item === "string") {
      return transform(item);
    }
    return item;
  });
};

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/copySearchParams.mjs
var copySearchParams = (targetUrl, sourceUrl) => {
  const searchParams = sourceUrl.split("?")[1];
  if (searchParams) {
    targetUrl += `?${searchParams}`;
  }
  return targetUrl;
};

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/createStringVariations.mjs
function processX(base, ids, depth, result, tags) {
  const id = ids[depth];
  for (let i3 = 0; i3 < id.length; i3++) {
    const value = id[i3];
    if (depth < ids.length - 1) {
      processX(base.replace(result[depth], value), ids, depth + 1, result, tags);
    } else {
      tags.push(base.replace(result[depth], value));
    }
  }
}
function createStringVariations(string) {
  const regex = /\{(.*?)\}/g;
  const result = string.match(regex);
  const tags = [];
  if (result) {
    const ids = [];
    result.forEach((vars) => {
      const split = vars.substring(1, vars.length - 1).split(",");
      ids.push(split);
    });
    processX(string, ids, 0, result, tags);
  } else {
    tags.push(string);
  }
  return tags;
}

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/utils/isSingleItem.mjs
var isSingleItem = (item) => !Array.isArray(item);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/cache/Cache.mjs
var CacheClass = class {
  constructor() {
    this._parsers = [];
    this._cache = /* @__PURE__ */ new Map();
    this._cacheMap = /* @__PURE__ */ new Map();
  }
  reset() {
    this._cacheMap.clear();
    this._cache.clear();
  }
  has(key2) {
    return this._cache.has(key2);
  }
  get(key2) {
    const result = this._cache.get(key2);
    if (!result) {
      console.warn(`[Assets] Asset id ${key2} was not found in the Cache`);
    }
    return result;
  }
  set(key2, value) {
    const keys = convertToList(key2);
    let cacheableAssets;
    for (let i3 = 0; i3 < this.parsers.length; i3++) {
      const parser = this.parsers[i3];
      if (parser.test(value)) {
        cacheableAssets = parser.getCacheableAssets(keys, value);
        break;
      }
    }
    if (!cacheableAssets) {
      cacheableAssets = {};
      keys.forEach((key22) => {
        cacheableAssets[key22] = value;
      });
    }
    const cacheKeys = Object.keys(cacheableAssets);
    const cachedAssets = {
      cacheKeys,
      keys
    };
    keys.forEach((key22) => {
      this._cacheMap.set(key22, cachedAssets);
    });
    cacheKeys.forEach((key22) => {
      if (this._cache.has(key22) && this._cache.get(key22) !== value) {
        console.warn("[Cache] already has key:", key22);
      }
      this._cache.set(key22, cacheableAssets[key22]);
    });
    if (value instanceof Texture) {
      const texture = value;
      keys.forEach((key22) => {
        if (texture.baseTexture !== Texture.EMPTY.baseTexture) {
          BaseTexture.addToCache(texture.baseTexture, key22);
        }
        Texture.addToCache(texture, key22);
      });
    }
  }
  remove(key2) {
    this._cacheMap.get(key2);
    if (!this._cacheMap.has(key2)) {
      console.warn(`[Assets] Asset id ${key2} was not found in the Cache`);
      return;
    }
    const cacheMap = this._cacheMap.get(key2);
    const cacheKeys = cacheMap.cacheKeys;
    cacheKeys.forEach((key22) => {
      this._cache.delete(key22);
    });
    cacheMap.keys.forEach((key22) => {
      this._cacheMap.delete(key22);
    });
  }
  get parsers() {
    return this._parsers;
  }
};
var Cache = new CacheClass();

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/Loader.mjs
var Loader = class {
  constructor() {
    this._parsers = [];
    this._parsersValidated = false;
    this.parsers = new Proxy(this._parsers, {
      set: (target, key2, value) => {
        this._parsersValidated = false;
        target[key2] = value;
        return true;
      }
    });
    this.promiseCache = {};
  }
  reset() {
    this._parsersValidated = false;
    this.promiseCache = {};
  }
  _getLoadPromiseAndParser(url2, data) {
    const result = {
      promise: null,
      parser: null
    };
    result.promise = (async () => {
      let asset = null;
      let parser = null;
      if (data.loadParser) {
        parser = this._parserHash[data.loadParser];
        if (!parser) {
          console.warn(`[Assets] specified load parser "${data.loadParser}" not found while loading ${url2}`);
        }
      }
      if (!parser) {
        for (let i3 = 0; i3 < this.parsers.length; i3++) {
          const parserX = this.parsers[i3];
          if (parserX.load && parserX.test?.(url2, data, this)) {
            parser = parserX;
            break;
          }
        }
        if (!parser) {
          console.warn(`[Assets] ${url2} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);
          return null;
        }
      }
      asset = await parser.load(url2, data, this);
      result.parser = parser;
      for (let i3 = 0; i3 < this.parsers.length; i3++) {
        const parser2 = this.parsers[i3];
        if (parser2.parse) {
          if (parser2.parse && await parser2.testParse?.(asset, data, this)) {
            asset = await parser2.parse(asset, data, this) || asset;
            result.parser = parser2;
          }
        }
      }
      return asset;
    })();
    return result;
  }
  async load(assetsToLoadIn, onProgress) {
    if (!this._parsersValidated) {
      this._validateParsers();
    }
    let count = 0;
    const assets = {};
    const singleAsset = isSingleItem(assetsToLoadIn);
    const assetsToLoad = convertToList(assetsToLoadIn, (item) => ({
      src: item
    }));
    const total = assetsToLoad.length;
    const promises = assetsToLoad.map(async (asset) => {
      const url2 = lib_exports.path.toAbsolute(asset.src);
      if (!assets[asset.src]) {
        try {
          if (!this.promiseCache[url2]) {
            this.promiseCache[url2] = this._getLoadPromiseAndParser(url2, asset);
          }
          assets[asset.src] = await this.promiseCache[url2].promise;
          if (onProgress)
            onProgress(++count / total);
        } catch (e3) {
          delete this.promiseCache[url2];
          delete assets[asset.src];
          throw new Error(`[Loader.load] Failed to load ${url2}.
${e3}`);
        }
      }
    });
    await Promise.all(promises);
    return singleAsset ? assets[assetsToLoad[0].src] : assets;
  }
  async unload(assetsToUnloadIn) {
    const assetsToUnload = convertToList(assetsToUnloadIn, (item) => ({
      src: item
    }));
    const promises = assetsToUnload.map(async (asset) => {
      const url2 = lib_exports.path.toAbsolute(asset.src);
      const loadPromise = this.promiseCache[url2];
      if (loadPromise) {
        const loadedAsset = await loadPromise.promise;
        loadPromise.parser?.unload?.(loadedAsset, asset, this);
        delete this.promiseCache[url2];
      }
    });
    await Promise.all(promises);
  }
  _validateParsers() {
    this._parsersValidated = true;
    this._parserHash = this._parsers.filter((parser) => parser.name).reduce((hash, parser) => {
      if (hash[parser.name]) {
        console.warn(`[Assets] loadParser name conflict "${parser.name}"`);
      }
      return { ...hash, [parser.name]: parser };
    }, {});
  }
};

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs
var LoaderParserPriority = /* @__PURE__ */ ((LoaderParserPriority2) => {
  LoaderParserPriority2[LoaderParserPriority2["Low"] = 0] = "Low";
  LoaderParserPriority2[LoaderParserPriority2["Normal"] = 1] = "Normal";
  LoaderParserPriority2[LoaderParserPriority2["High"] = 2] = "High";
  return LoaderParserPriority2;
})(LoaderParserPriority || {});

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs
var validJSONExtension = ".json";
var validJSONMIME = "application/json";
var loadJson = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.Low
  },
  name: "loadJson",
  test(url2) {
    return checkDataUrl(url2, validJSONMIME) || checkExtension(url2, validJSONExtension);
  },
  async load(url2) {
    const response = await settings.ADAPTER.fetch(url2);
    const json = await response.json();
    return json;
  }
};
extensions.add(loadJson);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs
var validTXTExtension = ".txt";
var validTXTMIME = "text/plain";
var loadTxt = {
  name: "loadTxt",
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.Low
  },
  test(url2) {
    return checkDataUrl(url2, validTXTMIME) || checkExtension(url2, validTXTExtension);
  },
  async load(url2) {
    const response = await settings.ADAPTER.fetch(url2);
    const txt = await response.text();
    return txt;
  }
};
extensions.add(loadTxt);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs
var validWeights = [
  "normal",
  "bold",
  "100",
  "200",
  "300",
  "400",
  "500",
  "600",
  "700",
  "800",
  "900"
];
var validFontExtensions = [".ttf", ".otf", ".woff", ".woff2"];
var validFontMIMEs = [
  "font/ttf",
  "font/otf",
  "font/woff",
  "font/woff2"
];
var CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
function getFontFamilyName(url2) {
  const ext = lib_exports.path.extname(url2);
  const name = lib_exports.path.basename(url2, ext);
  const nameWithSpaces = name.replace(/(-|_)/g, " ");
  const nameTokens = nameWithSpaces.toLowerCase().split(" ").map((word) => word.charAt(0).toUpperCase() + word.slice(1));
  let valid = nameTokens.length > 0;
  for (const token of nameTokens) {
    if (!token.match(CSS_IDENT_TOKEN_REGEX)) {
      valid = false;
      break;
    }
  }
  let fontFamilyName = nameTokens.join(" ");
  if (!valid) {
    fontFamilyName = `"${fontFamilyName.replace(/[\\"]/g, "\\$&")}"`;
  }
  return fontFamilyName;
}
var loadWebFont = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.Low
  },
  name: "loadWebFont",
  test(url2) {
    return checkDataUrl(url2, validFontMIMEs) || checkExtension(url2, validFontExtensions);
  },
  async load(url2, options) {
    const fonts = settings.ADAPTER.getFontFaceSet();
    if (fonts) {
      const fontFaces = [];
      const name = options.data?.family ?? getFontFamilyName(url2);
      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? ["normal"];
      const data = options.data ?? {};
      for (let i3 = 0; i3 < weights.length; i3++) {
        const weight = weights[i3];
        const font = new FontFace(name, `url(${encodeURI(url2)})`, {
          ...data,
          weight
        });
        await font.load();
        fonts.add(font);
        fontFaces.push(font);
      }
      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;
    }
    console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font");
    return null;
  },
  unload(font) {
    (Array.isArray(font) ? font : [font]).forEach((t2) => settings.ADAPTER.getFontFaceSet().delete(t2));
  }
};
extensions.add(loadWebFont);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs
var UUID = 0;
var MAX_WORKERS;
var WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
var checkImageBitmapCode = {
  id: "checkImageBitmap",
  code: `
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${WHITE_PNG}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `
};
var workerCode = {
  id: "loadImageBitmap",
  code: `
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`
};
var workerURL;
var WorkerManagerClass = class {
  constructor() {
    this._initialized = false;
    this._createdWorkers = 0;
    this.workerPool = [];
    this.queue = [];
    this.resolveHash = {};
  }
  isImageBitmapSupported() {
    if (this._isImageBitmapSupported !== void 0)
      return this._isImageBitmapSupported;
    this._isImageBitmapSupported = new Promise((resolve2) => {
      const workerURL2 = URL.createObjectURL(new Blob([checkImageBitmapCode.code], { type: "application/javascript" }));
      const worker = new Worker(workerURL2);
      worker.addEventListener("message", (event) => {
        worker.terminate();
        URL.revokeObjectURL(workerURL2);
        resolve2(event.data);
      });
    });
    return this._isImageBitmapSupported;
  }
  loadImageBitmap(src) {
    return this._run("loadImageBitmap", [src]);
  }
  async _initWorkers() {
    if (this._initialized)
      return;
    this._initialized = true;
  }
  getWorker() {
    if (MAX_WORKERS === void 0) {
      MAX_WORKERS = navigator.hardwareConcurrency || 4;
    }
    let worker = this.workerPool.pop();
    if (!worker && this._createdWorkers < MAX_WORKERS) {
      if (!workerURL) {
        workerURL = URL.createObjectURL(new Blob([workerCode.code], { type: "application/javascript" }));
      }
      this._createdWorkers++;
      worker = new Worker(workerURL);
      worker.addEventListener("message", (event) => {
        this.complete(event.data);
        this.returnWorker(event.target);
        this.next();
      });
    }
    return worker;
  }
  returnWorker(worker) {
    this.workerPool.push(worker);
  }
  complete(data) {
    if (data.error !== void 0) {
      this.resolveHash[data.uuid].reject(data.error);
    } else {
      this.resolveHash[data.uuid].resolve(data.data);
    }
    this.resolveHash[data.uuid] = null;
  }
  async _run(id, args) {
    await this._initWorkers();
    const promise = new Promise((resolve2, reject) => {
      this.queue.push({ id, arguments: args, resolve: resolve2, reject });
    });
    this.next();
    return promise;
  }
  next() {
    if (!this.queue.length)
      return;
    const worker = this.getWorker();
    if (!worker) {
      return;
    }
    const toDo = this.queue.pop();
    const id = toDo.id;
    this.resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };
    worker.postMessage({
      data: toDo.arguments,
      uuid: UUID++,
      id
    });
  }
};
var WorkerManager = new WorkerManagerClass();

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs
function createTexture(base, loader, url2) {
  const texture = new Texture(base);
  texture.baseTexture.on("dispose", () => {
    delete loader.promiseCache[url2];
  });
  return texture;
}

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs
var validImageExtensions = [".jpeg", ".jpg", ".png", ".webp", ".avif"];
var validImageMIMEs = [
  "image/jpeg",
  "image/png",
  "image/webp",
  "image/avif"
];
async function loadImageBitmap(url2) {
  const response = await settings.ADAPTER.fetch(url2);
  if (!response.ok) {
    throw new Error(`[loadImageBitmap] Failed to fetch ${url2}: ${response.status} ${response.statusText}`);
  }
  const imageBlob = await response.blob();
  const imageBitmap = await createImageBitmap(imageBlob);
  return imageBitmap;
}
var loadTextures = {
  name: "loadTextures",
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.High
  },
  config: {
    preferWorkers: true,
    preferCreateImageBitmap: true,
    crossOrigin: "anonymous"
  },
  test(url2) {
    return checkDataUrl(url2, validImageMIMEs) || checkExtension(url2, validImageExtensions);
  },
  async load(url2, asset, loader) {
    let src = null;
    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {
      if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported()) {
        src = await WorkerManager.loadImageBitmap(url2);
      } else {
        src = await loadImageBitmap(url2);
      }
    } else {
      src = await new Promise((resolve2) => {
        src = new Image();
        src.crossOrigin = this.config.crossOrigin;
        src.src = url2;
        if (src.complete) {
          resolve2(src);
        } else {
          src.onload = () => {
            resolve2(src);
          };
        }
      });
    }
    const base = new BaseTexture(src, {
      resolution: lib_exports.getResolutionOfUrl(url2),
      ...asset.data
    });
    base.resource.src = url2;
    return createTexture(base, loader, url2);
  },
  unload(texture) {
    texture.destroy(true);
  }
};
extensions.add(loadTextures);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs
var validSVGExtension = ".svg";
var validSVGMIME = "image/svg+xml";
var loadSVG = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.High
  },
  name: "loadSVG",
  test(url2) {
    return checkDataUrl(url2, validSVGMIME) || checkExtension(url2, validSVGExtension);
  },
  async testParse(data) {
    return SVGResource.test(data);
  },
  async parse(asset, data, loader) {
    const src = new SVGResource(asset, data?.data?.resourceOptions);
    await src.load();
    const base = new BaseTexture(src, {
      resolution: lib_exports.getResolutionOfUrl(asset),
      ...data?.data
    });
    base.resource.src = asset;
    const texture = createTexture(base, loader, asset);
    return texture;
  },
  async load(url2, _options) {
    const response = await settings.ADAPTER.fetch(url2);
    return response.text();
  },
  unload: loadTextures.unload
};
extensions.add(loadSVG);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/resolver/Resolver.mjs
var Resolver = class {
  constructor() {
    this._defaultBundleIdentifierOptions = {
      connector: "-",
      createBundleAssetId: (bundleId, assetId) => `${bundleId}${this._bundleIdConnector}${assetId}`,
      extractAssetIdFromBundle: (bundleId, assetBundleId) => assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`, "")
    };
    this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector;
    this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId;
    this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;
    this._assetMap = {};
    this._preferredOrder = [];
    this._parsers = [];
    this._resolverHash = {};
    this._bundles = {};
  }
  setBundleIdentifier(bundleIdentifier) {
    this._bundleIdConnector = bundleIdentifier.connector ?? this._bundleIdConnector;
    this._createBundleAssetId = bundleIdentifier.createBundleAssetId ?? this._createBundleAssetId;
    this._extractAssetIdFromBundle = bundleIdentifier.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle;
    if (this._extractAssetIdFromBundle("foo", this._createBundleAssetId("foo", "bar")) !== "bar") {
      throw new Error("[Resolver] GenerateBundleAssetId are not working correctly");
    }
  }
  prefer(...preferOrders) {
    preferOrders.forEach((prefer) => {
      this._preferredOrder.push(prefer);
      if (!prefer.priority) {
        prefer.priority = Object.keys(prefer.params);
      }
    });
    this._resolverHash = {};
  }
  set basePath(basePath) {
    this._basePath = basePath;
  }
  get basePath() {
    return this._basePath;
  }
  set rootPath(rootPath) {
    this._rootPath = rootPath;
  }
  get rootPath() {
    return this._rootPath;
  }
  get parsers() {
    return this._parsers;
  }
  reset() {
    this.setBundleIdentifier(this._defaultBundleIdentifierOptions);
    this._assetMap = {};
    this._preferredOrder = [];
    this._resolverHash = {};
    this._rootPath = null;
    this._basePath = null;
    this._manifest = null;
    this._bundles = {};
    this._defaultSearchParams = null;
  }
  setDefaultSearchParams(searchParams) {
    if (typeof searchParams === "string") {
      this._defaultSearchParams = searchParams;
    } else {
      const queryValues = searchParams;
      this._defaultSearchParams = Object.keys(queryValues).map((key2) => `${encodeURIComponent(key2)}=${encodeURIComponent(queryValues[key2])}`).join("&");
    }
  }
  addManifest(manifest) {
    if (this._manifest) {
      console.warn("[Resolver] Manifest already exists, this will be overwritten");
    }
    this._manifest = manifest;
    manifest.bundles.forEach((bundle) => {
      this.addBundle(bundle.name, bundle.assets);
    });
  }
  addBundle(bundleId, assets) {
    const assetNames = [];
    if (Array.isArray(assets)) {
      assets.forEach((asset) => {
        if (typeof asset.name === "string") {
          const bundleAssetId = this._createBundleAssetId(bundleId, asset.name);
          assetNames.push(bundleAssetId);
          this.add([asset.name, bundleAssetId], asset.srcs, asset.data);
        } else {
          const bundleIds = asset.name.map((name) => this._createBundleAssetId(bundleId, name));
          bundleIds.forEach((bundleId2) => {
            assetNames.push(bundleId2);
          });
          this.add([...asset.name, ...bundleIds], asset.srcs);
        }
      });
    } else {
      Object.keys(assets).forEach((key2) => {
        assetNames.push(this._createBundleAssetId(bundleId, key2));
        this.add([key2, this._createBundleAssetId(bundleId, key2)], assets[key2]);
      });
    }
    this._bundles[bundleId] = assetNames;
  }
  add(keysIn, assetsIn, data) {
    const keys = convertToList(keysIn);
    keys.forEach((key2) => {
      if (this.hasKey(key2)) {
        console.warn(`[Resolver] already has key: ${key2} overwriting`);
      }
    });
    if (!Array.isArray(assetsIn)) {
      if (typeof assetsIn === "string") {
        assetsIn = createStringVariations(assetsIn);
      } else {
        assetsIn = [assetsIn];
      }
    }
    const assetMap = assetsIn.map((asset) => {
      let formattedAsset = asset;
      if (typeof asset === "string") {
        let parsed = false;
        for (let i3 = 0; i3 < this._parsers.length; i3++) {
          const parser = this._parsers[i3];
          if (parser.test(asset)) {
            formattedAsset = parser.parse(asset);
            parsed = true;
            break;
          }
        }
        if (!parsed) {
          formattedAsset = {
            src: asset
          };
        }
      }
      if (!formattedAsset.format) {
        formattedAsset.format = formattedAsset.src.split(".").pop();
      }
      if (!formattedAsset.alias) {
        formattedAsset.alias = keys;
      }
      if (this._basePath || this._rootPath) {
        formattedAsset.src = lib_exports.path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);
      }
      formattedAsset.src = this._appendDefaultSearchParams(formattedAsset.src);
      formattedAsset.data = formattedAsset.data ?? data;
      return formattedAsset;
    });
    keys.forEach((key2) => {
      this._assetMap[key2] = assetMap;
    });
  }
  resolveBundle(bundleIds) {
    const singleAsset = isSingleItem(bundleIds);
    bundleIds = convertToList(bundleIds);
    const out = {};
    bundleIds.forEach((bundleId) => {
      const assetNames = this._bundles[bundleId];
      if (assetNames) {
        const results = this.resolve(assetNames);
        const assets = {};
        for (const key2 in results) {
          const asset = results[key2];
          assets[this._extractAssetIdFromBundle(bundleId, key2)] = asset;
        }
        out[bundleId] = assets;
      }
    });
    return singleAsset ? out[bundleIds[0]] : out;
  }
  resolveUrl(key2) {
    const result = this.resolve(key2);
    if (typeof key2 !== "string") {
      const out = {};
      for (const i3 in result) {
        out[i3] = result[i3].src;
      }
      return out;
    }
    return result.src;
  }
  resolve(keys) {
    const singleAsset = isSingleItem(keys);
    keys = convertToList(keys);
    const result = {};
    keys.forEach((key2) => {
      if (!this._resolverHash[key2]) {
        if (this._assetMap[key2]) {
          let assets = this._assetMap[key2];
          const preferredOrder = this._getPreferredOrder(assets);
          const bestAsset = assets[0];
          preferredOrder?.priority.forEach((priorityKey) => {
            preferredOrder.params[priorityKey].forEach((value) => {
              const filteredAssets = assets.filter((asset) => {
                if (asset[priorityKey]) {
                  return asset[priorityKey] === value;
                }
                return false;
              });
              if (filteredAssets.length) {
                assets = filteredAssets;
              }
            });
          });
          this._resolverHash[key2] = assets[0] ?? bestAsset;
        } else {
          let src = key2;
          if (this._basePath || this._rootPath) {
            src = lib_exports.path.toAbsolute(src, this._basePath, this._rootPath);
          }
          src = this._appendDefaultSearchParams(src);
          this._resolverHash[key2] = {
            src
          };
        }
      }
      result[key2] = this._resolverHash[key2];
    });
    return singleAsset ? result[keys[0]] : result;
  }
  hasKey(key2) {
    return !!this._assetMap[key2];
  }
  hasBundle(key2) {
    return !!this._bundles[key2];
  }
  _getPreferredOrder(assets) {
    for (let i3 = 0; i3 < assets.length; i3++) {
      const asset = assets[0];
      const preferred = this._preferredOrder.find((preference) => preference.params.format.includes(asset.format));
      if (preferred) {
        return preferred;
      }
    }
    return this._preferredOrder[0];
  }
  _appendDefaultSearchParams(url2) {
    if (!this._defaultSearchParams)
      return url2;
    const paramConnector = /\?/.test(url2) ? "&" : "?";
    return `${url2}${paramConnector}${this._defaultSearchParams}`;
  }
};

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/Assets.mjs
var AssetsClass = class {
  constructor() {
    this._detections = [];
    this._initialized = false;
    this.resolver = new Resolver();
    this.loader = new Loader();
    this.cache = Cache;
    this._backgroundLoader = new BackgroundLoader(this.loader);
    this._backgroundLoader.active = true;
    this.reset();
  }
  async init(options = {}) {
    if (this._initialized) {
      console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");
      return;
    }
    this._initialized = true;
    if (options.defaultSearchParams) {
      this.resolver.setDefaultSearchParams(options.defaultSearchParams);
    }
    if (options.basePath) {
      this.resolver.basePath = options.basePath;
    }
    if (options.bundleIdentifier) {
      this.resolver.setBundleIdentifier(options.bundleIdentifier);
    }
    if (options.manifest) {
      let manifest = options.manifest;
      if (typeof manifest === "string") {
        manifest = await this.load(manifest);
      }
      this.resolver.addManifest(manifest);
    }
    const resolutionPref = options.texturePreference?.resolution ?? 1;
    const resolution = typeof resolutionPref === "number" ? [resolutionPref] : resolutionPref;
    let formats2 = [];
    if (options.texturePreference?.format) {
      const formatPref = options.texturePreference?.format;
      formats2 = typeof formatPref === "string" ? [formatPref] : formatPref;
      for (const detection of this._detections) {
        if (!await detection.test()) {
          formats2 = await detection.remove(formats2);
        }
      }
    } else {
      for (const detection of this._detections) {
        if (await detection.test()) {
          formats2 = await detection.add(formats2);
        }
      }
    }
    this.resolver.prefer({
      params: {
        format: formats2,
        resolution
      }
    });
    if (options.preferences) {
      this.setPreferences(options.preferences);
    }
  }
  add(keysIn, assetsIn, data) {
    this.resolver.add(keysIn, assetsIn, data);
  }
  async load(urls, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    const singleAsset = isSingleItem(urls);
    const urlArray = convertToList(urls).map((url2) => {
      if (typeof url2 !== "string") {
        this.resolver.add(url2.src, url2);
        return url2.src;
      }
      if (!this.resolver.hasKey(url2)) {
        this.resolver.add(url2, url2);
      }
      return url2;
    });
    const resolveResults = this.resolver.resolve(urlArray);
    const out = await this._mapLoadToResolve(resolveResults, onProgress);
    return singleAsset ? out[urlArray[0]] : out;
  }
  addBundle(bundleId, assets) {
    this.resolver.addBundle(bundleId, assets);
  }
  async loadBundle(bundleIds, onProgress) {
    if (!this._initialized) {
      await this.init();
    }
    let singleAsset = false;
    if (typeof bundleIds === "string") {
      singleAsset = true;
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const out = {};
    const keys = Object.keys(resolveResults);
    let count = 0;
    let total = 0;
    const _onProgress = () => {
      onProgress?.(++count / total);
    };
    const promises = keys.map((bundleId) => {
      const resolveResult = resolveResults[bundleId];
      total += Object.keys(resolveResult).length;
      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {
        out[bundleId] = resolveResult2;
      });
    });
    await Promise.all(promises);
    return singleAsset ? out[bundleIds[0]] : out;
  }
  async backgroundLoad(urls) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof urls === "string") {
      urls = [urls];
    }
    const resolveResults = this.resolver.resolve(urls);
    this._backgroundLoader.add(Object.values(resolveResults));
  }
  async backgroundLoadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    if (typeof bundleIds === "string") {
      bundleIds = [bundleIds];
    }
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    Object.values(resolveResults).forEach((resolveResult) => {
      this._backgroundLoader.add(Object.values(resolveResult));
    });
  }
  reset() {
    this.resolver.reset();
    this.loader.reset();
    this.cache.reset();
    this._initialized = false;
  }
  get(keys) {
    if (typeof keys === "string") {
      return Cache.get(keys);
    }
    const assets = {};
    for (let i3 = 0; i3 < keys.length; i3++) {
      assets[i3] = Cache.get(keys[i3]);
    }
    return assets;
  }
  async _mapLoadToResolve(resolveResults, onProgress) {
    const resolveArray = Object.values(resolveResults);
    const resolveKeys = Object.keys(resolveResults);
    this._backgroundLoader.active = false;
    const loadedAssets3 = await this.loader.load(resolveArray, onProgress);
    this._backgroundLoader.active = true;
    const out = {};
    resolveArray.forEach((resolveResult, i3) => {
      const asset = loadedAssets3[resolveResult.src];
      const keys = [resolveResult.src];
      if (resolveResult.alias) {
        keys.push(...resolveResult.alias);
      }
      out[resolveKeys[i3]] = asset;
      Cache.set(keys, asset);
    });
    return out;
  }
  async unload(urls) {
    if (!this._initialized) {
      await this.init();
    }
    const urlArray = convertToList(urls).map((url2) => typeof url2 !== "string" ? url2.src : url2);
    const resolveResults = this.resolver.resolve(urlArray);
    await this._unloadFromResolved(resolveResults);
  }
  async unloadBundle(bundleIds) {
    if (!this._initialized) {
      await this.init();
    }
    bundleIds = convertToList(bundleIds);
    const resolveResults = this.resolver.resolveBundle(bundleIds);
    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));
    await Promise.all(promises);
  }
  async _unloadFromResolved(resolveResult) {
    const resolveArray = Object.values(resolveResult);
    resolveArray.forEach((resolveResult2) => {
      Cache.remove(resolveResult2.src);
    });
    await this.loader.unload(resolveArray);
  }
  get detections() {
    return this._detections;
  }
  get preferWorkers() {
    return loadTextures.config.preferWorkers;
  }
  set preferWorkers(value) {
    lib_exports.deprecation("7.2.0", "Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead.");
    this.setPreferences({ preferWorkers: value });
  }
  setPreferences(preferences) {
    this.loader.parsers.forEach((parser) => {
      if (!parser.config)
        return;
      Object.keys(parser.config).filter((key2) => key2 in preferences).forEach((key2) => {
        parser.config[key2] = preferences[key2];
      });
    });
  }
};
var Assets = new AssetsClass();
extensions.handleByList(ExtensionType.LoadParser, Assets.loader.parsers).handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(ExtensionType.CacheParser, Assets.cache.parsers).handleByList(ExtensionType.DetectionParser, Assets.detections);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs
var cacheTextureArray = {
  extension: ExtensionType.CacheParser,
  test: (asset) => Array.isArray(asset) && asset.every((t2) => t2 instanceof Texture),
  getCacheableAssets: (keys, asset) => {
    const out = {};
    keys.forEach((key2) => {
      asset.forEach((item, i3) => {
        out[key2 + (i3 === 0 ? "" : i3 + 1)] = item;
      });
    });
    return out;
  }
};
extensions.add(cacheTextureArray);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs
var detectAvif = {
  extension: {
    type: ExtensionType.DetectionParser,
    priority: 1
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const avifData = "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";
    const blob = await settings.ADAPTER.fetch(avifData).then((r2) => r2.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats2) => [...formats2, "avif"],
  remove: async (formats2) => formats2.filter((f4) => f4 !== "avif")
};
extensions.add(detectAvif);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs
var detectWebp = {
  extension: {
    type: ExtensionType.DetectionParser,
    priority: 0
  },
  test: async () => {
    if (!globalThis.createImageBitmap)
      return false;
    const webpData = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";
    const blob = await settings.ADAPTER.fetch(webpData).then((r2) => r2.blob());
    return createImageBitmap(blob).then(() => true, () => false);
  },
  add: async (formats2) => [...formats2, "webp"],
  remove: async (formats2) => formats2.filter((f4) => f4 !== "webp")
};
extensions.add(detectWebp);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs
var imageFormats = ["png", "jpg", "jpeg"];
var detectDefaults = {
  extension: {
    type: ExtensionType.DetectionParser,
    priority: -1
  },
  test: () => Promise.resolve(true),
  add: async (formats2) => [...formats2, ...imageFormats],
  remove: async (formats2) => formats2.filter((f4) => !imageFormats.includes(f4))
};
extensions.add(detectDefaults);

// ../../node_modules/.pnpm/@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+utils@7.2.4/node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs
var resolveTextureUrl = {
  extension: ExtensionType.ResolveParser,
  test: loadTextures.test,
  parse: (value) => ({
    resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
    format: value.split(".").pop(),
    src: value
  })
};
extensions.add(resolveTextureUrl);

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/const.mjs
var INTERNAL_FORMATS = /* @__PURE__ */ ((INTERNAL_FORMATS2) => {
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_S3TC_DXT1_EXT"] = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT1_EXT"] = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT3_EXT"] = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_S3TC_DXT5_EXT"] = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT"] = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT"] = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT"] = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB_S3TC_DXT1_EXT"] = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_R11_EAC"] = 37488] = "COMPRESSED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_R11_EAC"] = 37489] = "COMPRESSED_SIGNED_R11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RG11_EAC"] = 37490] = "COMPRESSED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SIGNED_RG11_EAC"] = 37491] = "COMPRESSED_SIGNED_RG11_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_ETC2"] = 37492] = "COMPRESSED_RGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA8_ETC2_EAC"] = 37496] = "COMPRESSED_RGBA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ETC2"] = 37493] = "COMPRESSED_SRGB8_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"] = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2"] = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_4BPPV1_IMG"] = 35840] = "COMPRESSED_RGB_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_4BPPV1_IMG"] = 35842] = "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_PVRTC_2BPPV1_IMG"] = 35841] = "COMPRESSED_RGB_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_PVRTC_2BPPV1_IMG"] = 35843] = "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ETC1_WEBGL"] = 36196] = "COMPRESSED_RGB_ETC1_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGB_ATC_WEBGL"] = 35986] = "COMPRESSED_RGB_ATC_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL"] = 35986] = "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"] = 34798] = "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";
  INTERNAL_FORMATS2[INTERNAL_FORMATS2["COMPRESSED_RGBA_ASTC_4x4_KHR"] = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR";
  return INTERNAL_FORMATS2;
})(INTERNAL_FORMATS || {});
var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = {
  [
    33776
    /* COMPRESSED_RGB_S3TC_DXT1_EXT */
  ]: 0.5,
  [
    33777
    /* COMPRESSED_RGBA_S3TC_DXT1_EXT */
  ]: 0.5,
  [
    33778
    /* COMPRESSED_RGBA_S3TC_DXT3_EXT */
  ]: 1,
  [
    33779
    /* COMPRESSED_RGBA_S3TC_DXT5_EXT */
  ]: 1,
  [
    35916
    /* COMPRESSED_SRGB_S3TC_DXT1_EXT */
  ]: 0.5,
  [
    35917
    /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */
  ]: 0.5,
  [
    35918
    /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */
  ]: 1,
  [
    35919
    /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */
  ]: 1,
  [
    37488
    /* COMPRESSED_R11_EAC */
  ]: 0.5,
  [
    37489
    /* COMPRESSED_SIGNED_R11_EAC */
  ]: 0.5,
  [
    37490
    /* COMPRESSED_RG11_EAC */
  ]: 1,
  [
    37491
    /* COMPRESSED_SIGNED_RG11_EAC */
  ]: 1,
  [
    37492
    /* COMPRESSED_RGB8_ETC2 */
  ]: 0.5,
  [
    37496
    /* COMPRESSED_RGBA8_ETC2_EAC */
  ]: 1,
  [
    37493
    /* COMPRESSED_SRGB8_ETC2 */
  ]: 0.5,
  [
    37497
    /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */
  ]: 1,
  [
    37494
    /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */
  ]: 0.5,
  [
    37495
    /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */
  ]: 0.5,
  [
    35840
    /* COMPRESSED_RGB_PVRTC_4BPPV1_IMG */
  ]: 0.5,
  [
    35842
    /* COMPRESSED_RGBA_PVRTC_4BPPV1_IMG */
  ]: 0.5,
  [
    35841
    /* COMPRESSED_RGB_PVRTC_2BPPV1_IMG */
  ]: 0.25,
  [
    35843
    /* COMPRESSED_RGBA_PVRTC_2BPPV1_IMG */
  ]: 0.25,
  [
    36196
    /* COMPRESSED_RGB_ETC1_WEBGL */
  ]: 0.5,
  [
    35986
    /* COMPRESSED_RGB_ATC_WEBGL */
  ]: 0.5,
  [
    35986
    /* COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL */
  ]: 1,
  [
    34798
    /* COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL */
  ]: 1,
  [
    37808
    /* COMPRESSED_RGBA_ASTC_4x4_KHR */
  ]: 1
};

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs
var storedGl;
var extensions2;
function getCompressedTextureExtensions() {
  extensions2 = {
    s3tc: storedGl.getExtension("WEBGL_compressed_texture_s3tc"),
    s3tc_sRGB: storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
    etc: storedGl.getExtension("WEBGL_compressed_texture_etc"),
    etc1: storedGl.getExtension("WEBGL_compressed_texture_etc1"),
    pvrtc: storedGl.getExtension("WEBGL_compressed_texture_pvrtc") || storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
    atc: storedGl.getExtension("WEBGL_compressed_texture_atc"),
    astc: storedGl.getExtension("WEBGL_compressed_texture_astc")
  };
}
var detectCompressedTextures = {
  extension: {
    type: ExtensionType.DetectionParser,
    priority: 2
  },
  test: async () => {
    const canvas = settings.ADAPTER.createCanvas();
    const gl = canvas.getContext("webgl");
    if (!gl) {
      console.warn("WebGL not available for compressed textures.");
      return false;
    }
    storedGl = gl;
    return true;
  },
  add: async (formats2) => {
    if (!extensions2)
      getCompressedTextureExtensions();
    const textureFormats = [];
    for (const extensionName in extensions2) {
      const extension = extensions2[extensionName];
      if (!extension) {
        continue;
      }
      textureFormats.push(extensionName);
    }
    return [...textureFormats, ...formats2];
  },
  remove: async (formats2) => {
    if (!extensions2)
      getCompressedTextureExtensions();
    return formats2.filter((f4) => !(f4 in extensions2));
  }
};
extensions.add(detectCompressedTextures);

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs
var BlobResource = class extends BufferResource {
  constructor(source, options = { width: 1, height: 1, autoLoad: true }) {
    let origin;
    let data;
    if (typeof source === "string") {
      origin = source;
      data = new Uint8Array();
    } else {
      origin = null;
      data = source;
    }
    super(data, options);
    this.origin = origin;
    this.buffer = data ? new ViewableBuffer(data) : null;
    this._load = null;
    this.loaded = false;
    if (this.origin !== null && options.autoLoad !== false) {
      this.load();
    }
    if (this.origin === null && this.buffer) {
      this._load = Promise.resolve(this);
      this.loaded = true;
      this.onBlobLoaded(this.buffer.rawBinaryData);
    }
  }
  onBlobLoaded(_data) {
  }
  load() {
    if (this._load) {
      return this._load;
    }
    this._load = fetch(this.origin).then((response) => response.blob()).then((blob) => blob.arrayBuffer()).then((arrayBuffer) => {
      this.data = new Uint32Array(arrayBuffer);
      this.buffer = new ViewableBuffer(arrayBuffer);
      this.loaded = true;
      this.onBlobLoaded(arrayBuffer);
      this.update();
      return this;
    });
    return this._load;
  }
};

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs
var CompressedTextureResource = class extends BlobResource {
  constructor(source, options) {
    super(source, options);
    this.format = options.format;
    this.levels = options.levels || 1;
    this._width = options.width;
    this._height = options.height;
    this._extension = CompressedTextureResource._formatToExtension(this.format);
    if (options.levelBuffers || this.buffer) {
      this._levelBuffers = options.levelBuffers || CompressedTextureResource._createLevelBuffers(source instanceof Uint8Array ? source : this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
    }
  }
  upload(renderer, _texture, _glTexture) {
    const gl = renderer.gl;
    const extension = renderer.context.extensions[this._extension];
    if (!extension) {
      throw new Error(`${this._extension} textures are not supported on the current machine`);
    }
    if (!this._levelBuffers) {
      return false;
    }
    for (let i3 = 0, j3 = this.levels; i3 < j3; i3++) {
      const { levelID, levelWidth, levelHeight, levelBuffer } = this._levelBuffers[i3];
      gl.compressedTexImage2D(gl.TEXTURE_2D, levelID, this.format, levelWidth, levelHeight, 0, levelBuffer);
    }
    return true;
  }
  onBlobLoaded() {
    this._levelBuffers = CompressedTextureResource._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);
  }
  static _formatToExtension(format3) {
    if (format3 >= 33776 && format3 <= 33779) {
      return "s3tc";
    } else if (format3 >= 37488 && format3 <= 37497) {
      return "etc";
    } else if (format3 >= 35840 && format3 <= 35843) {
      return "pvrtc";
    } else if (format3 >= 36196) {
      return "etc1";
    } else if (format3 >= 35986 && format3 <= 34798) {
      return "atc";
    }
    throw new Error("Invalid (compressed) texture format given!");
  }
  static _createLevelBuffers(buffer2, format3, levels, blockWidth, blockHeight, imageWidth, imageHeight) {
    const buffers = new Array(levels);
    let offset = buffer2.byteOffset;
    let levelWidth = imageWidth;
    let levelHeight = imageHeight;
    let alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
    let alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
    let levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format3];
    for (let i3 = 0; i3 < levels; i3++) {
      buffers[i3] = {
        levelID: i3,
        levelWidth: levels > 1 ? levelWidth : alignedLevelWidth,
        levelHeight: levels > 1 ? levelHeight : alignedLevelHeight,
        levelBuffer: new Uint8Array(buffer2.buffer, offset, levelSize)
      };
      offset += levelSize;
      levelWidth = levelWidth >> 1 || 1;
      levelHeight = levelHeight >> 1 || 1;
      alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);
      alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);
      levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format3];
    }
    return buffers;
  }
};

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs
var DDS_MAGIC_SIZE = 4;
var DDS_HEADER_SIZE = 124;
var DDS_HEADER_PF_SIZE = 32;
var DDS_HEADER_DX10_SIZE = 20;
var DDS_MAGIC = 542327876;
var DDS_FIELDS = {
  SIZE: 1,
  FLAGS: 2,
  HEIGHT: 3,
  WIDTH: 4,
  MIPMAP_COUNT: 7,
  PIXEL_FORMAT: 19
};
var DDS_PF_FIELDS = {
  SIZE: 0,
  FLAGS: 1,
  FOURCC: 2,
  RGB_BITCOUNT: 3,
  R_BIT_MASK: 4,
  G_BIT_MASK: 5,
  B_BIT_MASK: 6,
  A_BIT_MASK: 7
};
var DDS_DX10_FIELDS = {
  DXGI_FORMAT: 0,
  RESOURCE_DIMENSION: 1,
  MISC_FLAG: 2,
  ARRAY_SIZE: 3,
  MISC_FLAGS2: 4
};
var PF_FLAGS = 1;
var DDPF_ALPHA = 2;
var DDPF_FOURCC = 4;
var DDPF_RGB = 64;
var DDPF_YUV = 512;
var DDPF_LUMINANCE = 131072;
var FOURCC_DXT1 = 827611204;
var FOURCC_DXT3 = 861165636;
var FOURCC_DXT5 = 894720068;
var FOURCC_DX10 = 808540228;
var DDS_RESOURCE_MISC_TEXTURECUBE = 4;
var FOURCC_TO_FORMAT = {
  [FOURCC_DXT1]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [FOURCC_DXT3]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [FOURCC_DXT5]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
};
var DXGI_TO_FORMAT = {
  [
    70
    /* DXGI_FORMAT_BC1_TYPELESS */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [
    71
    /* DXGI_FORMAT_BC1_UNORM */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,
  [
    73
    /* DXGI_FORMAT_BC2_TYPELESS */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [
    74
    /* DXGI_FORMAT_BC2_UNORM */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,
  [
    76
    /* DXGI_FORMAT_BC3_TYPELESS */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [
    77
    /* DXGI_FORMAT_BC3_UNORM */
  ]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,
  [
    72
    /* DXGI_FORMAT_BC1_UNORM_SRGB */
  ]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
  [
    75
    /* DXGI_FORMAT_BC2_UNORM_SRGB */
  ]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
  [
    78
    /* DXGI_FORMAT_BC3_UNORM_SRGB */
  ]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
};
function parseDDS(arrayBuffer) {
  const data = new Uint32Array(arrayBuffer);
  const magicWord = data[0];
  if (magicWord !== DDS_MAGIC) {
    throw new Error("Invalid DDS file magic word");
  }
  const header = new Uint32Array(arrayBuffer, 0, DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const height = header[DDS_FIELDS.HEIGHT];
  const width = header[DDS_FIELDS.WIDTH];
  const mipmapCount = header[DDS_FIELDS.MIPMAP_COUNT];
  const pixelFormat = new Uint32Array(arrayBuffer, DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT, DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT);
  const formatFlags = pixelFormat[PF_FLAGS];
  if (formatFlags & DDPF_FOURCC) {
    const fourCC = pixelFormat[DDS_PF_FIELDS.FOURCC];
    if (fourCC !== FOURCC_DX10) {
      const internalFormat2 = FOURCC_TO_FORMAT[fourCC];
      const dataOffset2 = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
      const texData = new Uint8Array(arrayBuffer, dataOffset2);
      const resource = new CompressedTextureResource(texData, {
        format: internalFormat2,
        width,
        height,
        levels: mipmapCount
      });
      return [resource];
    }
    const dx10Offset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;
    const dx10Header = new Uint32Array(data.buffer, dx10Offset, DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);
    const dxgiFormat = dx10Header[DDS_DX10_FIELDS.DXGI_FORMAT];
    const resourceDimension = dx10Header[DDS_DX10_FIELDS.RESOURCE_DIMENSION];
    const miscFlag = dx10Header[DDS_DX10_FIELDS.MISC_FLAG];
    const arraySize = dx10Header[DDS_DX10_FIELDS.ARRAY_SIZE];
    const internalFormat = DXGI_TO_FORMAT[dxgiFormat];
    if (internalFormat === void 0) {
      throw new Error(`DDSParser cannot parse texture data with DXGI format ${dxgiFormat}`);
    }
    if (miscFlag === DDS_RESOURCE_MISC_TEXTURECUBE) {
      throw new Error("DDSParser does not support cubemap textures");
    }
    if (resourceDimension === 6) {
      throw new Error("DDSParser does not supported 3D texture data");
    }
    const imageBuffers = new Array();
    const dataOffset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE + DDS_HEADER_DX10_SIZE;
    if (arraySize === 1) {
      imageBuffers.push(new Uint8Array(arrayBuffer, dataOffset));
    } else {
      const pixelSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[internalFormat];
      let imageSize = 0;
      let levelWidth = width;
      let levelHeight = height;
      for (let i3 = 0; i3 < mipmapCount; i3++) {
        const alignedLevelWidth = Math.max(1, levelWidth + 3 & ~3);
        const alignedLevelHeight = Math.max(1, levelHeight + 3 & ~3);
        const levelSize = alignedLevelWidth * alignedLevelHeight * pixelSize;
        imageSize += levelSize;
        levelWidth = levelWidth >>> 1;
        levelHeight = levelHeight >>> 1;
      }
      let imageOffset = dataOffset;
      for (let i3 = 0; i3 < arraySize; i3++) {
        imageBuffers.push(new Uint8Array(arrayBuffer, imageOffset, imageSize));
        imageOffset += imageSize;
      }
    }
    return imageBuffers.map((buffer2) => new CompressedTextureResource(buffer2, {
      format: internalFormat,
      width,
      height,
      levels: mipmapCount
    }));
  }
  if (formatFlags & DDPF_RGB) {
    throw new Error("DDSParser does not support uncompressed texture data.");
  }
  if (formatFlags & DDPF_YUV) {
    throw new Error("DDSParser does not supported YUV uncompressed texture data.");
  }
  if (formatFlags & DDPF_LUMINANCE) {
    throw new Error("DDSParser does not support single-channel (lumninance) texture data!");
  }
  if (formatFlags & DDPF_ALPHA) {
    throw new Error("DDSParser does not support single-channel (alpha) texture data!");
  }
  throw new Error("DDSParser failed to load a texture file due to an unknown reason!");
}

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs
var FILE_IDENTIFIER = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10];
var ENDIANNESS = 67305985;
var KTX_FIELDS = {
  FILE_IDENTIFIER: 0,
  ENDIANNESS: 12,
  GL_TYPE: 16,
  GL_TYPE_SIZE: 20,
  GL_FORMAT: 24,
  GL_INTERNAL_FORMAT: 28,
  GL_BASE_INTERNAL_FORMAT: 32,
  PIXEL_WIDTH: 36,
  PIXEL_HEIGHT: 40,
  PIXEL_DEPTH: 44,
  NUMBER_OF_ARRAY_ELEMENTS: 48,
  NUMBER_OF_FACES: 52,
  NUMBER_OF_MIPMAP_LEVELS: 56,
  BYTES_OF_KEY_VALUE_DATA: 60
};
var FILE_HEADER_SIZE = 64;
var TYPES_TO_BYTES_PER_COMPONENT = {
  [TYPES.UNSIGNED_BYTE]: 1,
  [TYPES.UNSIGNED_SHORT]: 2,
  [TYPES.INT]: 4,
  [TYPES.UNSIGNED_INT]: 4,
  [TYPES.FLOAT]: 4,
  [TYPES.HALF_FLOAT]: 8
};
var FORMATS_TO_COMPONENTS = {
  [FORMATS.RGBA]: 4,
  [FORMATS.RGB]: 3,
  [FORMATS.RG]: 2,
  [FORMATS.RED]: 1,
  [FORMATS.LUMINANCE]: 1,
  [FORMATS.LUMINANCE_ALPHA]: 2,
  [FORMATS.ALPHA]: 1
};
var TYPES_TO_BYTES_PER_PIXEL = {
  [TYPES.UNSIGNED_SHORT_4_4_4_4]: 2,
  [TYPES.UNSIGNED_SHORT_5_5_5_1]: 2,
  [TYPES.UNSIGNED_SHORT_5_6_5]: 2
};
function parseKTX(url2, arrayBuffer, loadKeyValueData = false) {
  const dataView = new DataView(arrayBuffer);
  if (!validate(url2, dataView)) {
    return null;
  }
  const littleEndian = dataView.getUint32(KTX_FIELDS.ENDIANNESS, true) === ENDIANNESS;
  const glType = dataView.getUint32(KTX_FIELDS.GL_TYPE, littleEndian);
  const glFormat = dataView.getUint32(KTX_FIELDS.GL_FORMAT, littleEndian);
  const glInternalFormat = dataView.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, littleEndian);
  const pixelWidth = dataView.getUint32(KTX_FIELDS.PIXEL_WIDTH, littleEndian);
  const pixelHeight = dataView.getUint32(KTX_FIELDS.PIXEL_HEIGHT, littleEndian) || 1;
  const pixelDepth = dataView.getUint32(KTX_FIELDS.PIXEL_DEPTH, littleEndian) || 1;
  const numberOfArrayElements = dataView.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;
  const numberOfFaces = dataView.getUint32(KTX_FIELDS.NUMBER_OF_FACES, littleEndian);
  const numberOfMipmapLevels = dataView.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);
  const bytesOfKeyValueData = dataView.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);
  if (pixelHeight === 0 || pixelDepth !== 1) {
    throw new Error("Only 2D textures are supported");
  }
  if (numberOfFaces !== 1) {
    throw new Error("CubeTextures are not supported by KTXLoader yet!");
  }
  if (numberOfArrayElements !== 1) {
    throw new Error("WebGL does not support array textures");
  }
  const blockWidth = 4;
  const blockHeight = 4;
  const alignedWidth = pixelWidth + 3 & ~3;
  const alignedHeight = pixelHeight + 3 & ~3;
  const imageBuffers = new Array(numberOfArrayElements);
  let imagePixels = pixelWidth * pixelHeight;
  if (glType === 0) {
    imagePixels = alignedWidth * alignedHeight;
  }
  let imagePixelByteSize;
  if (glType !== 0) {
    if (TYPES_TO_BYTES_PER_COMPONENT[glType]) {
      imagePixelByteSize = TYPES_TO_BYTES_PER_COMPONENT[glType] * FORMATS_TO_COMPONENTS[glFormat];
    } else {
      imagePixelByteSize = TYPES_TO_BYTES_PER_PIXEL[glType];
    }
  } else {
    imagePixelByteSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];
  }
  if (imagePixelByteSize === void 0) {
    throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
  }
  const kvData = loadKeyValueData ? parseKvData(dataView, bytesOfKeyValueData, littleEndian) : null;
  const imageByteSize = imagePixels * imagePixelByteSize;
  let mipByteSize = imageByteSize;
  let mipWidth = pixelWidth;
  let mipHeight = pixelHeight;
  let alignedMipWidth = alignedWidth;
  let alignedMipHeight = alignedHeight;
  let imageOffset = FILE_HEADER_SIZE + bytesOfKeyValueData;
  for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++) {
    const imageSize = dataView.getUint32(imageOffset, littleEndian);
    let elementOffset = imageOffset + 4;
    for (let arrayElement = 0; arrayElement < numberOfArrayElements; arrayElement++) {
      let mips = imageBuffers[arrayElement];
      if (!mips) {
        mips = imageBuffers[arrayElement] = new Array(numberOfMipmapLevels);
      }
      mips[mipmapLevel] = {
        levelID: mipmapLevel,
        levelWidth: numberOfMipmapLevels > 1 || glType !== 0 ? mipWidth : alignedMipWidth,
        levelHeight: numberOfMipmapLevels > 1 || glType !== 0 ? mipHeight : alignedMipHeight,
        levelBuffer: new Uint8Array(arrayBuffer, elementOffset, mipByteSize)
      };
      elementOffset += mipByteSize;
    }
    imageOffset += imageSize + 4;
    imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - imageOffset % 4 : imageOffset;
    mipWidth = mipWidth >> 1 || 1;
    mipHeight = mipHeight >> 1 || 1;
    alignedMipWidth = mipWidth + blockWidth - 1 & ~(blockWidth - 1);
    alignedMipHeight = mipHeight + blockHeight - 1 & ~(blockHeight - 1);
    mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;
  }
  if (glType !== 0) {
    return {
      uncompressed: imageBuffers.map((levelBuffers) => {
        let buffer2 = levelBuffers[0].levelBuffer;
        let convertToInt = false;
        if (glType === TYPES.FLOAT) {
          buffer2 = new Float32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === TYPES.UNSIGNED_INT) {
          convertToInt = true;
          buffer2 = new Uint32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        } else if (glType === TYPES.INT) {
          convertToInt = true;
          buffer2 = new Int32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);
        }
        return {
          resource: new BufferResource(buffer2, {
            width: levelBuffers[0].levelWidth,
            height: levelBuffers[0].levelHeight
          }),
          type: glType,
          format: convertToInt ? convertFormatToInteger(glFormat) : glFormat
        };
      }),
      kvData
    };
  }
  return {
    compressed: imageBuffers.map((levelBuffers) => new CompressedTextureResource(null, {
      format: glInternalFormat,
      width: pixelWidth,
      height: pixelHeight,
      levels: numberOfMipmapLevels,
      levelBuffers
    })),
    kvData
  };
}
function validate(url2, dataView) {
  for (let i3 = 0; i3 < FILE_IDENTIFIER.length; i3++) {
    if (dataView.getUint8(i3) !== FILE_IDENTIFIER[i3]) {
      console.error(`${url2} is not a valid *.ktx file!`);
      return false;
    }
  }
  return true;
}
function convertFormatToInteger(format3) {
  switch (format3) {
    case FORMATS.RGBA:
      return FORMATS.RGBA_INTEGER;
    case FORMATS.RGB:
      return FORMATS.RGB_INTEGER;
    case FORMATS.RG:
      return FORMATS.RG_INTEGER;
    case FORMATS.RED:
      return FORMATS.RED_INTEGER;
    default:
      return format3;
  }
}
function parseKvData(dataView, bytesOfKeyValueData, littleEndian) {
  const kvData = /* @__PURE__ */ new Map();
  let bytesIntoKeyValueData = 0;
  while (bytesIntoKeyValueData < bytesOfKeyValueData) {
    const keyAndValueByteSize = dataView.getUint32(FILE_HEADER_SIZE + bytesIntoKeyValueData, littleEndian);
    const keyAndValueByteOffset = FILE_HEADER_SIZE + bytesIntoKeyValueData + 4;
    const valuePadding = 3 - (keyAndValueByteSize + 3) % 4;
    if (keyAndValueByteSize === 0 || keyAndValueByteSize > bytesOfKeyValueData - bytesIntoKeyValueData) {
      console.error("KTXLoader: keyAndValueByteSize out of bounds");
      break;
    }
    let keyNulByte = 0;
    for (; keyNulByte < keyAndValueByteSize; keyNulByte++) {
      if (dataView.getUint8(keyAndValueByteOffset + keyNulByte) === 0) {
        break;
      }
    }
    if (keyNulByte === -1) {
      console.error("KTXLoader: Failed to find null byte terminating kvData key");
      break;
    }
    const key2 = new TextDecoder().decode(new Uint8Array(dataView.buffer, keyAndValueByteOffset, keyNulByte));
    const value = new DataView(dataView.buffer, keyAndValueByteOffset + keyNulByte + 1, keyAndValueByteSize - keyNulByte - 1);
    kvData.set(key2, value);
    bytesIntoKeyValueData += 4 + keyAndValueByteSize + valuePadding;
  }
  return kvData;
}

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs
var loadDDS = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.High
  },
  name: "loadDDS",
  test(url2) {
    return checkExtension(url2, ".dds");
  },
  async load(url2, asset, loader) {
    const response = await settings.ADAPTER.fetch(url2);
    const arrayBuffer = await response.arrayBuffer();
    const resources = parseDDS(arrayBuffer);
    const textures = resources.map((resource) => {
      const base = new BaseTexture(resource, {
        mipmap: MIPMAP_MODES.OFF,
        alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
        resolution: lib_exports.getResolutionOfUrl(url2),
        ...asset.data
      });
      return createTexture(base, loader, url2);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t2) => t2.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
extensions.add(loadDDS);

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs
var loadKTX = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.High
  },
  name: "loadKTX",
  test(url2) {
    return checkExtension(url2, ".ktx");
  },
  async load(url2, asset, loader) {
    const response = await settings.ADAPTER.fetch(url2);
    const arrayBuffer = await response.arrayBuffer();
    const { compressed, uncompressed, kvData } = parseKTX(url2, arrayBuffer);
    const resources = compressed ?? uncompressed;
    const options = {
      mipmap: MIPMAP_MODES.OFF,
      alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
      resolution: lib_exports.getResolutionOfUrl(url2),
      ...asset.data
    };
    const textures = resources.map((resource) => {
      if (resources === uncompressed) {
        Object.assign(options, {
          type: resource.type,
          format: resource.format
        });
      }
      const base = new BaseTexture(resource, options);
      base.ktxKeyValueData = kvData;
      return createTexture(base, loader, url2);
    });
    return textures.length === 1 ? textures[0] : textures;
  },
  unload(texture) {
    if (Array.isArray(texture)) {
      texture.forEach((t2) => t2.destroy(true));
    } else {
      texture.destroy(true);
    }
  }
};
extensions.add(loadKTX);

// ../../node_modules/.pnpm/@pixi+compressed-textures@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs
var resolveCompressedTextureUrl = {
  extension: ExtensionType.ResolveParser,
  test: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    return ["basis", "ktx", "dds"].includes(extension);
  },
  parse: (value) => {
    const temp = value.split("?")[0];
    const extension = temp.split(".").pop();
    if (extension === "ktx") {
      const extensions22 = [
        ".s3tc.ktx",
        ".s3tc_sRGB.ktx",
        ".etc.ktx",
        ".etc1.ktx",
        ".pvrt.ktx",
        ".atc.ktx",
        ".astc.ktx"
      ];
      if (extensions22.some((ext) => value.endsWith(ext))) {
        return {
          resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
          format: extensions22.find((ext) => value.endsWith(ext)),
          src: value
        };
      }
    }
    return {
      resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
      format: value.split(".").pop(),
      src: value
    };
  }
};
extensions.add(resolveCompressedTextureUrl);

// ../../node_modules/.pnpm/@pixi+extract@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/extract/lib/Extract.mjs
var TEMP_RECT = new Rectangle();
var BYTES_PER_PIXEL = 4;
var _Extract = class {
  constructor(renderer) {
    this.renderer = renderer;
  }
  async image(target, format3, quality) {
    const image = new Image();
    image.src = await this.base64(target, format3, quality);
    return image;
  }
  async base64(target, format3, quality) {
    const canvas = this.canvas(target);
    if (canvas.toBlob !== void 0) {
      return new Promise((resolve2, reject) => {
        canvas.toBlob((blob) => {
          if (!blob) {
            reject(new Error("ICanvas.toBlob failed!"));
            return;
          }
          const reader = new FileReader();
          reader.onload = () => resolve2(reader.result);
          reader.onerror = reject;
          reader.readAsDataURL(blob);
        }, format3, quality);
      });
    }
    if (canvas.toDataURL !== void 0) {
      return canvas.toDataURL(format3, quality);
    }
    if (canvas.convertToBlob !== void 0) {
      const blob = await canvas.convertToBlob({ type: format3, quality });
      return new Promise((resolve2, reject) => {
        const reader = new FileReader();
        reader.onload = () => resolve2(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(blob);
      });
    }
    throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented");
  }
  canvas(target, frame) {
    const { pixels, width, height, flipY } = this._rawPixels(target, frame);
    if (flipY) {
      _Extract._flipY(pixels, width, height);
    }
    _Extract._unpremultiplyAlpha(pixels);
    const canvasBuffer = new lib_exports.CanvasRenderTarget(width, height, 1);
    const imageData = new ImageData(new Uint8ClampedArray(pixels.buffer), width, height);
    canvasBuffer.context.putImageData(imageData, 0, 0);
    return canvasBuffer.canvas;
  }
  pixels(target, frame) {
    const { pixels, width, height, flipY } = this._rawPixels(target, frame);
    if (flipY) {
      _Extract._flipY(pixels, width, height);
    }
    _Extract._unpremultiplyAlpha(pixels);
    return pixels;
  }
  _rawPixels(target, frame) {
    const renderer = this.renderer;
    if (!renderer) {
      throw new Error("The Extract has already been destroyed");
    }
    let resolution;
    let flipY = false;
    let renderTexture;
    let generated = false;
    if (target) {
      if (target instanceof RenderTexture) {
        renderTexture = target;
      } else {
        renderTexture = renderer.generateTexture(target, {
          resolution: renderer.resolution,
          multisample: renderer.multisample
        });
        generated = true;
      }
    }
    if (renderTexture) {
      resolution = renderTexture.baseTexture.resolution;
      frame = frame ?? renderTexture.frame;
      flipY = false;
      if (!generated) {
        renderer.renderTexture.bind(renderTexture);
        const fbo = renderTexture.framebuffer.glFramebuffers[renderer.CONTEXT_UID];
        if (fbo.blitFramebuffer) {
          renderer.framebuffer.bind(fbo.blitFramebuffer);
        }
      }
    } else {
      resolution = renderer.resolution;
      if (!frame) {
        frame = TEMP_RECT;
        frame.width = renderer.width / resolution;
        frame.height = renderer.height / resolution;
      }
      flipY = true;
      renderer.renderTexture.bind();
    }
    const width = Math.round(frame.width * resolution);
    const height = Math.round(frame.height * resolution);
    const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);
    const gl = renderer.gl;
    gl.readPixels(Math.round(frame.x * resolution), Math.round(frame.y * resolution), width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);
    if (generated) {
      renderTexture?.destroy(true);
    }
    return { pixels, width, height, flipY };
  }
  destroy() {
    this.renderer = null;
  }
  static _flipY(pixels, width, height) {
    const w3 = width << 2;
    const h2 = height >> 1;
    const temp = new Uint8Array(w3);
    for (let y2 = 0; y2 < h2; y2++) {
      const t2 = y2 * w3;
      const b3 = (height - y2 - 1) * w3;
      temp.set(pixels.subarray(t2, t2 + w3));
      pixels.copyWithin(t2, b3, b3 + w3);
      pixels.set(temp, b3);
    }
  }
  static _unpremultiplyAlpha(pixels) {
    if (pixels instanceof Uint8ClampedArray) {
      pixels = new Uint8Array(pixels.buffer);
    }
    const n2 = pixels.length;
    for (let i3 = 0; i3 < n2; i3 += 4) {
      const alpha = pixels[i3 + 3];
      if (alpha !== 0) {
        const a2 = 255.001 / alpha;
        pixels[i3] = pixels[i3] * a2 + 0.5;
        pixels[i3 + 1] = pixels[i3 + 1] * a2 + 0.5;
        pixels[i3 + 2] = pixels[i3 + 2] * a2 + 0.5;
      }
    }
  }
};
var Extract = _Extract;
Extract.extension = {
  name: "extract",
  type: ExtensionType.RendererSystem
};
extensions.add(Extract);

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/buildCircle.mjs
var buildCircle = {
  build(graphicsData) {
    const points = graphicsData.points;
    let x2;
    let y2;
    let dx;
    let dy;
    let rx;
    let ry;
    if (graphicsData.type === SHAPES.CIRC) {
      const circle = graphicsData.shape;
      x2 = circle.x;
      y2 = circle.y;
      rx = ry = circle.radius;
      dx = dy = 0;
    } else if (graphicsData.type === SHAPES.ELIP) {
      const ellipse = graphicsData.shape;
      x2 = ellipse.x;
      y2 = ellipse.y;
      rx = ellipse.width;
      ry = ellipse.height;
      dx = dy = 0;
    } else {
      const roundedRect = graphicsData.shape;
      const halfWidth = roundedRect.width / 2;
      const halfHeight = roundedRect.height / 2;
      x2 = roundedRect.x + halfWidth;
      y2 = roundedRect.y + halfHeight;
      rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));
      dx = halfWidth - rx;
      dy = halfHeight - ry;
    }
    if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0)) {
      points.length = 0;
      return;
    }
    const n2 = Math.ceil(2.3 * Math.sqrt(rx + ry));
    const m2 = n2 * 8 + (dx ? 4 : 0) + (dy ? 4 : 0);
    points.length = m2;
    if (m2 === 0) {
      return;
    }
    if (n2 === 0) {
      points.length = 8;
      points[0] = points[6] = x2 + dx;
      points[1] = points[3] = y2 + dy;
      points[2] = points[4] = x2 - dx;
      points[5] = points[7] = y2 - dy;
      return;
    }
    let j1 = 0;
    let j22 = n2 * 4 + (dx ? 2 : 0) + 2;
    let j3 = j22;
    let j4 = m2;
    {
      const x0 = dx + rx;
      const y0 = dy;
      const x1 = x2 + x0;
      const x22 = x2 - x0;
      const y1 = y2 + y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j22] = y1;
      points[--j22] = x22;
      if (dy) {
        const y22 = y2 - y0;
        points[j3++] = x22;
        points[j3++] = y22;
        points[--j4] = y22;
        points[--j4] = x1;
      }
    }
    for (let i3 = 1; i3 < n2; i3++) {
      const a2 = Math.PI / 2 * (i3 / n2);
      const x0 = dx + Math.cos(a2) * rx;
      const y0 = dy + Math.sin(a2) * ry;
      const x1 = x2 + x0;
      const x22 = x2 - x0;
      const y1 = y2 + y0;
      const y22 = y2 - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j22] = y1;
      points[--j22] = x22;
      points[j3++] = x22;
      points[j3++] = y22;
      points[--j4] = y22;
      points[--j4] = x1;
    }
    {
      const x0 = dx;
      const y0 = dy + ry;
      const x1 = x2 + x0;
      const x22 = x2 - x0;
      const y1 = y2 + y0;
      const y22 = y2 - y0;
      points[j1++] = x1;
      points[j1++] = y1;
      points[--j4] = y22;
      points[--j4] = x1;
      if (dx) {
        points[j1++] = x22;
        points[j1++] = y1;
        points[--j4] = y22;
        points[--j4] = x22;
      }
    }
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    const indices2 = graphicsGeometry.indices;
    if (points.length === 0) {
      return;
    }
    let vertPos = verts.length / 2;
    const center = vertPos;
    let x2;
    let y2;
    if (graphicsData.type !== SHAPES.RREC) {
      const circle = graphicsData.shape;
      x2 = circle.x;
      y2 = circle.y;
    } else {
      const roundedRect = graphicsData.shape;
      x2 = roundedRect.x + roundedRect.width / 2;
      y2 = roundedRect.y + roundedRect.height / 2;
    }
    const matrix = graphicsData.matrix;
    verts.push(graphicsData.matrix ? matrix.a * x2 + matrix.c * y2 + matrix.tx : x2, graphicsData.matrix ? matrix.b * x2 + matrix.d * y2 + matrix.ty : y2);
    vertPos++;
    verts.push(points[0], points[1]);
    for (let i3 = 2; i3 < points.length; i3 += 2) {
      verts.push(points[i3], points[i3 + 1]);
      indices2.push(vertPos++, center, vertPos);
    }
    indices2.push(center + 1, center, vertPos);
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/buildPoly.mjs
function fixOrientation(points, hole = false) {
  const m2 = points.length;
  if (m2 < 6) {
    return;
  }
  let area = 0;
  for (let i3 = 0, x1 = points[m2 - 2], y1 = points[m2 - 1]; i3 < m2; i3 += 2) {
    const x2 = points[i3];
    const y2 = points[i3 + 1];
    area += (x2 - x1) * (y2 + y1);
    x1 = x2;
    y1 = y2;
  }
  if (!hole && area > 0 || hole && area <= 0) {
    const n2 = m2 / 2;
    for (let i3 = n2 + n2 % 2; i3 < m2; i3 += 2) {
      const i1 = m2 - i3 - 2;
      const i22 = m2 - i3 - 1;
      const i32 = i3;
      const i4 = i3 + 1;
      [points[i1], points[i32]] = [points[i32], points[i1]];
      [points[i22], points[i4]] = [points[i4], points[i22]];
    }
  }
}
var buildPoly = {
  build(graphicsData) {
    graphicsData.points = graphicsData.shape.points.slice();
  },
  triangulate(graphicsData, graphicsGeometry) {
    let points = graphicsData.points;
    const holes = graphicsData.holes;
    const verts = graphicsGeometry.points;
    const indices2 = graphicsGeometry.indices;
    if (points.length >= 6) {
      fixOrientation(points, false);
      const holeArray = [];
      for (let i3 = 0; i3 < holes.length; i3++) {
        const hole = holes[i3];
        fixOrientation(hole.points, true);
        holeArray.push(points.length / 2);
        points = points.concat(hole.points);
      }
      const triangles = lib_exports.earcut(points, holeArray, 2);
      if (!triangles) {
        return;
      }
      const vertPos = verts.length / 2;
      for (let i3 = 0; i3 < triangles.length; i3 += 3) {
        indices2.push(triangles[i3] + vertPos);
        indices2.push(triangles[i3 + 1] + vertPos);
        indices2.push(triangles[i3 + 2] + vertPos);
      }
      for (let i3 = 0; i3 < points.length; i3++) {
        verts.push(points[i3]);
      }
    }
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs
var buildRectangle = {
  build(graphicsData) {
    const rectData = graphicsData.shape;
    const x2 = rectData.x;
    const y2 = rectData.y;
    const width = rectData.width;
    const height = rectData.height;
    const points = graphicsData.points;
    points.length = 0;
    if (!(width >= 0 && height >= 0)) {
      return;
    }
    points.push(x2, y2, x2 + width, y2, x2 + width, y2 + height, x2, y2 + height);
  },
  triangulate(graphicsData, graphicsGeometry) {
    const points = graphicsData.points;
    const verts = graphicsGeometry.points;
    if (points.length === 0) {
      return;
    }
    const vertPos = verts.length / 2;
    verts.push(points[0], points[1], points[2], points[3], points[6], points[7], points[4], points[5]);
    graphicsGeometry.indices.push(vertPos, vertPos + 1, vertPos + 2, vertPos + 1, vertPos + 2, vertPos + 3);
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs
var buildRoundedRectangle = {
  build(graphicsData) {
    buildCircle.build(graphicsData);
  },
  triangulate(graphicsData, graphicsGeometry) {
    buildCircle.triangulate(graphicsData, graphicsGeometry);
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/const.mjs
var LINE_JOIN = /* @__PURE__ */ ((LINE_JOIN2) => {
  LINE_JOIN2["MITER"] = "miter";
  LINE_JOIN2["BEVEL"] = "bevel";
  LINE_JOIN2["ROUND"] = "round";
  return LINE_JOIN2;
})(LINE_JOIN || {});
var LINE_CAP = /* @__PURE__ */ ((LINE_CAP2) => {
  LINE_CAP2["BUTT"] = "butt";
  LINE_CAP2["ROUND"] = "round";
  LINE_CAP2["SQUARE"] = "square";
  return LINE_CAP2;
})(LINE_CAP || {});
var curves = {
  adaptive: true,
  maxLength: 10,
  minSegments: 8,
  maxSegments: 2048,
  epsilon: 1e-4,
  _segmentsCount(length, defaultSegments = 20) {
    if (!this.adaptive || !length || isNaN(length)) {
      return defaultSegments;
    }
    let result = Math.ceil(length / this.maxLength);
    if (result < this.minSegments) {
      result = this.minSegments;
    } else if (result > this.maxSegments) {
      result = this.maxSegments;
    }
    return result;
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs
var ArcUtils = class {
  static curveTo(x1, y1, x2, y2, radius, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const a1 = fromY - y1;
    const b1 = fromX - x1;
    const a2 = y2 - y1;
    const b22 = x2 - x1;
    const mm = Math.abs(a1 * b22 - b1 * a2);
    if (mm < 1e-8 || radius === 0) {
      if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {
        points.push(x1, y1);
      }
      return null;
    }
    const dd = a1 * a1 + b1 * b1;
    const cc = a2 * a2 + b22 * b22;
    const tt2 = a1 * a2 + b1 * b22;
    const k1 = radius * Math.sqrt(dd) / mm;
    const k22 = radius * Math.sqrt(cc) / mm;
    const j1 = k1 * tt2 / dd;
    const j22 = k22 * tt2 / cc;
    const cx = k1 * b22 + k22 * b1;
    const cy = k1 * a2 + k22 * a1;
    const px = b1 * (k22 + j1);
    const py = a1 * (k22 + j1);
    const qx = b22 * (k1 + j22);
    const qy = a2 * (k1 + j22);
    const startAngle = Math.atan2(py - cy, px - cx);
    const endAngle = Math.atan2(qy - cy, qx - cx);
    return {
      cx: cx + x1,
      cy: cy + y1,
      radius,
      startAngle,
      endAngle,
      anticlockwise: b1 * a2 > b22 * a1
    };
  }
  static arc(_startX, _startY, cx, cy, radius, startAngle, endAngle, _anticlockwise, points) {
    const sweep2 = endAngle - startAngle;
    const n2 = curves._segmentsCount(Math.abs(sweep2) * radius, Math.ceil(Math.abs(sweep2) / PI_2) * 40);
    const theta = sweep2 / (n2 * 2);
    const theta2 = theta * 2;
    const cTheta = Math.cos(theta);
    const sTheta = Math.sin(theta);
    const segMinus = n2 - 1;
    const remainder = segMinus % 1 / segMinus;
    for (let i3 = 0; i3 <= segMinus; ++i3) {
      const real = i3 + remainder * i3;
      const angle = theta + startAngle + theta2 * real;
      const c2 = Math.cos(angle);
      const s2 = -Math.sin(angle);
      points.push((cTheta * c2 + sTheta * s2) * radius + cx, (cTheta * -s2 + sTheta * c2) * radius + cy);
    }
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/BatchPart.mjs
var BatchPart = class {
  constructor() {
    this.reset();
  }
  begin(style, startIndex, attribStart) {
    this.reset();
    this.style = style;
    this.start = startIndex;
    this.attribStart = attribStart;
  }
  end(endIndex, endAttrib) {
    this.attribSize = endAttrib - this.attribStart;
    this.size = endIndex - this.start;
  }
  reset() {
    this.style = null;
    this.size = 0;
    this.start = 0;
    this.attribStart = 0;
    this.attribSize = 0;
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs
var BezierUtils = class {
  static curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY) {
    const n2 = 10;
    let result = 0;
    let t2 = 0;
    let t22 = 0;
    let t3 = 0;
    let nt = 0;
    let nt2 = 0;
    let nt3 = 0;
    let x2 = 0;
    let y2 = 0;
    let dx = 0;
    let dy = 0;
    let prevX = fromX;
    let prevY = fromY;
    for (let i3 = 1; i3 <= n2; ++i3) {
      t2 = i3 / n2;
      t22 = t2 * t2;
      t3 = t22 * t2;
      nt = 1 - t2;
      nt2 = nt * nt;
      nt3 = nt2 * nt;
      x2 = nt3 * fromX + 3 * nt2 * t2 * cpX + 3 * nt * t22 * cpX2 + t3 * toX;
      y2 = nt3 * fromY + 3 * nt2 * t2 * cpY + 3 * nt * t22 * cpY2 + t3 * toY;
      dx = prevX - x2;
      dy = prevY - y2;
      prevX = x2;
      prevY = y2;
      result += Math.sqrt(dx * dx + dy * dy);
    }
    return result;
  }
  static curveTo(cpX, cpY, cpX2, cpY2, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    points.length -= 2;
    const n2 = curves._segmentsCount(BezierUtils.curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY));
    let dt = 0;
    let dt2 = 0;
    let dt3 = 0;
    let t2 = 0;
    let t3 = 0;
    points.push(fromX, fromY);
    for (let i3 = 1, j3 = 0; i3 <= n2; ++i3) {
      j3 = i3 / n2;
      dt = 1 - j3;
      dt2 = dt * dt;
      dt3 = dt2 * dt;
      t2 = j3 * j3;
      t3 = t2 * j3;
      points.push(dt3 * fromX + 3 * dt2 * j3 * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j3 * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
    }
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/buildLine.mjs
function square(x2, y2, nx, ny, innerWeight, outerWeight, clockwise, verts) {
  const ix = x2 - nx * innerWeight;
  const iy = y2 - ny * innerWeight;
  const ox = x2 + nx * outerWeight;
  const oy = y2 + ny * outerWeight;
  let exx;
  let eyy;
  if (clockwise) {
    exx = ny;
    eyy = -nx;
  } else {
    exx = -ny;
    eyy = nx;
  }
  const eix = ix + exx;
  const eiy = iy + eyy;
  const eox = ox + exx;
  const eoy = oy + eyy;
  verts.push(eix, eiy, eox, eoy);
  return 2;
}
function round(cx, cy, sx, sy, ex, ey, verts, clockwise) {
  const cx2p0x = sx - cx;
  const cy2p0y = sy - cy;
  let angle0 = Math.atan2(cx2p0x, cy2p0y);
  let angle1 = Math.atan2(ex - cx, ey - cy);
  if (clockwise && angle0 < angle1) {
    angle0 += Math.PI * 2;
  } else if (!clockwise && angle0 > angle1) {
    angle1 += Math.PI * 2;
  }
  let startAngle = angle0;
  const angleDiff = angle1 - angle0;
  const absAngleDiff = Math.abs(angleDiff);
  const radius = Math.sqrt(cx2p0x * cx2p0x + cy2p0y * cy2p0y);
  const segCount = (15 * absAngleDiff * Math.sqrt(radius) / Math.PI >> 0) + 1;
  const angleInc = angleDiff / segCount;
  startAngle += angleInc;
  if (clockwise) {
    verts.push(cx, cy, sx, sy);
    for (let i3 = 1, angle = startAngle; i3 < segCount; i3++, angle += angleInc) {
      verts.push(cx, cy, cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);
    }
    verts.push(cx, cy, ex, ey);
  } else {
    verts.push(sx, sy, cx, cy);
    for (let i3 = 1, angle = startAngle; i3 < segCount; i3++, angle += angleInc) {
      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius, cx, cy);
    }
    verts.push(ex, ey, cx, cy);
  }
  return segCount * 2;
}
function buildNonNativeLine(graphicsData, graphicsGeometry) {
  const shape = graphicsData.shape;
  let points = graphicsData.points || shape.points.slice();
  const eps = graphicsGeometry.closePointEps;
  if (points.length === 0) {
    return;
  }
  const style = graphicsData.lineStyle;
  const firstPoint = new Point(points[0], points[1]);
  const lastPoint = new Point(points[points.length - 2], points[points.length - 1]);
  const closedShape = shape.type !== SHAPES.POLY || shape.closeStroke;
  const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps && Math.abs(firstPoint.y - lastPoint.y) < eps;
  if (closedShape) {
    points = points.slice();
    if (closedPath) {
      points.pop();
      points.pop();
      lastPoint.set(points[points.length - 2], points[points.length - 1]);
    }
    const midPointX = (firstPoint.x + lastPoint.x) * 0.5;
    const midPointY = (lastPoint.y + firstPoint.y) * 0.5;
    points.unshift(midPointX, midPointY);
    points.push(midPointX, midPointY);
  }
  const verts = graphicsGeometry.points;
  const length = points.length / 2;
  let indexCount = points.length;
  const indexStart = verts.length / 2;
  const width = style.width / 2;
  const widthSquared = width * width;
  const miterLimitSquared = style.miterLimit * style.miterLimit;
  let x0 = points[0];
  let y0 = points[1];
  let x1 = points[2];
  let y1 = points[3];
  let x2 = 0;
  let y2 = 0;
  let perpx = -(y0 - y1);
  let perpy = x0 - x1;
  let perp1x = 0;
  let perp1y = 0;
  let dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  const ratio = style.alignment;
  const innerWeight = (1 - ratio) * 2;
  const outerWeight = ratio * 2;
  if (!closedShape) {
    if (style.cap === LINE_CAP.ROUND) {
      indexCount += round(x0 - perpx * (innerWeight - outerWeight) * 0.5, y0 - perpy * (innerWeight - outerWeight) * 0.5, x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight, verts, true) + 2;
    } else if (style.cap === LINE_CAP.SQUARE) {
      indexCount += square(x0, y0, perpx, perpy, innerWeight, outerWeight, true, verts);
    }
  }
  verts.push(x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight);
  for (let i3 = 1; i3 < length - 1; ++i3) {
    x0 = points[(i3 - 1) * 2];
    y0 = points[(i3 - 1) * 2 + 1];
    x1 = points[i3 * 2];
    y1 = points[i3 * 2 + 1];
    x2 = points[(i3 + 1) * 2];
    y2 = points[(i3 + 1) * 2 + 1];
    perpx = -(y0 - y1);
    perpy = x0 - x1;
    dist = Math.sqrt(perpx * perpx + perpy * perpy);
    perpx /= dist;
    perpy /= dist;
    perpx *= width;
    perpy *= width;
    perp1x = -(y1 - y2);
    perp1y = x1 - x2;
    dist = Math.sqrt(perp1x * perp1x + perp1y * perp1y);
    perp1x /= dist;
    perp1y /= dist;
    perp1x *= width;
    perp1y *= width;
    const dx0 = x1 - x0;
    const dy0 = y0 - y1;
    const dx1 = x1 - x2;
    const dy1 = y2 - y1;
    const dot = dx0 * dx1 + dy0 * dy1;
    const cross = dy0 * dx1 - dy1 * dx0;
    const clockwise = cross < 0;
    if (Math.abs(cross) < 1e-3 * Math.abs(dot)) {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      if (dot >= 0) {
        if (style.join === LINE_JOIN.ROUND) {
          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
        } else {
          indexCount += 2;
        }
        verts.push(x1 - perp1x * outerWeight, y1 - perp1y * outerWeight, x1 + perp1x * innerWeight, y1 + perp1y * innerWeight);
      }
      continue;
    }
    const c1 = (-perpx + x0) * (-perpy + y1) - (-perpx + x1) * (-perpy + y0);
    const c2 = (-perp1x + x2) * (-perp1y + y1) - (-perp1x + x1) * (-perp1y + y2);
    const px = (dx0 * c2 - dx1 * c1) / cross;
    const py = (dy1 * c1 - dy0 * c2) / cross;
    const pdist = (px - x1) * (px - x1) + (py - y1) * (py - y1);
    const imx = x1 + (px - x1) * innerWeight;
    const imy = y1 + (py - y1) * innerWeight;
    const omx = x1 - (px - x1) * outerWeight;
    const omy = y1 - (py - y1) * outerWeight;
    const smallerInsideSegmentSq = Math.min(dx0 * dx0 + dy0 * dy0, dx1 * dx1 + dy1 * dy1);
    const insideWeight = clockwise ? innerWeight : outerWeight;
    const smallerInsideDiagonalSq = smallerInsideSegmentSq + insideWeight * insideWeight * widthSquared;
    const insideMiterOk = pdist <= smallerInsideDiagonalSq;
    let join = style.join;
    if (join === LINE_JOIN.MITER && pdist / widthSquared > miterLimitSquared) {
      join = LINE_JOIN.BEVEL;
    }
    if (insideMiterOk) {
      switch (join) {
        case LINE_JOIN.MITER: {
          verts.push(imx, imy, omx, omy);
          break;
        }
        case LINE_JOIN.BEVEL: {
          if (clockwise) {
            verts.push(imx, imy, x1 + perpx * outerWeight, y1 + perpy * outerWeight, imx, imy, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
          } else {
            verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, omx, omy, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, omx, omy);
          }
          indexCount += 2;
          break;
        }
        case LINE_JOIN.ROUND: {
          if (clockwise) {
            verts.push(imx, imy, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
            indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 4;
            verts.push(imx, imy, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
          } else {
            verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, omx, omy);
            indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;
            verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, omx, omy);
          }
          break;
        }
      }
    } else {
      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
      switch (join) {
        case LINE_JOIN.MITER: {
          if (clockwise) {
            verts.push(omx, omy, omx, omy);
          } else {
            verts.push(imx, imy, imx, imy);
          }
          indexCount += 2;
          break;
        }
        case LINE_JOIN.ROUND: {
          if (clockwise) {
            indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 2;
          } else {
            indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 2;
          }
          break;
        }
      }
      verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);
      indexCount += 2;
    }
  }
  x0 = points[(length - 2) * 2];
  y0 = points[(length - 2) * 2 + 1];
  x1 = points[(length - 1) * 2];
  y1 = points[(length - 1) * 2 + 1];
  perpx = -(y0 - y1);
  perpy = x0 - x1;
  dist = Math.sqrt(perpx * perpx + perpy * perpy);
  perpx /= dist;
  perpy /= dist;
  perpx *= width;
  perpy *= width;
  verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight);
  if (!closedShape) {
    if (style.cap === LINE_CAP.ROUND) {
      indexCount += round(x1 - perpx * (innerWeight - outerWeight) * 0.5, y1 - perpy * (innerWeight - outerWeight) * 0.5, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight, verts, false) + 2;
    } else if (style.cap === LINE_CAP.SQUARE) {
      indexCount += square(x1, y1, perpx, perpy, innerWeight, outerWeight, false, verts);
    }
  }
  const indices2 = graphicsGeometry.indices;
  const eps2 = curves.epsilon * curves.epsilon;
  for (let i3 = indexStart; i3 < indexCount + indexStart - 2; ++i3) {
    x0 = verts[i3 * 2];
    y0 = verts[i3 * 2 + 1];
    x1 = verts[(i3 + 1) * 2];
    y1 = verts[(i3 + 1) * 2 + 1];
    x2 = verts[(i3 + 2) * 2];
    y2 = verts[(i3 + 2) * 2 + 1];
    if (Math.abs(x0 * (y1 - y2) + x1 * (y2 - y0) + x2 * (y0 - y1)) < eps2) {
      continue;
    }
    indices2.push(i3, i3 + 1, i3 + 2);
  }
}
function buildNativeLine(graphicsData, graphicsGeometry) {
  let i3 = 0;
  const shape = graphicsData.shape;
  const points = graphicsData.points || shape.points;
  const closedShape = shape.type !== SHAPES.POLY || shape.closeStroke;
  if (points.length === 0)
    return;
  const verts = graphicsGeometry.points;
  const indices2 = graphicsGeometry.indices;
  const length = points.length / 2;
  const startIndex = verts.length / 2;
  let currentIndex = startIndex;
  verts.push(points[0], points[1]);
  for (i3 = 1; i3 < length; i3++) {
    verts.push(points[i3 * 2], points[i3 * 2 + 1]);
    indices2.push(currentIndex, currentIndex + 1);
    currentIndex++;
  }
  if (closedShape) {
    indices2.push(currentIndex, startIndex);
  }
}
function buildLine(graphicsData, graphicsGeometry) {
  if (graphicsData.lineStyle.native) {
    buildNativeLine(graphicsData, graphicsGeometry);
  } else {
    buildNonNativeLine(graphicsData, graphicsGeometry);
  }
}

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs
var QuadraticUtils = class {
  static curveLength(fromX, fromY, cpX, cpY, toX, toY) {
    const ax = fromX - 2 * cpX + toX;
    const ay = fromY - 2 * cpY + toY;
    const bx = 2 * cpX - 2 * fromX;
    const by = 2 * cpY - 2 * fromY;
    const a2 = 4 * (ax * ax + ay * ay);
    const b3 = 4 * (ax * bx + ay * by);
    const c2 = bx * bx + by * by;
    const s2 = 2 * Math.sqrt(a2 + b3 + c2);
    const a22 = Math.sqrt(a2);
    const a32 = 2 * a2 * a22;
    const c22 = 2 * Math.sqrt(c2);
    const ba = b3 / a22;
    return (a32 * s2 + a22 * b3 * (s2 - c22) + (4 * c2 * a2 - b3 * b3) * Math.log((2 * a22 + ba + s2) / (ba + c22))) / (4 * a32);
  }
  static curveTo(cpX, cpY, toX, toY, points) {
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    const n2 = curves._segmentsCount(QuadraticUtils.curveLength(fromX, fromY, cpX, cpY, toX, toY));
    let xa = 0;
    let ya = 0;
    for (let i3 = 1; i3 <= n2; ++i3) {
      const j3 = i3 / n2;
      xa = fromX + (cpX - fromX) * j3;
      ya = fromY + (cpY - fromY) * j3;
      points.push(xa + (cpX + (toX - cpX) * j3 - xa) * j3, ya + (cpY + (toY - cpY) * j3 - ya) * j3);
    }
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/utils/index.mjs
var FILL_COMMANDS = {
  [SHAPES.POLY]: buildPoly,
  [SHAPES.CIRC]: buildCircle,
  [SHAPES.ELIP]: buildCircle,
  [SHAPES.RECT]: buildRectangle,
  [SHAPES.RREC]: buildRoundedRectangle
};
var BATCH_POOL = [];
var DRAW_CALL_POOL = [];

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/GraphicsData.mjs
var GraphicsData = class {
  constructor(shape, fillStyle = null, lineStyle = null, matrix = null) {
    this.points = [];
    this.holes = [];
    this.shape = shape;
    this.lineStyle = lineStyle;
    this.fillStyle = fillStyle;
    this.matrix = matrix;
    this.type = shape.type;
  }
  clone() {
    return new GraphicsData(this.shape, this.fillStyle, this.lineStyle, this.matrix);
  }
  destroy() {
    this.shape = null;
    this.holes.length = 0;
    this.holes = null;
    this.points.length = 0;
    this.points = null;
    this.lineStyle = null;
    this.fillStyle = null;
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs
var tmpPoint = new Point();
var _GraphicsGeometry = class extends BatchGeometry {
  constructor() {
    super();
    this.closePointEps = 1e-4;
    this.boundsPadding = 0;
    this.uvsFloat32 = null;
    this.indicesUint16 = null;
    this.batchable = false;
    this.points = [];
    this.colors = [];
    this.uvs = [];
    this.indices = [];
    this.textureIds = [];
    this.graphicsData = [];
    this.drawCalls = [];
    this.batchDirty = -1;
    this.batches = [];
    this.dirty = 0;
    this.cacheDirty = -1;
    this.clearDirty = 0;
    this.shapeIndex = 0;
    this._bounds = new Bounds();
    this.boundsDirty = -1;
  }
  get bounds() {
    this.updateBatches();
    if (this.boundsDirty !== this.dirty) {
      this.boundsDirty = this.dirty;
      this.calculateBounds();
    }
    return this._bounds;
  }
  invalidate() {
    this.boundsDirty = -1;
    this.dirty++;
    this.batchDirty++;
    this.shapeIndex = 0;
    this.points.length = 0;
    this.colors.length = 0;
    this.uvs.length = 0;
    this.indices.length = 0;
    this.textureIds.length = 0;
    for (let i3 = 0; i3 < this.drawCalls.length; i3++) {
      this.drawCalls[i3].texArray.clear();
      DRAW_CALL_POOL.push(this.drawCalls[i3]);
    }
    this.drawCalls.length = 0;
    for (let i3 = 0; i3 < this.batches.length; i3++) {
      const batchPart = this.batches[i3];
      batchPart.reset();
      BATCH_POOL.push(batchPart);
    }
    this.batches.length = 0;
  }
  clear() {
    if (this.graphicsData.length > 0) {
      this.invalidate();
      this.clearDirty++;
      this.graphicsData.length = 0;
    }
    return this;
  }
  drawShape(shape, fillStyle = null, lineStyle = null, matrix = null) {
    const data = new GraphicsData(shape, fillStyle, lineStyle, matrix);
    this.graphicsData.push(data);
    this.dirty++;
    return this;
  }
  drawHole(shape, matrix = null) {
    if (!this.graphicsData.length) {
      return null;
    }
    const data = new GraphicsData(shape, null, null, matrix);
    const lastShape = this.graphicsData[this.graphicsData.length - 1];
    data.lineStyle = lastShape.lineStyle;
    lastShape.holes.push(data);
    this.dirty++;
    return this;
  }
  destroy() {
    super.destroy();
    for (let i3 = 0; i3 < this.graphicsData.length; ++i3) {
      this.graphicsData[i3].destroy();
    }
    this.points.length = 0;
    this.points = null;
    this.colors.length = 0;
    this.colors = null;
    this.uvs.length = 0;
    this.uvs = null;
    this.indices.length = 0;
    this.indices = null;
    this.indexBuffer.destroy();
    this.indexBuffer = null;
    this.graphicsData.length = 0;
    this.graphicsData = null;
    this.drawCalls.length = 0;
    this.drawCalls = null;
    this.batches.length = 0;
    this.batches = null;
    this._bounds = null;
  }
  containsPoint(point) {
    const graphicsData = this.graphicsData;
    for (let i3 = 0; i3 < graphicsData.length; ++i3) {
      const data = graphicsData[i3];
      if (!data.fillStyle.visible) {
        continue;
      }
      if (data.shape) {
        if (data.matrix) {
          data.matrix.applyInverse(point, tmpPoint);
        } else {
          tmpPoint.copyFrom(point);
        }
        if (data.shape.contains(tmpPoint.x, tmpPoint.y)) {
          let hitHole = false;
          if (data.holes) {
            for (let i22 = 0; i22 < data.holes.length; i22++) {
              const hole = data.holes[i22];
              if (hole.shape.contains(tmpPoint.x, tmpPoint.y)) {
                hitHole = true;
                break;
              }
            }
          }
          if (!hitHole) {
            return true;
          }
        }
      }
    }
    return false;
  }
  updateBatches() {
    if (!this.graphicsData.length) {
      this.batchable = true;
      return;
    }
    if (!this.validateBatching()) {
      return;
    }
    this.cacheDirty = this.dirty;
    const uvs = this.uvs;
    const graphicsData = this.graphicsData;
    let batchPart = null;
    let currentStyle = null;
    if (this.batches.length > 0) {
      batchPart = this.batches[this.batches.length - 1];
      currentStyle = batchPart.style;
    }
    for (let i3 = this.shapeIndex; i3 < graphicsData.length; i3++) {
      this.shapeIndex++;
      const data = graphicsData[i3];
      const fillStyle = data.fillStyle;
      const lineStyle = data.lineStyle;
      const command = FILL_COMMANDS[data.type];
      command.build(data);
      if (data.matrix) {
        this.transformPoints(data.points, data.matrix);
      }
      if (fillStyle.visible || lineStyle.visible) {
        this.processHoles(data.holes);
      }
      for (let j3 = 0; j3 < 2; j3++) {
        const style = j3 === 0 ? fillStyle : lineStyle;
        if (!style.visible)
          continue;
        const nextTexture = style.texture.baseTexture;
        const index2 = this.indices.length;
        const attribIndex = this.points.length / 2;
        nextTexture.wrapMode = WRAP_MODES.REPEAT;
        if (j3 === 0) {
          this.processFill(data);
        } else {
          this.processLine(data);
        }
        const size = this.points.length / 2 - attribIndex;
        if (size === 0)
          continue;
        if (batchPart && !this._compareStyles(currentStyle, style)) {
          batchPart.end(index2, attribIndex);
          batchPart = null;
        }
        if (!batchPart) {
          batchPart = BATCH_POOL.pop() || new BatchPart();
          batchPart.begin(style, index2, attribIndex);
          this.batches.push(batchPart);
          currentStyle = style;
        }
        this.addUvs(this.points, uvs, style.texture, attribIndex, size, style.matrix);
      }
    }
    const index = this.indices.length;
    const attrib = this.points.length / 2;
    if (batchPart) {
      batchPart.end(index, attrib);
    }
    if (this.batches.length === 0) {
      this.batchable = true;
      return;
    }
    const need32 = attrib > 65535;
    if (this.indicesUint16 && this.indices.length === this.indicesUint16.length && need32 === this.indicesUint16.BYTES_PER_ELEMENT > 2) {
      this.indicesUint16.set(this.indices);
    } else {
      this.indicesUint16 = need32 ? new Uint32Array(this.indices) : new Uint16Array(this.indices);
    }
    this.batchable = this.isBatchable();
    if (this.batchable) {
      this.packBatches();
    } else {
      this.buildDrawCalls();
    }
  }
  _compareStyles(styleA, styleB) {
    if (!styleA || !styleB) {
      return false;
    }
    if (styleA.texture.baseTexture !== styleB.texture.baseTexture) {
      return false;
    }
    if (styleA.color + styleA.alpha !== styleB.color + styleB.alpha) {
      return false;
    }
    if (!!styleA.native !== !!styleB.native) {
      return false;
    }
    return true;
  }
  validateBatching() {
    if (this.dirty === this.cacheDirty || !this.graphicsData.length) {
      return false;
    }
    for (let i3 = 0, l3 = this.graphicsData.length; i3 < l3; i3++) {
      const data = this.graphicsData[i3];
      const fill = data.fillStyle;
      const line = data.lineStyle;
      if (fill && !fill.texture.baseTexture.valid)
        return false;
      if (line && !line.texture.baseTexture.valid)
        return false;
    }
    return true;
  }
  packBatches() {
    this.batchDirty++;
    this.uvsFloat32 = new Float32Array(this.uvs);
    const batches = this.batches;
    for (let i3 = 0, l3 = batches.length; i3 < l3; i3++) {
      const batch = batches[i3];
      for (let j3 = 0; j3 < batch.size; j3++) {
        const index = batch.start + j3;
        this.indicesUint16[index] = this.indicesUint16[index] - batch.attribStart;
      }
    }
  }
  isBatchable() {
    if (this.points.length > 65535 * 2) {
      return false;
    }
    const batches = this.batches;
    for (let i3 = 0; i3 < batches.length; i3++) {
      if (batches[i3].style.native) {
        return false;
      }
    }
    return this.points.length < _GraphicsGeometry.BATCHABLE_SIZE * 2;
  }
  buildDrawCalls() {
    let TICK = ++BaseTexture._globalBatch;
    for (let i3 = 0; i3 < this.drawCalls.length; i3++) {
      this.drawCalls[i3].texArray.clear();
      DRAW_CALL_POOL.push(this.drawCalls[i3]);
    }
    this.drawCalls.length = 0;
    const colors = this.colors;
    const textureIds = this.textureIds;
    let currentGroup = DRAW_CALL_POOL.pop();
    if (!currentGroup) {
      currentGroup = new BatchDrawCall();
      currentGroup.texArray = new BatchTextureArray();
    }
    currentGroup.texArray.count = 0;
    currentGroup.start = 0;
    currentGroup.size = 0;
    currentGroup.type = DRAW_MODES.TRIANGLES;
    let textureCount = 0;
    let currentTexture = null;
    let textureId = 0;
    let native = false;
    let drawMode = DRAW_MODES.TRIANGLES;
    let index = 0;
    this.drawCalls.push(currentGroup);
    for (let i3 = 0; i3 < this.batches.length; i3++) {
      const data = this.batches[i3];
      const maxTextures = 8;
      const style = data.style;
      const nextTexture = style.texture.baseTexture;
      if (native !== !!style.native) {
        native = !!style.native;
        drawMode = native ? DRAW_MODES.LINES : DRAW_MODES.TRIANGLES;
        currentTexture = null;
        textureCount = maxTextures;
        TICK++;
      }
      if (currentTexture !== nextTexture) {
        currentTexture = nextTexture;
        if (nextTexture._batchEnabled !== TICK) {
          if (textureCount === maxTextures) {
            TICK++;
            textureCount = 0;
            if (currentGroup.size > 0) {
              currentGroup = DRAW_CALL_POOL.pop();
              if (!currentGroup) {
                currentGroup = new BatchDrawCall();
                currentGroup.texArray = new BatchTextureArray();
              }
              this.drawCalls.push(currentGroup);
            }
            currentGroup.start = index;
            currentGroup.size = 0;
            currentGroup.texArray.count = 0;
            currentGroup.type = drawMode;
          }
          nextTexture.touched = 1;
          nextTexture._batchEnabled = TICK;
          nextTexture._batchLocation = textureCount;
          nextTexture.wrapMode = WRAP_MODES.REPEAT;
          currentGroup.texArray.elements[currentGroup.texArray.count++] = nextTexture;
          textureCount++;
        }
      }
      currentGroup.size += data.size;
      index += data.size;
      textureId = nextTexture._batchLocation;
      this.addColors(colors, style.color, style.alpha, data.attribSize, data.attribStart);
      this.addTextureIds(textureIds, textureId, data.attribSize, data.attribStart);
    }
    BaseTexture._globalBatch = TICK;
    this.packAttributes();
  }
  packAttributes() {
    const verts = this.points;
    const uvs = this.uvs;
    const colors = this.colors;
    const textureIds = this.textureIds;
    const glPoints = new ArrayBuffer(verts.length * 3 * 4);
    const f32 = new Float32Array(glPoints);
    const u32 = new Uint32Array(glPoints);
    let p3 = 0;
    for (let i3 = 0; i3 < verts.length / 2; i3++) {
      f32[p3++] = verts[i3 * 2];
      f32[p3++] = verts[i3 * 2 + 1];
      f32[p3++] = uvs[i3 * 2];
      f32[p3++] = uvs[i3 * 2 + 1];
      u32[p3++] = colors[i3];
      f32[p3++] = textureIds[i3];
    }
    this._buffer.update(glPoints);
    this._indexBuffer.update(this.indicesUint16);
  }
  processFill(data) {
    if (data.holes.length) {
      buildPoly.triangulate(data, this);
    } else {
      const command = FILL_COMMANDS[data.type];
      command.triangulate(data, this);
    }
  }
  processLine(data) {
    buildLine(data, this);
    for (let i3 = 0; i3 < data.holes.length; i3++) {
      buildLine(data.holes[i3], this);
    }
  }
  processHoles(holes) {
    for (let i3 = 0; i3 < holes.length; i3++) {
      const hole = holes[i3];
      const command = FILL_COMMANDS[hole.type];
      command.build(hole);
      if (hole.matrix) {
        this.transformPoints(hole.points, hole.matrix);
      }
    }
  }
  calculateBounds() {
    const bounds = this._bounds;
    bounds.clear();
    bounds.addVertexData(this.points, 0, this.points.length);
    bounds.pad(this.boundsPadding, this.boundsPadding);
  }
  transformPoints(points, matrix) {
    for (let i3 = 0; i3 < points.length / 2; i3++) {
      const x2 = points[i3 * 2];
      const y2 = points[i3 * 2 + 1];
      points[i3 * 2] = matrix.a * x2 + matrix.c * y2 + matrix.tx;
      points[i3 * 2 + 1] = matrix.b * x2 + matrix.d * y2 + matrix.ty;
    }
  }
  addColors(colors, color, alpha, size, offset = 0) {
    const bgr = Color.shared.setValue(color).toLittleEndianNumber();
    const result = Color.shared.setValue(bgr).toPremultiplied(alpha);
    colors.length = Math.max(colors.length, offset + size);
    for (let i3 = 0; i3 < size; i3++) {
      colors[offset + i3] = result;
    }
  }
  addTextureIds(textureIds, id, size, offset = 0) {
    textureIds.length = Math.max(textureIds.length, offset + size);
    for (let i3 = 0; i3 < size; i3++) {
      textureIds[offset + i3] = id;
    }
  }
  addUvs(verts, uvs, texture, start, size, matrix = null) {
    let index = 0;
    const uvsStart = uvs.length;
    const frame = texture.frame;
    while (index < size) {
      let x2 = verts[(start + index) * 2];
      let y2 = verts[(start + index) * 2 + 1];
      if (matrix) {
        const nx = matrix.a * x2 + matrix.c * y2 + matrix.tx;
        y2 = matrix.b * x2 + matrix.d * y2 + matrix.ty;
        x2 = nx;
      }
      index++;
      uvs.push(x2 / frame.width, y2 / frame.height);
    }
    const baseTexture = texture.baseTexture;
    if (frame.width < baseTexture.width || frame.height < baseTexture.height) {
      this.adjustUvs(uvs, texture, uvsStart, size);
    }
  }
  adjustUvs(uvs, texture, start, size) {
    const baseTexture = texture.baseTexture;
    const eps = 1e-6;
    const finish = start + size * 2;
    const frame = texture.frame;
    const scaleX = frame.width / baseTexture.width;
    const scaleY = frame.height / baseTexture.height;
    let offsetX = frame.x / frame.width;
    let offsetY = frame.y / frame.height;
    let minX = Math.floor(uvs[start] + eps);
    let minY = Math.floor(uvs[start + 1] + eps);
    for (let i3 = start + 2; i3 < finish; i3 += 2) {
      minX = Math.min(minX, Math.floor(uvs[i3] + eps));
      minY = Math.min(minY, Math.floor(uvs[i3 + 1] + eps));
    }
    offsetX -= minX;
    offsetY -= minY;
    for (let i3 = start; i3 < finish; i3 += 2) {
      uvs[i3] = (uvs[i3] + offsetX) * scaleX;
      uvs[i3 + 1] = (uvs[i3 + 1] + offsetY) * scaleY;
    }
  }
};
var GraphicsGeometry = _GraphicsGeometry;
GraphicsGeometry.BATCHABLE_SIZE = 100;

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/styles/FillStyle.mjs
var FillStyle = class {
  constructor() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = Texture.WHITE;
    this.matrix = null;
    this.visible = false;
    this.reset();
  }
  clone() {
    const obj = new FillStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    return obj;
  }
  reset() {
    this.color = 16777215;
    this.alpha = 1;
    this.texture = Texture.WHITE;
    this.matrix = null;
    this.visible = false;
  }
  destroy() {
    this.texture = null;
    this.matrix = null;
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/styles/LineStyle.mjs
var LineStyle = class extends FillStyle {
  constructor() {
    super(...arguments);
    this.width = 0;
    this.alignment = 0.5;
    this.native = false;
    this.cap = LINE_CAP.BUTT;
    this.join = LINE_JOIN.MITER;
    this.miterLimit = 10;
  }
  clone() {
    const obj = new LineStyle();
    obj.color = this.color;
    obj.alpha = this.alpha;
    obj.texture = this.texture;
    obj.matrix = this.matrix;
    obj.visible = this.visible;
    obj.width = this.width;
    obj.alignment = this.alignment;
    obj.native = this.native;
    obj.cap = this.cap;
    obj.join = this.join;
    obj.miterLimit = this.miterLimit;
    return obj;
  }
  reset() {
    super.reset();
    this.color = 0;
    this.alignment = 0.5;
    this.width = 0;
    this.native = false;
  }
};

// ../../node_modules/.pnpm/@pixi+graphics@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/graphics/lib/Graphics.mjs
var DEFAULT_SHADERS = {};
var _Graphics = class extends Container {
  constructor(geometry = null) {
    super();
    this.shader = null;
    this.pluginName = "batch";
    this.currentPath = null;
    this.batches = [];
    this.batchTint = -1;
    this.batchDirty = -1;
    this.vertexData = null;
    this._fillStyle = new FillStyle();
    this._lineStyle = new LineStyle();
    this._matrix = null;
    this._holeMode = false;
    this.state = State.for2d();
    this._geometry = geometry || new GraphicsGeometry();
    this._geometry.refCount++;
    this._transformID = -1;
    this._tintColor = new Color(16777215);
    this.blendMode = BLEND_MODES.NORMAL;
  }
  get geometry() {
    return this._geometry;
  }
  clone() {
    this.finishPoly();
    return new _Graphics(this._geometry);
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    this._tintColor.setValue(value);
  }
  get fill() {
    return this._fillStyle;
  }
  get line() {
    return this._lineStyle;
  }
  lineStyle(options = null, color = 0, alpha, alignment = 0.5, native = false) {
    if (typeof options === "number") {
      options = { width: options, color, alpha, alignment, native };
    }
    return this.lineTextureStyle(options);
  }
  lineTextureStyle(options) {
    const defaultLineStyleOptions = {
      width: 0,
      texture: Texture.WHITE,
      color: options?.texture ? 16777215 : 0,
      matrix: null,
      alignment: 0.5,
      native: false,
      cap: LINE_CAP.BUTT,
      join: LINE_JOIN.MITER,
      miterLimit: 10
    };
    options = Object.assign(defaultLineStyleOptions, options);
    this.normalizeColor(options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.width > 0 && options.alpha > 0;
    if (!visible) {
      this._lineStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._lineStyle, { visible }, options);
    }
    return this;
  }
  startPoly() {
    if (this.currentPath) {
      const points = this.currentPath.points;
      const len = this.currentPath.points.length;
      if (len > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = new Polygon();
        this.currentPath.closeStroke = false;
        this.currentPath.points.push(points[len - 2], points[len - 1]);
      }
    } else {
      this.currentPath = new Polygon();
      this.currentPath.closeStroke = false;
    }
  }
  finishPoly() {
    if (this.currentPath) {
      if (this.currentPath.points.length > 2) {
        this.drawShape(this.currentPath);
        this.currentPath = null;
      } else {
        this.currentPath.points.length = 0;
      }
    }
  }
  moveTo(x2, y2) {
    this.startPoly();
    this.currentPath.points[0] = x2;
    this.currentPath.points[1] = y2;
    return this;
  }
  lineTo(x2, y2) {
    if (!this.currentPath) {
      this.moveTo(0, 0);
    }
    const points = this.currentPath.points;
    const fromX = points[points.length - 2];
    const fromY = points[points.length - 1];
    if (fromX !== x2 || fromY !== y2) {
      points.push(x2, y2);
    }
    return this;
  }
  _initCurve(x2 = 0, y2 = 0) {
    if (this.currentPath) {
      if (this.currentPath.points.length === 0) {
        this.currentPath.points = [x2, y2];
      }
    } else {
      this.moveTo(x2, y2);
    }
  }
  quadraticCurveTo(cpX, cpY, toX, toY) {
    this._initCurve();
    const points = this.currentPath.points;
    if (points.length === 0) {
      this.moveTo(0, 0);
    }
    QuadraticUtils.curveTo(cpX, cpY, toX, toY, points);
    return this;
  }
  bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {
    this._initCurve();
    BezierUtils.curveTo(cpX, cpY, cpX2, cpY2, toX, toY, this.currentPath.points);
    return this;
  }
  arcTo(x1, y1, x2, y2, radius) {
    this._initCurve(x1, y1);
    const points = this.currentPath.points;
    const result = ArcUtils.curveTo(x1, y1, x2, y2, radius, points);
    if (result) {
      const { cx, cy, radius: radius2, startAngle, endAngle, anticlockwise } = result;
      this.arc(cx, cy, radius2, startAngle, endAngle, anticlockwise);
    }
    return this;
  }
  arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {
    if (startAngle === endAngle) {
      return this;
    }
    if (!anticlockwise && endAngle <= startAngle) {
      endAngle += PI_2;
    } else if (anticlockwise && startAngle <= endAngle) {
      startAngle += PI_2;
    }
    const sweep2 = endAngle - startAngle;
    if (sweep2 === 0) {
      return this;
    }
    const startX = cx + Math.cos(startAngle) * radius;
    const startY = cy + Math.sin(startAngle) * radius;
    const eps = this._geometry.closePointEps;
    let points = this.currentPath ? this.currentPath.points : null;
    if (points) {
      const xDiff = Math.abs(points[points.length - 2] - startX);
      const yDiff = Math.abs(points[points.length - 1] - startY);
      if (xDiff < eps && yDiff < eps) {
      } else {
        points.push(startX, startY);
      }
    } else {
      this.moveTo(startX, startY);
      points = this.currentPath.points;
    }
    ArcUtils.arc(startX, startY, cx, cy, radius, startAngle, endAngle, anticlockwise, points);
    return this;
  }
  beginFill(color = 0, alpha) {
    return this.beginTextureFill({ texture: Texture.WHITE, color, alpha });
  }
  normalizeColor(options) {
    const temp = Color.shared.setValue(options.color ?? 0);
    options.color = temp.toNumber();
    options.alpha ?? (options.alpha = temp.alpha);
  }
  beginTextureFill(options) {
    const defaultOptions = {
      texture: Texture.WHITE,
      color: 16777215,
      matrix: null
    };
    options = Object.assign(defaultOptions, options);
    this.normalizeColor(options);
    if (this.currentPath) {
      this.startPoly();
    }
    const visible = options.alpha > 0;
    if (!visible) {
      this._fillStyle.reset();
    } else {
      if (options.matrix) {
        options.matrix = options.matrix.clone();
        options.matrix.invert();
      }
      Object.assign(this._fillStyle, { visible }, options);
    }
    return this;
  }
  endFill() {
    this.finishPoly();
    this._fillStyle.reset();
    return this;
  }
  drawRect(x2, y2, width, height) {
    return this.drawShape(new Rectangle(x2, y2, width, height));
  }
  drawRoundedRect(x2, y2, width, height, radius) {
    return this.drawShape(new RoundedRectangle(x2, y2, width, height, radius));
  }
  drawCircle(x2, y2, radius) {
    return this.drawShape(new Circle(x2, y2, radius));
  }
  drawEllipse(x2, y2, width, height) {
    return this.drawShape(new Ellipse(x2, y2, width, height));
  }
  drawPolygon(...path2) {
    let points;
    let closeStroke = true;
    const poly = path2[0];
    if (poly.points) {
      closeStroke = poly.closeStroke;
      points = poly.points;
    } else if (Array.isArray(path2[0])) {
      points = path2[0];
    } else {
      points = path2;
    }
    const shape = new Polygon(points);
    shape.closeStroke = closeStroke;
    this.drawShape(shape);
    return this;
  }
  drawShape(shape) {
    if (!this._holeMode) {
      this._geometry.drawShape(shape, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix);
    } else {
      this._geometry.drawHole(shape, this._matrix);
    }
    return this;
  }
  clear() {
    this._geometry.clear();
    this._lineStyle.reset();
    this._fillStyle.reset();
    this._boundsID++;
    this._matrix = null;
    this._holeMode = false;
    this.currentPath = null;
    return this;
  }
  isFastRect() {
    const data = this._geometry.graphicsData;
    return data.length === 1 && data[0].shape.type === SHAPES.RECT && !data[0].matrix && !data[0].holes.length && !(data[0].lineStyle.visible && data[0].lineStyle.width);
  }
  _render(renderer) {
    this.finishPoly();
    const geometry = this._geometry;
    geometry.updateBatches();
    if (geometry.batchable) {
      if (this.batchDirty !== geometry.batchDirty) {
        this._populateBatches();
      }
      this._renderBatched(renderer);
    } else {
      renderer.batch.flush();
      this._renderDirect(renderer);
    }
  }
  _populateBatches() {
    const geometry = this._geometry;
    const blendMode = this.blendMode;
    const len = geometry.batches.length;
    this.batchTint = -1;
    this._transformID = -1;
    this.batchDirty = geometry.batchDirty;
    this.batches.length = len;
    this.vertexData = new Float32Array(geometry.points);
    for (let i3 = 0; i3 < len; i3++) {
      const gI = geometry.batches[i3];
      const color = gI.style.color;
      const vertexData = new Float32Array(this.vertexData.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const uvs = new Float32Array(geometry.uvsFloat32.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);
      const indices2 = new Uint16Array(geometry.indicesUint16.buffer, gI.start * 2, gI.size);
      const batch = {
        vertexData,
        blendMode,
        indices: indices2,
        uvs,
        _batchRGB: Color.shared.setValue(color).toRgbArray(),
        _tintRGB: color,
        _texture: gI.style.texture,
        alpha: gI.style.alpha,
        worldAlpha: 1
      };
      this.batches[i3] = batch;
    }
  }
  _renderBatched(renderer) {
    if (!this.batches.length) {
      return;
    }
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    this.calculateVertices();
    this.calculateTints();
    for (let i3 = 0, l3 = this.batches.length; i3 < l3; i3++) {
      const batch = this.batches[i3];
      batch.worldAlpha = this.worldAlpha * batch.alpha;
      renderer.plugins[this.pluginName].render(batch);
    }
  }
  _renderDirect(renderer) {
    const shader = this._resolveDirectShader(renderer);
    const geometry = this._geometry;
    const worldAlpha = this.worldAlpha;
    const uniforms = shader.uniforms;
    const drawCalls = geometry.drawCalls;
    uniforms.translationMatrix = this.transform.worldTransform;
    Color.shared.setValue(this._tintColor).premultiply(worldAlpha).toArray(uniforms.tint);
    renderer.shader.bind(shader);
    renderer.geometry.bind(geometry, shader);
    renderer.state.set(this.state);
    for (let i3 = 0, l3 = drawCalls.length; i3 < l3; i3++) {
      this._renderDrawCallDirect(renderer, geometry.drawCalls[i3]);
    }
  }
  _renderDrawCallDirect(renderer, drawCall) {
    const { texArray, type: type2, size, start } = drawCall;
    const groupTextureCount = texArray.count;
    for (let j3 = 0; j3 < groupTextureCount; j3++) {
      renderer.texture.bind(texArray.elements[j3], j3);
    }
    renderer.geometry.draw(type2, size, start);
  }
  _resolveDirectShader(renderer) {
    let shader = this.shader;
    const pluginName = this.pluginName;
    if (!shader) {
      if (!DEFAULT_SHADERS[pluginName]) {
        const { maxTextures } = renderer.plugins[pluginName];
        const sampleValues = new Int32Array(maxTextures);
        for (let i3 = 0; i3 < maxTextures; i3++) {
          sampleValues[i3] = i3;
        }
        const uniforms = {
          tint: new Float32Array([1, 1, 1, 1]),
          translationMatrix: new Matrix(),
          default: UniformGroup.from({ uSamplers: sampleValues }, true)
        };
        const program = renderer.plugins[pluginName]._shader.program;
        DEFAULT_SHADERS[pluginName] = new Shader(program, uniforms);
      }
      shader = DEFAULT_SHADERS[pluginName];
    }
    return shader;
  }
  _calculateBounds() {
    this.finishPoly();
    const geometry = this._geometry;
    if (!geometry.graphicsData.length) {
      return;
    }
    const { minX, minY, maxX, maxY } = geometry.bounds;
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, _Graphics._TEMP_POINT);
    return this._geometry.containsPoint(_Graphics._TEMP_POINT);
  }
  calculateTints() {
    if (this.batchTint !== this.tint) {
      this.batchTint = this._tintColor.toNumber();
      for (let i3 = 0; i3 < this.batches.length; i3++) {
        const batch = this.batches[i3];
        batch._tintRGB = Color.shared.setValue(this._tintColor).multiply(batch._batchRGB).toLittleEndianNumber();
      }
    }
  }
  calculateVertices() {
    const wtID = this.transform._worldID;
    if (this._transformID === wtID) {
      return;
    }
    this._transformID = wtID;
    const wt = this.transform.worldTransform;
    const a2 = wt.a;
    const b3 = wt.b;
    const c2 = wt.c;
    const d2 = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const data = this._geometry.points;
    const vertexData = this.vertexData;
    let count = 0;
    for (let i3 = 0; i3 < data.length; i3 += 2) {
      const x2 = data[i3];
      const y2 = data[i3 + 1];
      vertexData[count++] = a2 * x2 + c2 * y2 + tx;
      vertexData[count++] = d2 * y2 + b3 * x2 + ty;
    }
  }
  closePath() {
    const currentPath = this.currentPath;
    if (currentPath) {
      currentPath.closeStroke = true;
      this.finishPoly();
    }
    return this;
  }
  setMatrix(matrix) {
    this._matrix = matrix;
    return this;
  }
  beginHole() {
    this.finishPoly();
    this._holeMode = true;
    return this;
  }
  endHole() {
    this.finishPoly();
    this._holeMode = false;
    return this;
  }
  destroy(options) {
    this._geometry.refCount--;
    if (this._geometry.refCount === 0) {
      this._geometry.dispose();
    }
    this._matrix = null;
    this.currentPath = null;
    this._lineStyle.destroy();
    this._lineStyle = null;
    this._fillStyle.destroy();
    this._fillStyle = null;
    this._geometry = null;
    this.shader = null;
    this.vertexData = null;
    this.batches.length = 0;
    this.batches = null;
    super.destroy(options);
  }
};
var Graphics = _Graphics;
Graphics.curves = curves;
Graphics._TEMP_POINT = new Point();

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs
var MeshBatchUvs = class {
  constructor(uvBuffer, uvMatrix) {
    this.uvBuffer = uvBuffer;
    this.uvMatrix = uvMatrix;
    this.data = null;
    this._bufferUpdateId = -1;
    this._textureUpdateId = -1;
    this._updateID = 0;
  }
  update(forceUpdate) {
    if (!forceUpdate && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID) {
      return;
    }
    this._bufferUpdateId = this.uvBuffer._updateID;
    this._textureUpdateId = this.uvMatrix._updateID;
    const data = this.uvBuffer.data;
    if (!this.data || this.data.length !== data.length) {
      this.data = new Float32Array(data.length);
    }
    this.uvMatrix.multiplyUvs(data, this.data);
    this._updateID++;
  }
};

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/Mesh.mjs
var tempPoint2 = new Point();
var tempPolygon = new Polygon();
var _Mesh = class extends Container {
  constructor(geometry, shader, state, drawMode = DRAW_MODES.TRIANGLES) {
    super();
    this.geometry = geometry;
    this.shader = shader;
    this.state = state || State.for2d();
    this.drawMode = drawMode;
    this.start = 0;
    this.size = 0;
    this.uvs = null;
    this.indices = null;
    this.vertexData = new Float32Array(1);
    this.vertexDirty = -1;
    this._transformID = -1;
    this._roundPixels = settings.ROUND_PIXELS;
    this.batchUvs = null;
  }
  get geometry() {
    return this._geometry;
  }
  set geometry(value) {
    if (this._geometry === value) {
      return;
    }
    if (this._geometry) {
      this._geometry.refCount--;
      if (this._geometry.refCount === 0) {
        this._geometry.dispose();
      }
    }
    this._geometry = value;
    if (this._geometry) {
      this._geometry.refCount++;
    }
    this.vertexDirty = -1;
  }
  get uvBuffer() {
    return this.geometry.buffers[1];
  }
  get verticesBuffer() {
    return this.geometry.buffers[0];
  }
  set material(value) {
    this.shader = value;
  }
  get material() {
    return this.shader;
  }
  set blendMode(value) {
    this.state.blendMode = value;
  }
  get blendMode() {
    return this.state.blendMode;
  }
  set roundPixels(value) {
    if (this._roundPixels !== value) {
      this._transformID = -1;
    }
    this._roundPixels = value;
  }
  get roundPixels() {
    return this._roundPixels;
  }
  get tint() {
    return "tint" in this.shader ? this.shader.tint : null;
  }
  set tint(value) {
    this.shader.tint = value;
  }
  get tintValue() {
    return this.shader.tintValue;
  }
  get texture() {
    return "texture" in this.shader ? this.shader.texture : null;
  }
  set texture(value) {
    this.shader.texture = value;
  }
  _render(renderer) {
    const vertices = this.geometry.buffers[0].data;
    const shader = this.shader;
    if (shader.batchable && this.drawMode === DRAW_MODES.TRIANGLES && vertices.length < _Mesh.BATCHABLE_SIZE * 2) {
      this._renderToBatch(renderer);
    } else {
      this._renderDefault(renderer);
    }
  }
  _renderDefault(renderer) {
    const shader = this.shader;
    shader.alpha = this.worldAlpha;
    if (shader.update) {
      shader.update();
    }
    renderer.batch.flush();
    shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);
    renderer.shader.bind(shader);
    renderer.state.set(this.state);
    renderer.geometry.bind(this.geometry, shader);
    renderer.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);
  }
  _renderToBatch(renderer) {
    const geometry = this.geometry;
    const shader = this.shader;
    if (shader.uvMatrix) {
      shader.uvMatrix.update();
      this.calculateUvs();
    }
    this.calculateVertices();
    this.indices = geometry.indexBuffer.data;
    this._tintRGB = shader._tintRGB;
    this._texture = shader.texture;
    const pluginName = this.material.pluginName;
    renderer.batch.setObjectRenderer(renderer.plugins[pluginName]);
    renderer.plugins[pluginName].render(this);
  }
  calculateVertices() {
    const geometry = this.geometry;
    const verticesBuffer = geometry.buffers[0];
    const vertices = verticesBuffer.data;
    const vertexDirtyId = verticesBuffer._updateID;
    if (vertexDirtyId === this.vertexDirty && this._transformID === this.transform._worldID) {
      return;
    }
    this._transformID = this.transform._worldID;
    if (this.vertexData.length !== vertices.length) {
      this.vertexData = new Float32Array(vertices.length);
    }
    const wt = this.transform.worldTransform;
    const a2 = wt.a;
    const b3 = wt.b;
    const c2 = wt.c;
    const d2 = wt.d;
    const tx = wt.tx;
    const ty = wt.ty;
    const vertexData = this.vertexData;
    for (let i3 = 0; i3 < vertexData.length / 2; i3++) {
      const x2 = vertices[i3 * 2];
      const y2 = vertices[i3 * 2 + 1];
      vertexData[i3 * 2] = a2 * x2 + c2 * y2 + tx;
      vertexData[i3 * 2 + 1] = b3 * x2 + d2 * y2 + ty;
    }
    if (this._roundPixels) {
      const resolution = settings.RESOLUTION;
      for (let i3 = 0; i3 < vertexData.length; ++i3) {
        vertexData[i3] = Math.round(vertexData[i3] * resolution) / resolution;
      }
    }
    this.vertexDirty = vertexDirtyId;
  }
  calculateUvs() {
    const geomUvs = this.geometry.buffers[1];
    const shader = this.shader;
    if (!shader.uvMatrix.isSimple) {
      if (!this.batchUvs) {
        this.batchUvs = new MeshBatchUvs(geomUvs, shader.uvMatrix);
      }
      this.batchUvs.update();
      this.uvs = this.batchUvs.data;
    } else {
      this.uvs = geomUvs.data;
    }
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);
  }
  containsPoint(point) {
    if (!this.getBounds().contains(point.x, point.y)) {
      return false;
    }
    this.worldTransform.applyInverse(point, tempPoint2);
    const vertices = this.geometry.getBuffer("aVertexPosition").data;
    const points = tempPolygon.points;
    const indices2 = this.geometry.getIndex().data;
    const len = indices2.length;
    const step = this.drawMode === 4 ? 3 : 1;
    for (let i3 = 0; i3 + 2 < len; i3 += step) {
      const ind0 = indices2[i3] * 2;
      const ind1 = indices2[i3 + 1] * 2;
      const ind2 = indices2[i3 + 2] * 2;
      points[0] = vertices[ind0];
      points[1] = vertices[ind0 + 1];
      points[2] = vertices[ind1];
      points[3] = vertices[ind1 + 1];
      points[4] = vertices[ind2];
      points[5] = vertices[ind2 + 1];
      if (tempPolygon.contains(tempPoint2.x, tempPoint2.y)) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    if (this._cachedTexture) {
      this._cachedTexture.destroy();
      this._cachedTexture = null;
    }
    this.geometry = null;
    this.shader = null;
    this.state = null;
    this.uvs = null;
    this.indices = null;
    this.vertexData = null;
  }
};
var Mesh = _Mesh;
Mesh.BATCHABLE_SIZE = 100;

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/MeshGeometry.mjs
var MeshGeometry = class extends Geometry {
  constructor(vertices, uvs, index) {
    super();
    const verticesBuffer = new Buffer2(vertices);
    const uvsBuffer = new Buffer2(uvs, true);
    const indexBuffer = new Buffer2(index, true, true);
    this.addAttribute("aVertexPosition", verticesBuffer, 2, false, TYPES.FLOAT).addAttribute("aTextureCoord", uvsBuffer, 2, false, TYPES.FLOAT).addIndex(indexBuffer);
    this._updateId = -1;
  }
  get vertexDirtyId() {
    return this.buffers[0]._updateID;
  }
};

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/shader/mesh.mjs
var fragment7 = "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/shader/mesh2.mjs
var vertex4 = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n";

// ../../node_modules/.pnpm/@pixi+mesh@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4/node_modules/@pixi/mesh/lib/MeshMaterial.mjs
var MeshMaterial = class extends Shader {
  constructor(uSampler, options) {
    const uniforms = {
      uSampler,
      alpha: 1,
      uTextureMatrix: Matrix.IDENTITY,
      uColor: new Float32Array([1, 1, 1, 1])
    };
    options = Object.assign({
      tint: 16777215,
      alpha: 1,
      pluginName: "batch"
    }, options);
    if (options.uniforms) {
      Object.assign(uniforms, options.uniforms);
    }
    super(options.program || Program.from(vertex4, fragment7), uniforms);
    this._colorDirty = false;
    this.uvMatrix = new TextureMatrix(uSampler);
    this.batchable = options.program === void 0;
    this.pluginName = options.pluginName;
    this._tintColor = new Color(options.tint);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
    this._colorDirty = true;
    this.alpha = options.alpha;
  }
  get texture() {
    return this.uniforms.uSampler;
  }
  set texture(value) {
    if (this.uniforms.uSampler !== value) {
      if (!this.uniforms.uSampler.baseTexture.alphaMode !== !value.baseTexture.alphaMode) {
        this._colorDirty = true;
      }
      this.uniforms.uSampler = value;
      this.uvMatrix.texture = value;
    }
  }
  set alpha(value) {
    if (value === this._alpha)
      return;
    this._alpha = value;
    this._colorDirty = true;
  }
  get alpha() {
    return this._alpha;
  }
  set tint(value) {
    if (value === this.tint)
      return;
    this._tintColor.setValue(value);
    this._tintRGB = this._tintColor.toLittleEndianNumber();
    this._colorDirty = true;
  }
  get tint() {
    return this._tintColor.value;
  }
  get tintValue() {
    return this._tintColor.toNumber();
  }
  update() {
    if (this._colorDirty) {
      this._colorDirty = false;
      const baseTexture = this.texture.baseTexture;
      const applyToChannels = baseTexture.alphaMode;
      Color.shared.setValue(this._tintColor).premultiply(this._alpha, applyToChannels).toArray(this.uniforms.uColor);
    }
    if (this.uvMatrix.update()) {
      this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord;
    }
  }
};

// ../../node_modules/.pnpm/@pixi+mesh-extras@7.2.4_@pixi+core@7.2.4_@pixi+mesh@7.2.4/node_modules/@pixi/mesh-extras/lib/geometry/PlaneGeometry.mjs
var PlaneGeometry = class extends MeshGeometry {
  constructor(width = 100, height = 100, segWidth = 10, segHeight = 10) {
    super();
    this.segWidth = segWidth;
    this.segHeight = segHeight;
    this.width = width;
    this.height = height;
    this.build();
  }
  build() {
    const total = this.segWidth * this.segHeight;
    const verts = [];
    const uvs = [];
    const indices2 = [];
    const segmentsX = this.segWidth - 1;
    const segmentsY = this.segHeight - 1;
    const sizeX = this.width / segmentsX;
    const sizeY = this.height / segmentsY;
    for (let i3 = 0; i3 < total; i3++) {
      const x2 = i3 % this.segWidth;
      const y2 = i3 / this.segWidth | 0;
      verts.push(x2 * sizeX, y2 * sizeY);
      uvs.push(x2 / segmentsX, y2 / segmentsY);
    }
    const totalSub = segmentsX * segmentsY;
    for (let i3 = 0; i3 < totalSub; i3++) {
      const xpos = i3 % segmentsX;
      const ypos = i3 / segmentsX | 0;
      const value = ypos * this.segWidth + xpos;
      const value2 = ypos * this.segWidth + xpos + 1;
      const value3 = (ypos + 1) * this.segWidth + xpos;
      const value4 = (ypos + 1) * this.segWidth + xpos + 1;
      indices2.push(value, value2, value3, value2, value4, value3);
    }
    this.buffers[0].data = new Float32Array(verts);
    this.buffers[1].data = new Float32Array(uvs);
    this.indexBuffer.data = new Uint16Array(indices2);
    this.buffers[0].update();
    this.buffers[1].update();
    this.indexBuffer.update();
  }
};

// ../../node_modules/.pnpm/@pixi+mesh-extras@7.2.4_@pixi+core@7.2.4_@pixi+mesh@7.2.4/node_modules/@pixi/mesh-extras/lib/SimplePlane.mjs
var SimplePlane = class extends Mesh {
  constructor(texture, verticesX, verticesY) {
    const planeGeometry = new PlaneGeometry(texture.width, texture.height, verticesX, verticesY);
    const meshMaterial = new MeshMaterial(Texture.WHITE);
    super(planeGeometry, meshMaterial);
    this.texture = texture;
    this.autoResize = true;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    const geometry = this.geometry;
    const { width, height } = this.shader.texture;
    if (this.autoResize && (geometry.width !== width || geometry.height !== height)) {
      geometry.width = this.shader.texture.width;
      geometry.height = this.shader.texture.height;
      geometry.build();
    }
  }
  set texture(value) {
    if (this.shader.texture === value) {
      return;
    }
    this.shader.texture = value;
    this._textureID = -1;
    if (value.baseTexture.valid) {
      this.textureUpdated();
    } else {
      value.once("update", this.textureUpdated, this);
    }
  }
  get texture() {
    return this.shader.texture;
  }
  _render(renderer) {
    if (this._textureID !== this.shader.texture._updateID) {
      this.textureUpdated();
    }
    super._render(renderer);
  }
  destroy(options) {
    this.shader.texture.off("update", this.textureUpdated, this);
    super.destroy(options);
  }
};

// ../../node_modules/.pnpm/@pixi+mesh-extras@7.2.4_@pixi+core@7.2.4_@pixi+mesh@7.2.4/node_modules/@pixi/mesh-extras/lib/NineSlicePlane.mjs
var DEFAULT_BORDER_SIZE = 10;
var NineSlicePlane = class extends SimplePlane {
  constructor(texture, leftWidth, topHeight, rightWidth, bottomHeight) {
    super(Texture.WHITE, 4, 4);
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    this._width = this._origWidth;
    this._height = this._origHeight;
    this._leftWidth = leftWidth ?? texture.defaultBorders?.left ?? DEFAULT_BORDER_SIZE;
    this._rightWidth = rightWidth ?? texture.defaultBorders?.right ?? DEFAULT_BORDER_SIZE;
    this._topHeight = topHeight ?? texture.defaultBorders?.top ?? DEFAULT_BORDER_SIZE;
    this._bottomHeight = bottomHeight ?? texture.defaultBorders?.bottom ?? DEFAULT_BORDER_SIZE;
    this.texture = texture;
  }
  textureUpdated() {
    this._textureID = this.shader.texture._updateID;
    this._refresh();
  }
  get vertices() {
    return this.geometry.getBuffer("aVertexPosition").data;
  }
  set vertices(value) {
    this.geometry.getBuffer("aVertexPosition").data = value;
  }
  updateHorizontalVertices() {
    const vertices = this.vertices;
    const scale3 = this._getMinScale();
    vertices[9] = vertices[11] = vertices[13] = vertices[15] = this._topHeight * scale3;
    vertices[17] = vertices[19] = vertices[21] = vertices[23] = this._height - this._bottomHeight * scale3;
    vertices[25] = vertices[27] = vertices[29] = vertices[31] = this._height;
  }
  updateVerticalVertices() {
    const vertices = this.vertices;
    const scale3 = this._getMinScale();
    vertices[2] = vertices[10] = vertices[18] = vertices[26] = this._leftWidth * scale3;
    vertices[4] = vertices[12] = vertices[20] = vertices[28] = this._width - this._rightWidth * scale3;
    vertices[6] = vertices[14] = vertices[22] = vertices[30] = this._width;
  }
  _getMinScale() {
    const w3 = this._leftWidth + this._rightWidth;
    const scaleW = this._width > w3 ? 1 : this._width / w3;
    const h2 = this._topHeight + this._bottomHeight;
    const scaleH = this._height > h2 ? 1 : this._height / h2;
    const scale3 = Math.min(scaleW, scaleH);
    return scale3;
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
    this._refresh();
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
    this._refresh();
  }
  get leftWidth() {
    return this._leftWidth;
  }
  set leftWidth(value) {
    this._leftWidth = value;
    this._refresh();
  }
  get rightWidth() {
    return this._rightWidth;
  }
  set rightWidth(value) {
    this._rightWidth = value;
    this._refresh();
  }
  get topHeight() {
    return this._topHeight;
  }
  set topHeight(value) {
    this._topHeight = value;
    this._refresh();
  }
  get bottomHeight() {
    return this._bottomHeight;
  }
  set bottomHeight(value) {
    this._bottomHeight = value;
    this._refresh();
  }
  _refresh() {
    const texture = this.texture;
    const uvs = this.geometry.buffers[1].data;
    this._origWidth = texture.orig.width;
    this._origHeight = texture.orig.height;
    const _uvw = 1 / this._origWidth;
    const _uvh = 1 / this._origHeight;
    uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;
    uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;
    uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;
    uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;
    uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;
    uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - _uvw * this._rightWidth;
    uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;
    uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - _uvh * this._bottomHeight;
    this.updateHorizontalVertices();
    this.updateVerticalVertices();
    this.geometry.buffers[0].update();
    this.geometry.buffers[1].update();
  }
};

// ../../node_modules/.pnpm/@pixi+particle-container@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs
var ParticleBuffer = class {
  constructor(properties, dynamicPropertyFlags, size) {
    this.geometry = new Geometry();
    this.indexBuffer = null;
    this.size = size;
    this.dynamicProperties = [];
    this.staticProperties = [];
    for (let i3 = 0; i3 < properties.length; ++i3) {
      let property = properties[i3];
      property = {
        attributeName: property.attributeName,
        size: property.size,
        uploadFunction: property.uploadFunction,
        type: property.type || TYPES.FLOAT,
        offset: property.offset
      };
      if (dynamicPropertyFlags[i3]) {
        this.dynamicProperties.push(property);
      } else {
        this.staticProperties.push(property);
      }
    }
    this.staticStride = 0;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.dynamicStride = 0;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this._updateID = 0;
    this.initBuffers();
  }
  initBuffers() {
    const geometry = this.geometry;
    let dynamicOffset = 0;
    this.indexBuffer = new Buffer2(lib_exports.createIndicesForQuads(this.size), true, true);
    geometry.addIndex(this.indexBuffer);
    this.dynamicStride = 0;
    for (let i3 = 0; i3 < this.dynamicProperties.length; ++i3) {
      const property = this.dynamicProperties[i3];
      property.offset = dynamicOffset;
      dynamicOffset += property.size;
      this.dynamicStride += property.size;
    }
    const dynBuffer = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
    this.dynamicData = new Float32Array(dynBuffer);
    this.dynamicDataUint32 = new Uint32Array(dynBuffer);
    this.dynamicBuffer = new Buffer2(this.dynamicData, false, false);
    let staticOffset = 0;
    this.staticStride = 0;
    for (let i3 = 0; i3 < this.staticProperties.length; ++i3) {
      const property = this.staticProperties[i3];
      property.offset = staticOffset;
      staticOffset += property.size;
      this.staticStride += property.size;
    }
    const statBuffer = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
    this.staticData = new Float32Array(statBuffer);
    this.staticDataUint32 = new Uint32Array(statBuffer);
    this.staticBuffer = new Buffer2(this.staticData, true, false);
    for (let i3 = 0; i3 < this.dynamicProperties.length; ++i3) {
      const property = this.dynamicProperties[i3];
      geometry.addAttribute(property.attributeName, this.dynamicBuffer, 0, property.type === TYPES.UNSIGNED_BYTE, property.type, this.dynamicStride * 4, property.offset * 4);
    }
    for (let i3 = 0; i3 < this.staticProperties.length; ++i3) {
      const property = this.staticProperties[i3];
      geometry.addAttribute(property.attributeName, this.staticBuffer, 0, property.type === TYPES.UNSIGNED_BYTE, property.type, this.staticStride * 4, property.offset * 4);
    }
  }
  uploadDynamic(children, startIndex, amount) {
    for (let i3 = 0; i3 < this.dynamicProperties.length; i3++) {
      const property = this.dynamicProperties[i3];
      property.uploadFunction(children, startIndex, amount, property.type === TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);
    }
    this.dynamicBuffer._updateID++;
  }
  uploadStatic(children, startIndex, amount) {
    for (let i3 = 0; i3 < this.staticProperties.length; i3++) {
      const property = this.staticProperties[i3];
      property.uploadFunction(children, startIndex, amount, property.type === TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);
    }
    this.staticBuffer._updateID++;
  }
  destroy() {
    this.indexBuffer = null;
    this.dynamicProperties = null;
    this.dynamicBuffer = null;
    this.dynamicData = null;
    this.dynamicDataUint32 = null;
    this.staticProperties = null;
    this.staticBuffer = null;
    this.staticData = null;
    this.staticDataUint32 = null;
    this.geometry.destroy();
  }
};

// ../../node_modules/.pnpm/@pixi+particle-container@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/particle-container/lib/particles.mjs
var fragment8 = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}";

// ../../node_modules/.pnpm/@pixi+particle-container@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/particle-container/lib/particles2.mjs
var vertex5 = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+particle-container@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs
var ParticleRenderer = class extends ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    this.shader = null;
    this.properties = null;
    this.tempMatrix = new Matrix();
    this.properties = [
      {
        attributeName: "aVertexPosition",
        size: 2,
        uploadFunction: this.uploadVertices,
        offset: 0
      },
      {
        attributeName: "aPositionCoord",
        size: 2,
        uploadFunction: this.uploadPosition,
        offset: 0
      },
      {
        attributeName: "aRotation",
        size: 1,
        uploadFunction: this.uploadRotation,
        offset: 0
      },
      {
        attributeName: "aTextureCoord",
        size: 2,
        uploadFunction: this.uploadUvs,
        offset: 0
      },
      {
        attributeName: "aColor",
        size: 1,
        type: TYPES.UNSIGNED_BYTE,
        uploadFunction: this.uploadTint,
        offset: 0
      }
    ];
    this.shader = Shader.from(vertex5, fragment8, {});
    this.state = State.for2d();
  }
  render(container) {
    const children = container.children;
    const maxSize = container._maxSize;
    const batchSize = container._batchSize;
    const renderer = this.renderer;
    let totalChildren = children.length;
    if (totalChildren === 0) {
      return;
    } else if (totalChildren > maxSize && !container.autoResize) {
      totalChildren = maxSize;
    }
    let buffers = container._buffers;
    if (!buffers) {
      buffers = container._buffers = this.generateBuffers(container);
    }
    const baseTexture = children[0]._texture.baseTexture;
    const premultiplied = baseTexture.alphaMode > 0;
    this.state.blendMode = lib_exports.correctBlendMode(container.blendMode, premultiplied);
    renderer.state.set(this.state);
    const gl = renderer.gl;
    const m2 = container.worldTransform.copyTo(this.tempMatrix);
    m2.prepend(renderer.globalUniforms.uniforms.projectionMatrix);
    this.shader.uniforms.translationMatrix = m2.toArray(true);
    this.shader.uniforms.uColor = Color.shared.setValue(container.tintRgb).premultiply(container.worldAlpha, premultiplied).toArray(this.shader.uniforms.uColor);
    this.shader.uniforms.uSampler = baseTexture;
    this.renderer.shader.bind(this.shader);
    let updateStatic = false;
    for (let i3 = 0, j3 = 0; i3 < totalChildren; i3 += batchSize, j3 += 1) {
      let amount = totalChildren - i3;
      if (amount > batchSize) {
        amount = batchSize;
      }
      if (j3 >= buffers.length) {
        buffers.push(this._generateOneMoreBuffer(container));
      }
      const buffer2 = buffers[j3];
      buffer2.uploadDynamic(children, i3, amount);
      const bid = container._bufferUpdateIDs[j3] || 0;
      updateStatic = updateStatic || buffer2._updateID < bid;
      if (updateStatic) {
        buffer2._updateID = container._updateID;
        buffer2.uploadStatic(children, i3, amount);
      }
      renderer.geometry.bind(buffer2.geometry);
      gl.drawElements(gl.TRIANGLES, amount * 6, gl.UNSIGNED_SHORT, 0);
    }
  }
  generateBuffers(container) {
    const buffers = [];
    const size = container._maxSize;
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    for (let i3 = 0; i3 < size; i3 += batchSize) {
      buffers.push(new ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize));
    }
    return buffers;
  }
  _generateOneMoreBuffer(container) {
    const batchSize = container._batchSize;
    const dynamicPropertyFlags = container._properties;
    return new ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize);
  }
  uploadVertices(children, startIndex, amount, array, stride, offset) {
    let w0 = 0;
    let w1 = 0;
    let h0 = 0;
    let h1 = 0;
    for (let i3 = 0; i3 < amount; ++i3) {
      const sprite = children[startIndex + i3];
      const texture = sprite._texture;
      const sx = sprite.scale.x;
      const sy = sprite.scale.y;
      const trim = texture.trim;
      const orig = texture.orig;
      if (trim) {
        w1 = trim.x - sprite.anchor.x * orig.width;
        w0 = w1 + trim.width;
        h1 = trim.y - sprite.anchor.y * orig.height;
        h0 = h1 + trim.height;
      } else {
        w0 = orig.width * (1 - sprite.anchor.x);
        w1 = orig.width * -sprite.anchor.x;
        h0 = orig.height * (1 - sprite.anchor.y);
        h1 = orig.height * -sprite.anchor.y;
      }
      array[offset] = w1 * sx;
      array[offset + 1] = h1 * sy;
      array[offset + stride] = w0 * sx;
      array[offset + stride + 1] = h1 * sy;
      array[offset + stride * 2] = w0 * sx;
      array[offset + stride * 2 + 1] = h0 * sy;
      array[offset + stride * 3] = w1 * sx;
      array[offset + stride * 3 + 1] = h0 * sy;
      offset += stride * 4;
    }
  }
  uploadPosition(children, startIndex, amount, array, stride, offset) {
    for (let i3 = 0; i3 < amount; i3++) {
      const spritePosition = children[startIndex + i3].position;
      array[offset] = spritePosition.x;
      array[offset + 1] = spritePosition.y;
      array[offset + stride] = spritePosition.x;
      array[offset + stride + 1] = spritePosition.y;
      array[offset + stride * 2] = spritePosition.x;
      array[offset + stride * 2 + 1] = spritePosition.y;
      array[offset + stride * 3] = spritePosition.x;
      array[offset + stride * 3 + 1] = spritePosition.y;
      offset += stride * 4;
    }
  }
  uploadRotation(children, startIndex, amount, array, stride, offset) {
    for (let i3 = 0; i3 < amount; i3++) {
      const spriteRotation = children[startIndex + i3].rotation;
      array[offset] = spriteRotation;
      array[offset + stride] = spriteRotation;
      array[offset + stride * 2] = spriteRotation;
      array[offset + stride * 3] = spriteRotation;
      offset += stride * 4;
    }
  }
  uploadUvs(children, startIndex, amount, array, stride, offset) {
    for (let i3 = 0; i3 < amount; ++i3) {
      const textureUvs = children[startIndex + i3]._texture._uvs;
      if (textureUvs) {
        array[offset] = textureUvs.x0;
        array[offset + 1] = textureUvs.y0;
        array[offset + stride] = textureUvs.x1;
        array[offset + stride + 1] = textureUvs.y1;
        array[offset + stride * 2] = textureUvs.x2;
        array[offset + stride * 2 + 1] = textureUvs.y2;
        array[offset + stride * 3] = textureUvs.x3;
        array[offset + stride * 3 + 1] = textureUvs.y3;
        offset += stride * 4;
      } else {
        array[offset] = 0;
        array[offset + 1] = 0;
        array[offset + stride] = 0;
        array[offset + stride + 1] = 0;
        array[offset + stride * 2] = 0;
        array[offset + stride * 2 + 1] = 0;
        array[offset + stride * 3] = 0;
        array[offset + stride * 3 + 1] = 0;
        offset += stride * 4;
      }
    }
  }
  uploadTint(children, startIndex, amount, array, stride, offset) {
    for (let i3 = 0; i3 < amount; ++i3) {
      const sprite = children[startIndex + i3];
      const result = Color.shared.setValue(sprite._tintRGB).toPremultiplied(sprite.alpha, sprite.texture.baseTexture.alphaMode > 0);
      array[offset] = result;
      array[offset + stride] = result;
      array[offset + stride * 2] = result;
      array[offset + stride * 3] = result;
      offset += stride * 4;
    }
  }
  destroy() {
    super.destroy();
    if (this.shader) {
      this.shader.destroy();
      this.shader = null;
    }
    this.tempMatrix = null;
  }
};
ParticleRenderer.extension = {
  name: "particle",
  type: ExtensionType.RendererPlugin
};
extensions.add(ParticleRenderer);

// ../../node_modules/.pnpm/@pixi+text@7.2.4_@pixi+core@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/text/lib/const.mjs
var TEXT_GRADIENT = /* @__PURE__ */ ((TEXT_GRADIENT2) => {
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_VERTICAL"] = 0] = "LINEAR_VERTICAL";
  TEXT_GRADIENT2[TEXT_GRADIENT2["LINEAR_HORIZONTAL"] = 1] = "LINEAR_HORIZONTAL";
  return TEXT_GRADIENT2;
})(TEXT_GRADIENT || {});

// ../../node_modules/.pnpm/@pixi+text@7.2.4_@pixi+core@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/text/lib/TextMetrics.mjs
var contextSettings = {
  willReadFrequently: true
};
var _TextMetrics = class {
  static get experimentalLetterSpacingSupported() {
    let result = _TextMetrics._experimentalLetterSpacingSupported;
    if (result !== void 0) {
      const proto = settings.ADAPTER.getCanvasRenderingContext2D().prototype;
      result = _TextMetrics._experimentalLetterSpacingSupported = "letterSpacing" in proto || "textLetterSpacing" in proto;
    }
    return result;
  }
  constructor(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {
    this.text = text;
    this.style = style;
    this.width = width;
    this.height = height;
    this.lines = lines;
    this.lineWidths = lineWidths;
    this.lineHeight = lineHeight;
    this.maxLineWidth = maxLineWidth;
    this.fontProperties = fontProperties;
  }
  static measureText(text, style, wordWrap, canvas = _TextMetrics._canvas) {
    wordWrap = wordWrap === void 0 || wordWrap === null ? style.wordWrap : wordWrap;
    const font = style.toFontString();
    const fontProperties = _TextMetrics.measureFont(font);
    if (fontProperties.fontSize === 0) {
      fontProperties.fontSize = style.fontSize;
      fontProperties.ascent = style.fontSize;
    }
    const context2 = canvas.getContext("2d", contextSettings);
    context2.font = font;
    const outputText = wordWrap ? _TextMetrics.wordWrap(text, style, canvas) : text;
    const lines = outputText.split(/(?:\r\n|\r|\n)/);
    const lineWidths = new Array(lines.length);
    let maxLineWidth = 0;
    for (let i3 = 0; i3 < lines.length; i3++) {
      const lineWidth = _TextMetrics._measureText(lines[i3], style.letterSpacing, context2);
      lineWidths[i3] = lineWidth;
      maxLineWidth = Math.max(maxLineWidth, lineWidth);
    }
    let width = maxLineWidth + style.strokeThickness;
    if (style.dropShadow) {
      width += style.dropShadowDistance;
    }
    const lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;
    let height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness * 2) + (lines.length - 1) * (lineHeight + style.leading);
    if (style.dropShadow) {
      height += style.dropShadowDistance;
    }
    return new _TextMetrics(text, style, width, height, lines, lineWidths, lineHeight + style.leading, maxLineWidth, fontProperties);
  }
  static _measureText(text, letterSpacing, context2) {
    let useExperimentalLetterSpacing = false;
    if (_TextMetrics.experimentalLetterSpacingSupported) {
      if (_TextMetrics.experimentalLetterSpacing) {
        context2.letterSpacing = `${letterSpacing}px`;
        context2.textLetterSpacing = `${letterSpacing}px`;
        useExperimentalLetterSpacing = true;
      } else {
        context2.letterSpacing = "0px";
        context2.textLetterSpacing = "0px";
      }
    }
    let width = context2.measureText(text).width;
    if (width > 0) {
      if (useExperimentalLetterSpacing) {
        width -= letterSpacing;
      } else {
        width += (_TextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;
      }
    }
    return width;
  }
  static wordWrap(text, style, canvas = _TextMetrics._canvas) {
    const context2 = canvas.getContext("2d", contextSettings);
    let width = 0;
    let line = "";
    let lines = "";
    const cache = /* @__PURE__ */ Object.create(null);
    const { letterSpacing, whiteSpace } = style;
    const collapseSpaces = _TextMetrics.collapseSpaces(whiteSpace);
    const collapseNewlines = _TextMetrics.collapseNewlines(whiteSpace);
    let canPrependSpaces = !collapseSpaces;
    const wordWrapWidth = style.wordWrapWidth + letterSpacing;
    const tokens = _TextMetrics.tokenize(text);
    for (let i3 = 0; i3 < tokens.length; i3++) {
      let token = tokens[i3];
      if (_TextMetrics.isNewline(token)) {
        if (!collapseNewlines) {
          lines += _TextMetrics.addLine(line);
          canPrependSpaces = !collapseSpaces;
          line = "";
          width = 0;
          continue;
        }
        token = " ";
      }
      if (collapseSpaces) {
        const currIsBreakingSpace = _TextMetrics.isBreakingSpace(token);
        const lastIsBreakingSpace = _TextMetrics.isBreakingSpace(line[line.length - 1]);
        if (currIsBreakingSpace && lastIsBreakingSpace) {
          continue;
        }
      }
      const tokenWidth = _TextMetrics.getFromCache(token, letterSpacing, cache, context2);
      if (tokenWidth > wordWrapWidth) {
        if (line !== "") {
          lines += _TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (_TextMetrics.canBreakWords(token, style.breakWords)) {
          const characters = _TextMetrics.wordWrapSplit(token);
          for (let j3 = 0; j3 < characters.length; j3++) {
            let char = characters[j3];
            let lastChar = char;
            let k3 = 1;
            while (characters[j3 + k3]) {
              const nextChar = characters[j3 + k3];
              if (!_TextMetrics.canBreakChars(lastChar, nextChar, token, j3, style.breakWords)) {
                char += nextChar;
              } else {
                break;
              }
              lastChar = nextChar;
              k3++;
            }
            j3 += k3 - 1;
            const characterWidth = _TextMetrics.getFromCache(char, letterSpacing, cache, context2);
            if (characterWidth + width > wordWrapWidth) {
              lines += _TextMetrics.addLine(line);
              canPrependSpaces = false;
              line = "";
              width = 0;
            }
            line += char;
            width += characterWidth;
          }
        } else {
          if (line.length > 0) {
            lines += _TextMetrics.addLine(line);
            line = "";
            width = 0;
          }
          const isLastToken = i3 === tokens.length - 1;
          lines += _TextMetrics.addLine(token, !isLastToken);
          canPrependSpaces = false;
          line = "";
          width = 0;
        }
      } else {
        if (tokenWidth + width > wordWrapWidth) {
          canPrependSpaces = false;
          lines += _TextMetrics.addLine(line);
          line = "";
          width = 0;
        }
        if (line.length > 0 || !_TextMetrics.isBreakingSpace(token) || canPrependSpaces) {
          line += token;
          width += tokenWidth;
        }
      }
    }
    lines += _TextMetrics.addLine(line, false);
    return lines;
  }
  static addLine(line, newLine = true) {
    line = _TextMetrics.trimRight(line);
    line = newLine ? `${line}
` : line;
    return line;
  }
  static getFromCache(key2, letterSpacing, cache, context2) {
    let width = cache[key2];
    if (typeof width !== "number") {
      width = _TextMetrics._measureText(key2, letterSpacing, context2) + letterSpacing;
      cache[key2] = width;
    }
    return width;
  }
  static collapseSpaces(whiteSpace) {
    return whiteSpace === "normal" || whiteSpace === "pre-line";
  }
  static collapseNewlines(whiteSpace) {
    return whiteSpace === "normal";
  }
  static trimRight(text) {
    if (typeof text !== "string") {
      return "";
    }
    for (let i3 = text.length - 1; i3 >= 0; i3--) {
      const char = text[i3];
      if (!_TextMetrics.isBreakingSpace(char)) {
        break;
      }
      text = text.slice(0, -1);
    }
    return text;
  }
  static isNewline(char) {
    if (typeof char !== "string") {
      return false;
    }
    return _TextMetrics._newlines.includes(char.charCodeAt(0));
  }
  static isBreakingSpace(char, _nextChar) {
    if (typeof char !== "string") {
      return false;
    }
    return _TextMetrics._breakingSpaces.includes(char.charCodeAt(0));
  }
  static tokenize(text) {
    const tokens = [];
    let token = "";
    if (typeof text !== "string") {
      return tokens;
    }
    for (let i3 = 0; i3 < text.length; i3++) {
      const char = text[i3];
      const nextChar = text[i3 + 1];
      if (_TextMetrics.isBreakingSpace(char, nextChar) || _TextMetrics.isNewline(char)) {
        if (token !== "") {
          tokens.push(token);
          token = "";
        }
        tokens.push(char);
        continue;
      }
      token += char;
    }
    if (token !== "") {
      tokens.push(token);
    }
    return tokens;
  }
  static canBreakWords(_token, breakWords) {
    return breakWords;
  }
  static canBreakChars(_char, _nextChar, _token, _index, _breakWords) {
    return true;
  }
  static wordWrapSplit(token) {
    return _TextMetrics.graphemeSegmenter(token);
  }
  static measureFont(font) {
    if (_TextMetrics._fonts[font]) {
      return _TextMetrics._fonts[font];
    }
    const properties = {
      ascent: 0,
      descent: 0,
      fontSize: 0
    };
    const canvas = _TextMetrics._canvas;
    const context2 = _TextMetrics._context;
    context2.font = font;
    const metricsString = _TextMetrics.METRICS_STRING + _TextMetrics.BASELINE_SYMBOL;
    const width = Math.ceil(context2.measureText(metricsString).width);
    let baseline = Math.ceil(context2.measureText(_TextMetrics.BASELINE_SYMBOL).width);
    const height = Math.ceil(_TextMetrics.HEIGHT_MULTIPLIER * baseline);
    baseline = baseline * _TextMetrics.BASELINE_MULTIPLIER | 0;
    if (width === 0 || height === 0) {
      _TextMetrics._fonts[font] = properties;
      return properties;
    }
    canvas.width = width;
    canvas.height = height;
    context2.fillStyle = "#f00";
    context2.fillRect(0, 0, width, height);
    context2.font = font;
    context2.textBaseline = "alphabetic";
    context2.fillStyle = "#000";
    context2.fillText(metricsString, 0, baseline);
    const imagedata = context2.getImageData(0, 0, width, height).data;
    const pixels = imagedata.length;
    const line = width * 4;
    let i3 = 0;
    let idx = 0;
    let stop = false;
    for (i3 = 0; i3 < baseline; ++i3) {
      for (let j3 = 0; j3 < line; j3 += 4) {
        if (imagedata[idx + j3] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx += line;
      } else {
        break;
      }
    }
    properties.ascent = baseline - i3;
    idx = pixels - line;
    stop = false;
    for (i3 = height; i3 > baseline; --i3) {
      for (let j3 = 0; j3 < line; j3 += 4) {
        if (imagedata[idx + j3] !== 255) {
          stop = true;
          break;
        }
      }
      if (!stop) {
        idx -= line;
      } else {
        break;
      }
    }
    properties.descent = i3 - baseline;
    properties.fontSize = properties.ascent + properties.descent;
    _TextMetrics._fonts[font] = properties;
    return properties;
  }
  static clearMetrics(font = "") {
    if (font) {
      delete _TextMetrics._fonts[font];
    } else {
      _TextMetrics._fonts = {};
    }
  }
  static get _canvas() {
    if (!_TextMetrics.__canvas) {
      let canvas;
      try {
        const c2 = new OffscreenCanvas(0, 0);
        const context2 = c2.getContext("2d", contextSettings);
        if (context2?.measureText) {
          _TextMetrics.__canvas = c2;
          return c2;
        }
        canvas = settings.ADAPTER.createCanvas();
      } catch (ex) {
        canvas = settings.ADAPTER.createCanvas();
      }
      canvas.width = canvas.height = 10;
      _TextMetrics.__canvas = canvas;
    }
    return _TextMetrics.__canvas;
  }
  static get _context() {
    if (!_TextMetrics.__context) {
      _TextMetrics.__context = _TextMetrics._canvas.getContext("2d", contextSettings);
    }
    return _TextMetrics.__context;
  }
};
var TextMetrics = _TextMetrics;
TextMetrics.METRICS_STRING = "|\xC9q\xC5";
TextMetrics.BASELINE_SYMBOL = "M";
TextMetrics.BASELINE_MULTIPLIER = 1.4;
TextMetrics.HEIGHT_MULTIPLIER = 2;
TextMetrics.graphemeSegmenter = (() => {
  if (typeof Intl?.Segmenter === "function") {
    const segmenter = new Intl.Segmenter();
    return (s2) => [...segmenter.segment(s2)].map((x2) => x2.segment);
  }
  return (s2) => [...s2];
})();
TextMetrics.experimentalLetterSpacing = false;
TextMetrics._fonts = {};
TextMetrics._newlines = [
  10,
  13
];
TextMetrics._breakingSpaces = [
  9,
  32,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8200,
  8201,
  8202,
  8287,
  12288
];

// ../../node_modules/.pnpm/@pixi+text@7.2.4_@pixi+core@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/text/lib/TextStyle.mjs
var genericFontFamilies = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui"
];
var _TextStyle = class {
  constructor(style) {
    this.styleID = 0;
    this.reset();
    deepCopyProperties(this, style, style);
  }
  clone() {
    const clonedProperties = {};
    deepCopyProperties(clonedProperties, this, _TextStyle.defaultStyle);
    return new _TextStyle(clonedProperties);
  }
  reset() {
    deepCopyProperties(this, _TextStyle.defaultStyle, _TextStyle.defaultStyle);
  }
  get align() {
    return this._align;
  }
  set align(align) {
    if (this._align !== align) {
      this._align = align;
      this.styleID++;
    }
  }
  get breakWords() {
    return this._breakWords;
  }
  set breakWords(breakWords) {
    if (this._breakWords !== breakWords) {
      this._breakWords = breakWords;
      this.styleID++;
    }
  }
  get dropShadow() {
    return this._dropShadow;
  }
  set dropShadow(dropShadow) {
    if (this._dropShadow !== dropShadow) {
      this._dropShadow = dropShadow;
      this.styleID++;
    }
  }
  get dropShadowAlpha() {
    return this._dropShadowAlpha;
  }
  set dropShadowAlpha(dropShadowAlpha) {
    if (this._dropShadowAlpha !== dropShadowAlpha) {
      this._dropShadowAlpha = dropShadowAlpha;
      this.styleID++;
    }
  }
  get dropShadowAngle() {
    return this._dropShadowAngle;
  }
  set dropShadowAngle(dropShadowAngle) {
    if (this._dropShadowAngle !== dropShadowAngle) {
      this._dropShadowAngle = dropShadowAngle;
      this.styleID++;
    }
  }
  get dropShadowBlur() {
    return this._dropShadowBlur;
  }
  set dropShadowBlur(dropShadowBlur) {
    if (this._dropShadowBlur !== dropShadowBlur) {
      this._dropShadowBlur = dropShadowBlur;
      this.styleID++;
    }
  }
  get dropShadowColor() {
    return this._dropShadowColor;
  }
  set dropShadowColor(dropShadowColor) {
    const outputColor = getColor(dropShadowColor);
    if (this._dropShadowColor !== outputColor) {
      this._dropShadowColor = outputColor;
      this.styleID++;
    }
  }
  get dropShadowDistance() {
    return this._dropShadowDistance;
  }
  set dropShadowDistance(dropShadowDistance) {
    if (this._dropShadowDistance !== dropShadowDistance) {
      this._dropShadowDistance = dropShadowDistance;
      this.styleID++;
    }
  }
  get fill() {
    return this._fill;
  }
  set fill(fill) {
    const outputColor = getColor(fill);
    if (this._fill !== outputColor) {
      this._fill = outputColor;
      this.styleID++;
    }
  }
  get fillGradientType() {
    return this._fillGradientType;
  }
  set fillGradientType(fillGradientType) {
    if (this._fillGradientType !== fillGradientType) {
      this._fillGradientType = fillGradientType;
      this.styleID++;
    }
  }
  get fillGradientStops() {
    return this._fillGradientStops;
  }
  set fillGradientStops(fillGradientStops) {
    if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {
      this._fillGradientStops = fillGradientStops;
      this.styleID++;
    }
  }
  get fontFamily() {
    return this._fontFamily;
  }
  set fontFamily(fontFamily) {
    if (this.fontFamily !== fontFamily) {
      this._fontFamily = fontFamily;
      this.styleID++;
    }
  }
  get fontSize() {
    return this._fontSize;
  }
  set fontSize(fontSize) {
    if (this._fontSize !== fontSize) {
      this._fontSize = fontSize;
      this.styleID++;
    }
  }
  get fontStyle() {
    return this._fontStyle;
  }
  set fontStyle(fontStyle) {
    if (this._fontStyle !== fontStyle) {
      this._fontStyle = fontStyle;
      this.styleID++;
    }
  }
  get fontVariant() {
    return this._fontVariant;
  }
  set fontVariant(fontVariant) {
    if (this._fontVariant !== fontVariant) {
      this._fontVariant = fontVariant;
      this.styleID++;
    }
  }
  get fontWeight() {
    return this._fontWeight;
  }
  set fontWeight(fontWeight) {
    if (this._fontWeight !== fontWeight) {
      this._fontWeight = fontWeight;
      this.styleID++;
    }
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(letterSpacing) {
    if (this._letterSpacing !== letterSpacing) {
      this._letterSpacing = letterSpacing;
      this.styleID++;
    }
  }
  get lineHeight() {
    return this._lineHeight;
  }
  set lineHeight(lineHeight) {
    if (this._lineHeight !== lineHeight) {
      this._lineHeight = lineHeight;
      this.styleID++;
    }
  }
  get leading() {
    return this._leading;
  }
  set leading(leading) {
    if (this._leading !== leading) {
      this._leading = leading;
      this.styleID++;
    }
  }
  get lineJoin() {
    return this._lineJoin;
  }
  set lineJoin(lineJoin) {
    if (this._lineJoin !== lineJoin) {
      this._lineJoin = lineJoin;
      this.styleID++;
    }
  }
  get miterLimit() {
    return this._miterLimit;
  }
  set miterLimit(miterLimit) {
    if (this._miterLimit !== miterLimit) {
      this._miterLimit = miterLimit;
      this.styleID++;
    }
  }
  get padding() {
    return this._padding;
  }
  set padding(padding) {
    if (this._padding !== padding) {
      this._padding = padding;
      this.styleID++;
    }
  }
  get stroke() {
    return this._stroke;
  }
  set stroke(stroke) {
    const outputColor = getColor(stroke);
    if (this._stroke !== outputColor) {
      this._stroke = outputColor;
      this.styleID++;
    }
  }
  get strokeThickness() {
    return this._strokeThickness;
  }
  set strokeThickness(strokeThickness) {
    if (this._strokeThickness !== strokeThickness) {
      this._strokeThickness = strokeThickness;
      this.styleID++;
    }
  }
  get textBaseline() {
    return this._textBaseline;
  }
  set textBaseline(textBaseline) {
    if (this._textBaseline !== textBaseline) {
      this._textBaseline = textBaseline;
      this.styleID++;
    }
  }
  get trim() {
    return this._trim;
  }
  set trim(trim) {
    if (this._trim !== trim) {
      this._trim = trim;
      this.styleID++;
    }
  }
  get whiteSpace() {
    return this._whiteSpace;
  }
  set whiteSpace(whiteSpace) {
    if (this._whiteSpace !== whiteSpace) {
      this._whiteSpace = whiteSpace;
      this.styleID++;
    }
  }
  get wordWrap() {
    return this._wordWrap;
  }
  set wordWrap(wordWrap) {
    if (this._wordWrap !== wordWrap) {
      this._wordWrap = wordWrap;
      this.styleID++;
    }
  }
  get wordWrapWidth() {
    return this._wordWrapWidth;
  }
  set wordWrapWidth(wordWrapWidth) {
    if (this._wordWrapWidth !== wordWrapWidth) {
      this._wordWrapWidth = wordWrapWidth;
      this.styleID++;
    }
  }
  toFontString() {
    const fontSizeString = typeof this.fontSize === "number" ? `${this.fontSize}px` : this.fontSize;
    let fontFamilies = this.fontFamily;
    if (!Array.isArray(this.fontFamily)) {
      fontFamilies = this.fontFamily.split(",");
    }
    for (let i3 = fontFamilies.length - 1; i3 >= 0; i3--) {
      let fontFamily = fontFamilies[i3].trim();
      if (!/([\"\'])[^\'\"]+\1/.test(fontFamily) && !genericFontFamilies.includes(fontFamily)) {
        fontFamily = `"${fontFamily}"`;
      }
      fontFamilies[i3] = fontFamily;
    }
    return `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${fontSizeString} ${fontFamilies.join(",")}`;
  }
};
var TextStyle = _TextStyle;
TextStyle.defaultStyle = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fillGradientType: TEXT_GRADIENT.LINEAR_VERTICAL,
  fillGradientStops: [],
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  leading: 0,
  letterSpacing: 0,
  lineHeight: 0,
  lineJoin: "miter",
  miterLimit: 10,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  textBaseline: "alphabetic",
  trim: false,
  whiteSpace: "pre",
  wordWrap: false,
  wordWrapWidth: 100
};
function getColor(color) {
  const temp = Color.shared;
  if (!Array.isArray(color)) {
    return temp.setValue(color).toHex();
  } else {
    return color.map((c2) => temp.setValue(c2).toHex());
  }
}
function areArraysEqual(array1, array2) {
  if (!Array.isArray(array1) || !Array.isArray(array2)) {
    return false;
  }
  if (array1.length !== array2.length) {
    return false;
  }
  for (let i3 = 0; i3 < array1.length; ++i3) {
    if (array1[i3] !== array2[i3]) {
      return false;
    }
  }
  return true;
}
function deepCopyProperties(target, source, propertyObj) {
  for (const prop in propertyObj) {
    if (Array.isArray(source[prop])) {
      target[prop] = source[prop].slice();
    } else {
      target[prop] = source[prop];
    }
  }
}

// ../../node_modules/.pnpm/@pixi+text@7.2.4_@pixi+core@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/text/lib/Text.mjs
var defaultDestroyOptions = {
  texture: true,
  children: false,
  baseTexture: true
};
var _Text = class extends Sprite {
  constructor(text, style, canvas) {
    let ownCanvas = false;
    if (!canvas) {
      canvas = settings.ADAPTER.createCanvas();
      ownCanvas = true;
    }
    canvas.width = 3;
    canvas.height = 3;
    const texture = Texture.from(canvas);
    texture.orig = new Rectangle();
    texture.trim = new Rectangle();
    super(texture);
    this._ownCanvas = ownCanvas;
    this.canvas = canvas;
    this.context = canvas.getContext("2d", {
      willReadFrequently: true
    });
    this._resolution = _Text.defaultResolution ?? settings.RESOLUTION;
    this._autoResolution = _Text.defaultAutoResolution;
    this._text = null;
    this._style = null;
    this._styleListener = null;
    this._font = "";
    this.text = text;
    this.style = style;
    this.localStyleID = -1;
  }
  static get experimentalLetterSpacing() {
    return TextMetrics.experimentalLetterSpacing;
  }
  static set experimentalLetterSpacing(value) {
    lib_exports.deprecation("7.1.0", "Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing");
    TextMetrics.experimentalLetterSpacing = value;
  }
  updateText(respectDirty) {
    const style = this._style;
    if (this.localStyleID !== style.styleID) {
      this.dirty = true;
      this.localStyleID = style.styleID;
    }
    if (!this.dirty && respectDirty) {
      return;
    }
    this._font = this._style.toFontString();
    const context2 = this.context;
    const measured = TextMetrics.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas);
    const width = measured.width;
    const height = measured.height;
    const lines = measured.lines;
    const lineHeight = measured.lineHeight;
    const lineWidths = measured.lineWidths;
    const maxLineWidth = measured.maxLineWidth;
    const fontProperties = measured.fontProperties;
    this.canvas.width = Math.ceil(Math.ceil(Math.max(1, width) + style.padding * 2) * this._resolution);
    this.canvas.height = Math.ceil(Math.ceil(Math.max(1, height) + style.padding * 2) * this._resolution);
    context2.scale(this._resolution, this._resolution);
    context2.clearRect(0, 0, this.canvas.width, this.canvas.height);
    context2.font = this._font;
    context2.lineWidth = style.strokeThickness;
    context2.textBaseline = style.textBaseline;
    context2.lineJoin = style.lineJoin;
    context2.miterLimit = style.miterLimit;
    let linePositionX;
    let linePositionY;
    const passesCount = style.dropShadow ? 2 : 1;
    for (let i3 = 0; i3 < passesCount; ++i3) {
      const isShadowPass = style.dropShadow && i3 === 0;
      const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + style.padding * 2) : 0;
      const dsOffsetShadow = dsOffsetText * this._resolution;
      if (isShadowPass) {
        context2.fillStyle = "black";
        context2.strokeStyle = "black";
        const dropShadowColor = style.dropShadowColor;
        const dropShadowBlur = style.dropShadowBlur * this._resolution;
        const dropShadowDistance = style.dropShadowDistance * this._resolution;
        context2.shadowColor = Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();
        context2.shadowBlur = dropShadowBlur;
        context2.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
        context2.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance + dsOffsetShadow;
      } else {
        context2.fillStyle = this._generateFillStyle(style, lines, measured);
        context2.strokeStyle = style.stroke;
        context2.shadowColor = "black";
        context2.shadowBlur = 0;
        context2.shadowOffsetX = 0;
        context2.shadowOffsetY = 0;
      }
      let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;
      if (lineHeight - fontProperties.fontSize < 0) {
        linePositionYShift = 0;
      }
      for (let i22 = 0; i22 < lines.length; i22++) {
        linePositionX = style.strokeThickness / 2;
        linePositionY = style.strokeThickness / 2 + i22 * lineHeight + fontProperties.ascent + linePositionYShift;
        if (style.align === "right") {
          linePositionX += maxLineWidth - lineWidths[i22];
        } else if (style.align === "center") {
          linePositionX += (maxLineWidth - lineWidths[i22]) / 2;
        }
        if (style.stroke && style.strokeThickness) {
          this.drawLetterSpacing(lines[i22], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText, true);
        }
        if (style.fill) {
          this.drawLetterSpacing(lines[i22], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText);
        }
      }
    }
    this.updateTexture();
  }
  drawLetterSpacing(text, x2, y2, isStroke = false) {
    const style = this._style;
    const letterSpacing = style.letterSpacing;
    let useExperimentalLetterSpacing = false;
    if (TextMetrics.experimentalLetterSpacingSupported) {
      if (TextMetrics.experimentalLetterSpacing) {
        this.context.letterSpacing = `${letterSpacing}px`;
        this.context.textLetterSpacing = `${letterSpacing}px`;
        useExperimentalLetterSpacing = true;
      } else {
        this.context.letterSpacing = "0px";
        this.context.textLetterSpacing = "0px";
      }
    }
    if (letterSpacing === 0 || useExperimentalLetterSpacing) {
      if (isStroke) {
        this.context.strokeText(text, x2, y2);
      } else {
        this.context.fillText(text, x2, y2);
      }
      return;
    }
    let currentPosition = x2;
    const stringArray = TextMetrics.graphemeSegmenter(text);
    let previousWidth = this.context.measureText(text).width;
    let currentWidth = 0;
    for (let i3 = 0; i3 < stringArray.length; ++i3) {
      const currentChar = stringArray[i3];
      if (isStroke) {
        this.context.strokeText(currentChar, currentPosition, y2);
      } else {
        this.context.fillText(currentChar, currentPosition, y2);
      }
      let textStr = "";
      for (let j3 = i3 + 1; j3 < stringArray.length; ++j3) {
        textStr += stringArray[j3];
      }
      currentWidth = this.context.measureText(textStr).width;
      currentPosition += previousWidth - currentWidth + letterSpacing;
      previousWidth = currentWidth;
    }
  }
  updateTexture() {
    const canvas = this.canvas;
    if (this._style.trim) {
      const trimmed = lib_exports.trimCanvas(canvas);
      if (trimmed.data) {
        canvas.width = trimmed.width;
        canvas.height = trimmed.height;
        this.context.putImageData(trimmed.data, 0, 0);
      }
    }
    const texture = this._texture;
    const style = this._style;
    const padding = style.trim ? 0 : style.padding;
    const baseTexture = texture.baseTexture;
    texture.trim.width = texture._frame.width = canvas.width / this._resolution;
    texture.trim.height = texture._frame.height = canvas.height / this._resolution;
    texture.trim.x = -padding;
    texture.trim.y = -padding;
    texture.orig.width = texture._frame.width - padding * 2;
    texture.orig.height = texture._frame.height - padding * 2;
    this._onTextureUpdate();
    baseTexture.setRealSize(canvas.width, canvas.height, this._resolution);
    texture.updateUvs();
    this.dirty = false;
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._render(renderer);
  }
  updateTransform() {
    this.updateText(true);
    super.updateTransform();
  }
  getBounds(skipUpdate, rect) {
    this.updateText(true);
    if (this._textureID === -1) {
      skipUpdate = false;
    }
    return super.getBounds(skipUpdate, rect);
  }
  getLocalBounds(rect) {
    this.updateText(true);
    return super.getLocalBounds.call(this, rect);
  }
  _calculateBounds() {
    this.calculateVertices();
    this._bounds.addQuad(this.vertexData);
  }
  _generateFillStyle(style, lines, metrics) {
    const fillStyle = style.fill;
    if (!Array.isArray(fillStyle)) {
      return fillStyle;
    } else if (fillStyle.length === 1) {
      return fillStyle[0];
    }
    let gradient;
    const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
    const padding = style.padding || 0;
    const width = this.canvas.width / this._resolution - dropShadowCorrection - padding * 2;
    const height = this.canvas.height / this._resolution - dropShadowCorrection - padding * 2;
    const fill = fillStyle.slice();
    const fillGradientStops = style.fillGradientStops.slice();
    if (!fillGradientStops.length) {
      const lengthPlus1 = fill.length + 1;
      for (let i3 = 1; i3 < lengthPlus1; ++i3) {
        fillGradientStops.push(i3 / lengthPlus1);
      }
    }
    fill.unshift(fillStyle[0]);
    fillGradientStops.unshift(0);
    fill.push(fillStyle[fillStyle.length - 1]);
    fillGradientStops.push(1);
    if (style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL) {
      gradient = this.context.createLinearGradient(width / 2, padding, width / 2, height + padding);
      const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
      for (let i3 = 0; i3 < lines.length; i3++) {
        const lastLineBottom = metrics.lineHeight * (i3 - 1) + textHeight;
        const thisLineTop = metrics.lineHeight * i3;
        let thisLineGradientStart = thisLineTop;
        if (i3 > 0 && lastLineBottom > thisLineTop) {
          thisLineGradientStart = (thisLineTop + lastLineBottom) / 2;
        }
        const thisLineBottom = thisLineTop + textHeight;
        const nextLineTop = metrics.lineHeight * (i3 + 1);
        let thisLineGradientEnd = thisLineBottom;
        if (i3 + 1 < lines.length && nextLineTop < thisLineBottom) {
          thisLineGradientEnd = (thisLineBottom + nextLineTop) / 2;
        }
        const gradStopLineHeight = (thisLineGradientEnd - thisLineGradientStart) / height;
        for (let j3 = 0; j3 < fill.length; j3++) {
          let lineStop = 0;
          if (typeof fillGradientStops[j3] === "number") {
            lineStop = fillGradientStops[j3];
          } else {
            lineStop = j3 / fill.length;
          }
          let globalStop = Math.min(1, Math.max(0, thisLineGradientStart / height + lineStop * gradStopLineHeight));
          globalStop = Number(globalStop.toFixed(5));
          gradient.addColorStop(globalStop, fill[j3]);
        }
      }
    } else {
      gradient = this.context.createLinearGradient(padding, height / 2, width + padding, height / 2);
      const totalIterations = fill.length + 1;
      let currentIteration = 1;
      for (let i3 = 0; i3 < fill.length; i3++) {
        let stop;
        if (typeof fillGradientStops[i3] === "number") {
          stop = fillGradientStops[i3];
        } else {
          stop = currentIteration / totalIterations;
        }
        gradient.addColorStop(stop, fill[i3]);
        currentIteration++;
      }
    }
    return gradient;
  }
  destroy(options) {
    if (typeof options === "boolean") {
      options = { children: options };
    }
    options = Object.assign({}, defaultDestroyOptions, options);
    super.destroy(options);
    if (this._ownCanvas) {
      this.canvas.height = this.canvas.width = 0;
    }
    this.context = null;
    this.canvas = null;
    this._style = null;
  }
  get width() {
    this.updateText(true);
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(value) {
    this.updateText(true);
    const s2 = lib_exports.sign(this.scale.x) || 1;
    this.scale.x = s2 * value / this._texture.orig.width;
    this._width = value;
  }
  get height() {
    this.updateText(true);
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(value) {
    this.updateText(true);
    const s2 = lib_exports.sign(this.scale.y) || 1;
    this.scale.y = s2 * value / this._texture.orig.height;
    this._height = value;
  }
  get style() {
    return this._style;
  }
  set style(style) {
    style = style || {};
    if (style instanceof TextStyle) {
      this._style = style;
    } else {
      this._style = new TextStyle(style);
    }
    this.localStyleID = -1;
    this.dirty = true;
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
};
var Text = _Text;
Text.defaultAutoResolution = true;

// ../../node_modules/.pnpm/@pixi+prepare@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+graphics@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/prepare/lib/CountLimiter.mjs
var CountLimiter = class {
  constructor(maxItemsPerFrame) {
    this.maxItemsPerFrame = maxItemsPerFrame;
    this.itemsLeft = 0;
  }
  beginFrame() {
    this.itemsLeft = this.maxItemsPerFrame;
  }
  allowedToUpload() {
    return this.itemsLeft-- > 0;
  }
};

// ../../node_modules/.pnpm/@pixi+prepare@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+graphics@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/prepare/lib/BasePrepare.mjs
function findMultipleBaseTextures(item, queue) {
  let result = false;
  if (item?._textures?.length) {
    for (let i3 = 0; i3 < item._textures.length; i3++) {
      if (item._textures[i3] instanceof Texture) {
        const baseTexture = item._textures[i3].baseTexture;
        if (!queue.includes(baseTexture)) {
          queue.push(baseTexture);
          result = true;
        }
      }
    }
  }
  return result;
}
function findBaseTexture(item, queue) {
  if (item.baseTexture instanceof BaseTexture) {
    const texture = item.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTexture(item, queue) {
  if (item._texture && item._texture instanceof Texture) {
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function drawText(_helper, item) {
  if (item instanceof Text) {
    item.updateText(true);
    return true;
  }
  return false;
}
function calculateTextStyle(_helper, item) {
  if (item instanceof TextStyle) {
    const font = item.toFontString();
    TextMetrics.measureFont(font);
    return true;
  }
  return false;
}
function findText(item, queue) {
  if (item instanceof Text) {
    if (!queue.includes(item.style)) {
      queue.push(item.style);
    }
    if (!queue.includes(item)) {
      queue.push(item);
    }
    const texture = item._texture.baseTexture;
    if (!queue.includes(texture)) {
      queue.push(texture);
    }
    return true;
  }
  return false;
}
function findTextStyle(item, queue) {
  if (item instanceof TextStyle) {
    if (!queue.includes(item)) {
      queue.push(item);
    }
    return true;
  }
  return false;
}
var _BasePrepare = class {
  constructor(renderer) {
    this.limiter = new CountLimiter(_BasePrepare.uploadsPerFrame);
    this.renderer = renderer;
    this.uploadHookHelper = null;
    this.queue = [];
    this.addHooks = [];
    this.uploadHooks = [];
    this.completes = [];
    this.ticking = false;
    this.delayedTick = () => {
      if (!this.queue) {
        return;
      }
      this.prepareItems();
    };
    this.registerFindHook(findText);
    this.registerFindHook(findTextStyle);
    this.registerFindHook(findMultipleBaseTextures);
    this.registerFindHook(findBaseTexture);
    this.registerFindHook(findTexture);
    this.registerUploadHook(drawText);
    this.registerUploadHook(calculateTextStyle);
  }
  upload(item) {
    return new Promise((resolve2) => {
      if (item) {
        this.add(item);
      }
      if (this.queue.length) {
        this.completes.push(resolve2);
        if (!this.ticking) {
          this.ticking = true;
          Ticker.system.addOnce(this.tick, this, UPDATE_PRIORITY.UTILITY);
        }
      } else {
        resolve2();
      }
    });
  }
  tick() {
    setTimeout(this.delayedTick, 0);
  }
  prepareItems() {
    this.limiter.beginFrame();
    while (this.queue.length && this.limiter.allowedToUpload()) {
      const item = this.queue[0];
      let uploaded = false;
      if (item && !item._destroyed) {
        for (let i3 = 0, len = this.uploadHooks.length; i3 < len; i3++) {
          if (this.uploadHooks[i3](this.uploadHookHelper, item)) {
            this.queue.shift();
            uploaded = true;
            break;
          }
        }
      }
      if (!uploaded) {
        this.queue.shift();
      }
    }
    if (!this.queue.length) {
      this.ticking = false;
      const completes = this.completes.slice(0);
      this.completes.length = 0;
      for (let i3 = 0, len = completes.length; i3 < len; i3++) {
        completes[i3]();
      }
    } else {
      Ticker.system.addOnce(this.tick, this, UPDATE_PRIORITY.UTILITY);
    }
  }
  registerFindHook(addHook) {
    if (addHook) {
      this.addHooks.push(addHook);
    }
    return this;
  }
  registerUploadHook(uploadHook) {
    if (uploadHook) {
      this.uploadHooks.push(uploadHook);
    }
    return this;
  }
  add(item) {
    for (let i3 = 0, len = this.addHooks.length; i3 < len; i3++) {
      if (this.addHooks[i3](item, this.queue)) {
        break;
      }
    }
    if (item instanceof Container) {
      for (let i3 = item.children.length - 1; i3 >= 0; i3--) {
        this.add(item.children[i3]);
      }
    }
    return this;
  }
  destroy() {
    if (this.ticking) {
      Ticker.system.remove(this.tick, this);
    }
    this.ticking = false;
    this.addHooks = null;
    this.uploadHooks = null;
    this.renderer = null;
    this.completes = null;
    this.queue = null;
    this.limiter = null;
    this.uploadHookHelper = null;
  }
};
var BasePrepare = _BasePrepare;
BasePrepare.uploadsPerFrame = 4;

// ../../node_modules/.pnpm/@pixi+prepare@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+graphics@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/prepare/lib/settings.mjs
Object.defineProperties(settings, {
  UPLOADS_PER_FRAME: {
    get() {
      return BasePrepare.uploadsPerFrame;
    },
    set(value) {
      lib_exports.deprecation("7.1.0", "settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame");
      BasePrepare.uploadsPerFrame = value;
    }
  }
});

// ../../node_modules/.pnpm/@pixi+prepare@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+graphics@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/prepare/lib/Prepare.mjs
function uploadBaseTextures(renderer, item) {
  if (item instanceof BaseTexture) {
    if (!item._glTextures[renderer.CONTEXT_UID]) {
      renderer.texture.bind(item);
    }
    return true;
  }
  return false;
}
function uploadGraphics(renderer, item) {
  if (!(item instanceof Graphics)) {
    return false;
  }
  const { geometry } = item;
  item.finishPoly();
  geometry.updateBatches();
  const { batches } = geometry;
  for (let i3 = 0; i3 < batches.length; i3++) {
    const { texture } = batches[i3].style;
    if (texture) {
      uploadBaseTextures(renderer, texture.baseTexture);
    }
  }
  if (!geometry.batchable) {
    renderer.geometry.bind(geometry, item._resolveDirectShader(renderer));
  }
  return true;
}
function findGraphics(item, queue) {
  if (item instanceof Graphics) {
    queue.push(item);
    return true;
  }
  return false;
}
var Prepare = class extends BasePrepare {
  constructor(renderer) {
    super(renderer);
    this.uploadHookHelper = this.renderer;
    this.registerFindHook(findGraphics);
    this.registerUploadHook(uploadBaseTextures);
    this.registerUploadHook(uploadGraphics);
  }
};
Prepare.extension = {
  name: "prepare",
  type: ExtensionType.RendererSystem
};
extensions.add(Prepare);

// ../../node_modules/.pnpm/@pixi+sprite-animated@7.2.4_@pixi+core@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs
var AnimatedSprite = class extends Sprite {
  constructor(textures, autoUpdate = true) {
    super(textures[0] instanceof Texture ? textures[0] : textures[0].texture);
    this._textures = null;
    this._durations = null;
    this._autoUpdate = autoUpdate;
    this._isConnectedToTicker = false;
    this.animationSpeed = 1;
    this.loop = true;
    this.updateAnchor = false;
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
    this._currentTime = 0;
    this._playing = false;
    this._previousFrame = null;
    this.textures = textures;
  }
  stop() {
    if (!this._playing) {
      return;
    }
    this._playing = false;
    if (this._autoUpdate && this._isConnectedToTicker) {
      Ticker.shared.remove(this.update, this);
      this._isConnectedToTicker = false;
    }
  }
  play() {
    if (this._playing) {
      return;
    }
    this._playing = true;
    if (this._autoUpdate && !this._isConnectedToTicker) {
      Ticker.shared.add(this.update, this, UPDATE_PRIORITY.HIGH);
      this._isConnectedToTicker = true;
    }
  }
  gotoAndStop(frameNumber) {
    this.stop();
    this.currentFrame = frameNumber;
  }
  gotoAndPlay(frameNumber) {
    this.currentFrame = frameNumber;
    this.play();
  }
  update(deltaTime) {
    if (!this._playing) {
      return;
    }
    const elapsed = this.animationSpeed * deltaTime;
    const previousFrame = this.currentFrame;
    if (this._durations !== null) {
      let lag = this._currentTime % 1 * this._durations[this.currentFrame];
      lag += elapsed / 60 * 1e3;
      while (lag < 0) {
        this._currentTime--;
        lag += this._durations[this.currentFrame];
      }
      const sign2 = Math.sign(this.animationSpeed * deltaTime);
      this._currentTime = Math.floor(this._currentTime);
      while (lag >= this._durations[this.currentFrame]) {
        lag -= this._durations[this.currentFrame] * sign2;
        this._currentTime += sign2;
      }
      this._currentTime += lag / this._durations[this.currentFrame];
    } else {
      this._currentTime += elapsed;
    }
    if (this._currentTime < 0 && !this.loop) {
      this.gotoAndStop(0);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (this._currentTime >= this._textures.length && !this.loop) {
      this.gotoAndStop(this._textures.length - 1);
      if (this.onComplete) {
        this.onComplete();
      }
    } else if (previousFrame !== this.currentFrame) {
      if (this.loop && this.onLoop) {
        if (this.animationSpeed > 0 && this.currentFrame < previousFrame || this.animationSpeed < 0 && this.currentFrame > previousFrame) {
          this.onLoop();
        }
      }
      this.updateTexture();
    }
  }
  updateTexture() {
    const currentFrame = this.currentFrame;
    if (this._previousFrame === currentFrame) {
      return;
    }
    this._previousFrame = currentFrame;
    this._texture = this._textures[currentFrame];
    this._textureID = -1;
    this._textureTrimmedID = -1;
    this._cachedTint = 16777215;
    this.uvs = this._texture._uvs.uvsFloat32;
    if (this.updateAnchor) {
      this._anchor.copyFrom(this._texture.defaultAnchor);
    }
    if (this.onFrameChange) {
      this.onFrameChange(this.currentFrame);
    }
  }
  destroy(options) {
    this.stop();
    super.destroy(options);
    this.onComplete = null;
    this.onFrameChange = null;
    this.onLoop = null;
  }
  static fromFrames(frames) {
    const textures = [];
    for (let i3 = 0; i3 < frames.length; ++i3) {
      textures.push(Texture.from(frames[i3]));
    }
    return new AnimatedSprite(textures);
  }
  static fromImages(images) {
    const textures = [];
    for (let i3 = 0; i3 < images.length; ++i3) {
      textures.push(Texture.from(images[i3]));
    }
    return new AnimatedSprite(textures);
  }
  get totalFrames() {
    return this._textures.length;
  }
  get textures() {
    return this._textures;
  }
  set textures(value) {
    if (value[0] instanceof Texture) {
      this._textures = value;
      this._durations = null;
    } else {
      this._textures = [];
      this._durations = [];
      for (let i3 = 0; i3 < value.length; i3++) {
        this._textures.push(value[i3].texture);
        this._durations.push(value[i3].time);
      }
    }
    this._previousFrame = null;
    this.gotoAndStop(0);
    this.updateTexture();
  }
  get currentFrame() {
    let currentFrame = Math.floor(this._currentTime) % this._textures.length;
    if (currentFrame < 0) {
      currentFrame += this._textures.length;
    }
    return currentFrame;
  }
  set currentFrame(value) {
    if (value < 0 || value > this.totalFrames - 1) {
      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
    }
    const previousFrame = this.currentFrame;
    this._currentTime = value;
    if (previousFrame !== this.currentFrame) {
      this.updateTexture();
    }
  }
  get playing() {
    return this._playing;
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(value) {
    if (value !== this._autoUpdate) {
      this._autoUpdate = value;
      if (!this._autoUpdate && this._isConnectedToTicker) {
        Ticker.shared.remove(this.update, this);
        this._isConnectedToTicker = false;
      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {
        Ticker.shared.add(this.update, this);
        this._isConnectedToTicker = true;
      }
    }
  }
};

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs
var tempPoint3 = new Point();
var TilingSprite = class extends Sprite {
  constructor(texture, width = 100, height = 100) {
    super(texture);
    this.tileTransform = new Transform();
    this._width = width;
    this._height = height;
    this.uvMatrix = this.texture.uvMatrix || new TextureMatrix(texture);
    this.pluginName = "tilingSprite";
    this.uvRespectAnchor = false;
  }
  get clampMargin() {
    return this.uvMatrix.clampMargin;
  }
  set clampMargin(value) {
    this.uvMatrix.clampMargin = value;
    this.uvMatrix.update(true);
  }
  get tileScale() {
    return this.tileTransform.scale;
  }
  set tileScale(value) {
    this.tileTransform.scale.copyFrom(value);
  }
  get tilePosition() {
    return this.tileTransform.position;
  }
  set tilePosition(value) {
    this.tileTransform.position.copyFrom(value);
  }
  _onTextureUpdate() {
    if (this.uvMatrix) {
      this.uvMatrix.texture = this._texture;
    }
    this._cachedTint = 16777215;
  }
  _render(renderer) {
    const texture = this._texture;
    if (!texture || !texture.valid) {
      return;
    }
    this.tileTransform.updateLocalTransform();
    this.uvMatrix.update();
    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);
    renderer.plugins[this.pluginName].render(this);
  }
  _calculateBounds() {
    const minX = this._width * -this._anchor._x;
    const minY = this._height * -this._anchor._y;
    const maxX = this._width * (1 - this._anchor._x);
    const maxY = this._height * (1 - this._anchor._y);
    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);
  }
  getLocalBounds(rect) {
    if (this.children.length === 0) {
      this._bounds.minX = this._width * -this._anchor._x;
      this._bounds.minY = this._height * -this._anchor._y;
      this._bounds.maxX = this._width * (1 - this._anchor._x);
      this._bounds.maxY = this._height * (1 - this._anchor._y);
      if (!rect) {
        if (!this._localBoundsRect) {
          this._localBoundsRect = new Rectangle();
        }
        rect = this._localBoundsRect;
      }
      return this._bounds.getRectangle(rect);
    }
    return super.getLocalBounds.call(this, rect);
  }
  containsPoint(point) {
    this.worldTransform.applyInverse(point, tempPoint3);
    const width = this._width;
    const height = this._height;
    const x1 = -width * this.anchor._x;
    if (tempPoint3.x >= x1 && tempPoint3.x < x1 + width) {
      const y1 = -height * this.anchor._y;
      if (tempPoint3.y >= y1 && tempPoint3.y < y1 + height) {
        return true;
      }
    }
    return false;
  }
  destroy(options) {
    super.destroy(options);
    this.tileTransform = null;
    this.uvMatrix = null;
  }
  static from(source, options) {
    const texture = source instanceof Texture ? source : Texture.from(source, options);
    return new TilingSprite(texture, options.width, options.height);
  }
  get width() {
    return this._width;
  }
  set width(value) {
    this._width = value;
  }
  get height() {
    return this._height;
  }
  set height(value) {
    this._height = value;
  }
};

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs
var gl2FragmentSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs
var gl2VertexSrc = "#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs
var gl1FragmentSrc = "#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs
var gl1VertexSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs
var fragmentSimpleSrc = "#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n";

// ../../node_modules/.pnpm/@pixi+sprite-tiling@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4/node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs
var tempMat2 = new Matrix();
var TilingSpriteRenderer = class extends ObjectRenderer {
  constructor(renderer) {
    super(renderer);
    renderer.runners.contextChange.add(this);
    this.quad = new QuadUv();
    this.state = State.for2d();
  }
  contextChange() {
    const renderer = this.renderer;
    const uniforms = { globals: renderer.globalUniforms };
    this.simpleShader = Shader.from(gl1VertexSrc, fragmentSimpleSrc, uniforms);
    this.shader = renderer.context.webGLVersion > 1 ? Shader.from(gl2VertexSrc, gl2FragmentSrc, uniforms) : Shader.from(gl1VertexSrc, gl1FragmentSrc, uniforms);
  }
  render(ts) {
    const renderer = this.renderer;
    const quad = this.quad;
    let vertices = quad.vertices;
    vertices[0] = vertices[6] = ts._width * -ts.anchor.x;
    vertices[1] = vertices[3] = ts._height * -ts.anchor.y;
    vertices[2] = vertices[4] = ts._width * (1 - ts.anchor.x);
    vertices[5] = vertices[7] = ts._height * (1 - ts.anchor.y);
    const anchorX = ts.uvRespectAnchor ? ts.anchor.x : 0;
    const anchorY = ts.uvRespectAnchor ? ts.anchor.y : 0;
    vertices = quad.uvs;
    vertices[0] = vertices[6] = -anchorX;
    vertices[1] = vertices[3] = -anchorY;
    vertices[2] = vertices[4] = 1 - anchorX;
    vertices[5] = vertices[7] = 1 - anchorY;
    quad.invalidate();
    const tex = ts._texture;
    const baseTex = tex.baseTexture;
    const premultiplied = baseTex.alphaMode > 0;
    const lt = ts.tileTransform.localTransform;
    const uv = ts.uvMatrix;
    let isSimple = baseTex.isPowerOfTwo && tex.frame.width === baseTex.width && tex.frame.height === baseTex.height;
    if (isSimple) {
      if (!baseTex._glTextures[renderer.CONTEXT_UID]) {
        if (baseTex.wrapMode === WRAP_MODES.CLAMP) {
          baseTex.wrapMode = WRAP_MODES.REPEAT;
        }
      } else {
        isSimple = baseTex.wrapMode !== WRAP_MODES.CLAMP;
      }
    }
    const shader = isSimple ? this.simpleShader : this.shader;
    const w3 = tex.width;
    const h2 = tex.height;
    const W2 = ts._width;
    const H3 = ts._height;
    tempMat2.set(lt.a * w3 / W2, lt.b * w3 / H3, lt.c * h2 / W2, lt.d * h2 / H3, lt.tx / W2, lt.ty / H3);
    tempMat2.invert();
    if (isSimple) {
      tempMat2.prepend(uv.mapCoord);
    } else {
      shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);
      shader.uniforms.uClampFrame = uv.uClampFrame;
      shader.uniforms.uClampOffset = uv.uClampOffset;
    }
    shader.uniforms.uTransform = tempMat2.toArray(true);
    shader.uniforms.uColor = Color.shared.setValue(ts.tint).premultiply(ts.worldAlpha, premultiplied).toArray(shader.uniforms.uColor);
    shader.uniforms.translationMatrix = ts.transform.worldTransform.toArray(true);
    shader.uniforms.uSampler = tex;
    renderer.shader.bind(shader);
    renderer.geometry.bind(quad);
    this.state.blendMode = lib_exports.correctBlendMode(ts.blendMode, premultiplied);
    renderer.state.set(this.state);
    renderer.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
  }
};
TilingSpriteRenderer.extension = {
  name: "tilingSprite",
  type: ExtensionType.RendererPlugin
};
extensions.add(TilingSpriteRenderer);

// ../../node_modules/.pnpm/@pixi+spritesheet@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/spritesheet/lib/Spritesheet.mjs
var _Spritesheet = class {
  constructor(texture, data, resolutionFilename = null) {
    this.linkedSheets = [];
    this._texture = texture instanceof Texture ? texture : null;
    this.baseTexture = texture instanceof BaseTexture ? texture : this._texture.baseTexture;
    this.textures = {};
    this.animations = {};
    this.data = data;
    const resource = this.baseTexture.resource;
    this.resolution = this._updateResolution(resolutionFilename || (resource ? resource.url : null));
    this._frames = this.data.frames;
    this._frameKeys = Object.keys(this._frames);
    this._batchIndex = 0;
    this._callback = null;
  }
  _updateResolution(resolutionFilename = null) {
    const { scale: scale3 } = this.data.meta;
    let resolution = lib_exports.getResolutionOfUrl(resolutionFilename, null);
    if (resolution === null) {
      resolution = parseFloat(scale3 ?? "1");
    }
    if (resolution !== 1) {
      this.baseTexture.setResolution(resolution);
    }
    return resolution;
  }
  parse() {
    return new Promise((resolve2) => {
      this._callback = resolve2;
      this._batchIndex = 0;
      if (this._frameKeys.length <= _Spritesheet.BATCH_SIZE) {
        this._processFrames(0);
        this._processAnimations();
        this._parseComplete();
      } else {
        this._nextBatch();
      }
    });
  }
  _processFrames(initialFrameIndex) {
    let frameIndex = initialFrameIndex;
    const maxFrames = _Spritesheet.BATCH_SIZE;
    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {
      const i3 = this._frameKeys[frameIndex];
      const data = this._frames[i3];
      const rect = data.frame;
      if (rect) {
        let frame = null;
        let trim = null;
        const sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;
        const orig = new Rectangle(0, 0, Math.floor(sourceSize.w) / this.resolution, Math.floor(sourceSize.h) / this.resolution);
        if (data.rotated) {
          frame = new Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.h) / this.resolution, Math.floor(rect.w) / this.resolution);
        } else {
          frame = new Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        if (data.trimmed !== false && data.spriteSourceSize) {
          trim = new Rectangle(Math.floor(data.spriteSourceSize.x) / this.resolution, Math.floor(data.spriteSourceSize.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);
        }
        this.textures[i3] = new Texture(this.baseTexture, frame, orig, trim, data.rotated ? 2 : 0, data.anchor, data.borders);
        Texture.addToCache(this.textures[i3], i3);
      }
      frameIndex++;
    }
  }
  _processAnimations() {
    const animations = this.data.animations || {};
    for (const animName in animations) {
      this.animations[animName] = [];
      for (let i3 = 0; i3 < animations[animName].length; i3++) {
        const frameName = animations[animName][i3];
        this.animations[animName].push(this.textures[frameName]);
      }
    }
  }
  _parseComplete() {
    const callback = this._callback;
    this._callback = null;
    this._batchIndex = 0;
    callback.call(this, this.textures);
  }
  _nextBatch() {
    this._processFrames(this._batchIndex * _Spritesheet.BATCH_SIZE);
    this._batchIndex++;
    setTimeout(() => {
      if (this._batchIndex * _Spritesheet.BATCH_SIZE < this._frameKeys.length) {
        this._nextBatch();
      } else {
        this._processAnimations();
        this._parseComplete();
      }
    }, 0);
  }
  destroy(destroyBase = false) {
    for (const i3 in this.textures) {
      this.textures[i3].destroy();
    }
    this._frames = null;
    this._frameKeys = null;
    this.data = null;
    this.textures = null;
    if (destroyBase) {
      this._texture?.destroy();
      this.baseTexture.destroy();
    }
    this._texture = null;
    this.baseTexture = null;
    this.linkedSheets = [];
  }
};
var Spritesheet = _Spritesheet;
Spritesheet.BATCH_SIZE = 1e3;

// ../../node_modules/.pnpm/@pixi+spritesheet@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4/node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs
var validImages = ["jpg", "png", "jpeg", "avif", "webp"];
function getCacheableAssets(keys, asset, ignoreMultiPack) {
  const out = {};
  keys.forEach((key2) => {
    out[key2] = asset;
  });
  Object.keys(asset.textures).forEach((key2) => {
    out[key2] = asset.textures[key2];
  });
  if (!ignoreMultiPack) {
    const basePath = lib_exports.path.dirname(keys[0]);
    asset.linkedSheets.forEach((item, i3) => {
      const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i3]}`], item, true);
      Object.assign(out, out2);
    });
  }
  return out;
}
var spritesheetAsset = {
  extension: ExtensionType.Asset,
  cache: {
    test: (asset) => asset instanceof Spritesheet,
    getCacheableAssets: (keys, asset) => getCacheableAssets(keys, asset, false)
  },
  resolver: {
    test: (value) => {
      const tempURL = value.split("?")[0];
      const split = tempURL.split(".");
      const extension = split.pop();
      const format3 = split.pop();
      return extension === "json" && validImages.includes(format3);
    },
    parse: (value) => {
      const split = value.split(".");
      return {
        resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? "1"),
        format: split[split.length - 2],
        src: value
      };
    }
  },
  loader: {
    name: "spritesheetLoader",
    extension: {
      type: ExtensionType.LoadParser,
      priority: LoaderParserPriority.Normal
    },
    async testParse(asset, options) {
      return lib_exports.path.extname(options.src).toLowerCase() === ".json" && !!asset.frames;
    },
    async parse(asset, options, loader) {
      let basePath = lib_exports.path.dirname(options.src);
      if (basePath && basePath.lastIndexOf("/") !== basePath.length - 1) {
        basePath += "/";
      }
      let imagePath = basePath + asset.meta.image;
      imagePath = copySearchParams(imagePath, options.src);
      const assets = await loader.load([imagePath]);
      const texture = assets[imagePath];
      const spritesheet = new Spritesheet(texture.baseTexture, asset, options.src);
      await spritesheet.parse();
      const multiPacks = asset?.meta?.related_multi_packs;
      if (Array.isArray(multiPacks)) {
        const promises = [];
        for (const item of multiPacks) {
          if (typeof item !== "string") {
            continue;
          }
          let itemUrl = basePath + item;
          if (options.data?.ignoreMultiPack) {
            continue;
          }
          itemUrl = copySearchParams(itemUrl, options.src);
          promises.push(loader.load({
            src: itemUrl,
            data: {
              ignoreMultiPack: true
            }
          }));
        }
        const res = await Promise.all(promises);
        spritesheet.linkedSheets = res;
        res.forEach((item) => {
          item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => sp !== item));
        });
      }
      return spritesheet;
    },
    unload(spritesheet) {
      spritesheet.destroy(true);
    }
  }
};
extensions.add(spritesheetAsset);

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs
var BitmapFontData = class {
  constructor() {
    this.info = [];
    this.common = [];
    this.page = [];
    this.char = [];
    this.kerning = [];
    this.distanceField = [];
  }
};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs
var TextFormat = class {
  static test(data) {
    return typeof data === "string" && data.startsWith("info face=");
  }
  static parse(txt) {
    const items = txt.match(/^[a-z]+\s+.+$/gm);
    const rawData = {
      info: [],
      common: [],
      page: [],
      char: [],
      chars: [],
      kerning: [],
      kernings: [],
      distanceField: []
    };
    for (const i3 in items) {
      const name = items[i3].match(/^[a-z]+/gm)[0];
      const attributeList = items[i3].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm);
      const itemData = {};
      for (const i22 in attributeList) {
        const split = attributeList[i22].split("=");
        const key2 = split[0];
        const strValue = split[1].replace(/"/gm, "");
        const floatValue = parseFloat(strValue);
        const value = isNaN(floatValue) ? strValue : floatValue;
        itemData[key2] = value;
      }
      rawData[name].push(itemData);
    }
    const font = new BitmapFontData();
    rawData.info.forEach((info) => font.info.push({
      face: info.face,
      size: parseInt(info.size, 10)
    }));
    rawData.common.forEach((common) => font.common.push({
      lineHeight: parseInt(common.lineHeight, 10)
    }));
    rawData.page.forEach((page) => font.page.push({
      id: parseInt(page.id, 10),
      file: page.file
    }));
    rawData.char.forEach((char) => font.char.push({
      id: parseInt(char.id, 10),
      page: parseInt(char.page, 10),
      x: parseInt(char.x, 10),
      y: parseInt(char.y, 10),
      width: parseInt(char.width, 10),
      height: parseInt(char.height, 10),
      xoffset: parseInt(char.xoffset, 10),
      yoffset: parseInt(char.yoffset, 10),
      xadvance: parseInt(char.xadvance, 10)
    }));
    rawData.kerning.forEach((kerning) => font.kerning.push({
      first: parseInt(kerning.first, 10),
      second: parseInt(kerning.second, 10),
      amount: parseInt(kerning.amount, 10)
    }));
    rawData.distanceField.forEach((df) => font.distanceField.push({
      distanceRange: parseInt(df.distanceRange, 10),
      fieldType: df.fieldType
    }));
    return font;
  }
};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs
var XMLFormat = class {
  static test(data) {
    const xml = data;
    return "getElementsByTagName" in xml && xml.getElementsByTagName("page").length && xml.getElementsByTagName("info")[0].getAttribute("face") !== null;
  }
  static parse(xml) {
    const data = new BitmapFontData();
    const info = xml.getElementsByTagName("info");
    const common = xml.getElementsByTagName("common");
    const page = xml.getElementsByTagName("page");
    const char = xml.getElementsByTagName("char");
    const kerning = xml.getElementsByTagName("kerning");
    const distanceField = xml.getElementsByTagName("distanceField");
    for (let i3 = 0; i3 < info.length; i3++) {
      data.info.push({
        face: info[i3].getAttribute("face"),
        size: parseInt(info[i3].getAttribute("size"), 10)
      });
    }
    for (let i3 = 0; i3 < common.length; i3++) {
      data.common.push({
        lineHeight: parseInt(common[i3].getAttribute("lineHeight"), 10)
      });
    }
    for (let i3 = 0; i3 < page.length; i3++) {
      data.page.push({
        id: parseInt(page[i3].getAttribute("id"), 10) || 0,
        file: page[i3].getAttribute("file")
      });
    }
    for (let i3 = 0; i3 < char.length; i3++) {
      const letter = char[i3];
      data.char.push({
        id: parseInt(letter.getAttribute("id"), 10),
        page: parseInt(letter.getAttribute("page"), 10) || 0,
        x: parseInt(letter.getAttribute("x"), 10),
        y: parseInt(letter.getAttribute("y"), 10),
        width: parseInt(letter.getAttribute("width"), 10),
        height: parseInt(letter.getAttribute("height"), 10),
        xoffset: parseInt(letter.getAttribute("xoffset"), 10),
        yoffset: parseInt(letter.getAttribute("yoffset"), 10),
        xadvance: parseInt(letter.getAttribute("xadvance"), 10)
      });
    }
    for (let i3 = 0; i3 < kerning.length; i3++) {
      data.kerning.push({
        first: parseInt(kerning[i3].getAttribute("first"), 10),
        second: parseInt(kerning[i3].getAttribute("second"), 10),
        amount: parseInt(kerning[i3].getAttribute("amount"), 10)
      });
    }
    for (let i3 = 0; i3 < distanceField.length; i3++) {
      data.distanceField.push({
        fieldType: distanceField[i3].getAttribute("fieldType"),
        distanceRange: parseInt(distanceField[i3].getAttribute("distanceRange"), 10)
      });
    }
    return data;
  }
};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs
var XMLStringFormat = class {
  static test(data) {
    if (typeof data === "string" && data.includes("<font>")) {
      return XMLFormat.test(settings.ADAPTER.parseXML(data));
    }
    return false;
  }
  static parse(xmlTxt) {
    return XMLFormat.parse(settings.ADAPTER.parseXML(xmlTxt));
  }
};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/formats/index.mjs
var formats = [
  TextFormat,
  XMLFormat,
  XMLStringFormat
];
function autoDetectFormat(data) {
  for (let i3 = 0; i3 < formats.length; i3++) {
    if (formats[i3].test(data)) {
      return formats[i3];
    }
  }
  return null;
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs
function generateFillStyle(canvas, context2, style, resolution, lines, metrics) {
  const fillStyle = style.fill;
  if (!Array.isArray(fillStyle)) {
    return fillStyle;
  } else if (fillStyle.length === 1) {
    return fillStyle[0];
  }
  let gradient;
  const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;
  const padding = style.padding || 0;
  const width = canvas.width / resolution - dropShadowCorrection - padding * 2;
  const height = canvas.height / resolution - dropShadowCorrection - padding * 2;
  const fill = fillStyle.slice();
  const fillGradientStops = style.fillGradientStops.slice();
  if (!fillGradientStops.length) {
    const lengthPlus1 = fill.length + 1;
    for (let i3 = 1; i3 < lengthPlus1; ++i3) {
      fillGradientStops.push(i3 / lengthPlus1);
    }
  }
  fill.unshift(fillStyle[0]);
  fillGradientStops.unshift(0);
  fill.push(fillStyle[fillStyle.length - 1]);
  fillGradientStops.push(1);
  if (style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL) {
    gradient = context2.createLinearGradient(width / 2, padding, width / 2, height + padding);
    let lastIterationStop = 0;
    const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;
    const gradStopLineHeight = textHeight / height;
    for (let i3 = 0; i3 < lines.length; i3++) {
      const thisLineTop = metrics.lineHeight * i3;
      for (let j3 = 0; j3 < fill.length; j3++) {
        let lineStop = 0;
        if (typeof fillGradientStops[j3] === "number") {
          lineStop = fillGradientStops[j3];
        } else {
          lineStop = j3 / fill.length;
        }
        const globalStop = thisLineTop / height + lineStop * gradStopLineHeight;
        let clampedStop = Math.max(lastIterationStop, globalStop);
        clampedStop = Math.min(clampedStop, 1);
        gradient.addColorStop(clampedStop, fill[j3]);
        lastIterationStop = clampedStop;
      }
    }
  } else {
    gradient = context2.createLinearGradient(padding, height / 2, width + padding, height / 2);
    const totalIterations = fill.length + 1;
    let currentIteration = 1;
    for (let i3 = 0; i3 < fill.length; i3++) {
      let stop;
      if (typeof fillGradientStops[i3] === "number") {
        stop = fillGradientStops[i3];
      } else {
        stop = currentIteration / totalIterations;
      }
      gradient.addColorStop(stop, fill[i3]);
      currentIteration++;
    }
  }
  return gradient;
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs
function drawGlyph(canvas, context2, metrics, x2, y2, resolution, style) {
  const char = metrics.text;
  const fontProperties = metrics.fontProperties;
  context2.translate(x2, y2);
  context2.scale(resolution, resolution);
  const tx = style.strokeThickness / 2;
  const ty = -(style.strokeThickness / 2);
  context2.font = style.toFontString();
  context2.lineWidth = style.strokeThickness;
  context2.textBaseline = style.textBaseline;
  context2.lineJoin = style.lineJoin;
  context2.miterLimit = style.miterLimit;
  context2.fillStyle = generateFillStyle(canvas, context2, style, resolution, [char], metrics);
  context2.strokeStyle = style.stroke;
  if (style.dropShadow) {
    const dropShadowColor = style.dropShadowColor;
    const dropShadowBlur = style.dropShadowBlur * resolution;
    const dropShadowDistance = style.dropShadowDistance * resolution;
    context2.shadowColor = Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();
    context2.shadowBlur = dropShadowBlur;
    context2.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;
    context2.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance;
  } else {
    context2.shadowColor = "black";
    context2.shadowBlur = 0;
    context2.shadowOffsetX = 0;
    context2.shadowOffsetY = 0;
  }
  if (style.stroke && style.strokeThickness) {
    context2.strokeText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  if (style.fill) {
    context2.fillText(char, tx, ty + metrics.lineHeight - fontProperties.descent);
  }
  context2.setTransform(1, 0, 0, 1, 0, 0);
  context2.fillStyle = "rgba(0, 0, 0, 0)";
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs
function extractCharCode(str) {
  return str.codePointAt ? str.codePointAt(0) : str.charCodeAt(0);
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs
function splitTextToCharacters(text) {
  return Array.from ? Array.from(text) : text.split("");
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs
function resolveCharacters(chars) {
  if (typeof chars === "string") {
    chars = [chars];
  }
  const result = [];
  for (let i3 = 0, j3 = chars.length; i3 < j3; i3++) {
    const item = chars[i3];
    if (Array.isArray(item)) {
      if (item.length !== 2) {
        throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);
      }
      const startCode = item[0].charCodeAt(0);
      const endCode = item[1].charCodeAt(0);
      if (endCode < startCode) {
        throw new Error("[BitmapFont]: Invalid character range.");
      }
      for (let i22 = startCode, j22 = endCode; i22 <= j22; i22++) {
        result.push(String.fromCharCode(i22));
      }
    } else {
      result.push(...splitTextToCharacters(item));
    }
  }
  if (result.length === 0) {
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  }
  return result;
}

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs
var _BitmapFont = class {
  constructor(data, textures, ownsTextures) {
    const [info] = data.info;
    const [common] = data.common;
    const [page] = data.page;
    const [distanceField] = data.distanceField;
    const res = lib_exports.getResolutionOfUrl(page.file);
    const pageTextures = {};
    this._ownsTextures = ownsTextures;
    this.font = info.face;
    this.size = info.size;
    this.lineHeight = common.lineHeight / res;
    this.chars = {};
    this.pageTextures = pageTextures;
    for (let i3 = 0; i3 < data.page.length; i3++) {
      const { id, file } = data.page[i3];
      pageTextures[id] = textures instanceof Array ? textures[i3] : textures[file];
      if (distanceField?.fieldType && distanceField.fieldType !== "none") {
        pageTextures[id].baseTexture.alphaMode = ALPHA_MODES.NO_PREMULTIPLIED_ALPHA;
        pageTextures[id].baseTexture.mipmap = MIPMAP_MODES.OFF;
      }
    }
    for (let i3 = 0; i3 < data.char.length; i3++) {
      const { id, page: page2 } = data.char[i3];
      let { x: x2, y: y2, width, height, xoffset, yoffset, xadvance } = data.char[i3];
      x2 /= res;
      y2 /= res;
      width /= res;
      height /= res;
      xoffset /= res;
      yoffset /= res;
      xadvance /= res;
      const rect = new Rectangle(x2 + pageTextures[page2].frame.x / res, y2 + pageTextures[page2].frame.y / res, width, height);
      this.chars[id] = {
        xOffset: xoffset,
        yOffset: yoffset,
        xAdvance: xadvance,
        kerning: {},
        texture: new Texture(pageTextures[page2].baseTexture, rect),
        page: page2
      };
    }
    for (let i3 = 0; i3 < data.kerning.length; i3++) {
      let { first, second, amount } = data.kerning[i3];
      first /= res;
      second /= res;
      amount /= res;
      if (this.chars[second]) {
        this.chars[second].kerning[first] = amount;
      }
    }
    this.distanceFieldRange = distanceField?.distanceRange;
    this.distanceFieldType = distanceField?.fieldType?.toLowerCase() ?? "none";
  }
  destroy() {
    for (const id in this.chars) {
      this.chars[id].texture.destroy();
      this.chars[id].texture = null;
    }
    for (const id in this.pageTextures) {
      if (this._ownsTextures) {
        this.pageTextures[id].destroy(true);
      }
      this.pageTextures[id] = null;
    }
    this.chars = null;
    this.pageTextures = null;
  }
  static install(data, textures, ownsTextures) {
    let fontData;
    if (data instanceof BitmapFontData) {
      fontData = data;
    } else {
      const format3 = autoDetectFormat(data);
      if (!format3) {
        throw new Error("Unrecognized data format for font.");
      }
      fontData = format3.parse(data);
    }
    if (textures instanceof Texture) {
      textures = [textures];
    }
    const font = new _BitmapFont(fontData, textures, ownsTextures);
    _BitmapFont.available[font.font] = font;
    return font;
  }
  static uninstall(name) {
    const font = _BitmapFont.available[name];
    if (!font) {
      throw new Error(`No font found named '${name}'`);
    }
    font.destroy();
    delete _BitmapFont.available[name];
  }
  static from(name, textStyle, options) {
    if (!name) {
      throw new Error("[BitmapFont] Property `name` is required.");
    }
    const {
      chars,
      padding,
      resolution,
      textureWidth,
      textureHeight,
      ...baseOptions
    } = Object.assign({}, _BitmapFont.defaultOptions, options);
    const charsList = resolveCharacters(chars);
    const style = textStyle instanceof TextStyle ? textStyle : new TextStyle(textStyle);
    const lineWidth = textureWidth;
    const fontData = new BitmapFontData();
    fontData.info[0] = {
      face: style.fontFamily,
      size: style.fontSize
    };
    fontData.common[0] = {
      lineHeight: style.fontSize
    };
    let positionX = 0;
    let positionY = 0;
    let canvas;
    let context2;
    let baseTexture;
    let maxCharHeight = 0;
    const baseTextures = [];
    const textures = [];
    for (let i3 = 0; i3 < charsList.length; i3++) {
      if (!canvas) {
        canvas = settings.ADAPTER.createCanvas();
        canvas.width = textureWidth;
        canvas.height = textureHeight;
        context2 = canvas.getContext("2d");
        baseTexture = new BaseTexture(canvas, { resolution, ...baseOptions });
        baseTextures.push(baseTexture);
        textures.push(new Texture(baseTexture));
        fontData.page.push({
          id: textures.length - 1,
          file: ""
        });
      }
      const character = charsList[i3];
      const metrics = TextMetrics.measureText(character, style, false, canvas);
      const width = metrics.width;
      const height = Math.ceil(metrics.height);
      const textureGlyphWidth = Math.ceil((style.fontStyle === "italic" ? 2 : 1) * width);
      if (positionY >= textureHeight - height * resolution) {
        if (positionY === 0) {
          throw new Error(`[BitmapFont] textureHeight ${textureHeight}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i3;
        canvas = null;
        context2 = null;
        baseTexture = null;
        positionY = 0;
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      maxCharHeight = Math.max(height + metrics.fontProperties.descent, maxCharHeight);
      if (textureGlyphWidth * resolution + positionX >= lineWidth) {
        if (positionX === 0) {
          throw new Error(`[BitmapFont] textureWidth ${textureWidth}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);
        }
        --i3;
        positionY += maxCharHeight * resolution;
        positionY = Math.ceil(positionY);
        positionX = 0;
        maxCharHeight = 0;
        continue;
      }
      drawGlyph(canvas, context2, metrics, positionX, positionY, resolution, style);
      const id = extractCharCode(metrics.text);
      fontData.char.push({
        id,
        page: textures.length - 1,
        x: positionX / resolution,
        y: positionY / resolution,
        width: textureGlyphWidth,
        height,
        xoffset: 0,
        yoffset: 0,
        xadvance: width - (style.dropShadow ? style.dropShadowDistance : 0) - (style.stroke ? style.strokeThickness : 0)
      });
      positionX += (textureGlyphWidth + 2 * padding) * resolution;
      positionX = Math.ceil(positionX);
    }
    for (let i3 = 0, len = charsList.length; i3 < len; i3++) {
      const first = charsList[i3];
      for (let j3 = 0; j3 < len; j3++) {
        const second = charsList[j3];
        const c1 = context2.measureText(first).width;
        const c2 = context2.measureText(second).width;
        const total = context2.measureText(first + second).width;
        const amount = total - (c1 + c2);
        if (amount) {
          fontData.kerning.push({
            first: extractCharCode(first),
            second: extractCharCode(second),
            amount
          });
        }
      }
    }
    const font = new _BitmapFont(fontData, textures, true);
    if (_BitmapFont.available[name] !== void 0) {
      _BitmapFont.uninstall(name);
    }
    _BitmapFont.available[name] = font;
    return font;
  }
};
var BitmapFont = _BitmapFont;
BitmapFont.ALPHA = [["a", "z"], ["A", "Z"], " "];
BitmapFont.NUMERIC = [["0", "9"]];
BitmapFont.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "];
BitmapFont.ASCII = [[" ", "~"]];
BitmapFont.defaultOptions = {
  resolution: 1,
  textureWidth: 512,
  textureHeight: 512,
  padding: 4,
  chars: _BitmapFont.ALPHANUMERIC
};
BitmapFont.available = {};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs
var msdfFrag = "// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n";

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs
var msdfVert = "// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n";

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/BitmapText.mjs
var pageMeshDataDefaultPageMeshData = [];
var pageMeshDataMSDFPageMeshData = [];
var charRenderDataPool = [];
var _BitmapText = class extends Container {
  constructor(text, style = {}) {
    super();
    const { align, tint, maxWidth, letterSpacing, fontName, fontSize } = Object.assign({}, _BitmapText.styleDefaults, style);
    if (!BitmapFont.available[fontName]) {
      throw new Error(`Missing BitmapFont "${fontName}"`);
    }
    this._activePagesMeshData = [];
    this._textWidth = 0;
    this._textHeight = 0;
    this._align = align;
    this._tintColor = new Color(tint);
    this._font = void 0;
    this._fontName = fontName;
    this._fontSize = fontSize;
    this.text = text;
    this._maxWidth = maxWidth;
    this._maxLineHeight = 0;
    this._letterSpacing = letterSpacing;
    this._anchor = new ObservablePoint(() => {
      this.dirty = true;
    }, this, 0, 0);
    this._roundPixels = settings.ROUND_PIXELS;
    this.dirty = true;
    this._resolution = settings.RESOLUTION;
    this._autoResolution = true;
    this._textureCache = {};
  }
  updateText() {
    const data = BitmapFont.available[this._fontName];
    const fontSize = this.fontSize;
    const scale3 = fontSize / data.size;
    const pos = new Point();
    const chars = [];
    const lineWidths = [];
    const lineSpaces = [];
    const text = this._text.replace(/(?:\r\n|\r)/g, "\n") || " ";
    const charsInput = splitTextToCharacters(text);
    const maxWidth = this._maxWidth * data.size / fontSize;
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    let prevCharCode = null;
    let lastLineWidth = 0;
    let maxLineWidth = 0;
    let line = 0;
    let lastBreakPos = -1;
    let lastBreakWidth = 0;
    let spacesRemoved = 0;
    let maxLineHeight = 0;
    let spaceCount = 0;
    for (let i3 = 0; i3 < charsInput.length; i3++) {
      const char = charsInput[i3];
      const charCode = extractCharCode(char);
      if (/(?:\s)/.test(char)) {
        lastBreakPos = i3;
        lastBreakWidth = lastLineWidth;
        spaceCount++;
      }
      if (char === "\r" || char === "\n") {
        lineWidths.push(lastLineWidth);
        lineSpaces.push(-1);
        maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
        ++line;
        ++spacesRemoved;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
        continue;
      }
      const charData = data.chars[charCode];
      if (!charData) {
        continue;
      }
      if (prevCharCode && charData.kerning[prevCharCode]) {
        pos.x += charData.kerning[prevCharCode];
      }
      const charRenderData = charRenderDataPool.pop() || {
        texture: Texture.EMPTY,
        line: 0,
        charCode: 0,
        prevSpaces: 0,
        position: new Point()
      };
      charRenderData.texture = charData.texture;
      charRenderData.line = line;
      charRenderData.charCode = charCode;
      charRenderData.position.x = Math.round(pos.x + charData.xOffset + this._letterSpacing / 2);
      charRenderData.position.y = Math.round(pos.y + charData.yOffset);
      charRenderData.prevSpaces = spaceCount;
      chars.push(charRenderData);
      lastLineWidth = charRenderData.position.x + Math.max(charData.xAdvance - charData.xOffset, charData.texture.orig.width);
      pos.x += charData.xAdvance + this._letterSpacing;
      maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height);
      prevCharCode = charCode;
      if (lastBreakPos !== -1 && maxWidth > 0 && pos.x > maxWidth) {
        ++spacesRemoved;
        lib_exports.removeItems(chars, 1 + lastBreakPos - spacesRemoved, 1 + i3 - lastBreakPos);
        i3 = lastBreakPos;
        lastBreakPos = -1;
        lineWidths.push(lastBreakWidth);
        lineSpaces.push(chars.length > 0 ? chars[chars.length - 1].prevSpaces : 0);
        maxLineWidth = Math.max(maxLineWidth, lastBreakWidth);
        line++;
        pos.x = 0;
        pos.y += data.lineHeight;
        prevCharCode = null;
        spaceCount = 0;
      }
    }
    const lastChar = charsInput[charsInput.length - 1];
    if (lastChar !== "\r" && lastChar !== "\n") {
      if (/(?:\s)/.test(lastChar)) {
        lastLineWidth = lastBreakWidth;
      }
      lineWidths.push(lastLineWidth);
      maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
      lineSpaces.push(-1);
    }
    const lineAlignOffsets = [];
    for (let i3 = 0; i3 <= line; i3++) {
      let alignOffset = 0;
      if (this._align === "right") {
        alignOffset = maxLineWidth - lineWidths[i3];
      } else if (this._align === "center") {
        alignOffset = (maxLineWidth - lineWidths[i3]) / 2;
      } else if (this._align === "justify") {
        alignOffset = lineSpaces[i3] < 0 ? 0 : (maxLineWidth - lineWidths[i3]) / lineSpaces[i3];
      }
      lineAlignOffsets.push(alignOffset);
    }
    const lenChars = chars.length;
    const pagesMeshData = {};
    const newPagesMeshData = [];
    const activePagesMeshData = this._activePagesMeshData;
    pageMeshDataPool.push(...activePagesMeshData);
    for (let i3 = 0; i3 < lenChars; i3++) {
      const texture = chars[i3].texture;
      const baseTextureUid = texture.baseTexture.uid;
      if (!pagesMeshData[baseTextureUid]) {
        let pageMeshData = pageMeshDataPool.pop();
        if (!pageMeshData) {
          const geometry = new MeshGeometry();
          let material;
          let meshBlendMode;
          if (data.distanceFieldType === "none") {
            material = new MeshMaterial(Texture.EMPTY);
            meshBlendMode = BLEND_MODES.NORMAL;
          } else {
            material = new MeshMaterial(Texture.EMPTY, { program: Program.from(msdfVert, msdfFrag), uniforms: { uFWidth: 0 } });
            meshBlendMode = BLEND_MODES.NORMAL_NPM;
          }
          const mesh = new Mesh(geometry, material);
          mesh.blendMode = meshBlendMode;
          pageMeshData = {
            index: 0,
            indexCount: 0,
            vertexCount: 0,
            uvsCount: 0,
            total: 0,
            mesh,
            vertices: null,
            uvs: null,
            indices: null
          };
        }
        pageMeshData.index = 0;
        pageMeshData.indexCount = 0;
        pageMeshData.vertexCount = 0;
        pageMeshData.uvsCount = 0;
        pageMeshData.total = 0;
        const { _textureCache } = this;
        _textureCache[baseTextureUid] = _textureCache[baseTextureUid] || new Texture(texture.baseTexture);
        pageMeshData.mesh.texture = _textureCache[baseTextureUid];
        pageMeshData.mesh.tint = this._tintColor.value;
        newPagesMeshData.push(pageMeshData);
        pagesMeshData[baseTextureUid] = pageMeshData;
      }
      pagesMeshData[baseTextureUid].total++;
    }
    for (let i3 = 0; i3 < activePagesMeshData.length; i3++) {
      if (!newPagesMeshData.includes(activePagesMeshData[i3])) {
        this.removeChild(activePagesMeshData[i3].mesh);
      }
    }
    for (let i3 = 0; i3 < newPagesMeshData.length; i3++) {
      if (newPagesMeshData[i3].mesh.parent !== this) {
        this.addChild(newPagesMeshData[i3].mesh);
      }
    }
    this._activePagesMeshData = newPagesMeshData;
    for (const i3 in pagesMeshData) {
      const pageMeshData = pagesMeshData[i3];
      const total = pageMeshData.total;
      if (!(pageMeshData.indices?.length > 6 * total) || pageMeshData.vertices.length < Mesh.BATCHABLE_SIZE * 2) {
        pageMeshData.vertices = new Float32Array(4 * 2 * total);
        pageMeshData.uvs = new Float32Array(4 * 2 * total);
        pageMeshData.indices = new Uint16Array(6 * total);
      } else {
        const total2 = pageMeshData.total;
        const vertices = pageMeshData.vertices;
        for (let i22 = total2 * 4 * 2; i22 < vertices.length; i22++) {
          vertices[i22] = 0;
        }
      }
      pageMeshData.mesh.size = 6 * total;
    }
    for (let i3 = 0; i3 < lenChars; i3++) {
      const char = chars[i3];
      let offset = char.position.x + lineAlignOffsets[char.line] * (this._align === "justify" ? char.prevSpaces : 1);
      if (this._roundPixels) {
        offset = Math.round(offset);
      }
      const xPos = offset * scale3;
      const yPos = char.position.y * scale3;
      const texture = char.texture;
      const pageMesh = pagesMeshData[texture.baseTexture.uid];
      const textureFrame = texture.frame;
      const textureUvs = texture._uvs;
      const index = pageMesh.index++;
      pageMesh.indices[index * 6 + 0] = 0 + index * 4;
      pageMesh.indices[index * 6 + 1] = 1 + index * 4;
      pageMesh.indices[index * 6 + 2] = 2 + index * 4;
      pageMesh.indices[index * 6 + 3] = 0 + index * 4;
      pageMesh.indices[index * 6 + 4] = 2 + index * 4;
      pageMesh.indices[index * 6 + 5] = 3 + index * 4;
      pageMesh.vertices[index * 8 + 0] = xPos;
      pageMesh.vertices[index * 8 + 1] = yPos;
      pageMesh.vertices[index * 8 + 2] = xPos + textureFrame.width * scale3;
      pageMesh.vertices[index * 8 + 3] = yPos;
      pageMesh.vertices[index * 8 + 4] = xPos + textureFrame.width * scale3;
      pageMesh.vertices[index * 8 + 5] = yPos + textureFrame.height * scale3;
      pageMesh.vertices[index * 8 + 6] = xPos;
      pageMesh.vertices[index * 8 + 7] = yPos + textureFrame.height * scale3;
      pageMesh.uvs[index * 8 + 0] = textureUvs.x0;
      pageMesh.uvs[index * 8 + 1] = textureUvs.y0;
      pageMesh.uvs[index * 8 + 2] = textureUvs.x1;
      pageMesh.uvs[index * 8 + 3] = textureUvs.y1;
      pageMesh.uvs[index * 8 + 4] = textureUvs.x2;
      pageMesh.uvs[index * 8 + 5] = textureUvs.y2;
      pageMesh.uvs[index * 8 + 6] = textureUvs.x3;
      pageMesh.uvs[index * 8 + 7] = textureUvs.y3;
    }
    this._textWidth = maxLineWidth * scale3;
    this._textHeight = (pos.y + data.lineHeight) * scale3;
    for (const i3 in pagesMeshData) {
      const pageMeshData = pagesMeshData[i3];
      if (this.anchor.x !== 0 || this.anchor.y !== 0) {
        let vertexCount = 0;
        const anchorOffsetX = this._textWidth * this.anchor.x;
        const anchorOffsetY = this._textHeight * this.anchor.y;
        for (let i22 = 0; i22 < pageMeshData.total; i22++) {
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;
          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;
        }
      }
      this._maxLineHeight = maxLineHeight * scale3;
      const vertexBuffer = pageMeshData.mesh.geometry.getBuffer("aVertexPosition");
      const textureBuffer = pageMeshData.mesh.geometry.getBuffer("aTextureCoord");
      const indexBuffer = pageMeshData.mesh.geometry.getIndex();
      vertexBuffer.data = pageMeshData.vertices;
      textureBuffer.data = pageMeshData.uvs;
      indexBuffer.data = pageMeshData.indices;
      vertexBuffer.update();
      textureBuffer.update();
      indexBuffer.update();
    }
    for (let i3 = 0; i3 < chars.length; i3++) {
      charRenderDataPool.push(chars[i3]);
    }
    this._font = data;
    this.dirty = false;
  }
  updateTransform() {
    this.validate();
    this.containerUpdateTransform();
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    const { distanceFieldRange, distanceFieldType, size } = BitmapFont.available[this._fontName];
    if (distanceFieldType !== "none") {
      const { a: a2, b: b3, c: c2, d: d2 } = this.worldTransform;
      const dx = Math.sqrt(a2 * a2 + b3 * b3);
      const dy = Math.sqrt(c2 * c2 + d2 * d2);
      const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;
      const fontScale = this.fontSize / size;
      const resolution = renderer._view.resolution;
      for (const mesh of this._activePagesMeshData) {
        mesh.mesh.shader.uniforms.uFWidth = worldScale * distanceFieldRange * fontScale * resolution;
      }
    }
    super._render(renderer);
  }
  getLocalBounds() {
    this.validate();
    return super.getLocalBounds();
  }
  validate() {
    const font = BitmapFont.available[this._fontName];
    if (!font) {
      throw new Error(`Missing BitmapFont "${this._fontName}"`);
    }
    if (this._font !== font) {
      this.dirty = true;
    }
    if (this.dirty) {
      this.updateText();
    }
  }
  get tint() {
    return this._tintColor.value;
  }
  set tint(value) {
    if (this.tint === value)
      return;
    this._tintColor.setValue(value);
    for (let i3 = 0; i3 < this._activePagesMeshData.length; i3++) {
      this._activePagesMeshData[i3].mesh.tint = value;
    }
  }
  get align() {
    return this._align;
  }
  set align(value) {
    if (this._align !== value) {
      this._align = value;
      this.dirty = true;
    }
  }
  get fontName() {
    return this._fontName;
  }
  set fontName(value) {
    if (!BitmapFont.available[value]) {
      throw new Error(`Missing BitmapFont "${value}"`);
    }
    if (this._fontName !== value) {
      this._fontName = value;
      this.dirty = true;
    }
  }
  get fontSize() {
    return this._fontSize ?? BitmapFont.available[this._fontName].size;
  }
  set fontSize(value) {
    if (this._fontSize !== value) {
      this._fontSize = value;
      this.dirty = true;
    }
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(value) {
    if (typeof value === "number") {
      this._anchor.set(value);
    } else {
      this._anchor.copyFrom(value);
    }
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === null || text === void 0 ? "" : text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get maxWidth() {
    return this._maxWidth;
  }
  set maxWidth(value) {
    if (this._maxWidth === value) {
      return;
    }
    this._maxWidth = value;
    this.dirty = true;
  }
  get maxLineHeight() {
    this.validate();
    return this._maxLineHeight;
  }
  get textWidth() {
    this.validate();
    return this._textWidth;
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(value) {
    if (this._letterSpacing !== value) {
      this._letterSpacing = value;
      this.dirty = true;
    }
  }
  get roundPixels() {
    return this._roundPixels;
  }
  set roundPixels(value) {
    if (value !== this._roundPixels) {
      this._roundPixels = value;
      this.dirty = true;
    }
  }
  get textHeight() {
    this.validate();
    return this._textHeight;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
  destroy(options) {
    const { _textureCache } = this;
    const data = BitmapFont.available[this._fontName];
    const pageMeshDataPool = data.distanceFieldType === "none" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;
    pageMeshDataPool.push(...this._activePagesMeshData);
    for (const pageMeshData of this._activePagesMeshData) {
      this.removeChild(pageMeshData.mesh);
    }
    this._activePagesMeshData = [];
    pageMeshDataPool.filter((page) => _textureCache[page.mesh.texture.baseTexture.uid]).forEach((page) => {
      page.mesh.texture = Texture.EMPTY;
    });
    for (const id in _textureCache) {
      const texture = _textureCache[id];
      texture.destroy();
      delete _textureCache[id];
    }
    this._font = null;
    this._tintColor = null;
    this._textureCache = null;
    super.destroy(options);
  }
};
var BitmapText = _BitmapText;
BitmapText.styleDefaults = {
  align: "left",
  tint: 16777215,
  maxWidth: 0,
  letterSpacing: 0
};

// ../../node_modules/.pnpm/@pixi+text-bitmap@7.2.4_@pixi+assets@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+mesh@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs
var validExtensions = [".xml", ".fnt"];
var loadBitmapFont = {
  extension: {
    type: ExtensionType.LoadParser,
    priority: LoaderParserPriority.Normal
  },
  name: "loadBitmapFont",
  test(url2) {
    return validExtensions.includes(lib_exports.path.extname(url2).toLowerCase());
  },
  async testParse(data) {
    return TextFormat.test(data) || XMLStringFormat.test(data);
  },
  async parse(asset, data, loader) {
    const fontData = TextFormat.test(asset) ? TextFormat.parse(asset) : XMLStringFormat.parse(asset);
    const { src } = data;
    const { page: pages } = fontData;
    const textureUrls = [];
    for (let i3 = 0; i3 < pages.length; ++i3) {
      const pageFile = pages[i3].file;
      let imagePath = lib_exports.path.join(lib_exports.path.dirname(src), pageFile);
      imagePath = copySearchParams(imagePath, src);
      textureUrls.push(imagePath);
    }
    const loadedTextures = await loader.load(textureUrls);
    const textures = textureUrls.map((url2) => loadedTextures[url2]);
    return BitmapFont.install(fontData, textures, true);
  },
  async load(url2, _options) {
    const response = await settings.ADAPTER.fetch(url2);
    return response.text();
  },
  unload(bitmapFont) {
    bitmapFont.destroy();
  }
};
extensions.add(loadBitmapFont);

// ../../node_modules/.pnpm/@pixi+text-html@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs
var _HTMLTextStyle = class extends TextStyle {
  constructor() {
    super(...arguments);
    this._fonts = [];
    this._overrides = [];
    this._stylesheet = "";
    this.fontsDirty = false;
  }
  static from(originalStyle) {
    return new _HTMLTextStyle(Object.keys(_HTMLTextStyle.defaultOptions).reduce((obj, prop) => ({ ...obj, [prop]: originalStyle[prop] }), {}));
  }
  cleanFonts() {
    if (this._fonts.length > 0) {
      this._fonts.forEach((font) => {
        URL.revokeObjectURL(font.src);
        font.refs--;
        if (font.refs === 0) {
          if (font.fontFace) {
            document.fonts.delete(font.fontFace);
          }
          delete _HTMLTextStyle.availableFonts[font.originalUrl];
        }
      });
      this.fontFamily = "Arial";
      this._fonts.length = 0;
      this.styleID++;
      this.fontsDirty = true;
    }
  }
  loadFont(url2, options = {}) {
    const { availableFonts } = _HTMLTextStyle;
    if (availableFonts[url2]) {
      const font = availableFonts[url2];
      this._fonts.push(font);
      font.refs++;
      this.styleID++;
      this.fontsDirty = true;
      return Promise.resolve();
    }
    return settings.ADAPTER.fetch(url2).then((response) => response.blob()).then(async (blob) => new Promise((resolve2, reject) => {
      const src = URL.createObjectURL(blob);
      const reader = new FileReader();
      reader.onload = () => resolve2([src, reader.result]);
      reader.onerror = reject;
      reader.readAsDataURL(blob);
    })).then(async ([src, dataSrc]) => {
      const font = Object.assign({
        family: lib_exports.path.basename(url2, lib_exports.path.extname(url2)),
        weight: "normal",
        style: "normal",
        src,
        dataSrc,
        refs: 1,
        originalUrl: url2,
        fontFace: null
      }, options);
      availableFonts[url2] = font;
      this._fonts.push(font);
      this.styleID++;
      const fontFace = new FontFace(font.family, `url(${font.src})`, {
        weight: font.weight,
        style: font.style
      });
      font.fontFace = fontFace;
      await fontFace.load();
      document.fonts.add(fontFace);
      await document.fonts.ready;
      this.styleID++;
      this.fontsDirty = true;
    });
  }
  addOverride(...value) {
    const toAdd = value.filter((v2) => !this._overrides.includes(v2));
    if (toAdd.length > 0) {
      this._overrides.push(...toAdd);
      this.styleID++;
    }
  }
  removeOverride(...value) {
    const toRemove = value.filter((v2) => this._overrides.includes(v2));
    if (toRemove.length > 0) {
      this._overrides = this._overrides.filter((v2) => !toRemove.includes(v2));
      this.styleID++;
    }
  }
  toCSS(scale3) {
    return [
      `transform: scale(${scale3})`,
      `transform-origin: top left`,
      "display: inline-block",
      `color: ${this.normalizeColor(this.fill)}`,
      `font-size: ${this.fontSize}px`,
      `font-family: ${this.fontFamily}`,
      `font-weight: ${this.fontWeight}`,
      `font-style: ${this.fontStyle}`,
      `font-variant: ${this.fontVariant}`,
      `letter-spacing: ${this.letterSpacing}px`,
      `text-align: ${this.align}`,
      `padding: ${this.padding}px`,
      `white-space: ${this.whiteSpace}`,
      ...this.lineHeight ? [`line-height: ${this.lineHeight}px`] : [],
      ...this.wordWrap ? [
        `word-wrap: ${this.breakWords ? "break-all" : "break-word"}`,
        `max-width: ${this.wordWrapWidth}px`
      ] : [],
      ...this.strokeThickness ? [
        `-webkit-text-stroke-width: ${this.strokeThickness}px`,
        `-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,
        `text-stroke-width: ${this.strokeThickness}px`,
        `text-stroke-color: ${this.normalizeColor(this.stroke)}`,
        "paint-order: stroke"
      ] : [],
      ...this.dropShadow ? [this.dropShadowToCSS()] : [],
      ...this._overrides
    ].join(";");
  }
  toGlobalCSS() {
    return this._fonts.reduce((result, font) => `${result}
            @font-face {
                font-family: "${font.family}";
                src: url('${font.dataSrc}');
                font-weight: ${font.weight};
                font-style: ${font.style}; 
            }`, this._stylesheet);
  }
  get stylesheet() {
    return this._stylesheet;
  }
  set stylesheet(value) {
    if (this._stylesheet !== value) {
      this._stylesheet = value;
      this.styleID++;
    }
  }
  normalizeColor(color) {
    if (Array.isArray(color)) {
      color = lib_exports.rgb2hex(color);
    }
    if (typeof color === "number") {
      return lib_exports.hex2string(color);
    }
    return color;
  }
  dropShadowToCSS() {
    let color = this.normalizeColor(this.dropShadowColor);
    const alpha = this.dropShadowAlpha;
    const x2 = Math.round(Math.cos(this.dropShadowAngle) * this.dropShadowDistance);
    const y2 = Math.round(Math.sin(this.dropShadowAngle) * this.dropShadowDistance);
    if (color.startsWith("#") && alpha < 1) {
      color += (alpha * 255 | 0).toString(16).padStart(2, "0");
    }
    const position = `${x2}px ${y2}px`;
    if (this.dropShadowBlur > 0) {
      return `text-shadow: ${position} ${this.dropShadowBlur}px ${color}`;
    }
    return `text-shadow: ${position} ${color}`;
  }
  reset() {
    Object.assign(this, _HTMLTextStyle.defaultOptions);
  }
  onBeforeDraw() {
    const { fontsDirty: prevFontsDirty } = this;
    this.fontsDirty = false;
    if (this.isSafari && this._fonts.length > 0 && prevFontsDirty) {
      return new Promise((resolve2) => setTimeout(resolve2, 100));
    }
    return Promise.resolve();
  }
  get isSafari() {
    const { userAgent } = settings.ADAPTER.getNavigator();
    return /^((?!chrome|android).)*safari/i.test(userAgent);
  }
  set fillGradientStops(_value) {
    console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText");
  }
  get fillGradientStops() {
    return super.fillGradientStops;
  }
  set fillGradientType(_value) {
    console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText");
  }
  get fillGradientType() {
    return super.fillGradientType;
  }
  set miterLimit(_value) {
    console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText");
  }
  get miterLimit() {
    return super.miterLimit;
  }
  set trim(_value) {
    console.warn("[HTMLTextStyle] trim is not supported by HTMLText");
  }
  get trim() {
    return super.trim;
  }
  set textBaseline(_value) {
    console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText");
  }
  get textBaseline() {
    return super.textBaseline;
  }
  set leading(_value) {
    console.warn("[HTMLTextStyle] leading is not supported by HTMLText");
  }
  get leading() {
    return super.leading;
  }
  set lineJoin(_value) {
    console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText");
  }
  get lineJoin() {
    return super.lineJoin;
  }
};
var HTMLTextStyle = _HTMLTextStyle;
HTMLTextStyle.availableFonts = {};
HTMLTextStyle.defaultOptions = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  letterSpacing: 0,
  lineHeight: 0,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  whiteSpace: "normal",
  wordWrap: false,
  wordWrapWidth: 100
};

// ../../node_modules/.pnpm/@pixi+text-html@7.2.4_@pixi+core@7.2.4_@pixi+display@7.2.4_@pixi+sprite@7.2.4_@pixi+text@7.2.4/node_modules/@pixi/text-html/lib/HTMLText.mjs
var _HTMLText = class extends Sprite {
  constructor(text = "", style = {}) {
    super(Texture.EMPTY);
    this._text = null;
    this._style = null;
    this._autoResolution = true;
    this._loading = false;
    this.localStyleID = -1;
    this.dirty = false;
    this.ownsStyle = false;
    const image = new Image();
    const texture = Texture.from(image, {
      scaleMode: settings.SCALE_MODE,
      resourceOptions: {
        autoLoad: false
      }
    });
    texture.orig = new Rectangle();
    texture.trim = new Rectangle();
    this.texture = texture;
    const nssvg = "http://www.w3.org/2000/svg";
    const nsxhtml = "http://www.w3.org/1999/xhtml";
    const svgRoot = document.createElementNS(nssvg, "svg");
    const foreignObject = document.createElementNS(nssvg, "foreignObject");
    const domElement = document.createElementNS(nsxhtml, "div");
    const styleElement = document.createElementNS(nsxhtml, "style");
    foreignObject.setAttribute("width", "10000");
    foreignObject.setAttribute("height", "10000");
    foreignObject.style.overflow = "hidden";
    svgRoot.appendChild(foreignObject);
    this.maxWidth = _HTMLText.defaultMaxWidth;
    this.maxHeight = _HTMLText.defaultMaxHeight;
    this._domElement = domElement;
    this._styleElement = styleElement;
    this._svgRoot = svgRoot;
    this._foreignObject = foreignObject;
    this._foreignObject.appendChild(styleElement);
    this._foreignObject.appendChild(domElement);
    this._image = image;
    this._loadImage = new Image();
    this._autoResolution = _HTMLText.defaultAutoResolution;
    this._resolution = _HTMLText.defaultResolution ?? settings.RESOLUTION;
    this.text = text;
    this.style = style;
  }
  measureText(overrides) {
    const { text, style, resolution } = Object.assign({
      text: this._text,
      style: this._style,
      resolution: this._resolution
    }, overrides);
    Object.assign(this._domElement, {
      innerHTML: text,
      style: style.toCSS(resolution)
    });
    this._styleElement.textContent = style.toGlobalCSS();
    document.body.appendChild(this._svgRoot);
    const contentBounds = this._domElement.getBoundingClientRect();
    this._svgRoot.remove();
    const contentWidth = Math.min(this.maxWidth, Math.ceil(contentBounds.width));
    const contentHeight = Math.min(this.maxHeight, Math.ceil(contentBounds.height));
    this._svgRoot.setAttribute("width", contentWidth.toString());
    this._svgRoot.setAttribute("height", contentHeight.toString());
    if (text !== this._text) {
      this._domElement.innerHTML = this._text;
    }
    if (style !== this._style) {
      Object.assign(this._domElement, { style: this._style?.toCSS(resolution) });
      this._styleElement.textContent = this._style?.toGlobalCSS();
    }
    return {
      width: contentWidth + style.padding * 2,
      height: contentHeight + style.padding * 2
    };
  }
  async updateText(respectDirty = true) {
    const { style, _image: image, _loadImage: loadImage } = this;
    if (this.localStyleID !== style.styleID) {
      this.dirty = true;
      this.localStyleID = style.styleID;
    }
    if (!this.dirty && respectDirty) {
      return;
    }
    const { width, height } = this.measureText();
    image.width = loadImage.width = Math.ceil(Math.max(1, width));
    image.height = loadImage.height = Math.ceil(Math.max(1, height));
    if (!this._loading) {
      this._loading = true;
      await new Promise((resolve2) => {
        loadImage.onload = async () => {
          await style.onBeforeDraw();
          this._loading = false;
          image.src = loadImage.src;
          loadImage.onload = null;
          loadImage.src = "";
          this.updateTexture();
          resolve2();
        };
        const svgURL = new XMLSerializer().serializeToString(this._svgRoot);
        loadImage.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgURL)}`;
      });
    }
  }
  get source() {
    return this._image;
  }
  updateTexture() {
    const { style, texture, _image: image, resolution } = this;
    const { padding } = style;
    const { baseTexture } = texture;
    texture.trim.width = texture._frame.width = image.width / resolution;
    texture.trim.height = texture._frame.height = image.height / resolution;
    texture.trim.x = -padding;
    texture.trim.y = -padding;
    texture.orig.width = texture._frame.width - padding * 2;
    texture.orig.height = texture._frame.height - padding * 2;
    this._onTextureUpdate();
    baseTexture.setRealSize(image.width, image.height, resolution);
    this.dirty = false;
  }
  _render(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._render(renderer);
  }
  _renderCanvas(renderer) {
    if (this._autoResolution && this._resolution !== renderer.resolution) {
      this._resolution = renderer.resolution;
      this.dirty = true;
    }
    this.updateText(true);
    super._renderCanvas(renderer);
  }
  getLocalBounds(rect) {
    this.updateText(true);
    return super.getLocalBounds(rect);
  }
  _calculateBounds() {
    this.updateText(true);
    this.calculateVertices();
    this._bounds.addQuad(this.vertexData);
  }
  _onStyleChange() {
    this.dirty = true;
  }
  destroy(options) {
    if (typeof options === "boolean") {
      options = { children: options };
    }
    options = Object.assign({}, _HTMLText.defaultDestroyOptions, options);
    super.destroy(options);
    const forceClear = null;
    if (this.ownsStyle) {
      this._style?.cleanFonts();
    }
    this._style = forceClear;
    this._svgRoot?.remove();
    this._svgRoot = forceClear;
    this._domElement?.remove();
    this._domElement = forceClear;
    this._foreignObject?.remove();
    this._foreignObject = forceClear;
    this._styleElement?.remove();
    this._styleElement = forceClear;
    this._loadImage.src = "";
    this._loadImage.onload = null;
    this._loadImage = forceClear;
    this._image.src = "";
    this._image = forceClear;
  }
  get width() {
    this.updateText(true);
    return Math.abs(this.scale.x) * this._image.width / this.resolution;
  }
  set width(value) {
    this.updateText(true);
    const s2 = lib_exports.sign(this.scale.x) || 1;
    this.scale.x = s2 * value / this._image.width / this.resolution;
    this._width = value;
  }
  get height() {
    this.updateText(true);
    return Math.abs(this.scale.y) * this._image.height / this.resolution;
  }
  set height(value) {
    this.updateText(true);
    const s2 = lib_exports.sign(this.scale.y) || 1;
    this.scale.y = s2 * value / this._image.height / this.resolution;
    this._height = value;
  }
  get style() {
    return this._style;
  }
  set style(style) {
    if (this._style === style) {
      return;
    }
    style = style || {};
    if (style instanceof HTMLTextStyle) {
      this.ownsStyle = false;
      this._style = style;
    } else if (style instanceof TextStyle) {
      console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle");
      this.ownsStyle = true;
      this._style = HTMLTextStyle.from(style);
    } else {
      this.ownsStyle = true;
      this._style = new HTMLTextStyle(style);
    }
    this.localStyleID = -1;
    this.dirty = true;
  }
  get text() {
    return this._text;
  }
  set text(text) {
    text = String(text === "" || text === null || text === void 0 ? " " : text);
    text = this.sanitiseText(text);
    if (this._text === text) {
      return;
    }
    this._text = text;
    this.dirty = true;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(value) {
    this._autoResolution = false;
    if (this._resolution === value) {
      return;
    }
    this._resolution = value;
    this.dirty = true;
  }
  sanitiseText(text) {
    return text.replace(/<br>/gi, "<br/>").replace(/<hr>/gi, "<hr/>").replace(/&nbsp;/gi, "&#160;");
  }
};
var HTMLText = _HTMLText;
HTMLText.defaultDestroyOptions = {
  texture: true,
  children: false,
  baseTexture: true
};
HTMLText.defaultMaxWidth = 2024;
HTMLText.defaultMaxHeight = 2024;
HTMLText.defaultAutoResolution = true;

// src/frontend/lib/assets.ts
var loadedAssets = {};
async function loadAssets() {
  const sheet = await Assets.load("stars.json");
  const planetsheet = await Assets.load("planets.json");
  const uisheet = await Assets.load("uisheet.json");
  const planet = await Assets.load("planet.json");
  const buttonSheet = await Assets.load("ui/button.json");
  const font = await Assets.load("font.fnt");
  const buttonText = await Assets.load("buttontext.fnt");
  const segment = await Assets.load("segment.fnt");
  const buttonTextWhite = await Assets.load("buttontext_white.fnt");
  const bgTexture = await Assets.load("starfield.png");
  const navArrow = await Assets.load("navarrow.png");
  const starTexture = await Assets.load("stars.png");
  const shipyard = await Assets.load("shipyard.png");
  const station = await Assets.load("station.png");
  const jumpgate = await Assets.load("jumpgate.png");
  const treasure = await Assets.load("treasure-map.png");
  const select = await Assets.load("ui/select.png");
  const statsBlock = await Assets.load("ui/stats.png");
  const panel2 = await Assets.load("ui/panel2.png");
  const panelInvisible = await Assets.load("ui/panel_invisible.png");
  const selectInactive = await Assets.load("ui/select_inactive.png");
  const asteroidBelt = await Assets.load("asteroid_belt.png");
  const market = await Assets.load("money-bag-xxl.png");
  const spaceshipTexture = await Assets.load("spaceship.png");
  const probeTexture = await Assets.load("ships/PROBE.png");
  const lightFreighterTexture = await Assets.load("ships/LIGHT_FREIGHTER.png");
  loadedAssets = {
    sheet,
    planetsheet,
    uisheet,
    font,
    buttonsheet: buttonSheet,
    buttonText,
    planet,
    buttonTextWhite,
    bgTexture,
    navArrow,
    panelInvisible,
    starTexture,
    statsBlock,
    panel2,
    station,
    jumpgate,
    treasure,
    spaceshipTexture,
    spaceshipTextures: {
      FRAME_PROBE: probeTexture,
      FRAME_LIGHT_FREIGHTER: lightFreighterTexture,
      FRAME_EXPLORER: await Assets.load("ships/FRAME_EXPLORER.png")
    },
    asteroidBelt,
    shipyard,
    select,
    selectInactive,
    market,
    panel: await Assets.load("ui/panel.png"),
    button: await Assets.load("ui/button.png"),
    panelBg: await Assets.load("ui/panelbg.png")
  };
}

// ../../node_modules/.pnpm/@trpc+server@10.34.0/node_modules/@trpc/server/dist/observable-ade1bad8.mjs
function identity(x2) {
  return x2;
}
function pipeFromArray(fns) {
  if (fns.length === 0) {
    return identity;
  }
  if (fns.length === 1) {
    return fns[0];
  }
  return function piped(input) {
    return fns.reduce((prev, fn) => fn(prev), input);
  };
}
function observable(subscribe) {
  const self2 = {
    subscribe(observer) {
      let teardownRef = null;
      let isDone = false;
      let unsubscribed = false;
      let teardownImmediately = false;
      function unsubscribe() {
        if (teardownRef === null) {
          teardownImmediately = true;
          return;
        }
        if (unsubscribed) {
          return;
        }
        unsubscribed = true;
        if (typeof teardownRef === "function") {
          teardownRef();
        } else if (teardownRef) {
          teardownRef.unsubscribe();
        }
      }
      teardownRef = subscribe({
        next(value) {
          if (isDone) {
            return;
          }
          observer.next?.(value);
        },
        error(err2) {
          if (isDone) {
            return;
          }
          isDone = true;
          observer.error?.(err2);
          unsubscribe();
        },
        complete() {
          if (isDone) {
            return;
          }
          isDone = true;
          observer.complete?.();
          unsubscribe();
        }
      });
      if (teardownImmediately) {
        unsubscribe();
      }
      return {
        unsubscribe
      };
    },
    pipe(...operations) {
      return pipeFromArray(operations)(self2);
    }
  };
  return self2;
}

// ../../node_modules/.pnpm/@trpc+server@10.34.0/node_modules/@trpc/server/dist/observable/index.mjs
function share(_opts) {
  return (originalObserver) => {
    let refCount = 0;
    let subscription = null;
    const observers = [];
    function startIfNeeded() {
      if (subscription) {
        return;
      }
      subscription = originalObserver.subscribe({
        next(value) {
          for (const observer of observers) {
            observer.next?.(value);
          }
        },
        error(error) {
          for (const observer of observers) {
            observer.error?.(error);
          }
        },
        complete() {
          for (const observer of observers) {
            observer.complete?.();
          }
        }
      });
    }
    function resetIfNeeded() {
      if (refCount === 0 && subscription) {
        const _sub = subscription;
        subscription = null;
        _sub.unsubscribe();
      }
    }
    return {
      subscribe(observer) {
        refCount++;
        observers.push(observer);
        startIfNeeded();
        return {
          unsubscribe() {
            refCount--;
            resetIfNeeded();
            const index = observers.findIndex((v2) => v2 === observer);
            if (index > -1) {
              observers.splice(index, 1);
            }
          }
        };
      }
    };
  };
}
var ObservableAbortError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "ObservableAbortError";
    Object.setPrototypeOf(this, ObservableAbortError.prototype);
  }
};
function observableToPromise(observable2) {
  let abort2;
  const promise = new Promise((resolve2, reject) => {
    let isDone = false;
    function onDone() {
      if (isDone) {
        return;
      }
      isDone = true;
      reject(new ObservableAbortError("This operation was aborted."));
      obs$.unsubscribe();
    }
    const obs$ = observable2.subscribe({
      next(data) {
        isDone = true;
        resolve2(data);
        onDone();
      },
      error(data) {
        isDone = true;
        reject(data);
        onDone();
      },
      complete() {
        isDone = true;
        onDone();
      }
    });
    abort2 = onDone;
  });
  return {
    promise,
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    abort: abort2
  };
}

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/splitLink-4c75f7be.mjs
function createChain(opts) {
  return observable((observer) => {
    function execute(index = 0, op = opts.op) {
      const next = opts.links[index];
      if (!next) {
        throw new Error("No more links to execute - did you forget to add an ending link?");
      }
      const subscription = next({
        op,
        next(nextOp) {
          const nextObserver = execute(index + 1, nextOp);
          return nextObserver;
        }
      });
      return subscription;
    }
    const obs$ = execute();
    return obs$.subscribe(observer);
  });
}
function asArray(value) {
  return Array.isArray(value) ? value : [
    value
  ];
}
function splitLink(opts) {
  return (runtime) => {
    const yes = asArray(opts.true).map((link) => link(runtime));
    const no = asArray(opts.false).map((link) => link(runtime));
    return (props) => {
      return observable((observer) => {
        const links = opts.condition(props.op) ? yes : no;
        return createChain({
          op: props.op,
          links
        }).subscribe(observer);
      });
    };
  };
}

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/TRPCClientError-fef6cf44.mjs
function isTRPCClientError(cause) {
  return cause instanceof TRPCClientError || /**
  * @deprecated
  * Delete in next major
  */
  cause.name === "TRPCClientError";
}
var TRPCClientError = class extends Error {
  static from(cause, opts = {}) {
    if (!(cause instanceof Error)) {
      return new TRPCClientError(cause.error.message ?? "", {
        ...opts,
        cause: void 0,
        result: cause
      });
    }
    if (isTRPCClientError(cause)) {
      if (opts.meta) {
        cause.meta = {
          ...cause.meta,
          ...opts.meta
        };
      }
      return cause;
    }
    return new TRPCClientError(cause.message, {
      ...opts,
      cause,
      result: null
    });
  }
  constructor(message, opts) {
    const cause = opts?.cause;
    super(message, {
      cause
    });
    this.meta = opts?.meta;
    this.cause = cause;
    this.shape = opts?.result?.error;
    this.data = opts?.result?.error.data;
    this.name = "TRPCClientError";
    Object.setPrototypeOf(this, TRPCClientError.prototype);
  }
};

// ../../node_modules/.pnpm/@trpc+server@10.34.0/node_modules/@trpc/server/dist/codes-24aa1ce1.mjs
function invert(obj) {
  const newObj = /* @__PURE__ */ Object.create(null);
  for (const key2 in obj) {
    const v2 = obj[key2];
    newObj[v2] = key2;
  }
  return newObj;
}
var TRPC_ERROR_CODES_BY_KEY = {
  /**
  * Invalid JSON was received by the server.
  * An error occurred on the server while parsing the JSON text.
  */
  PARSE_ERROR: -32700,
  /**
  * The JSON sent is not a valid Request object.
  */
  BAD_REQUEST: -32600,
  /**
  * Internal JSON-RPC error.
  */
  INTERNAL_SERVER_ERROR: -32603,
  // Implementation specific errors
  UNAUTHORIZED: -32001,
  FORBIDDEN: -32003,
  NOT_FOUND: -32004,
  METHOD_NOT_SUPPORTED: -32005,
  TIMEOUT: -32008,
  CONFLICT: -32009,
  PRECONDITION_FAILED: -32012,
  PAYLOAD_TOO_LARGE: -32013,
  UNPROCESSABLE_CONTENT: -32022,
  TOO_MANY_REQUESTS: -32029,
  CLIENT_CLOSED_REQUEST: -32099
};
var TRPC_ERROR_CODES_BY_NUMBER = invert(TRPC_ERROR_CODES_BY_KEY);

// ../../node_modules/.pnpm/@trpc+server@10.34.0/node_modules/@trpc/server/dist/index-044a193b.mjs
var TRPC_ERROR_CODES_BY_NUMBER2 = invert(TRPC_ERROR_CODES_BY_KEY);
var noop = () => {
};
function createInnerProxy(callback, path2) {
  const proxy = new Proxy(noop, {
    get(_obj, key2) {
      if (typeof key2 !== "string" || key2 === "then") {
        return void 0;
      }
      return createInnerProxy(callback, [
        ...path2,
        key2
      ]);
    },
    apply(_1, _2, args) {
      const isApply = path2[path2.length - 1] === "apply";
      return callback({
        args: isApply ? args.length >= 2 ? args[1] : [] : args,
        path: isApply ? path2.slice(0, -1) : path2
      });
    }
  });
  return proxy;
}
var createRecursiveProxy = (callback) => createInnerProxy(callback, []);
var createFlatProxy = (callback) => {
  return new Proxy(noop, {
    get(_obj, name) {
      if (typeof name !== "string" || name === "then") {
        return void 0;
      }
      return callback(name);
    }
  });
};

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/httpUtils-1efcb902.mjs
var isFunction = (fn) => typeof fn === "function";
function getFetch(customFetchImpl) {
  if (customFetchImpl) {
    return customFetchImpl;
  }
  if (typeof window !== "undefined" && isFunction(window.fetch)) {
    return window.fetch;
  }
  if (typeof globalThis !== "undefined" && isFunction(globalThis.fetch)) {
    return globalThis.fetch;
  }
  throw new Error("No fetch implementation found");
}
function getAbortController(customAbortControllerImpl) {
  if (customAbortControllerImpl) {
    return customAbortControllerImpl;
  }
  if (typeof window !== "undefined" && window.AbortController) {
    return window.AbortController;
  }
  if (typeof globalThis !== "undefined" && globalThis.AbortController) {
    return globalThis.AbortController;
  }
  return null;
}
function resolveHTTPLinkOptions(opts) {
  return {
    url: opts.url,
    fetch: opts.fetch,
    AbortController: getAbortController(opts.AbortController)
  };
}
function arrayToDict(array) {
  const dict = {};
  for (let index = 0; index < array.length; index++) {
    const element = array[index];
    dict[index] = element;
  }
  return dict;
}
var METHOD = {
  query: "GET",
  mutation: "POST"
};
function getInput(opts) {
  return "input" in opts ? opts.runtime.transformer.serialize(opts.input) : arrayToDict(opts.inputs.map((_input) => opts.runtime.transformer.serialize(_input)));
}
var getUrl = (opts) => {
  let url2 = opts.url + "/" + opts.path;
  const queryParts = [];
  if ("inputs" in opts) {
    queryParts.push("batch=1");
  }
  if (opts.type === "query") {
    const input = getInput(opts);
    if (input !== void 0) {
      queryParts.push(`input=${encodeURIComponent(JSON.stringify(input))}`);
    }
  }
  if (queryParts.length) {
    url2 += "?" + queryParts.join("&");
  }
  return url2;
};
var getBody = (opts) => {
  if (opts.type === "query") {
    return void 0;
  }
  const input = getInput(opts);
  return input !== void 0 ? JSON.stringify(input) : void 0;
};
var jsonHttpRequester = (opts) => {
  return httpRequest({
    ...opts,
    contentTypeHeader: "application/json",
    getUrl,
    getBody
  });
};
async function fetchHTTPResponse(opts, ac) {
  const url2 = opts.getUrl(opts);
  const body = opts.getBody(opts);
  const { type: type2 } = opts;
  const resolvedHeaders = await opts.headers();
  if (type2 === "subscription") {
    throw new Error("Subscriptions should use wsLink");
  }
  const headers = {
    ...opts.contentTypeHeader ? {
      "content-type": opts.contentTypeHeader
    } : {},
    ...opts.batchModeHeader ? {
      "trpc-batch-mode": opts.batchModeHeader
    } : {},
    ...resolvedHeaders
  };
  return getFetch(opts.fetch)(url2, {
    method: METHOD[type2],
    signal: ac?.signal,
    body,
    headers
  });
}
function httpRequest(opts) {
  const ac = opts.AbortController ? new opts.AbortController() : null;
  const meta = {};
  const promise = new Promise((resolve2, reject) => {
    fetchHTTPResponse(opts, ac).then((_res) => {
      meta.response = _res;
      return _res.json();
    }).then((json) => {
      meta.responseJSON = json;
      resolve2({
        json,
        meta
      });
    }).catch((err2) => {
      reject(TRPCClientError.from(err2, {
        meta
      }));
    });
  });
  const cancel = () => {
    ac?.abort();
  };
  return {
    promise,
    cancel
  };
}

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/transformResult-7ab522e6.mjs
function isObject(value) {
  return !!value && !Array.isArray(value) && typeof value === "object";
}
function transformResultInner(response, runtime) {
  if ("error" in response) {
    const error = runtime.transformer.deserialize(response.error);
    return {
      ok: false,
      error: {
        ...response,
        error
      }
    };
  }
  const result = {
    ...response.result,
    ...(!response.result.type || response.result.type === "data") && {
      type: "data",
      data: runtime.transformer.deserialize(response.result.data)
    }
  };
  return {
    ok: true,
    result
  };
}
var TransformResultError = class extends Error {
  constructor() {
    super("Unable to transform response from server");
  }
};
function transformResult(response, runtime) {
  let result;
  try {
    result = transformResultInner(response, runtime);
  } catch (err2) {
    throw new TransformResultError();
  }
  if (!result.ok && (!isObject(result.error.error) || typeof result.error.error.code !== "number")) {
    throw new TransformResultError();
  }
  if (result.ok && !isObject(result.result)) {
    throw new TransformResultError();
  }
  return result;
}

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/httpBatchLink-fbd7b43c.mjs
var throwFatalError = () => {
  throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new");
};
function dataLoader(batchLoader) {
  let pendingItems = null;
  let dispatchTimer = null;
  const destroyTimerAndPendingItems = () => {
    clearTimeout(dispatchTimer);
    dispatchTimer = null;
    pendingItems = null;
  };
  function groupItems(items) {
    const groupedItems = [
      []
    ];
    let index = 0;
    while (true) {
      const item = items[index];
      if (!item) {
        break;
      }
      const lastGroup = groupedItems[groupedItems.length - 1];
      if (item.aborted) {
        item.reject?.(new Error("Aborted"));
        index++;
        continue;
      }
      const isValid = batchLoader.validate(lastGroup.concat(item).map((it) => it.key));
      if (isValid) {
        lastGroup.push(item);
        index++;
        continue;
      }
      if (lastGroup.length === 0) {
        item.reject?.(new Error("Input is too big for a single dispatch"));
        index++;
        continue;
      }
      groupedItems.push([]);
    }
    return groupedItems;
  }
  function dispatch() {
    const groupedItems = groupItems(pendingItems);
    destroyTimerAndPendingItems();
    for (const items of groupedItems) {
      if (!items.length) {
        continue;
      }
      const batch = {
        items,
        cancel: throwFatalError
      };
      for (const item of items) {
        item.batch = batch;
      }
      const unitResolver = (index, value) => {
        const item = batch.items[index];
        item.resolve?.(value);
        item.batch = null;
        item.reject = null;
        item.resolve = null;
      };
      const { promise, cancel } = batchLoader.fetch(batch.items.map((_item) => _item.key), unitResolver);
      batch.cancel = cancel;
      promise.then((result) => {
        for (let i3 = 0; i3 < result.length; i3++) {
          const value = result[i3];
          unitResolver(i3, value);
        }
        for (const item of batch.items) {
          item.reject?.(new Error("Missing result"));
          item.batch = null;
        }
      }).catch((cause) => {
        for (const item of batch.items) {
          item.reject?.(cause);
          item.batch = null;
        }
      });
    }
  }
  function load(key2) {
    const item = {
      aborted: false,
      key: key2,
      batch: null,
      resolve: throwFatalError,
      reject: throwFatalError
    };
    const promise = new Promise((resolve2, reject) => {
      item.reject = reject;
      item.resolve = resolve2;
      if (!pendingItems) {
        pendingItems = [];
      }
      pendingItems.push(item);
    });
    if (!dispatchTimer) {
      dispatchTimer = setTimeout(dispatch);
    }
    const cancel = () => {
      item.aborted = true;
      if (item.batch?.items.every((item2) => item2.aborted)) {
        item.batch.cancel();
        item.batch = null;
      }
    };
    return {
      promise,
      cancel
    };
  }
  return {
    load
  };
}
function createHTTPBatchLink(requester) {
  return function httpBatchLink2(opts) {
    const resolvedOpts = resolveHTTPLinkOptions(opts);
    const maxURLLength = opts.maxURLLength ?? Infinity;
    return (runtime) => {
      const batchLoader = (type2) => {
        const validate2 = (batchOps) => {
          if (maxURLLength === Infinity) {
            return true;
          }
          const path2 = batchOps.map((op) => op.path).join(",");
          const inputs = batchOps.map((op) => op.input);
          const url2 = getUrl({
            ...resolvedOpts,
            runtime,
            type: type2,
            path: path2,
            inputs
          });
          return url2.length <= maxURLLength;
        };
        const fetch2 = requester({
          ...resolvedOpts,
          runtime,
          type: type2,
          opts
        });
        return {
          validate: validate2,
          fetch: fetch2
        };
      };
      const query = dataLoader(batchLoader("query"));
      const mutation = dataLoader(batchLoader("mutation"));
      const subscription = dataLoader(batchLoader("subscription"));
      const loaders = {
        query,
        subscription,
        mutation
      };
      return ({ op }) => {
        return observable((observer) => {
          const loader = loaders[op.type];
          const { promise, cancel } = loader.load(op);
          let _res = void 0;
          promise.then((res) => {
            _res = res;
            const transformed = transformResult(res.json, runtime);
            if (!transformed.ok) {
              observer.error(TRPCClientError.from(transformed.error, {
                meta: res.meta
              }));
              return;
            }
            observer.next({
              context: res.meta,
              result: transformed.result
            });
            observer.complete();
          }).catch((err2) => {
            observer.error(TRPCClientError.from(err2, {
              meta: _res?.meta
            }));
          });
          return () => {
            cancel();
          };
        });
      };
    };
  };
}
var batchRequester = (requesterOpts) => {
  return (batchOps) => {
    const path2 = batchOps.map((op) => op.path).join(",");
    const inputs = batchOps.map((op) => op.input);
    const { promise, cancel } = jsonHttpRequester({
      ...requesterOpts,
      path: path2,
      inputs,
      headers() {
        if (!requesterOpts.opts.headers) {
          return {};
        }
        if (typeof requesterOpts.opts.headers === "function") {
          return requesterOpts.opts.headers({
            opList: batchOps
          });
        }
        return requesterOpts.opts.headers;
      }
    });
    return {
      promise: promise.then((res) => {
        const resJSON = Array.isArray(res.json) ? res.json : batchOps.map(() => res.json);
        const result = resJSON.map((item) => ({
          meta: res.meta,
          json: item
        }));
        return result;
      }),
      cancel
    };
  };
};
var httpBatchLink = createHTTPBatchLink(batchRequester);

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/links/httpLink.mjs
function httpLinkFactory(factoryOpts) {
  return (opts) => {
    const resolvedOpts = resolveHTTPLinkOptions(opts);
    return (runtime) => ({ op }) => observable((observer) => {
      const { path: path2, input, type: type2 } = op;
      const { promise, cancel } = factoryOpts.requester({
        ...resolvedOpts,
        runtime,
        type: type2,
        path: path2,
        input,
        headers() {
          if (!opts.headers) {
            return {};
          }
          if (typeof opts.headers === "function") {
            return opts.headers({
              op
            });
          }
          return opts.headers;
        }
      });
      let meta = void 0;
      promise.then((res) => {
        meta = res.meta;
        const transformed = transformResult(res.json, runtime);
        if (!transformed.ok) {
          observer.error(TRPCClientError.from(transformed.error, {
            meta
          }));
          return;
        }
        observer.next({
          context: res.meta,
          result: transformed.result
        });
        observer.complete();
      }).catch((cause) => {
        observer.error(TRPCClientError.from(cause, {
          meta
        }));
      });
      return () => {
        cancel();
      };
    });
  };
}
var httpLink = httpLinkFactory({
  requester: jsonHttpRequester
});

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/links/wsLink.mjs
var retryDelay = (attemptIndex) => attemptIndex === 0 ? 0 : Math.min(1e3 * 2 ** attemptIndex, 3e4);
function createWSClient(opts) {
  const { url: url2, WebSocket: WebSocketImpl = WebSocket, retryDelayMs: retryDelayFn = retryDelay, onOpen, onClose } = opts;
  if (!WebSocketImpl) {
    throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");
  }
  let outgoing = [];
  const pendingRequests = /* @__PURE__ */ Object.create(null);
  let connectAttempt = 0;
  let dispatchTimer = null;
  let connectTimer = null;
  let activeConnection = createWS();
  let state = "connecting";
  function dispatch() {
    if (state !== "open" || dispatchTimer) {
      return;
    }
    dispatchTimer = setTimeout(() => {
      dispatchTimer = null;
      if (outgoing.length === 1) {
        activeConnection.send(JSON.stringify(outgoing.pop()));
      } else {
        activeConnection.send(JSON.stringify(outgoing));
      }
      outgoing = [];
    });
  }
  function tryReconnect() {
    if (connectTimer !== null || state === "closed") {
      return;
    }
    const timeout = retryDelayFn(connectAttempt++);
    reconnectInMs(timeout);
  }
  function reconnect() {
    state = "connecting";
    const oldConnection = activeConnection;
    activeConnection = createWS();
    closeIfNoPending(oldConnection);
  }
  function reconnectInMs(ms) {
    if (connectTimer) {
      return;
    }
    state = "connecting";
    connectTimer = setTimeout(reconnect, ms);
  }
  function closeIfNoPending(conn) {
    const hasPendingRequests = Object.values(pendingRequests).some((p3) => p3.ws === conn);
    if (!hasPendingRequests) {
      conn.close();
    }
  }
  function closeActiveSubscriptions() {
    Object.values(pendingRequests).forEach((req) => {
      if (req.type === "subscription") {
        req.callbacks.complete();
      }
    });
  }
  function resumeSubscriptionOnReconnect(req) {
    if (outgoing.some((r2) => r2.id === req.op.id)) {
      return;
    }
    request(req.op, req.callbacks);
  }
  function createWS() {
    const urlString = typeof url2 === "function" ? url2() : url2;
    const conn = new WebSocketImpl(urlString);
    clearTimeout(connectTimer);
    connectTimer = null;
    conn.addEventListener("open", () => {
      if (conn !== activeConnection) {
        return;
      }
      connectAttempt = 0;
      state = "open";
      onOpen?.();
      dispatch();
    });
    conn.addEventListener("error", () => {
      if (conn === activeConnection) {
        tryReconnect();
      }
    });
    const handleIncomingRequest = (req) => {
      if (req.method === "reconnect" && conn === activeConnection) {
        if (state === "open") {
          onClose?.();
        }
        reconnect();
        for (const pendingReq of Object.values(pendingRequests)) {
          if (pendingReq.type === "subscription") {
            resumeSubscriptionOnReconnect(pendingReq);
          }
        }
      }
    };
    const handleIncomingResponse = (data) => {
      const req = data.id !== null && pendingRequests[data.id];
      if (!req) {
        return;
      }
      req.callbacks.next?.(data);
      if (req.ws !== activeConnection && conn === activeConnection) {
        const oldWs = req.ws;
        req.ws = activeConnection;
        closeIfNoPending(oldWs);
      }
      if ("result" in data && data.result.type === "stopped" && conn === activeConnection) {
        req.callbacks.complete();
      }
    };
    conn.addEventListener("message", ({ data }) => {
      const msg = JSON.parse(data);
      if ("method" in msg) {
        handleIncomingRequest(msg);
      } else {
        handleIncomingResponse(msg);
      }
      if (conn !== activeConnection || state === "closed") {
        closeIfNoPending(conn);
      }
    });
    conn.addEventListener("close", ({ code }) => {
      if (state === "open") {
        onClose?.({
          code
        });
      }
      if (activeConnection === conn) {
        tryReconnect();
      }
      for (const [key2, req] of Object.entries(pendingRequests)) {
        if (req.ws !== conn) {
          continue;
        }
        if (state === "closed") {
          delete pendingRequests[key2];
          req.callbacks.complete?.();
          continue;
        }
        if (req.type === "subscription") {
          resumeSubscriptionOnReconnect(req);
        } else {
          delete pendingRequests[key2];
          req.callbacks.error?.(TRPCClientError.from(new TRPCWebSocketClosedError("WebSocket closed prematurely")));
        }
      }
    });
    return conn;
  }
  function request(op, callbacks) {
    const { type: type2, input, path: path2, id } = op;
    const envelope = {
      id,
      method: type2,
      params: {
        input,
        path: path2
      }
    };
    pendingRequests[id] = {
      ws: activeConnection,
      type: type2,
      callbacks,
      op
    };
    outgoing.push(envelope);
    dispatch();
    return () => {
      const callbacks2 = pendingRequests[id]?.callbacks;
      delete pendingRequests[id];
      outgoing = outgoing.filter((msg) => msg.id !== id);
      callbacks2?.complete?.();
      if (activeConnection.readyState === WebSocketImpl.OPEN && op.type === "subscription") {
        outgoing.push({
          id,
          method: "subscription.stop"
        });
        dispatch();
      }
    };
  }
  return {
    close: () => {
      state = "closed";
      onClose?.();
      closeActiveSubscriptions();
      closeIfNoPending(activeConnection);
      clearTimeout(connectTimer);
      connectTimer = null;
    },
    request,
    getConnection() {
      return activeConnection;
    }
  };
}
var TRPCWebSocketClosedError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "TRPCWebSocketClosedError";
    Object.setPrototypeOf(this, TRPCWebSocketClosedError.prototype);
  }
};
function wsLink(opts) {
  return (runtime) => {
    const { client } = opts;
    return ({ op }) => {
      return observable((observer) => {
        const { type: type2, path: path2, id, context: context2 } = op;
        const input = runtime.transformer.serialize(op.input);
        const unsub = client.request({
          type: type2,
          path: path2,
          input,
          id,
          context: context2
        }, {
          error(err2) {
            observer.error(err2);
            unsub();
          },
          complete() {
            observer.complete();
          },
          next(message) {
            const transformed = transformResult(message, runtime);
            if (!transformed.ok) {
              observer.error(TRPCClientError.from(transformed.error));
              return;
            }
            observer.next({
              result: transformed.result
            });
            if (op.type !== "subscription") {
              unsub();
              observer.complete();
            }
          }
        });
        return () => {
          unsub();
        };
      });
    };
  };
}

// ../../node_modules/.pnpm/@trpc+client@10.34.0_@trpc+server@10.34.0/node_modules/@trpc/client/dist/index.mjs
var TRPCUntypedClient = class {
  $request({ type: type2, input, path: path2, context: context2 = {} }) {
    const chain$ = createChain({
      links: this.links,
      op: {
        id: ++this.requestId,
        type: type2,
        path: path2,
        input,
        context: context2
      }
    });
    return chain$.pipe(share());
  }
  requestAsPromise(opts) {
    const req$ = this.$request(opts);
    const { promise, abort: abort2 } = observableToPromise(req$);
    const abortablePromise = new Promise((resolve2, reject) => {
      opts.signal?.addEventListener("abort", abort2);
      promise.then((envelope) => {
        resolve2(envelope.result.data);
      }).catch((err2) => {
        reject(TRPCClientError.from(err2));
      });
    });
    return abortablePromise;
  }
  query(path2, input, opts) {
    return this.requestAsPromise({
      type: "query",
      path: path2,
      input,
      context: opts?.context,
      signal: opts?.signal
    });
  }
  mutation(path2, input, opts) {
    return this.requestAsPromise({
      type: "mutation",
      path: path2,
      input,
      context: opts?.context,
      signal: opts?.signal
    });
  }
  subscription(path2, input, opts) {
    const observable$ = this.$request({
      type: "subscription",
      path: path2,
      input,
      context: opts?.context
    });
    return observable$.subscribe({
      next(envelope) {
        if (envelope.result.type === "started") {
          opts.onStarted?.();
        } else if (envelope.result.type === "stopped") {
          opts.onStopped?.();
        } else {
          opts.onData?.(envelope.result.data);
        }
      },
      error(err2) {
        opts.onError?.(err2);
      },
      complete() {
        opts.onComplete?.();
      }
    });
  }
  constructor(opts) {
    this.requestId = 0;
    const combinedTransformer = (() => {
      const transformer = opts.transformer;
      if (!transformer) {
        return {
          input: {
            serialize: (data) => data,
            deserialize: (data) => data
          },
          output: {
            serialize: (data) => data,
            deserialize: (data) => data
          }
        };
      }
      if ("input" in transformer) {
        return opts.transformer;
      }
      return {
        input: transformer,
        output: transformer
      };
    })();
    this.runtime = {
      transformer: {
        serialize: (data) => combinedTransformer.input.serialize(data),
        deserialize: (data) => combinedTransformer.output.deserialize(data)
      },
      combinedTransformer
    };
    this.links = opts.links.map((link) => link(this.runtime));
  }
};
var clientCallTypeMap = {
  query: "query",
  mutate: "mutation",
  subscribe: "subscription"
};
var clientCallTypeToProcedureType = (clientCallType) => {
  return clientCallTypeMap[clientCallType];
};
function createTRPCClientProxy(client) {
  return createFlatProxy((key2) => {
    if (client.hasOwnProperty(key2)) {
      return client[key2];
    }
    if (key2 === "__untypedClient") {
      return client;
    }
    return createRecursiveProxy(({ path: path2, args }) => {
      const pathCopy = [
        key2,
        ...path2
      ];
      const procedureType = clientCallTypeToProcedureType(pathCopy.pop());
      const fullPath = pathCopy.join(".");
      return client[procedureType](fullPath, ...args);
    });
  });
}
function createTRPCProxyClient(opts) {
  const client = new TRPCUntypedClient(opts);
  const proxy = createTRPCClientProxy(client);
  return proxy;
}
function getTextDecoder(customTextDecoder) {
  if (customTextDecoder) {
    return customTextDecoder;
  }
  if (typeof window !== "undefined" && window.TextDecoder) {
    return new window.TextDecoder();
  }
  if (typeof globalThis !== "undefined" && globalThis.TextDecoder) {
    return new globalThis.TextDecoder();
  }
  throw new Error("No TextDecoder implementation found");
}
async function parseJSONStream(opts) {
  const parse2 = opts.parse ?? JSON.parse;
  const onLine = (line) => {
    if (opts.signal?.aborted)
      return;
    if (!line || line === "}") {
      return;
    }
    const indexOfColon = line.indexOf(":");
    const indexAsStr = line.substring(2, indexOfColon - 1);
    const text = line.substring(indexOfColon + 1);
    opts.onSingle(Number(indexAsStr), parse2(text));
  };
  await readLines(opts.readableStream, onLine, opts.textDecoder);
}
async function readLines(readableStream, onLine, textDecoder) {
  let partOfLine = "";
  const onChunk = (chunk) => {
    const chunkText = textDecoder.decode(chunk);
    const chunkLines = chunkText.split("\n");
    if (chunkLines.length === 1) {
      partOfLine += chunkLines[0];
    } else if (chunkLines.length > 1) {
      onLine(partOfLine + chunkLines[0]);
      for (let i3 = 1; i3 < chunkLines.length - 1; i3++) {
        onLine(chunkLines[i3]);
      }
      partOfLine = chunkLines[chunkLines.length - 1];
    }
  };
  if ("getReader" in readableStream) {
    await readStandardChunks(readableStream, onChunk);
  } else {
    await readNodeChunks(readableStream, onChunk);
  }
  onLine(partOfLine);
}
function readNodeChunks(stream, onChunk) {
  return new Promise((resolve2) => {
    stream.on("data", onChunk);
    stream.on("end", resolve2);
  });
}
async function readStandardChunks(stream, onChunk) {
  const reader = stream.getReader();
  let readResult = await reader.read();
  while (!readResult.done) {
    onChunk(readResult.value);
    readResult = await reader.read();
  }
}
var streamingJsonHttpRequester = (opts, onSingle) => {
  const ac = opts.AbortController ? new opts.AbortController() : null;
  const responsePromise = fetchHTTPResponse({
    ...opts,
    contentTypeHeader: "application/json",
    batchModeHeader: "stream",
    getUrl,
    getBody
  }, ac);
  const cancel = () => ac?.abort();
  const promise = responsePromise.then(async (res) => {
    if (!res.body)
      throw new Error("Received response without body");
    const meta = {
      response: res
    };
    return parseJSONStream({
      readableStream: res.body,
      onSingle,
      parse: (string) => ({
        json: JSON.parse(string),
        meta
      }),
      signal: ac?.signal,
      textDecoder: opts.textDecoder
    });
  });
  return {
    cancel,
    promise
  };
};
var streamRequester = (requesterOpts) => {
  const textDecoder = getTextDecoder(requesterOpts.opts.textDecoder);
  return (batchOps, unitResolver) => {
    const path2 = batchOps.map((op) => op.path).join(",");
    const inputs = batchOps.map((op) => op.input);
    const { cancel, promise } = streamingJsonHttpRequester({
      ...requesterOpts,
      textDecoder,
      path: path2,
      inputs,
      headers() {
        if (!requesterOpts.opts.headers) {
          return {};
        }
        if (typeof requesterOpts.opts.headers === "function") {
          return requesterOpts.opts.headers({
            opList: batchOps
          });
        }
        return requesterOpts.opts.headers;
      }
    }, (index, res) => {
      unitResolver(index, res);
    });
    return {
      /**
      * return an empty array because the batchLoader expects an array of results
      * but we've already called the `unitResolver` for each of them, there's
      * nothing left to do here.
      */
      promise: promise.then(() => []),
      cancel
    };
  };
};
var unstable_httpBatchStreamLink = createHTTPBatchLink(streamRequester);
var getBody2 = (opts) => {
  if (!("input" in opts)) {
    return void 0;
  }
  if (!(opts.input instanceof FormData)) {
    throw new Error("Input is not FormData");
  }
  return opts.input;
};
var formDataRequester = (opts) => {
  if (opts.type !== "mutation") {
    throw new Error("We only handle mutations with formdata");
  }
  return httpRequest({
    ...opts,
    getUrl() {
      return `${opts.url}/${opts.path}`;
    },
    getBody: getBody2
  });
};
var experimental_formDataLink = httpLinkFactory({
  requester: formDataRequester
});

// src/frontend/lib/trpc.ts
var wsClient = createWSClient({
  // * put ws instead of http on the url
  url: "ws://localhost:4002/trpc",
  retryDelayMs: (attempt) => {
    if (attempt > 10) {
      return null;
    } else {
      return 1e3;
    }
  }
});
var trpc = createTRPCProxyClient({
  links: [
    splitLink({
      // * only use the web socket link if the operation is a subscription
      condition: (operation) => {
        return operation.type === "subscription";
      },
      true: wsLink({
        client: wsClient
        // * <- use the web socket client
      }),
      // * use the httpBatchLink for everything else (query, mutation)
      false: httpBatchLink({
        url: "http://" + window.location.hostname + ":4001",
        async headers() {
          return {
            authorization: "Bearer " + localStorage.getItem("agent-token")
          };
        }
      })
    })
  ]
});

// ../../node_modules/.pnpm/@pixi+filter-glow@5.2.1_@pixi+core@7.2.4/node_modules/@pixi/filter-glow/dist/filter-glow.mjs
var f2 = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`;
var p2 = `varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;
var e2 = class extends Filter {
  constructor(n2) {
    const r2 = Object.assign({}, e2.defaults, n2), { outerStrength: a2, innerStrength: i3, color: u2, knockout: c2, quality: s2, alpha: h2 } = r2, o3 = Math.round(r2.distance);
    super(f2, p2.replace(/__ANGLE_STEP_SIZE__/gi, `${(1 / s2 / o3).toFixed(7)}`).replace(/__DIST__/gi, `${o3.toFixed(0)}.0`)), this.uniforms.glowColor = new Float32Array([0, 0, 0, 1]), this.uniforms.alpha = 1, Object.assign(this, { color: u2, outerStrength: a2, innerStrength: i3, padding: o3, knockout: c2, alpha: h2 });
  }
  get color() {
    return lib_exports.rgb2hex(this.uniforms.glowColor);
  }
  set color(n2) {
    lib_exports.hex2rgb(n2, this.uniforms.glowColor);
  }
  get outerStrength() {
    return this.uniforms.outerStrength;
  }
  set outerStrength(n2) {
    this.uniforms.outerStrength = n2;
  }
  get innerStrength() {
    return this.uniforms.innerStrength;
  }
  set innerStrength(n2) {
    this.uniforms.innerStrength = n2;
  }
  get knockout() {
    return this.uniforms.knockout;
  }
  set knockout(n2) {
    this.uniforms.knockout = n2;
  }
  get alpha() {
    return this.uniforms.alpha;
  }
  set alpha(n2) {
    this.uniforms.alpha = n2;
  }
};
var l2 = e2;
l2.defaults = { distance: 10, outerStrength: 4, innerStrength: 0, color: 16777215, quality: 0.1, knockout: false, alpha: 1 };

// src/frontend/lib/game-state.ts
var GameState = {
  agent: {
    symbol: "",
    credits: 0
  },
  currentView: "universe",
  currentSystem: void 0,
  selected: void 0,
  systemShips: {},
  shipData: {},
  waypoints: {},
  systems: {},
  universeShips: {},
  displayedMarket: void 0,
  systemData: {},
  waypointData: {}
};

// src/frontend/lib/base-elements/base-button.ts
var BaseButton = class extends NineSlicePlane {
  constructor(text, baseButtonProperties, clickAction) {
    super(loadedAssets.buttonsheet.textures["button#default"], 3, 3, 3, 3);
    this.clickAction = clickAction;
    const textSize = baseButtonProperties.textSize ?? 16;
    this.bitmapText = new BitmapText(text, {
      fontName: "buttontext_white",
      fontSize: textSize,
      tint: 65280,
      align: "center"
    });
    this.interactive = true;
    this.width = baseButtonProperties?.width ?? 200;
    this.height = baseButtonProperties?.height ?? 40;
    this.cursor = "pointer";
    this.on("mouseover", () => {
      if (!this.isDisabled) {
        this.texture = loadedAssets.buttonsheet.textures["button#hover"];
      }
    });
    this.on("mouseout", () => {
      if (!this.isDisabled) {
        this.texture = loadedAssets.buttonsheet.textures["button#default"];
      }
    });
    this.on("mousedown", () => {
      if (!this.isDisabled) {
        this.texture = loadedAssets.buttonsheet.textures["button#down"];
      }
    });
    this.on("mouseup", () => {
      if (!this.isDisabled) {
        this.texture = loadedAssets.buttonsheet.textures["button#hover"];
      }
    });
    this.on("mouseupoutside", () => {
      if (!this.isDisabled) {
        this.texture = loadedAssets.buttonsheet.textures["button#default"];
      }
    });
    if (this.clickAction) {
      this.on("click", this.clickAction);
    }
    this.addChild(this.bitmapText);
  }
  isDisabled = false;
  bitmapText;
  set width(value) {
    this.bitmapText.x = (value - this.bitmapText.getBounds().width) / 2;
    super.width = value;
  }
  set height(value) {
    this.bitmapText.y = (value - this.bitmapText.getBounds().height) / 2;
    super.height = value;
  }
  set disabled(disabled) {
    if (disabled && !this.isDisabled) {
      console.log("flip disabled");
      this.texture = loadedAssets.buttonsheet.textures["button#disabled"];
      this.cursor = "default";
      this.bitmapText.tint = 11184810;
      this.isDisabled = true;
      this.off("click");
    } else if (!disabled && this.isDisabled) {
      console.log("flip enabled");
      this.texture = loadedAssets.buttonsheet.textures["button#default"];
      this.cursor = "pointer";
      this.bitmapText.tint = 65280;
      this.isDisabled = false;
      if (this.clickAction) {
        this.on("click", this.clickAction);
      }
    }
  }
  get disabled() {
    return this.isDisabled;
  }
};

// src/frontend/lib/makeInteractiveAndSelectable.ts
var deselectListeners = new import_eventemitter3.default();
function makeInteractiveAndSelectable(item, options) {
  item.interactive = true;
  item.cursor = "pointer";
  item.on("mouseover", () => {
    item.filters = [new l2()];
    options?.onMouseOver?.();
  });
  const removeGlow = () => {
    item.filters = [];
  };
  item.on("mouseout", removeGlow);
  item.on("mouseout", () => {
    options?.onMouseOut?.();
  });
  if (options?.onOrder) {
    item.on("rightclick", async (event) => {
      event.stopPropagation();
      const allCommands = typeof options.onOrder == "function" ? await options.onOrder() : options.onOrder;
      const filteredCommands = allCommands.filter((c2) => {
        if (c2.withSelection && (!GameState.selected || GameState.selected.type !== c2.withSelection)) {
          return false;
        }
        return true;
      });
      const isCommandAvailable = await Promise.all(filteredCommands.map((c2) => {
        return c2.isAvailable ? c2.isAvailable() : true;
      }));
      const validCommands = filteredCommands.filter((c2, index) => {
        return isCommandAvailable[index];
      });
      if (validCommands.length == 0) {
      } else if (filteredCommands.length === 1) {
        filteredCommands[0].action(GameState.selected.symbol);
      } else {
        const background = new NineSlicePlane(loadedAssets.statsBlock);
        background.height = filteredCommands.length * 40;
        background.width = 180;
        filteredCommands.forEach((comm, index) => {
          const button = new BaseButton(comm.name, {
            width: 160,
            height: 30,
            textSize: 16
          }, (event2) => {
            event2.stopPropagation();
            comm.action(GameState.selected.symbol);
            item.removeChild(background);
          });
          button.x = 10;
          button.y = 10 + index * 35;
          button.disabled = !isCommandAvailable[index];
          background.addChild(button);
        });
        item.addChild(background);
        deselectListeners.once("deselect", () => {
          item.removeChild(background);
        });
      }
    });
  }
  if (options?.onSelect) {
    item.on("click", (event) => {
      deselectListeners.emit("deselect");
      event.stopPropagation();
      deselectListeners.once("deselect", () => {
        removeGlow();
        GameState.selected = false;
        item.on("mouseout", removeGlow);
      });
      item.off("mouseout", removeGlow);
      GameState.selected = options.onSelect;
    });
  }
}

// src/frontend/lib/consts.ts
var totalSize = 5e5;
var systemScale = 12;
var universeCoordinates = {
  minX: 0,
  minY: 0,
  maxX: 0,
  maxY: 0
};
var systemCoordinates = {
  minX: 0,
  minY: 0
};
var scale = {
  universe: 1
};
var gameWidth = window.innerWidth ?? 1920;
var gameHeight = window.innerHeight ?? 1080;

// ../../node_modules/.pnpm/pixi-viewport@5.0.1/node_modules/pixi-viewport/dist/pixi_viewport.js
var S2 = Object.defineProperty;
var M2 = (c2, r2, t2) => r2 in c2 ? S2(c2, r2, { enumerable: true, configurable: true, writable: true, value: t2 }) : c2[r2] = t2;
var o2 = (c2, r2, t2) => (M2(c2, typeof r2 != "symbol" ? r2 + "" : r2, t2), t2);
var f3 = class {
  constructor(r2) {
    o2(this, "parent");
    o2(this, "paused");
    this.parent = r2, this.paused = false;
  }
  destroy() {
  }
  down(r2) {
    return false;
  }
  move(r2) {
    return false;
  }
  up(r2) {
    return false;
  }
  wheel(r2) {
    return false;
  }
  update(r2) {
  }
  resize() {
  }
  reset() {
  }
  pause() {
    this.paused = true;
  }
  resume() {
    this.paused = false;
  }
};
var C = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
var H2 = { exports: {} };
(function(c2, r2) {
  (function() {
    var t2, i3;
    i3 = function(e3) {
      return c2.exports = e3;
    }, t2 = {
      linear: function(e3, n2, s2, h2) {
        return s2 * e3 / h2 + n2;
      },
      easeInQuad: function(e3, n2, s2, h2) {
        return s2 * (e3 /= h2) * e3 + n2;
      },
      easeOutQuad: function(e3, n2, s2, h2) {
        return -s2 * (e3 /= h2) * (e3 - 2) + n2;
      },
      easeInOutQuad: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 + n2 : -s2 / 2 * (--e3 * (e3 - 2) - 1) + n2;
      },
      easeInCubic: function(e3, n2, s2, h2) {
        return s2 * (e3 /= h2) * e3 * e3 + n2;
      },
      easeOutCubic: function(e3, n2, s2, h2) {
        return s2 * ((e3 = e3 / h2 - 1) * e3 * e3 + 1) + n2;
      },
      easeInOutCubic: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 + n2 : s2 / 2 * ((e3 -= 2) * e3 * e3 + 2) + n2;
      },
      easeInQuart: function(e3, n2, s2, h2) {
        return s2 * (e3 /= h2) * e3 * e3 * e3 + n2;
      },
      easeOutQuart: function(e3, n2, s2, h2) {
        return -s2 * ((e3 = e3 / h2 - 1) * e3 * e3 * e3 - 1) + n2;
      },
      easeInOutQuart: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 * e3 + n2 : -s2 / 2 * ((e3 -= 2) * e3 * e3 * e3 - 2) + n2;
      },
      easeInQuint: function(e3, n2, s2, h2) {
        return s2 * (e3 /= h2) * e3 * e3 * e3 * e3 + n2;
      },
      easeOutQuint: function(e3, n2, s2, h2) {
        return s2 * ((e3 = e3 / h2 - 1) * e3 * e3 * e3 * e3 + 1) + n2;
      },
      easeInOutQuint: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? s2 / 2 * e3 * e3 * e3 * e3 * e3 + n2 : s2 / 2 * ((e3 -= 2) * e3 * e3 * e3 * e3 + 2) + n2;
      },
      easeInSine: function(e3, n2, s2, h2) {
        return -s2 * Math.cos(e3 / h2 * (Math.PI / 2)) + s2 + n2;
      },
      easeOutSine: function(e3, n2, s2, h2) {
        return s2 * Math.sin(e3 / h2 * (Math.PI / 2)) + n2;
      },
      easeInOutSine: function(e3, n2, s2, h2) {
        return -s2 / 2 * (Math.cos(Math.PI * e3 / h2) - 1) + n2;
      },
      easeInExpo: function(e3, n2, s2, h2) {
        return e3 === 0 ? n2 : s2 * Math.pow(2, 10 * (e3 / h2 - 1)) + n2;
      },
      easeOutExpo: function(e3, n2, s2, h2) {
        return e3 === h2 ? n2 + s2 : s2 * (-Math.pow(2, -10 * e3 / h2) + 1) + n2;
      },
      easeInOutExpo: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? s2 / 2 * Math.pow(2, 10 * (e3 - 1)) + n2 : s2 / 2 * (-Math.pow(2, -10 * --e3) + 2) + n2;
      },
      easeInCirc: function(e3, n2, s2, h2) {
        return -s2 * (Math.sqrt(1 - (e3 /= h2) * e3) - 1) + n2;
      },
      easeOutCirc: function(e3, n2, s2, h2) {
        return s2 * Math.sqrt(1 - (e3 = e3 / h2 - 1) * e3) + n2;
      },
      easeInOutCirc: function(e3, n2, s2, h2) {
        return (e3 /= h2 / 2) < 1 ? -s2 / 2 * (Math.sqrt(1 - e3 * e3) - 1) + n2 : s2 / 2 * (Math.sqrt(1 - (e3 -= 2) * e3) + 1) + n2;
      },
      easeInElastic: function(e3, n2, s2, h2) {
        var a2, p3, l3;
        return l3 = 1.70158, p3 = 0, a2 = s2, e3 === 0 || (e3 /= h2), p3 || (p3 = h2 * 0.3), a2 < Math.abs(s2) ? (a2 = s2, l3 = p3 / 4) : l3 = p3 / (2 * Math.PI) * Math.asin(s2 / a2), -(a2 * Math.pow(2, 10 * (e3 -= 1)) * Math.sin((e3 * h2 - l3) * (2 * Math.PI) / p3)) + n2;
      },
      easeOutElastic: function(e3, n2, s2, h2) {
        var a2, p3, l3;
        return l3 = 1.70158, p3 = 0, a2 = s2, e3 === 0 || (e3 /= h2), p3 || (p3 = h2 * 0.3), a2 < Math.abs(s2) ? (a2 = s2, l3 = p3 / 4) : l3 = p3 / (2 * Math.PI) * Math.asin(s2 / a2), a2 * Math.pow(2, -10 * e3) * Math.sin((e3 * h2 - l3) * (2 * Math.PI) / p3) + s2 + n2;
      },
      easeInOutElastic: function(e3, n2, s2, h2) {
        var a2, p3, l3;
        return l3 = 1.70158, p3 = 0, a2 = s2, e3 === 0 || (e3 /= h2 / 2), p3 || (p3 = h2 * (0.3 * 1.5)), a2 < Math.abs(s2) ? (a2 = s2, l3 = p3 / 4) : l3 = p3 / (2 * Math.PI) * Math.asin(s2 / a2), e3 < 1 ? -0.5 * (a2 * Math.pow(2, 10 * (e3 -= 1)) * Math.sin((e3 * h2 - l3) * (2 * Math.PI) / p3)) + n2 : a2 * Math.pow(2, -10 * (e3 -= 1)) * Math.sin((e3 * h2 - l3) * (2 * Math.PI) / p3) * 0.5 + s2 + n2;
      },
      easeInBack: function(e3, n2, s2, h2, a2) {
        return a2 === void 0 && (a2 = 1.70158), s2 * (e3 /= h2) * e3 * ((a2 + 1) * e3 - a2) + n2;
      },
      easeOutBack: function(e3, n2, s2, h2, a2) {
        return a2 === void 0 && (a2 = 1.70158), s2 * ((e3 = e3 / h2 - 1) * e3 * ((a2 + 1) * e3 + a2) + 1) + n2;
      },
      easeInOutBack: function(e3, n2, s2, h2, a2) {
        return a2 === void 0 && (a2 = 1.70158), (e3 /= h2 / 2) < 1 ? s2 / 2 * (e3 * e3 * (((a2 *= 1.525) + 1) * e3 - a2)) + n2 : s2 / 2 * ((e3 -= 2) * e3 * (((a2 *= 1.525) + 1) * e3 + a2) + 2) + n2;
      },
      easeInBounce: function(e3, n2, s2, h2) {
        var a2;
        return a2 = t2.easeOutBounce(h2 - e3, 0, s2, h2), s2 - a2 + n2;
      },
      easeOutBounce: function(e3, n2, s2, h2) {
        return (e3 /= h2) < 1 / 2.75 ? s2 * (7.5625 * e3 * e3) + n2 : e3 < 2 / 2.75 ? s2 * (7.5625 * (e3 -= 1.5 / 2.75) * e3 + 0.75) + n2 : e3 < 2.5 / 2.75 ? s2 * (7.5625 * (e3 -= 2.25 / 2.75) * e3 + 0.9375) + n2 : s2 * (7.5625 * (e3 -= 2.625 / 2.75) * e3 + 0.984375) + n2;
      },
      easeInOutBounce: function(e3, n2, s2, h2) {
        var a2;
        return e3 < h2 / 2 ? (a2 = t2.easeInBounce(e3 * 2, 0, s2, h2), a2 * 0.5 + n2) : (a2 = t2.easeOutBounce(e3 * 2 - h2, 0, s2, h2), a2 * 0.5 + s2 * 0.5 + n2);
      }
    }, i3(t2);
  }).call(C);
})(H2);
var b2 = H2.exports;
function W(c2, r2) {
  if (c2) {
    if (typeof c2 == "function")
      return c2;
    if (typeof c2 == "string")
      return b2[c2];
  } else
    return b2[r2];
}
var I = {
  removeOnInterrupt: false,
  ease: "linear",
  time: 1e3
};
var k2 = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "startX");
    o2(this, "startY");
    o2(this, "deltaX");
    o2(this, "deltaY");
    o2(this, "keepCenter");
    o2(this, "startWidth", null);
    o2(this, "startHeight", null);
    o2(this, "deltaWidth", null);
    o2(this, "deltaHeight", null);
    o2(this, "width", null);
    o2(this, "height", null);
    o2(this, "time", 0);
    this.options = Object.assign({}, I, i3), this.options.ease = W(this.options.ease), this.setupPosition(), this.setupZoom(), this.time = 0;
  }
  setupPosition() {
    typeof this.options.position < "u" ? (this.startX = this.parent.center.x, this.startY = this.parent.center.y, this.deltaX = this.options.position.x - this.parent.center.x, this.deltaY = this.options.position.y - this.parent.center.y, this.keepCenter = false) : this.keepCenter = true;
  }
  setupZoom() {
    this.width = null, this.height = null, typeof this.options.scale < "u" ? this.width = this.parent.screenWidth / this.options.scale : typeof this.options.scaleX < "u" || typeof this.options.scaleY < "u" ? (typeof this.options.scaleX < "u" && (this.width = this.parent.screenWidth / this.options.scaleX), typeof this.options.scaleY < "u" && (this.height = this.parent.screenHeight / this.options.scaleY)) : (typeof this.options.width < "u" && (this.width = this.options.width), typeof this.options.height < "u" && (this.height = this.options.height)), this.width !== null && (this.startWidth = this.parent.screenWidthInWorldPixels, this.deltaWidth = this.width - this.startWidth), this.height !== null && (this.startHeight = this.parent.screenHeightInWorldPixels, this.deltaHeight = this.height - this.startHeight);
  }
  down() {
    return this.options.removeOnInterrupt && this.parent.plugins.remove("animate"), false;
  }
  complete() {
    this.parent.plugins.remove("animate"), this.width !== null && this.parent.fitWidth(this.width, this.keepCenter, this.height === null), this.height !== null && this.parent.fitHeight(this.height, this.keepCenter, this.width === null), !this.keepCenter && this.options.position && this.parent.moveCenter(this.options.position), this.parent.emit("animate-end", this.parent), this.options.callbackOnComplete && this.options.callbackOnComplete(this.parent);
  }
  update(t2) {
    if (this.paused)
      return;
    this.time += t2;
    const i3 = new Point(this.parent.scale.x, this.parent.scale.y);
    if (this.time >= this.options.time) {
      const e3 = this.parent.width, n2 = this.parent.height;
      this.complete(), (e3 !== this.parent.width || n2 !== this.parent.height) && this.parent.emit("zoomed", { viewport: this.parent, original: i3, type: "animate" });
    } else {
      const e3 = this.options.ease(this.time, 0, 1, this.options.time);
      if (this.width !== null) {
        const n2 = this.startWidth, s2 = this.deltaWidth;
        this.parent.fitWidth(
          n2 + s2 * e3,
          this.keepCenter,
          this.height === null
        );
      }
      if (this.height !== null) {
        const n2 = this.startHeight, s2 = this.deltaHeight;
        this.parent.fitHeight(
          n2 + s2 * e3,
          this.keepCenter,
          this.width === null
        );
      }
      if (this.width === null ? this.parent.scale.x = this.parent.scale.y : this.height === null && (this.parent.scale.y = this.parent.scale.x), !this.keepCenter) {
        const n2 = this.startX, s2 = this.startY, h2 = this.deltaX, a2 = this.deltaY, p3 = new Point(this.parent.x, this.parent.y);
        this.parent.moveCenter(n2 + h2 * e3, s2 + a2 * e3), this.parent.emit("moved", { viewport: this.parent, original: p3, type: "animate" });
      }
      (this.width || this.height) && this.parent.emit("zoomed", { viewport: this.parent, original: i3, type: "animate" });
    }
  }
};
var Y = {
  sides: "all",
  friction: 0.5,
  time: 150,
  ease: "easeInOutSine",
  underflow: "center",
  bounceBox: null
};
var X = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "left");
    o2(this, "top");
    o2(this, "right");
    o2(this, "bottom");
    o2(this, "underflowX");
    o2(this, "underflowY");
    o2(this, "ease");
    o2(this, "toX");
    o2(this, "toY");
    this.options = Object.assign({}, Y, i3), this.ease = W(this.options.ease, "easeInOutSine"), this.options.sides ? this.options.sides === "all" ? this.top = this.bottom = this.left = this.right = true : this.options.sides === "horizontal" ? (this.right = this.left = true, this.top = this.bottom = false) : this.options.sides === "vertical" ? (this.left = this.right = false, this.top = this.bottom = true) : (this.top = this.options.sides.indexOf("top") !== -1, this.bottom = this.options.sides.indexOf("bottom") !== -1, this.left = this.options.sides.indexOf("left") !== -1, this.right = this.options.sides.indexOf("right") !== -1) : this.left = this.top = this.right = this.bottom = false;
    const e3 = this.options.underflow.toLowerCase();
    e3 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (this.underflowX = e3.indexOf("left") !== -1 ? -1 : e3.indexOf("right") !== -1 ? 1 : 0, this.underflowY = e3.indexOf("top") !== -1 ? -1 : e3.indexOf("bottom") !== -1 ? 1 : 0), this.reset();
  }
  isActive() {
    return this.toX !== null || this.toY !== null;
  }
  down() {
    return this.toX = this.toY = null, false;
  }
  up() {
    return this.bounce(), false;
  }
  update(t2) {
    if (!this.paused) {
      if (this.bounce(), this.toX) {
        const i3 = this.toX;
        i3.time += t2, this.parent.emit("moved", { viewport: this.parent, type: "bounce-x" }), i3.time >= this.options.time ? (this.parent.x = i3.end, this.toX = null, this.parent.emit("bounce-x-end", this.parent)) : this.parent.x = this.ease(i3.time, i3.start, i3.delta, this.options.time);
      }
      if (this.toY) {
        const i3 = this.toY;
        i3.time += t2, this.parent.emit("moved", { viewport: this.parent, type: "bounce-y" }), i3.time >= this.options.time ? (this.parent.y = i3.end, this.toY = null, this.parent.emit("bounce-y-end", this.parent)) : this.parent.y = this.ease(i3.time, i3.start, i3.delta, this.options.time);
      }
    }
  }
  calcUnderflowX() {
    let t2;
    switch (this.underflowX) {
      case -1:
        t2 = 0;
        break;
      case 1:
        t2 = this.parent.screenWidth - this.parent.screenWorldWidth;
        break;
      default:
        t2 = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
    }
    return t2;
  }
  calcUnderflowY() {
    let t2;
    switch (this.underflowY) {
      case -1:
        t2 = 0;
        break;
      case 1:
        t2 = this.parent.screenHeight - this.parent.screenWorldHeight;
        break;
      default:
        t2 = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
    }
    return t2;
  }
  oob() {
    const t2 = this.options.bounceBox;
    if (t2) {
      const i3 = typeof t2.x > "u" ? 0 : t2.x, e3 = typeof t2.y > "u" ? 0 : t2.y, n2 = typeof t2.width > "u" ? this.parent.worldWidth : t2.width, s2 = typeof t2.height > "u" ? this.parent.worldHeight : t2.height;
      return {
        left: this.parent.left < i3,
        right: this.parent.right > n2,
        top: this.parent.top < e3,
        bottom: this.parent.bottom > s2,
        topLeft: new Point(
          i3 * this.parent.scale.x,
          e3 * this.parent.scale.y
        ),
        bottomRight: new Point(
          n2 * this.parent.scale.x - this.parent.screenWidth,
          s2 * this.parent.scale.y - this.parent.screenHeight
        )
      };
    }
    return {
      left: this.parent.left < 0,
      right: this.parent.right > this.parent.worldWidth,
      top: this.parent.top < 0,
      bottom: this.parent.bottom > this.parent.worldHeight,
      topLeft: new Point(0, 0),
      bottomRight: new Point(
        this.parent.worldWidth * this.parent.scale.x - this.parent.screenWidth,
        this.parent.worldHeight * this.parent.scale.y - this.parent.screenHeight
      )
    };
  }
  bounce() {
    var s2, h2;
    if (this.paused)
      return;
    let t2, i3 = this.parent.plugins.get("decelerate", true);
    i3 && (i3.x || i3.y) && (i3.x && i3.percentChangeX === ((s2 = i3.options) == null ? void 0 : s2.friction) || i3.y && i3.percentChangeY === ((h2 = i3.options) == null ? void 0 : h2.friction)) && (t2 = this.oob(), (t2.left && this.left || t2.right && this.right) && (i3.percentChangeX = this.options.friction), (t2.top && this.top || t2.bottom && this.bottom) && (i3.percentChangeY = this.options.friction));
    const e3 = this.parent.plugins.get("drag", true) || {}, n2 = this.parent.plugins.get("pinch", true) || {};
    if (i3 = i3 || {}, !(e3 != null && e3.active) && !(n2 != null && n2.active) && (!this.toX || !this.toY) && (!i3.x || !i3.y)) {
      t2 = t2 || this.oob();
      const a2 = t2.topLeft, p3 = t2.bottomRight;
      if (!this.toX && !i3.x) {
        let l3 = null;
        t2.left && this.left ? l3 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -a2.x : t2.right && this.right && (l3 = this.parent.screenWorldWidth < this.parent.screenWidth ? this.calcUnderflowX() : -p3.x), l3 !== null && this.parent.x !== l3 && (this.toX = { time: 0, start: this.parent.x, delta: l3 - this.parent.x, end: l3 }, this.parent.emit("bounce-x-start", this.parent));
      }
      if (!this.toY && !i3.y) {
        let l3 = null;
        t2.top && this.top ? l3 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -a2.y : t2.bottom && this.bottom && (l3 = this.parent.screenWorldHeight < this.parent.screenHeight ? this.calcUnderflowY() : -p3.y), l3 !== null && this.parent.y !== l3 && (this.toY = { time: 0, start: this.parent.y, delta: l3 - this.parent.y, end: l3 }, this.parent.emit("bounce-y-start", this.parent));
      }
    }
  }
  reset() {
    this.toX = this.toY = null, this.bounce();
  }
};
var z = {
  left: false,
  right: false,
  top: false,
  bottom: false,
  direction: null,
  underflow: "center"
};
var A = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "last");
    o2(this, "noUnderflow");
    o2(this, "underflowX");
    o2(this, "underflowY");
    this.options = Object.assign({}, z, i3), this.options.direction && (this.options.left = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.right = this.options.direction === "x" || this.options.direction === "all" ? true : null, this.options.top = this.options.direction === "y" || this.options.direction === "all" ? true : null, this.options.bottom = this.options.direction === "y" || this.options.direction === "all" ? true : null), this.parseUnderflow(), this.last = { x: null, y: null, scaleX: null, scaleY: null }, this.update();
  }
  parseUnderflow() {
    const t2 = this.options.underflow.toLowerCase();
    t2 === "none" ? this.noUnderflow = true : t2 === "center" ? (this.underflowX = this.underflowY = 0, this.noUnderflow = false) : (this.underflowX = t2.indexOf("left") !== -1 ? -1 : t2.indexOf("right") !== -1 ? 1 : 0, this.underflowY = t2.indexOf("top") !== -1 ? -1 : t2.indexOf("bottom") !== -1 ? 1 : 0, this.noUnderflow = false);
  }
  move() {
    return this.update(), false;
  }
  update() {
    if (this.paused || this.parent.x === this.last.x && this.parent.y === this.last.y && this.parent.scale.x === this.last.scaleX && this.parent.scale.y === this.last.scaleY)
      return;
    const t2 = new Point(this.parent.x, this.parent.y), i3 = this.parent.plugins.decelerate || {};
    if (this.options.left !== null || this.options.right !== null) {
      let e3 = false;
      if (!this.noUnderflow && this.parent.screenWorldWidth < this.parent.screenWidth)
        switch (this.underflowX) {
          case -1:
            this.parent.x !== 0 && (this.parent.x = 0, e3 = true);
            break;
          case 1:
            this.parent.x !== this.parent.screenWidth - this.parent.screenWorldWidth && (this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth, e3 = true);
            break;
          default:
            this.parent.x !== (this.parent.screenWidth - this.parent.screenWorldWidth) / 2 && (this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2, e3 = true);
        }
      else
        this.options.left !== null && this.parent.left < (this.options.left === true ? 0 : this.options.left) && (this.parent.x = -(this.options.left === true ? 0 : this.options.left) * this.parent.scale.x, i3.x = 0, e3 = true), this.options.right !== null && this.parent.right > (this.options.right === true ? this.parent.worldWidth : this.options.right) && (this.parent.x = -(this.options.right === true ? this.parent.worldWidth : this.options.right) * this.parent.scale.x + this.parent.screenWidth, i3.x = 0, e3 = true);
      e3 && this.parent.emit("moved", { viewport: this.parent, original: t2, type: "clamp-x" });
    }
    if (this.options.top !== null || this.options.bottom !== null) {
      let e3 = false;
      if (!this.noUnderflow && this.parent.screenWorldHeight < this.parent.screenHeight)
        switch (this.underflowY) {
          case -1:
            this.parent.y !== 0 && (this.parent.y = 0, e3 = true);
            break;
          case 1:
            this.parent.y !== this.parent.screenHeight - this.parent.screenWorldHeight && (this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight, e3 = true);
            break;
          default:
            this.parent.y !== (this.parent.screenHeight - this.parent.screenWorldHeight) / 2 && (this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2, e3 = true);
        }
      else
        this.options.top !== null && this.parent.top < (this.options.top === true ? 0 : this.options.top) && (this.parent.y = -(this.options.top === true ? 0 : this.options.top) * this.parent.scale.y, i3.y = 0, e3 = true), this.options.bottom !== null && this.parent.bottom > (this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) && (this.parent.y = -(this.options.bottom === true ? this.parent.worldHeight : this.options.bottom) * this.parent.scale.y + this.parent.screenHeight, i3.y = 0, e3 = true);
      e3 && this.parent.emit("moved", { viewport: this.parent, original: t2, type: "clamp-y" });
    }
    this.last.x = this.parent.x, this.last.y = this.parent.y, this.last.scaleX = this.parent.scale.x, this.last.scaleY = this.parent.scale.y;
  }
  reset() {
    this.update();
  }
};
var _ = {
  minWidth: null,
  minHeight: null,
  maxWidth: null,
  maxHeight: null,
  minScale: null,
  maxScale: null
};
var T = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    this.options = Object.assign({}, _, i3), this.clamp();
  }
  resize() {
    this.clamp();
  }
  clamp() {
    if (!this.paused) {
      if (this.options.minWidth || this.options.minHeight || this.options.maxWidth || this.options.maxHeight) {
        let t2 = this.parent.worldScreenWidth, i3 = this.parent.worldScreenHeight;
        if (this.options.minWidth !== null && t2 < this.options.minWidth) {
          const e3 = this.parent.scale.x;
          this.parent.fitWidth(this.options.minWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / e3, t2 = this.parent.worldScreenWidth, i3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", { viewport: this.parent, type: "clamp-zoom" });
        }
        if (this.options.maxWidth !== null && t2 > this.options.maxWidth) {
          const e3 = this.parent.scale.x;
          this.parent.fitWidth(this.options.maxWidth, false, false, true), this.parent.scale.y *= this.parent.scale.x / e3, t2 = this.parent.worldScreenWidth, i3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", { viewport: this.parent, type: "clamp-zoom" });
        }
        if (this.options.minHeight !== null && i3 < this.options.minHeight) {
          const e3 = this.parent.scale.y;
          this.parent.fitHeight(this.options.minHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / e3, t2 = this.parent.worldScreenWidth, i3 = this.parent.worldScreenHeight, this.parent.emit("zoomed", { viewport: this.parent, type: "clamp-zoom" });
        }
        if (this.options.maxHeight !== null && i3 > this.options.maxHeight) {
          const e3 = this.parent.scale.y;
          this.parent.fitHeight(this.options.maxHeight, false, false, true), this.parent.scale.x *= this.parent.scale.y / e3, this.parent.emit("zoomed", { viewport: this.parent, type: "clamp-zoom" });
        }
      } else if (this.options.minScale || this.options.maxScale) {
        const t2 = { x: null, y: null }, i3 = { x: null, y: null };
        if (typeof this.options.minScale == "number")
          t2.x = this.options.minScale, t2.y = this.options.minScale;
        else if (this.options.minScale !== null) {
          const s2 = this.options.minScale;
          t2.x = typeof s2.x > "u" ? null : s2.x, t2.y = typeof s2.y > "u" ? null : s2.y;
        }
        if (typeof this.options.maxScale == "number")
          i3.x = this.options.maxScale, i3.y = this.options.maxScale;
        else if (this.options.maxScale !== null) {
          const s2 = this.options.maxScale;
          i3.x = typeof s2.x > "u" ? null : s2.x, i3.y = typeof s2.y > "u" ? null : s2.y;
        }
        let e3 = this.parent.scale.x, n2 = this.parent.scale.y;
        t2.x !== null && e3 < t2.x && (e3 = t2.x), i3.x !== null && e3 > i3.x && (e3 = i3.x), t2.y !== null && n2 < t2.y && (n2 = t2.y), i3.y !== null && n2 > i3.y && (n2 = i3.y), (e3 !== this.parent.scale.x || n2 !== this.parent.scale.y) && (this.parent.scale.set(e3, n2), this.parent.emit("zoomed", { viewport: this.parent, type: "clamp-zoom" }));
      }
    }
  }
  reset() {
    this.clamp();
  }
};
var D = {
  friction: 0.98,
  bounce: 0.8,
  minSpeed: 0.01
};
var g2 = 16;
var E = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "x");
    o2(this, "y");
    o2(this, "percentChangeX");
    o2(this, "percentChangeY");
    o2(this, "saved");
    o2(this, "timeSinceRelease");
    this.options = Object.assign({}, D, i3), this.saved = [], this.timeSinceRelease = 0, this.reset(), this.parent.on("moved", (e3) => this.handleMoved(e3));
  }
  down() {
    return this.saved = [], this.x = this.y = null, false;
  }
  isActive() {
    return !!(this.x || this.y);
  }
  move() {
    if (this.paused)
      return false;
    const t2 = this.parent.input.count();
    return (t2 === 1 || t2 > 1 && !this.parent.plugins.get("pinch", true)) && (this.saved.push({ x: this.parent.x, y: this.parent.y, time: performance.now() }), this.saved.length > 60 && this.saved.splice(0, 30)), false;
  }
  handleMoved(t2) {
    if (this.saved.length) {
      const i3 = this.saved[this.saved.length - 1];
      t2.type === "clamp-x" && t2.original ? i3.x === t2.original.x && (i3.x = this.parent.x) : t2.type === "clamp-y" && t2.original && i3.y === t2.original.y && (i3.y = this.parent.y);
    }
  }
  up() {
    if (this.parent.input.count() === 0 && this.saved.length) {
      const t2 = performance.now();
      for (const i3 of this.saved)
        if (i3.time >= t2 - 100) {
          const e3 = t2 - i3.time;
          this.x = (this.parent.x - i3.x) / e3, this.y = (this.parent.y - i3.y) / e3, this.percentChangeX = this.percentChangeY = this.options.friction, this.timeSinceRelease = 0;
          break;
        }
    }
    return false;
  }
  activate(t2) {
    t2 = t2 || {}, typeof t2.x < "u" && (this.x = t2.x, this.percentChangeX = this.options.friction), typeof t2.y < "u" && (this.y = t2.y, this.percentChangeY = this.options.friction);
  }
  update(t2) {
    if (this.paused)
      return;
    const i3 = this.x || this.y, e3 = this.timeSinceRelease, n2 = this.timeSinceRelease + t2;
    if (this.x) {
      const s2 = this.percentChangeX, h2 = Math.log(s2);
      this.parent.x += this.x * g2 / h2 * (Math.pow(s2, n2 / g2) - Math.pow(s2, e3 / g2)), this.x *= Math.pow(this.percentChangeX, t2 / g2);
    }
    if (this.y) {
      const s2 = this.percentChangeY, h2 = Math.log(s2);
      this.parent.y += this.y * g2 / h2 * (Math.pow(s2, n2 / g2) - Math.pow(s2, e3 / g2)), this.y *= Math.pow(this.percentChangeY, t2 / g2);
    }
    this.timeSinceRelease += t2, this.x && this.y ? Math.abs(this.x) < this.options.minSpeed && Math.abs(this.y) < this.options.minSpeed && (this.x = 0, this.y = 0) : (Math.abs(this.x || 0) < this.options.minSpeed && (this.x = 0), Math.abs(this.y || 0) < this.options.minSpeed && (this.y = 0)), i3 && this.parent.emit("moved", { viewport: this.parent, type: "decelerate" });
  }
  reset() {
    this.x = this.y = null;
  }
};
var L = {
  direction: "all",
  pressDrag: true,
  wheel: true,
  wheelScroll: 1,
  reverse: false,
  clampWheel: false,
  underflow: "center",
  factor: 1,
  mouseButtons: "all",
  keyToPress: null,
  ignoreKeyToPressOnTouch: false,
  lineHeight: 20,
  wheelSwapAxes: false
};
var U = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "moved");
    o2(this, "reverse");
    o2(this, "xDirection");
    o2(this, "yDirection");
    o2(this, "keyIsPressed");
    o2(this, "mouse");
    o2(this, "underflowX");
    o2(this, "underflowY");
    o2(this, "last");
    o2(this, "current");
    o2(this, "windowEventHandlers", []);
    this.options = Object.assign({}, L, i3), this.moved = false, this.reverse = this.options.reverse ? 1 : -1, this.xDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "x", this.yDirection = !this.options.direction || this.options.direction === "all" || this.options.direction === "y", this.keyIsPressed = false, this.parseUnderflow(), this.mouseButtons(this.options.mouseButtons), this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
  }
  handleKeyPresses(t2) {
    const i3 = (n2) => {
      t2.includes(n2.code) && (this.keyIsPressed = true);
    }, e3 = (n2) => {
      t2.includes(n2.code) && (this.keyIsPressed = false);
    };
    this.addWindowEventHandler("keyup", e3), this.addWindowEventHandler("keydown", i3);
  }
  addWindowEventHandler(t2, i3) {
    window.addEventListener(t2, i3), this.windowEventHandlers.push({ event: t2, handler: i3 });
  }
  destroy() {
    this.windowEventHandlers.forEach(({ event: t2, handler: i3 }) => {
      window.removeEventListener(t2, i3);
    });
  }
  mouseButtons(t2) {
    !t2 || t2 === "all" ? this.mouse = [true, true, true] : this.mouse = [
      t2.indexOf("left") !== -1,
      t2.indexOf("middle") !== -1,
      t2.indexOf("right") !== -1
    ];
  }
  parseUnderflow() {
    const t2 = this.options.underflow.toLowerCase();
    t2 === "center" ? (this.underflowX = 0, this.underflowY = 0) : (t2.includes("left") ? this.underflowX = -1 : t2.includes("right") ? this.underflowX = 1 : this.underflowX = 0, t2.includes("top") ? this.underflowY = -1 : t2.includes("bottom") ? this.underflowY = 1 : this.underflowY = 0);
  }
  checkButtons(t2) {
    const i3 = t2.pointerType === "mouse", e3 = this.parent.input.count();
    return !!((e3 === 1 || e3 > 1 && !this.parent.plugins.get("pinch", true)) && (!i3 || this.mouse[t2.button]));
  }
  checkKeyPress(t2) {
    return !this.options.keyToPress || this.keyIsPressed || this.options.ignoreKeyToPressOnTouch && t2.data.pointerType === "touch";
  }
  down(t2) {
    return this.paused || !this.options.pressDrag ? false : this.checkButtons(t2) && this.checkKeyPress(t2) ? (this.last = { x: t2.global.x, y: t2.global.y }, this.current = t2.pointerId, true) : (this.last = null, false);
  }
  get active() {
    return this.moved;
  }
  move(t2) {
    if (this.paused || !this.options.pressDrag)
      return false;
    if (this.last && this.current === t2.data.pointerId) {
      const i3 = t2.global.x, e3 = t2.global.y, n2 = this.parent.input.count();
      if (n2 === 1 || n2 > 1 && !this.parent.plugins.get("pinch", true)) {
        const s2 = i3 - this.last.x, h2 = e3 - this.last.y;
        if (this.moved || this.xDirection && this.parent.input.checkThreshold(s2) || this.yDirection && this.parent.input.checkThreshold(h2)) {
          const a2 = { x: i3, y: e3 };
          return this.xDirection && (this.parent.x += (a2.x - this.last.x) * this.options.factor), this.yDirection && (this.parent.y += (a2.y - this.last.y) * this.options.factor), this.last = a2, this.moved || this.parent.emit("drag-start", {
            event: t2,
            screen: new Point(this.last.x, this.last.y),
            world: this.parent.toWorld(new Point(this.last.x, this.last.y)),
            viewport: this.parent
          }), this.moved = true, this.parent.emit("moved", { viewport: this.parent, type: "drag" }), true;
        }
      } else
        this.moved = false;
    }
    return false;
  }
  up(t2) {
    if (this.paused)
      return false;
    const i3 = this.parent.input.touches;
    if (i3.length === 1) {
      const e3 = i3[0];
      return e3.last && (this.last = { x: e3.last.x, y: e3.last.y }, this.current = e3.id), this.moved = false, true;
    } else if (this.last && this.moved) {
      const e3 = new Point(this.last.x, this.last.y);
      return this.parent.emit("drag-end", {
        event: t2,
        screen: e3,
        world: this.parent.toWorld(e3),
        viewport: this.parent
      }), this.last = null, this.moved = false, true;
    }
    return false;
  }
  wheel(t2) {
    if (this.paused)
      return false;
    if (this.options.wheel) {
      const i3 = this.parent.plugins.get("wheel", true);
      if (!i3 || !i3.options.wheelZoom && !t2.ctrlKey) {
        const e3 = t2.deltaMode ? this.options.lineHeight : 1, n2 = [t2.deltaX, t2.deltaY], [s2, h2] = this.options.wheelSwapAxes ? n2.reverse() : n2;
        return this.xDirection && (this.parent.x += s2 * e3 * this.options.wheelScroll * this.reverse), this.yDirection && (this.parent.y += h2 * e3 * this.options.wheelScroll * this.reverse), this.options.clampWheel && this.clamp(), this.parent.emit("wheel-scroll", this.parent), this.parent.emit("moved", { viewport: this.parent, type: "wheel" }), this.parent.options.passiveWheel || t2.preventDefault(), this.parent.options.stopPropagation && t2.stopPropagation(), true;
      }
    }
    return false;
  }
  resume() {
    this.last = null, this.paused = false;
  }
  clamp() {
    const t2 = this.parent.plugins.get("decelerate", true) || {};
    if (this.options.clampWheel !== "y")
      if (this.parent.screenWorldWidth < this.parent.screenWidth)
        switch (this.underflowX) {
          case -1:
            this.parent.x = 0;
            break;
          case 1:
            this.parent.x = this.parent.screenWidth - this.parent.screenWorldWidth;
            break;
          default:
            this.parent.x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;
        }
      else
        this.parent.left < 0 ? (this.parent.x = 0, t2.x = 0) : this.parent.right > this.parent.worldWidth && (this.parent.x = -this.parent.worldWidth * this.parent.scale.x + this.parent.screenWidth, t2.x = 0);
    if (this.options.clampWheel !== "x")
      if (this.parent.screenWorldHeight < this.parent.screenHeight)
        switch (this.underflowY) {
          case -1:
            this.parent.y = 0;
            break;
          case 1:
            this.parent.y = this.parent.screenHeight - this.parent.screenWorldHeight;
            break;
          default:
            this.parent.y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;
        }
      else
        this.parent.top < 0 && (this.parent.y = 0, t2.y = 0), this.parent.bottom > this.parent.worldHeight && (this.parent.y = -this.parent.worldHeight * this.parent.scale.y + this.parent.screenHeight, t2.y = 0);
  }
};
var V = {
  speed: 0,
  acceleration: null,
  radius: null
};
var F = class extends f3 {
  constructor(t2, i3, e3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "target");
    o2(this, "velocity");
    this.target = i3, this.options = Object.assign({}, V, e3), this.velocity = { x: 0, y: 0 };
  }
  update(t2) {
    if (this.paused)
      return;
    const i3 = this.parent.center;
    let e3 = this.target.x, n2 = this.target.y;
    if (this.options.radius)
      if (Math.sqrt(Math.pow(this.target.y - i3.y, 2) + Math.pow(this.target.x - i3.x, 2)) > this.options.radius) {
        const p3 = Math.atan2(this.target.y - i3.y, this.target.x - i3.x);
        e3 = this.target.x - Math.cos(p3) * this.options.radius, n2 = this.target.y - Math.sin(p3) * this.options.radius;
      } else
        return;
    const s2 = e3 - i3.x, h2 = n2 - i3.y;
    if (s2 || h2)
      if (this.options.speed)
        if (this.options.acceleration) {
          const a2 = Math.atan2(n2 - i3.y, e3 - i3.x), p3 = Math.sqrt(Math.pow(s2, 2) + Math.pow(h2, 2));
          if (p3) {
            const l3 = (Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)) / (2 * this.options.acceleration);
            p3 > l3 ? this.velocity = {
              x: Math.min(this.velocity.x + (this.options.acceleration * t2, this.options.speed)),
              y: Math.min(this.velocity.y + (this.options.acceleration * t2, this.options.speed))
            } : this.velocity = {
              x: Math.max(this.velocity.x - this.options.acceleration * this.options.speed, 0),
              y: Math.max(this.velocity.y - this.options.acceleration * this.options.speed, 0)
            };
            const d2 = Math.cos(a2) * this.velocity.x, m2 = Math.sin(a2) * this.velocity.y, y2 = Math.abs(d2) > Math.abs(s2) ? e3 : i3.x + d2, x2 = Math.abs(m2) > Math.abs(h2) ? n2 : i3.y + m2;
            this.parent.moveCenter(y2, x2), this.parent.emit("moved", { viewport: this.parent, type: "follow" });
          }
        } else {
          const a2 = Math.atan2(n2 - i3.y, e3 - i3.x), p3 = Math.cos(a2) * this.options.speed, l3 = Math.sin(a2) * this.options.speed, d2 = Math.abs(p3) > Math.abs(s2) ? e3 : i3.x + p3, m2 = Math.abs(l3) > Math.abs(h2) ? n2 : i3.y + l3;
          this.parent.moveCenter(d2, m2), this.parent.emit("moved", { viewport: this.parent, type: "follow" });
        }
      else
        this.parent.moveCenter(e3, n2), this.parent.emit("moved", { viewport: this.parent, type: "follow" });
  }
};
var B = {
  radius: null,
  distance: null,
  top: null,
  bottom: null,
  left: null,
  right: null,
  speed: 8,
  reverse: false,
  noDecelerate: false,
  linear: false,
  allowButtons: false
};
var N2 = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "reverse");
    o2(this, "radiusSquared");
    o2(this, "left");
    o2(this, "top");
    o2(this, "right");
    o2(this, "bottom");
    o2(this, "horizontal");
    o2(this, "vertical");
    this.options = Object.assign({}, B, i3), this.reverse = this.options.reverse ? 1 : -1, this.radiusSquared = typeof this.options.radius == "number" ? Math.pow(this.options.radius, 2) : null, this.resize();
  }
  resize() {
    const t2 = this.options.distance;
    t2 !== null ? (this.left = t2, this.top = t2, this.right = this.parent.screenWidth - t2, this.bottom = this.parent.screenHeight - t2) : this.options.radius || (this.left = this.options.left, this.top = this.options.top, this.right = this.options.right === null ? null : this.parent.screenWidth - this.options.right, this.bottom = this.options.bottom === null ? null : this.parent.screenHeight - this.options.bottom);
  }
  down() {
    return this.paused || this.options.allowButtons || (this.horizontal = this.vertical = null), false;
  }
  move(t2) {
    if (this.paused || t2.pointerType !== "mouse" && t2.pointerId !== 1 || !this.options.allowButtons && t2.buttons !== 0)
      return false;
    const i3 = t2.global.x, e3 = t2.global.y;
    if (this.radiusSquared) {
      const n2 = this.parent.toScreen(this.parent.center);
      if (Math.pow(n2.x - i3, 2) + Math.pow(n2.y - e3, 2) >= this.radiusSquared) {
        const h2 = Math.atan2(n2.y - e3, n2.x - i3);
        this.options.linear ? (this.horizontal = Math.round(Math.cos(h2)) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.round(Math.sin(h2)) * this.options.speed * this.reverse * (60 / 1e3)) : (this.horizontal = Math.cos(h2) * this.options.speed * this.reverse * (60 / 1e3), this.vertical = Math.sin(h2) * this.options.speed * this.reverse * (60 / 1e3));
      } else
        this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = 0;
    } else
      this.left !== null && i3 < this.left ? this.horizontal = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.right !== null && i3 > this.right ? this.horizontal = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateHorizontal(), this.horizontal = 0), this.top !== null && e3 < this.top ? this.vertical = Number(this.reverse) * this.options.speed * (60 / 1e3) : this.bottom !== null && e3 > this.bottom ? this.vertical = -1 * this.reverse * this.options.speed * (60 / 1e3) : (this.decelerateVertical(), this.vertical = 0);
    return false;
  }
  decelerateHorizontal() {
    const t2 = this.parent.plugins.get("decelerate", true);
    this.horizontal && t2 && !this.options.noDecelerate && t2.activate({ x: this.horizontal * this.options.speed * this.reverse / (1e3 / 60) });
  }
  decelerateVertical() {
    const t2 = this.parent.plugins.get("decelerate", true);
    this.vertical && t2 && !this.options.noDecelerate && t2.activate({ y: this.vertical * this.options.speed * this.reverse / (1e3 / 60) });
  }
  up() {
    return this.paused || (this.horizontal && this.decelerateHorizontal(), this.vertical && this.decelerateVertical(), this.horizontal = this.vertical = null), false;
  }
  update() {
    if (!this.paused && (this.horizontal || this.vertical)) {
      const t2 = this.parent.center;
      this.horizontal && (t2.x += this.horizontal * this.options.speed), this.vertical && (t2.y += this.vertical * this.options.speed), this.parent.moveCenter(t2), this.parent.emit("moved", { viewport: this.parent, type: "mouse-edges" });
    }
  }
};
var Z = {
  noDrag: false,
  percent: 1,
  center: null,
  factor: 1,
  axis: "all"
};
var R = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "active", false);
    o2(this, "pinching", false);
    o2(this, "moved", false);
    o2(this, "lastCenter");
    this.options = Object.assign({}, Z, i3);
  }
  down() {
    return this.parent.input.count() >= 2 ? (this.active = true, true) : false;
  }
  isAxisX() {
    return ["all", "x"].includes(this.options.axis);
  }
  isAxisY() {
    return ["all", "y"].includes(this.options.axis);
  }
  move(t2) {
    if (this.paused || !this.active)
      return false;
    const i3 = t2.global.x, e3 = t2.global.y, n2 = this.parent.input.touches;
    if (n2.length >= 2) {
      const s2 = n2[0], h2 = n2[1], a2 = s2.last && h2.last ? Math.sqrt(Math.pow(h2.last.x - s2.last.x, 2) + Math.pow(h2.last.y - s2.last.y, 2)) : null;
      if (s2.id === t2.pointerId ? s2.last = { x: i3, y: e3, data: t2 } : h2.id === t2.pointerId && (h2.last = { x: i3, y: e3, data: t2 }), a2) {
        let p3;
        const l3 = new Point(
          s2.last.x + (h2.last.x - s2.last.x) / 2,
          s2.last.y + (h2.last.y - s2.last.y) / 2
        );
        this.options.center || (p3 = this.parent.toLocal(l3));
        let d2 = Math.sqrt(Math.pow(
          h2.last.x - s2.last.x,
          2
        ) + Math.pow(h2.last.y - s2.last.y, 2));
        d2 = d2 === 0 ? d2 = 1e-10 : d2;
        const m2 = (1 - a2 / d2) * this.options.percent * (this.isAxisX() ? this.parent.scale.x : this.parent.scale.y);
        this.isAxisX() && (this.parent.scale.x += m2), this.isAxisY() && (this.parent.scale.y += m2), this.parent.emit("zoomed", { viewport: this.parent, type: "pinch", center: l3 });
        const y2 = this.parent.plugins.get("clamp-zoom", true);
        if (y2 && y2.clamp(), this.options.center)
          this.parent.moveCenter(this.options.center);
        else {
          const x2 = this.parent.toGlobal(p3);
          this.parent.x += (l3.x - x2.x) * this.options.factor, this.parent.y += (l3.y - x2.y) * this.options.factor, this.parent.emit("moved", { viewport: this.parent, type: "pinch" });
        }
        !this.options.noDrag && this.lastCenter && (this.parent.x += (l3.x - this.lastCenter.x) * this.options.factor, this.parent.y += (l3.y - this.lastCenter.y) * this.options.factor, this.parent.emit("moved", { viewport: this.parent, type: "pinch" })), this.lastCenter = l3, this.moved = true;
      } else
        this.pinching || (this.parent.emit("pinch-start", this.parent), this.pinching = true);
      return true;
    }
    return false;
  }
  up() {
    return this.pinching && this.parent.input.touches.length <= 1 ? (this.active = false, this.lastCenter = null, this.pinching = false, this.moved = false, this.parent.emit("pinch-end", this.parent), true) : false;
  }
};
var j2 = {
  topLeft: false,
  friction: 0.8,
  time: 1e3,
  ease: "easeInOutSine",
  interrupt: true,
  removeOnComplete: false,
  removeOnInterrupt: false,
  forceStart: false
};
var q = class extends f3 {
  constructor(t2, i3, e3, n2 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "ease");
    o2(this, "x");
    o2(this, "y");
    o2(this, "percent");
    o2(this, "snapping");
    o2(this, "deltaX");
    o2(this, "deltaY");
    o2(this, "startX");
    o2(this, "startY");
    this.options = Object.assign({}, j2, n2), this.ease = W(n2.ease, "easeInOutSine"), this.x = i3, this.y = e3, this.options.forceStart && this.snapStart();
  }
  snapStart() {
    this.percent = 0, this.snapping = { time: 0 };
    const t2 = this.options.topLeft ? this.parent.corner : this.parent.center;
    this.deltaX = this.x - t2.x, this.deltaY = this.y - t2.y, this.startX = t2.x, this.startY = t2.y, this.parent.emit("snap-start", this.parent);
  }
  wheel() {
    return this.options.removeOnInterrupt && this.parent.plugins.remove("snap"), false;
  }
  down() {
    return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap") : this.options.interrupt && (this.snapping = null), false;
  }
  up() {
    if (this.parent.input.count() === 0) {
      const t2 = this.parent.plugins.get("decelerate", true);
      t2 && (t2.x || t2.y) && (t2.percentChangeX = t2.percentChangeY = this.options.friction);
    }
    return false;
  }
  update(t2) {
    if (!this.paused && !(this.options.interrupt && this.parent.input.count() !== 0))
      if (this.snapping) {
        const i3 = this.snapping;
        i3.time += t2;
        let e3, n2, s2;
        const h2 = this.startX, a2 = this.startY, p3 = this.deltaX, l3 = this.deltaY;
        if (i3.time > this.options.time)
          e3 = true, n2 = h2 + p3, s2 = a2 + l3;
        else {
          const d2 = this.ease(i3.time, 0, 1, this.options.time);
          n2 = h2 + p3 * d2, s2 = a2 + l3 * d2;
        }
        this.options.topLeft ? this.parent.moveCorner(n2, s2) : this.parent.moveCenter(n2, s2), this.parent.emit("moved", { viewport: this.parent, type: "snap" }), e3 && (this.options.removeOnComplete && this.parent.plugins.remove("snap"), this.parent.emit("snap-end", this.parent), this.snapping = null);
      } else {
        const i3 = this.options.topLeft ? this.parent.corner : this.parent.center;
        (i3.x !== this.x || i3.y !== this.y) && this.snapStart();
      }
  }
};
var K = {
  width: 0,
  height: 0,
  time: 1e3,
  ease: "easeInOutSine",
  center: null,
  interrupt: true,
  removeOnComplete: false,
  removeOnInterrupt: false,
  forceStart: false,
  noMove: false
};
var G = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "ease");
    o2(this, "xScale");
    o2(this, "yScale");
    o2(this, "xIndependent");
    o2(this, "yIndependent");
    o2(this, "snapping");
    this.options = Object.assign({}, K, i3), this.ease = W(this.options.ease), this.xIndependent = false, this.yIndependent = false, this.xScale = 0, this.yScale = 0, this.options.width > 0 && (this.xScale = t2.screenWidth / this.options.width, this.xIndependent = true), this.options.height > 0 && (this.yScale = t2.screenHeight / this.options.height, this.yIndependent = true), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale, this.options.time === 0 ? (t2.container.scale.x = this.xScale, t2.container.scale.y = this.yScale, this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom")) : i3.forceStart && this.createSnapping();
  }
  createSnapping() {
    const t2 = this.parent.worldScreenWidth, i3 = this.parent.worldScreenHeight, e3 = this.parent.screenWidth / this.xScale, n2 = this.parent.screenHeight / this.yScale;
    this.snapping = {
      time: 0,
      startX: t2,
      startY: i3,
      deltaX: e3 - t2,
      deltaY: n2 - i3
    }, this.parent.emit("snap-zoom-start", this.parent);
  }
  resize() {
    this.snapping = null, this.options.width > 0 && (this.xScale = this.parent.screenWidth / this.options.width), this.options.height > 0 && (this.yScale = this.parent.screenHeight / this.options.height), this.xScale = this.xIndependent ? this.xScale : this.yScale, this.yScale = this.yIndependent ? this.yScale : this.xScale;
  }
  wheel() {
    return this.options.removeOnInterrupt && this.parent.plugins.remove("snap-zoom"), false;
  }
  down() {
    return this.options.removeOnInterrupt ? this.parent.plugins.remove("snap-zoom") : this.options.interrupt && (this.snapping = null), false;
  }
  update(t2) {
    if (this.paused || this.options.interrupt && this.parent.input.count() !== 0)
      return;
    let i3;
    if (!this.options.center && !this.options.noMove && (i3 = this.parent.center), !this.snapping)
      (this.parent.scale.x !== this.xScale || this.parent.scale.y !== this.yScale) && this.createSnapping();
    else if (this.snapping) {
      const e3 = this.snapping;
      if (e3.time += t2, e3.time >= this.options.time)
        this.parent.scale.set(this.xScale, this.yScale), this.options.removeOnComplete && this.parent.plugins.remove("snap-zoom"), this.parent.emit("snap-zoom-end", this.parent), this.snapping = null;
      else {
        const s2 = this.snapping, h2 = this.ease(s2.time, s2.startX, s2.deltaX, this.options.time), a2 = this.ease(s2.time, s2.startY, s2.deltaY, this.options.time);
        this.parent.scale.x = this.parent.screenWidth / h2, this.parent.scale.y = this.parent.screenHeight / a2;
      }
      const n2 = this.parent.plugins.get("clamp-zoom", true);
      n2 && n2.clamp(), this.options.noMove || (this.options.center ? this.parent.moveCenter(this.options.center) : this.parent.moveCenter(i3));
    }
  }
  resume() {
    this.snapping = null, super.resume();
  }
};
var Q = {
  percent: 0.1,
  smooth: false,
  interrupt: true,
  reverse: false,
  center: null,
  lineHeight: 20,
  axis: "all",
  keyToPress: null,
  trackpadPinch: false,
  wheelZoom: true
};
var J = class extends f3 {
  constructor(t2, i3 = {}) {
    super(t2);
    o2(this, "options");
    o2(this, "smoothing");
    o2(this, "smoothingCenter");
    o2(this, "smoothingCount");
    o2(this, "keyIsPressed");
    this.options = Object.assign({}, Q, i3), this.keyIsPressed = false, this.options.keyToPress && this.handleKeyPresses(this.options.keyToPress);
  }
  handleKeyPresses(t2) {
    window.addEventListener("keydown", (i3) => {
      t2.includes(i3.code) && (this.keyIsPressed = true);
    }), window.addEventListener("keyup", (i3) => {
      t2.includes(i3.code) && (this.keyIsPressed = false);
    });
  }
  checkKeyPress() {
    return !this.options.keyToPress || this.keyIsPressed;
  }
  down() {
    return this.options.interrupt && (this.smoothing = null), false;
  }
  isAxisX() {
    return ["all", "x"].includes(this.options.axis);
  }
  isAxisY() {
    return ["all", "y"].includes(this.options.axis);
  }
  update() {
    if (this.smoothing) {
      const t2 = this.smoothingCenter, i3 = this.smoothing;
      let e3;
      this.options.center || (e3 = this.parent.toLocal(t2)), this.isAxisX() && (this.parent.scale.x += i3.x), this.isAxisY() && (this.parent.scale.y += i3.y), this.parent.emit("zoomed", { viewport: this.parent, type: "wheel" });
      const n2 = this.parent.plugins.get("clamp-zoom", true);
      if (n2 && n2.clamp(), this.options.center)
        this.parent.moveCenter(this.options.center);
      else {
        const s2 = this.parent.toGlobal(e3);
        this.parent.x += t2.x - s2.x, this.parent.y += t2.y - s2.y;
      }
      this.parent.emit("moved", { viewport: this.parent, type: "wheel" }), this.smoothingCount++, this.smoothingCount >= this.options.smooth && (this.smoothing = null);
    }
  }
  pinch(t2) {
    if (this.paused)
      return;
    const i3 = this.parent.input.getPointerPosition(t2), e3 = -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 200, n2 = Math.pow(2, (1 + this.options.percent) * e3);
    let s2;
    this.options.center || (s2 = this.parent.toLocal(i3)), this.isAxisX() && (this.parent.scale.x *= n2), this.isAxisY() && (this.parent.scale.y *= n2), this.parent.emit("zoomed", { viewport: this.parent, type: "wheel" });
    const h2 = this.parent.plugins.get("clamp-zoom", true);
    if (h2 && h2.clamp(), this.options.center)
      this.parent.moveCenter(this.options.center);
    else {
      const a2 = this.parent.toGlobal(s2);
      this.parent.x += i3.x - a2.x, this.parent.y += i3.y - a2.y;
    }
    this.parent.emit("moved", { viewport: this.parent, type: "wheel" }), this.parent.emit(
      "wheel-start",
      { event: t2, viewport: this.parent }
    );
  }
  wheel(t2) {
    if (this.paused || !this.checkKeyPress())
      return false;
    if (t2.ctrlKey && this.options.trackpadPinch)
      this.pinch(t2);
    else if (this.options.wheelZoom) {
      const i3 = this.parent.input.getPointerPosition(t2), n2 = (this.options.reverse ? -1 : 1) * -t2.deltaY * (t2.deltaMode ? this.options.lineHeight : 1) / 500, s2 = Math.pow(2, (1 + this.options.percent) * n2);
      if (this.options.smooth) {
        const h2 = {
          x: this.smoothing ? this.smoothing.x * (this.options.smooth - this.smoothingCount) : 0,
          y: this.smoothing ? this.smoothing.y * (this.options.smooth - this.smoothingCount) : 0
        };
        this.smoothing = {
          x: ((this.parent.scale.x + h2.x) * s2 - this.parent.scale.x) / this.options.smooth,
          y: ((this.parent.scale.y + h2.y) * s2 - this.parent.scale.y) / this.options.smooth
        }, this.smoothingCount = 0, this.smoothingCenter = i3;
      } else {
        let h2;
        this.options.center || (h2 = this.parent.toLocal(i3)), this.isAxisX() && (this.parent.scale.x *= s2), this.isAxisY() && (this.parent.scale.y *= s2), this.parent.emit("zoomed", { viewport: this.parent, type: "wheel" });
        const a2 = this.parent.plugins.get("clamp-zoom", true);
        if (a2 && a2.clamp(), this.options.center)
          this.parent.moveCenter(this.options.center);
        else {
          const p3 = this.parent.toGlobal(h2);
          this.parent.x += i3.x - p3.x, this.parent.y += i3.y - p3.y;
        }
      }
      this.parent.emit("moved", { viewport: this.parent, type: "wheel" }), this.parent.emit(
        "wheel-start",
        { event: t2, viewport: this.parent }
      );
    }
    return !this.parent.options.passiveWheel;
  }
};
var $2 = class {
  constructor(r2) {
    o2(this, "viewport");
    o2(this, "clickedAvailable");
    o2(this, "isMouseDown");
    o2(this, "last");
    o2(this, "wheelFunction");
    o2(this, "touches");
    this.viewport = r2, this.touches = [], this.addListeners();
  }
  addListeners() {
    this.viewport.interactive = true, this.viewport.forceHitArea || (this.viewport.hitArea = new Rectangle(0, 0, this.viewport.worldWidth, this.viewport.worldHeight)), this.viewport.on("pointerdown", this.down, this), this.viewport.options.allowPreserveDragOutside ? this.viewport.on("globalpointermove", this.move, this) : this.viewport.on("pointermove", this.move, this), this.viewport.on("pointerup", this.up, this), this.viewport.on("pointerupoutside", this.up, this), this.viewport.on("pointercancel", this.up, this), this.viewport.options.allowPreserveDragOutside || this.viewport.on("pointerleave", this.up, this), this.wheelFunction = (r2) => this.handleWheel(r2), this.viewport.options.events.domElement.addEventListener(
      "wheel",
      this.wheelFunction,
      { passive: this.viewport.options.passiveWheel }
    ), this.isMouseDown = false;
  }
  destroy() {
    this.viewport.options.events.domElement.removeEventListener("wheel", this.wheelFunction);
  }
  down(r2) {
    if (this.viewport.pause || !this.viewport.worldVisible)
      return;
    if (r2.pointerType === "mouse" ? this.isMouseDown = true : this.get(r2.pointerId) || this.touches.push({ id: r2.pointerId, last: null }), this.count() === 1) {
      this.last = r2.global.clone();
      const i3 = this.viewport.plugins.get("decelerate", true), e3 = this.viewport.plugins.get("bounce", true);
      (!i3 || !i3.isActive()) && (!e3 || !e3.isActive()) ? this.clickedAvailable = true : this.clickedAvailable = false;
    } else
      this.clickedAvailable = false;
    this.viewport.plugins.down(r2) && this.viewport.options.stopPropagation && r2.stopPropagation();
  }
  clear() {
    this.isMouseDown = false, this.touches = [], this.last = null;
  }
  checkThreshold(r2) {
    return Math.abs(r2) >= this.viewport.threshold;
  }
  move(r2) {
    if (this.viewport.pause || !this.viewport.worldVisible)
      return;
    const t2 = this.viewport.plugins.move(r2);
    if (this.clickedAvailable && this.last) {
      const i3 = r2.global.x - this.last.x, e3 = r2.global.y - this.last.y;
      (this.checkThreshold(i3) || this.checkThreshold(e3)) && (this.clickedAvailable = false);
    }
    t2 && this.viewport.options.stopPropagation && r2.stopPropagation();
  }
  up(r2) {
    if (this.viewport.pause || !this.viewport.worldVisible)
      return;
    r2.pointerType === "mouse" && (this.isMouseDown = false), r2.pointerType !== "mouse" && this.remove(r2.pointerId);
    const t2 = this.viewport.plugins.up(r2);
    this.clickedAvailable && this.count() === 0 && this.last && (this.viewport.emit("clicked", {
      event: r2,
      screen: this.last,
      world: this.viewport.toWorld(this.last),
      viewport: this.viewport
    }), this.clickedAvailable = false), t2 && this.viewport.options.stopPropagation && r2.stopPropagation();
  }
  getPointerPosition(r2) {
    const t2 = new Point();
    return this.viewport.options.events.mapPositionToPoint(t2, r2.clientX, r2.clientY), t2;
  }
  handleWheel(r2) {
    if (this.viewport.pause || !this.viewport.worldVisible)
      return;
    const t2 = this.viewport.toLocal(this.getPointerPosition(r2));
    this.viewport.left <= t2.x && t2.x <= this.viewport.right && this.viewport.top <= t2.y && t2.y <= this.viewport.bottom && this.viewport.plugins.wheel(r2) && !this.viewport.options.passiveWheel && r2.preventDefault();
  }
  pause() {
    this.touches = [], this.isMouseDown = false;
  }
  get(r2) {
    for (const t2 of this.touches)
      if (t2.id === r2)
        return t2;
    return null;
  }
  remove(r2) {
    for (let t2 = 0; t2 < this.touches.length; t2++)
      if (this.touches[t2].id === r2) {
        this.touches.splice(t2, 1);
        return;
      }
  }
  count() {
    return (this.isMouseDown ? 1 : 0) + this.touches.length;
  }
};
var w2 = [
  "drag",
  "pinch",
  "wheel",
  "follow",
  "mouse-edges",
  "decelerate",
  "animate",
  "bounce",
  "snap-zoom",
  "clamp-zoom",
  "snap",
  "clamp"
];
var tt = class {
  constructor(r2) {
    o2(this, "plugins");
    o2(this, "list");
    o2(this, "viewport");
    this.viewport = r2, this.list = [], this.plugins = {};
  }
  add(r2, t2, i3 = w2.length) {
    const e3 = this.plugins[r2];
    e3 && e3.destroy(), this.plugins[r2] = t2;
    const n2 = w2.indexOf(r2);
    n2 !== -1 && w2.splice(n2, 1), w2.splice(i3, 0, r2), this.sort();
  }
  get(r2, t2) {
    var i3;
    return t2 && (i3 = this.plugins[r2]) != null && i3.paused ? null : this.plugins[r2];
  }
  update(r2) {
    for (const t2 of this.list)
      t2.update(r2);
  }
  resize() {
    for (const r2 of this.list)
      r2.resize();
  }
  reset() {
    for (const r2 of this.list)
      r2.reset();
  }
  removeAll() {
    this.list.forEach((r2) => {
      r2.destroy();
    }), this.plugins = {}, this.sort();
  }
  remove(r2) {
    var t2;
    this.plugins[r2] && ((t2 = this.plugins[r2]) == null || t2.destroy(), delete this.plugins[r2], this.viewport.emit("plugin-remove", r2), this.sort());
  }
  pause(r2) {
    var t2;
    (t2 = this.plugins[r2]) == null || t2.pause();
  }
  resume(r2) {
    var t2;
    (t2 = this.plugins[r2]) == null || t2.resume();
  }
  sort() {
    this.list = [];
    for (const r2 of w2)
      this.plugins[r2] && this.list.push(this.plugins[r2]);
  }
  down(r2) {
    let t2 = false;
    for (const i3 of this.list)
      i3.down(r2) && (t2 = true);
    return t2;
  }
  move(r2) {
    let t2 = false;
    for (const i3 of this.viewport.plugins.list)
      i3.move(r2) && (t2 = true);
    return t2;
  }
  up(r2) {
    let t2 = false;
    for (const i3 of this.list)
      i3.up(r2) && (t2 = true);
    return t2;
  }
  wheel(r2) {
    let t2 = false;
    for (const i3 of this.list)
      i3.wheel(r2) && (t2 = true);
    return t2;
  }
};
var et = {
  screenWidth: window.innerWidth,
  screenHeight: window.innerHeight,
  worldWidth: null,
  worldHeight: null,
  threshold: 5,
  passiveWheel: true,
  stopPropagation: false,
  forceHitArea: null,
  noTicker: false,
  disableOnContextMenu: false,
  ticker: Ticker.shared,
  allowPreserveDragOutside: false
};
var ht = class extends Container {
  constructor(t2) {
    super();
    o2(this, "moving");
    o2(this, "screenWidth");
    o2(this, "screenHeight");
    o2(this, "threshold");
    o2(this, "input");
    o2(this, "plugins");
    o2(this, "zooming");
    o2(this, "lastViewport");
    o2(this, "options");
    o2(this, "_dirty");
    o2(this, "_forceHitArea");
    o2(this, "_hitAreaDefault");
    o2(this, "_pause");
    o2(this, "tickerFunction");
    o2(this, "_worldWidth");
    o2(this, "_worldHeight");
    o2(this, "_disableOnContextMenu", (t3) => t3.preventDefault());
    this.options = {
      ...et,
      ...t2
    }, this.screenWidth = this.options.screenWidth, this.screenHeight = this.options.screenHeight, this._worldWidth = this.options.worldWidth, this._worldHeight = this.options.worldHeight, this.forceHitArea = this.options.forceHitArea, this.threshold = this.options.threshold, this.options.disableOnContextMenu && this.options.events.domElement.addEventListener("contextmenu", this._disableOnContextMenu), this.options.noTicker || (this.tickerFunction = () => this.update(this.options.ticker.elapsedMS), this.options.ticker.add(this.tickerFunction)), this.input = new $2(this), this.plugins = new tt(this);
  }
  destroy(t2) {
    !this.options.noTicker && this.tickerFunction && this.options.ticker.remove(this.tickerFunction), this.options.disableOnContextMenu && this.options.events.domElement.removeEventListener("contextmenu", this._disableOnContextMenu), this.input.destroy(), super.destroy(t2);
  }
  update(t2) {
    this.pause || (this.plugins.update(t2), this.lastViewport && (this.lastViewport.x !== this.x || this.lastViewport.y !== this.y ? this.moving = true : this.moving && (this.emit("moved-end", this), this.moving = false), this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y ? this.zooming = true : this.zooming && (this.emit("zoomed-end", this), this.zooming = false)), this.forceHitArea || (this._hitAreaDefault = new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight), this.hitArea = this._hitAreaDefault), this._dirty = this._dirty || !this.lastViewport || this.lastViewport.x !== this.x || this.lastViewport.y !== this.y || this.lastViewport.scaleX !== this.scale.x || this.lastViewport.scaleY !== this.scale.y, this.lastViewport = {
      x: this.x,
      y: this.y,
      scaleX: this.scale.x,
      scaleY: this.scale.y
    }, this.emit("frame-end", this));
  }
  resize(t2 = window.innerWidth, i3 = window.innerHeight, e3, n2) {
    this.screenWidth = t2, this.screenHeight = i3, typeof e3 < "u" && (this._worldWidth = e3), typeof n2 < "u" && (this._worldHeight = n2), this.plugins.resize(), this.dirty = true;
  }
  get worldWidth() {
    return this._worldWidth ? this._worldWidth : this.width / this.scale.x;
  }
  set worldWidth(t2) {
    this._worldWidth = t2, this.plugins.resize();
  }
  get worldHeight() {
    return this._worldHeight ? this._worldHeight : this.height / this.scale.y;
  }
  set worldHeight(t2) {
    this._worldHeight = t2, this.plugins.resize();
  }
  getVisibleBounds() {
    return new Rectangle(this.left, this.top, this.worldScreenWidth, this.worldScreenHeight);
  }
  toWorld(t2, i3) {
    return arguments.length === 2 ? this.toLocal(new Point(t2, i3)) : this.toLocal(t2);
  }
  toScreen(t2, i3) {
    return arguments.length === 2 ? this.toGlobal(new Point(t2, i3)) : this.toGlobal(t2);
  }
  get worldScreenWidth() {
    return this.screenWidth / this.scale.x;
  }
  get worldScreenHeight() {
    return this.screenHeight / this.scale.y;
  }
  get screenWorldWidth() {
    return this.worldWidth * this.scale.x;
  }
  get screenWorldHeight() {
    return this.worldHeight * this.scale.y;
  }
  get center() {
    return new Point(
      this.worldScreenWidth / 2 - this.x / this.scale.x,
      this.worldScreenHeight / 2 - this.y / this.scale.y
    );
  }
  set center(t2) {
    this.moveCenter(t2);
  }
  moveCenter(...t2) {
    let i3, e3;
    typeof t2[0] == "number" ? (i3 = t2[0], e3 = t2[1]) : (i3 = t2[0].x, e3 = t2[0].y);
    const n2 = (this.worldScreenWidth / 2 - i3) * this.scale.x, s2 = (this.worldScreenHeight / 2 - e3) * this.scale.y;
    return (this.x !== n2 || this.y !== s2) && (this.position.set(n2, s2), this.plugins.reset(), this.dirty = true), this;
  }
  get corner() {
    return new Point(-this.x / this.scale.x, -this.y / this.scale.y);
  }
  set corner(t2) {
    this.moveCorner(t2);
  }
  moveCorner(...t2) {
    let i3, e3;
    return t2.length === 1 ? (i3 = -t2[0].x * this.scale.x, e3 = -t2[0].y * this.scale.y) : (i3 = -t2[0] * this.scale.x, e3 = -t2[1] * this.scale.y), (i3 !== this.x || e3 !== this.y) && (this.position.set(i3, e3), this.plugins.reset(), this.dirty = true), this;
  }
  get screenWidthInWorldPixels() {
    return this.screenWidth / this.scale.x;
  }
  get screenHeightInWorldPixels() {
    return this.screenHeight / this.scale.y;
  }
  findFitWidth(t2) {
    return this.screenWidth / t2;
  }
  findFitHeight(t2) {
    return this.screenHeight / t2;
  }
  findFit(t2, i3) {
    const e3 = this.screenWidth / t2, n2 = this.screenHeight / i3;
    return Math.min(e3, n2);
  }
  findCover(t2, i3) {
    const e3 = this.screenWidth / t2, n2 = this.screenHeight / i3;
    return Math.max(e3, n2);
  }
  fitWidth(t2 = this.worldWidth, i3, e3 = true, n2) {
    let s2;
    i3 && (s2 = this.center), this.scale.x = this.screenWidth / t2, e3 && (this.scale.y = this.scale.x);
    const h2 = this.plugins.get("clamp-zoom", true);
    return !n2 && h2 && h2.clamp(), i3 && s2 && this.moveCenter(s2), this;
  }
  fitHeight(t2 = this.worldHeight, i3, e3 = true, n2) {
    let s2;
    i3 && (s2 = this.center), this.scale.y = this.screenHeight / t2, e3 && (this.scale.x = this.scale.y);
    const h2 = this.plugins.get("clamp-zoom", true);
    return !n2 && h2 && h2.clamp(), i3 && s2 && this.moveCenter(s2), this;
  }
  fitWorld(t2) {
    let i3;
    t2 && (i3 = this.center), this.scale.x = this.screenWidth / this.worldWidth, this.scale.y = this.screenHeight / this.worldHeight, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
    const e3 = this.plugins.get("clamp-zoom", true);
    return e3 && e3.clamp(), t2 && i3 && this.moveCenter(i3), this;
  }
  fit(t2, i3 = this.worldWidth, e3 = this.worldHeight) {
    let n2;
    t2 && (n2 = this.center), this.scale.x = this.screenWidth / i3, this.scale.y = this.screenHeight / e3, this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y;
    const s2 = this.plugins.get("clamp-zoom", true);
    return s2 && s2.clamp(), t2 && n2 && this.moveCenter(n2), this;
  }
  setZoom(t2, i3) {
    let e3;
    i3 && (e3 = this.center), this.scale.set(t2);
    const n2 = this.plugins.get("clamp-zoom", true);
    return n2 && n2.clamp(), i3 && e3 && this.moveCenter(e3), this;
  }
  zoomPercent(t2, i3) {
    return this.setZoom(this.scale.x + this.scale.x * t2, i3);
  }
  zoom(t2, i3) {
    return this.fitWidth(t2 + this.worldScreenWidth, i3), this;
  }
  get scaled() {
    return this.scale.x;
  }
  set scaled(t2) {
    this.setZoom(t2, true);
  }
  snapZoom(t2) {
    return this.plugins.add("snap-zoom", new G(this, t2)), this;
  }
  OOB() {
    return {
      left: this.left < 0,
      right: this.right > this.worldWidth,
      top: this.top < 0,
      bottom: this.bottom > this.worldHeight,
      cornerPoint: new Point(
        this.worldWidth * this.scale.x - this.screenWidth,
        this.worldHeight * this.scale.y - this.screenHeight
      )
    };
  }
  get right() {
    return -this.x / this.scale.x + this.worldScreenWidth;
  }
  set right(t2) {
    this.x = -t2 * this.scale.x + this.screenWidth, this.plugins.reset();
  }
  get left() {
    return -this.x / this.scale.x;
  }
  set left(t2) {
    this.x = -t2 * this.scale.x, this.plugins.reset();
  }
  get top() {
    return -this.y / this.scale.y;
  }
  set top(t2) {
    this.y = -t2 * this.scale.y, this.plugins.reset();
  }
  get bottom() {
    return -this.y / this.scale.y + this.worldScreenHeight;
  }
  set bottom(t2) {
    this.y = -t2 * this.scale.y + this.screenHeight, this.plugins.reset();
  }
  get dirty() {
    return !!this._dirty;
  }
  set dirty(t2) {
    this._dirty = t2;
  }
  get forceHitArea() {
    return this._forceHitArea;
  }
  set forceHitArea(t2) {
    t2 ? (this._forceHitArea = t2, this.hitArea = t2) : (this._forceHitArea = null, this.hitArea = new Rectangle(0, 0, this.worldWidth, this.worldHeight));
  }
  drag(t2) {
    return this.plugins.add("drag", new U(this, t2)), this;
  }
  clamp(t2) {
    return this.plugins.add("clamp", new A(this, t2)), this;
  }
  decelerate(t2) {
    return this.plugins.add("decelerate", new E(this, t2)), this;
  }
  bounce(t2) {
    return this.plugins.add("bounce", new X(this, t2)), this;
  }
  pinch(t2) {
    return this.plugins.add("pinch", new R(this, t2)), this;
  }
  snap(t2, i3, e3) {
    return this.plugins.add("snap", new q(this, t2, i3, e3)), this;
  }
  follow(t2, i3) {
    return this.plugins.add("follow", new F(this, t2, i3)), this;
  }
  wheel(t2) {
    return this.plugins.add("wheel", new J(this, t2)), this;
  }
  animate(t2) {
    return this.plugins.add("animate", new k2(this, t2)), this;
  }
  clampZoom(t2) {
    return this.plugins.add("clamp-zoom", new T(this, t2)), this;
  }
  mouseEdges(t2) {
    return this.plugins.add("mouse-edges", new N2(this, t2)), this;
  }
  get pause() {
    return !!this._pause;
  }
  set pause(t2) {
    this._pause = t2, this.lastViewport = null, this.moving = false, this.zooming = false, t2 && this.input.pause();
  }
  ensureVisible(t2, i3, e3, n2, s2) {
    s2 && (e3 > this.worldScreenWidth || n2 > this.worldScreenHeight) && (this.fit(true, e3, n2), this.emit("zoomed", { viewport: this, type: "ensureVisible" }));
    let h2 = false;
    t2 < this.left ? (this.left = t2, h2 = true) : t2 + e3 > this.right && (this.right = t2 + e3, h2 = true), i3 < this.top ? (this.top = i3, h2 = true) : i3 + n2 > this.bottom && (this.bottom = i3 + n2, h2 = true), h2 && this.emit("moved", { viewport: this, type: "ensureVisible" });
  }
};

// ../../node_modules/.pnpm/pixi-cull@2.2.0_pixi.js@7.2.4/node_modules/pixi-cull/dist/pixi-cull.es.js
var __assign = function() {
  __assign = Object.assign || function __assign2(t2) {
    for (var s2, i3 = 1, n2 = arguments.length; i3 < n2; i3++) {
      s2 = arguments[i3];
      for (var p3 in s2)
        if (Object.prototype.hasOwnProperty.call(s2, p3))
          t2[p3] = s2[p3];
    }
    return t2;
  };
  return __assign.apply(this, arguments);
};
var defaultSimpleOptions = {
  visible: "visible",
  dirtyTest: false
};
var Simple = (
  /** @class */
  function() {
    function Simple2(options) {
      if (options === void 0) {
        options = {};
      }
      options = __assign(__assign({}, defaultSimpleOptions), options);
      this.dirtyTest = typeof options.dirtyTest !== "undefined" ? options.dirtyTest : true;
      this.lists = [[]];
    }
    Simple2.prototype.addList = function(array, staticObject) {
      this.lists.push(array);
      if (staticObject) {
        array.staticObject = true;
      }
      var length = array.length;
      for (var i3 = 0; i3 < length; i3++) {
        this.updateObject(array[i3]);
      }
      return array;
    };
    Simple2.prototype.removeList = function(array) {
      var index = this.lists.indexOf(array);
      if (index === -1) {
        return array;
      }
      this.lists.splice(index, 1);
      return array;
    };
    Simple2.prototype.add = function(object, staticObject) {
      if (staticObject) {
        object.staticObject = true;
      }
      if (this.dirtyTest || staticObject) {
        this.updateObject(object);
      }
      this.lists[0].push(object);
      return object;
    };
    Simple2.prototype.remove = function(object) {
      var index = this.lists[0].indexOf(object);
      if (index === -1) {
        return object;
      }
      this.lists[0].splice(index, 1);
      return object;
    };
    Simple2.prototype.cull = function(bounds, skipUpdate) {
      if (!skipUpdate) {
        this.updateObjects();
      }
      for (var _i = 0, _a2 = this.lists; _i < _a2.length; _i++) {
        var list = _a2[_i];
        var length_1 = list.length;
        for (var i3 = 0; i3 < length_1; i3++) {
          var object = list[i3];
          var box = object.AABB;
          object.visible = box.x + box.width > bounds.x && box.x < bounds.x + bounds.width && box.y + box.height > bounds.y && box.y < bounds.y + bounds.height;
        }
      }
    };
    Simple2.prototype.updateObjects = function() {
      if (this.dirtyTest) {
        for (var _i = 0, _a2 = this.lists; _i < _a2.length; _i++) {
          var list = _a2[_i];
          if (!list.staticObject) {
            var length_2 = list.length;
            for (var i3 = 0; i3 < length_2; i3++) {
              var object = list[i3];
              if (!object.staticObject && object.dirty) {
                this.updateObject(object);
                object.dirty = false;
              }
            }
          }
        }
      } else {
        for (var _b = 0, _c = this.lists; _b < _c.length; _b++) {
          var list = _c[_b];
          if (!list.staticObject) {
            var length_3 = list.length;
            for (var i3 = 0; i3 < length_3; i3++) {
              var object = list[i3];
              if (!object.staticObject) {
                this.updateObject(object);
              }
            }
          }
        }
      }
    };
    Simple2.prototype.updateObject = function(object) {
      var box = object.getLocalBounds();
      object.AABB = object.AABB || { x: 0, y: 0, width: 0, height: 0 };
      object.AABB.x = object.x + (box.x - object.pivot.x) * Math.abs(object.scale.x);
      object.AABB.y = object.y + (box.y - object.pivot.y) * Math.abs(object.scale.y);
      object.AABB.width = box.width * Math.abs(object.scale.x);
      object.AABB.height = box.height * Math.abs(object.scale.y);
    };
    Simple2.prototype.query = function(bounds) {
      var results = [];
      for (var _i = 0, _a2 = this.lists; _i < _a2.length; _i++) {
        var list = _a2[_i];
        for (var _b = 0, list_1 = list; _b < list_1.length; _b++) {
          var object = list_1[_b];
          var box = object.AABB;
          if (box && box.x + box.width > bounds.x && box.x - box.width < bounds.x + bounds.width && box.y + box.height > bounds.y && box.y - box.height < bounds.y + bounds.height) {
            results.push(object);
          }
        }
      }
      return results;
    };
    Simple2.prototype.queryCallback = function(bounds, callback) {
      for (var _i = 0, _a2 = this.lists; _i < _a2.length; _i++) {
        var list = _a2[_i];
        for (var _b = 0, list_2 = list; _b < list_2.length; _b++) {
          var object = list_2[_b];
          var box = object.AABB;
          if (box && box.x + box.width > bounds.x && box.x - box.width < bounds.x + bounds.width && box.y + box.height > bounds.y && box.y - box.height < bounds.y + bounds.height) {
            if (callback(object)) {
              return true;
            }
          }
        }
      }
      return false;
    };
    Simple2.prototype.stats = function() {
      var visible = 0, count = 0;
      for (var _i = 0, _a2 = this.lists; _i < _a2.length; _i++) {
        var list = _a2[_i];
        list.forEach(function(object) {
          visible += object.visible ? 1 : 0;
          count++;
        });
      }
      return { total: count, visible, culled: count - visible };
    };
    return Simple2;
  }()
);
var SpatialHashDefaultOptions = {
  xSize: 1e3,
  ySize: 1e3,
  simpleTest: true,
  dirtyTest: true
};
var SpatialHash = (
  /** @class */
  function() {
    function SpatialHash3(options) {
      this.xSize = 1e3;
      this.ySize = 1e3;
      this.simpleTest = true;
      this.dirtyTest = true;
      options = __assign(__assign({}, SpatialHashDefaultOptions), options);
      if (options && typeof options.size !== "undefined") {
        this.xSize = this.ySize = options.size;
      } else {
        this.xSize = options.xSize;
        this.ySize = options.ySize;
      }
      this.simpleTest = options.simpleTest;
      this.dirtyTest = options.dirtyTest;
      this.width = this.height = 0;
      this.hash = {};
      this.containers = [];
      this.elements = [];
    }
    SpatialHash3.prototype.add = function(object, staticObject) {
      object.spatial = { hashes: [] };
      if (this.dirtyTest) {
        object.dirty = true;
      }
      if (staticObject) {
        object.staticObject = true;
      }
      this.updateObject(object);
      this.elements.push(object);
      return object;
    };
    SpatialHash3.prototype.remove = function(object) {
      this.elements.splice(this.elements.indexOf(object), 1);
      this.removeFromHash(object);
      return object;
    };
    SpatialHash3.prototype.addContainer = function(container, staticObject) {
      var _this = this;
      var added = function(object2) {
        object2.spatial = { hashes: [] };
        _this.updateObject(object2);
      };
      var removed = function(object2) {
        _this.removeFromHash(object2);
      };
      var length = container.children.length;
      for (var i3 = 0; i3 < length; i3++) {
        var object = container.children[i3];
        object.spatial = { hashes: [] };
        this.updateObject(object);
      }
      container.cull = {};
      this.containers.push(container);
      container.on("childAdded", added);
      container.on("childRemoved", removed);
      container.cull.added = added;
      container.cull.removed = removed;
      if (staticObject) {
        container.cull.static = true;
      }
    };
    SpatialHash3.prototype.removeContainer = function(container) {
      var _this = this;
      this.containers.splice(this.containers.indexOf(container), 1);
      container.children.forEach(function(object) {
        return _this.removeFromHash(object);
      });
      container.off("childAdded", container.cull.added);
      container.off("removedFrom", container.cull.removed);
      delete container.cull;
      return container;
    };
    SpatialHash3.prototype.cull = function(AABB, skipUpdate, callback) {
      if (!skipUpdate) {
        this.updateObjects();
      }
      this.invisible();
      var objects;
      if (callback) {
        objects = this.queryCallbackAll(AABB, this.simpleTest, callback);
      } else {
        objects = this.query(AABB, this.simpleTest);
      }
      objects.forEach(function(object) {
        return object.visible = true;
      });
      return this.lastBuckets;
    };
    SpatialHash3.prototype.invisible = function() {
      var length = this.elements.length;
      for (var i3 = 0; i3 < length; i3++) {
        this.elements[i3].visible = false;
      }
      for (var _i = 0, _a2 = this.containers; _i < _a2.length; _i++) {
        var container = _a2[_i];
        var length_1 = container.children.length;
        for (var i3 = 0; i3 < length_1; i3++) {
          container.children[i3].visible = false;
        }
      }
    };
    SpatialHash3.prototype.updateObjects = function() {
      if (this.dirtyTest) {
        var length_2 = this.elements.length;
        for (var i3 = 0; i3 < length_2; i3++) {
          var object = this.elements[i3];
          if (object.dirty) {
            this.updateObject(object);
            object.dirty = false;
          }
        }
        for (var _i = 0, _a2 = this.containers; _i < _a2.length; _i++) {
          var container = _a2[_i];
          if (!container.cull.static) {
            var length_3 = container.children.length;
            for (var i3 = 0; i3 < length_3; i3++) {
              var object = container.children[i3];
              if (object.dirty) {
                this.updateObject(object);
                object.dirty = false;
              }
            }
          }
        }
      } else {
        var length_4 = this.elements.length;
        for (var i3 = 0; i3 < length_4; i3++) {
          var object = this.elements[i3];
          if (!object.staticObject) {
            this.updateObject(object);
          }
        }
        for (var _b = 0, _c = this.containers; _b < _c.length; _b++) {
          var container = _c[_b];
          if (!container.cull.static) {
            var length_5 = container.children.length;
            for (var i3 = 0; i3 < length_5; i3++) {
              this.updateObject(container.children[i3]);
            }
          }
        }
      }
    };
    SpatialHash3.prototype.updateObject = function(object) {
      var AABB;
      var box = object.getLocalBounds();
      AABB = object.AABB = {
        x: object.x + (box.x - object.pivot.x) * object.scale.x,
        y: object.y + (box.y - object.pivot.y) * object.scale.y,
        width: box.width * object.scale.x,
        height: box.height * object.scale.y
      };
      var spatial = object.spatial;
      if (!spatial) {
        spatial = object.spatial = { hashes: [] };
      }
      var _a2 = this.getBounds(AABB), xStart = _a2.xStart, yStart = _a2.yStart, xEnd = _a2.xEnd, yEnd = _a2.yEnd;
      if (spatial.xStart !== xStart || spatial.yStart !== yStart || spatial.xEnd !== xEnd || spatial.yEnd !== yEnd) {
        if (spatial.hashes.length) {
          this.removeFromHash(object);
        }
        for (var y2 = yStart; y2 <= yEnd; y2++) {
          for (var x2 = xStart; x2 <= xEnd; x2++) {
            var key2 = x2 + "," + y2;
            this.insert(object, key2);
            spatial.hashes.push(key2);
          }
        }
        spatial.xStart = xStart;
        spatial.yStart = yStart;
        spatial.xEnd = xEnd;
        spatial.yEnd = yEnd;
      }
    };
    SpatialHash3.prototype.getBuckets = function(minimum) {
      if (minimum === void 0) {
        minimum = 1;
      }
      var hashes = [];
      for (var key2 in this.hash) {
        var hash = this.hash[key2];
        if (hash.length >= minimum) {
          hashes.push(hash);
        }
      }
      return hashes;
    };
    SpatialHash3.prototype.getBounds = function(AABB) {
      var xStart = Math.floor(AABB.x / this.xSize);
      var yStart = Math.floor(AABB.y / this.ySize);
      var xEnd = Math.floor((AABB.x + AABB.width) / this.xSize);
      var yEnd = Math.floor((AABB.y + AABB.height) / this.ySize);
      return { xStart, yStart, xEnd, yEnd };
    };
    SpatialHash3.prototype.insert = function(object, key2) {
      if (!this.hash[key2]) {
        this.hash[key2] = [object];
      } else {
        this.hash[key2].push(object);
      }
    };
    SpatialHash3.prototype.removeFromHash = function(object) {
      var spatial = object.spatial;
      while (spatial.hashes.length) {
        var key2 = spatial.hashes.pop();
        var list = this.hash[key2];
        list.splice(list.indexOf(object), 1);
      }
    };
    SpatialHash3.prototype.neighbors = function(object) {
      var _this = this;
      var results = [];
      object.spatial.hashes.forEach(function(key2) {
        return results = results.concat(_this.hash[key2]);
      });
      return results;
    };
    SpatialHash3.prototype.query = function(AABB, simpleTest) {
      if (simpleTest === void 0) {
        simpleTest = true;
      }
      var buckets = 0;
      var results = [];
      var _a2 = this.getBounds(AABB), xStart = _a2.xStart, yStart = _a2.yStart, xEnd = _a2.xEnd, yEnd = _a2.yEnd;
      for (var y2 = yStart; y2 <= yEnd; y2++) {
        for (var x2 = xStart; x2 <= xEnd; x2++) {
          var entry = this.hash[x2 + "," + y2];
          if (entry) {
            if (simpleTest) {
              var length_6 = entry.length;
              for (var i3 = 0; i3 < length_6; i3++) {
                var object = entry[i3];
                var box = object.AABB;
                if (box.x + box.width > AABB.x && box.x < AABB.x + AABB.width && box.y + box.height > AABB.y && box.y < AABB.y + AABB.height) {
                  results.push(object);
                }
              }
            } else {
              results = results.concat(entry);
            }
            buckets++;
          }
        }
      }
      this.lastBuckets = buckets;
      return results;
    };
    SpatialHash3.prototype.queryCallbackAll = function(AABB, simpleTest, callback) {
      if (simpleTest === void 0) {
        simpleTest = true;
      }
      var buckets = 0;
      var results = [];
      var _a2 = this.getBounds(AABB), xStart = _a2.xStart, yStart = _a2.yStart, xEnd = _a2.xEnd, yEnd = _a2.yEnd;
      for (var y2 = yStart; y2 <= yEnd; y2++) {
        for (var x2 = xStart; x2 <= xEnd; x2++) {
          var entry = this.hash[x2 + "," + y2];
          if (entry) {
            if (simpleTest) {
              var length_7 = entry.length;
              for (var i3 = 0; i3 < length_7; i3++) {
                var object = entry[i3];
                var box = object.AABB;
                if (box.x + box.width > AABB.x && box.x < AABB.x + AABB.width && box.y + box.height > AABB.y && box.y < AABB.y + AABB.height) {
                  results.push(object);
                  callback(object);
                }
              }
            } else {
              results = results.concat(entry);
              for (var _i = 0, entry_1 = entry; _i < entry_1.length; _i++) {
                var object = entry_1[_i];
                callback(object);
              }
            }
            buckets++;
          }
        }
      }
      this.lastBuckets = buckets;
      return results;
    };
    SpatialHash3.prototype.queryCallback = function(AABB, callback, simpleTest) {
      if (simpleTest === void 0) {
        simpleTest = true;
      }
      var _a2 = this.getBounds(AABB), xStart = _a2.xStart, yStart = _a2.yStart, xEnd = _a2.xEnd, yEnd = _a2.yEnd;
      for (var y2 = yStart; y2 <= yEnd; y2++) {
        for (var x2 = xStart; x2 <= xEnd; x2++) {
          var entry = this.hash[x2 + "," + y2];
          if (entry) {
            for (var i3 = 0; i3 < entry.length; i3++) {
              var object = entry[i3];
              if (simpleTest) {
                var AABB_1 = object.AABB;
                if (AABB_1.x + AABB_1.width > AABB_1.x && AABB_1.x < AABB_1.x + AABB_1.width && AABB_1.y + AABB_1.height > AABB_1.y && AABB_1.y < AABB_1.y + AABB_1.height) {
                  if (callback(object)) {
                    return true;
                  }
                }
              } else {
                if (callback(object)) {
                  return true;
                }
              }
            }
          }
        }
      }
      return false;
    };
    SpatialHash3.prototype.stats = function() {
      var visible = 0, count = 0;
      var length = this.elements.length;
      for (var i3 = 0; i3 < length; i3++) {
        var object = this.elements[i3];
        visible += object.visible ? 1 : 0;
        count++;
      }
      for (var _i = 0, _a2 = this.containers; _i < _a2.length; _i++) {
        var list = _a2[_i];
        var length_8 = list.children.length;
        for (var i3 = 0; i3 < length_8; i3++) {
          var object = list.children[i3];
          visible += object.visible ? 1 : 0;
          count++;
        }
      }
      return {
        buckets: this.lastBuckets,
        total: count,
        visible,
        culled: count - visible
      };
    };
    SpatialHash3.prototype.getNumberOfBuckets = function() {
      return Object.keys(this.hash).length;
    };
    SpatialHash3.prototype.getAverageSize = function() {
      var total = 0;
      for (var key2 in this.hash) {
        total += this.hash[key2].length;
      }
      return total / this.getBuckets().length;
    };
    SpatialHash3.prototype.getLargest = function() {
      var largest = 0;
      for (var key2 in this.hash) {
        if (this.hash[key2].length > largest) {
          largest = this.hash[key2].length;
        }
      }
      return largest;
    };
    SpatialHash3.prototype.getWorldBounds = function() {
      var xStart = Infinity, yStart = Infinity, xEnd = 0, yEnd = 0;
      for (var key2 in this.hash) {
        var split = key2.split(",");
        var x2 = parseInt(split[0]);
        var y2 = parseInt(split[1]);
        xStart = x2 < xStart ? x2 : xStart;
        yStart = y2 < yStart ? y2 : yStart;
        xEnd = x2 > xEnd ? x2 : xEnd;
        yEnd = y2 > yEnd ? y2 : yEnd;
      }
      return { xStart, yStart, xEnd, yEnd };
    };
    SpatialHash3.prototype.getSparseness = function(AABB) {
      var count = 0, total = 0;
      var _a2 = AABB ? this.getBounds(AABB) : this.getWorldBounds(), xStart = _a2.xStart, yStart = _a2.yStart, xEnd = _a2.xEnd, yEnd = _a2.yEnd;
      for (var y2 = yStart; y2 < yEnd; y2++) {
        for (var x2 = xStart; x2 < xEnd; x2++) {
          count += this.hash[x2 + "," + y2] ? 1 : 0;
          total++;
        }
      }
      return count / total;
    };
    return SpatialHash3;
  }()
);

// src/frontend/lib/Flex.ts
var import_yoga_layout_prebuilt = __toESM(require_entry_browser());
var Flex = class {
  constructor(displayObject) {
    this.displayObject = displayObject;
    this.node = import_yoga_layout_prebuilt.Node.create();
  }
  node;
  children = [];
  updateLayout() {
    this.node.calculateLayout();
    this.updateDisplayObject();
  }
  updateDisplayObject() {
    const computedLayout = this.node.getComputedLayout();
    console.log(computedLayout);
    this.displayObject.height = computedLayout.height;
    this.displayObject.width = computedLayout.width;
    this.displayObject.x = computedLayout.left;
    this.displayObject.y = computedLayout.top;
    this.children.forEach((child) => {
      child.updateDisplayObject();
    });
  }
  removeChildren() {
    const count = this.node.getChildCount();
    const removeList = [];
    for (let i3 = 0; i3 < count; i3++) {
      removeList.push(this.node.getChild(i3));
    }
    removeList.forEach((child) => {
      this.node.removeChild(child);
    });
    this.displayObject.removeChildren();
    this.children = [];
  }
  addChild(child) {
    this.node.insertChild(child.node, this.node.getChildCount());
    this.displayObject.addChild(child.displayObject);
    this.children.push(child);
  }
  set height(value) {
    if (typeof value === "string") {
      this.node.setHeightPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setHeight(value);
    }
  }
  set position(value) {
    this.node.setPositionType(value);
  }
  set minHeight(value) {
    if (typeof value === "string") {
      this.node.setMinHeightPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setMinHeight(value);
    }
  }
  set maxHeight(value) {
    if (typeof value === "string") {
      this.node.setMaxHeightPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setMaxHeight(value);
    }
  }
  set minWidth(value) {
    if (typeof value === "string") {
      this.node.setMinWidthPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setMinWidth(value);
    }
  }
  set maxWidth(value) {
    if (typeof value === "string") {
      this.node.setMaxWidthPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setMaxWidth(value);
    }
  }
  set flex(value) {
    this.node.setFlex(value);
  }
  set wrap(value) {
    this.node.setFlexWrap(value);
  }
  set gap(value) {
  }
  set padding(value) {
    this.node.setPadding(8 /* ALL */, value);
  }
  set margin(value) {
    this.node.setMargin(8 /* ALL */, value);
  }
  set marginVertical(value) {
    this.node.setMargin(7 /* VERTICAL */, value);
  }
  set marginHorizontal(value) {
    this.node.setMargin(6 /* HORIZONTAL */, value);
  }
  set marginBottom(value) {
    this.node.setMargin(3 /* BOTTOM */, value);
  }
  set paddingHorizontal(value) {
    this.node.setPadding(6 /* HORIZONTAL */, value);
  }
  set paddingVertical(value) {
    this.node.setPadding(7 /* VERTICAL */, value);
  }
  set width(value) {
    if (typeof value === "string") {
      this.node.setWidthPercent(parseInt(value.substring(0, value.length - 1)));
    } else {
      this.node.setWidth(value);
    }
  }
  set justifyContent(value) {
    this.node.setJustifyContent(value);
  }
  set alignItems(value) {
    this.node.setAlignItems(value);
  }
  set alignContent(value) {
    this.node.setAlignContent(value);
  }
  set flexDirection(value) {
    this.node.setFlexDirection(value);
  }
};

// src/frontend/lib/base-elements/centered-bitmap-text.ts
var CenteredBitmapText = class extends Container {
  constructor(name, properties) {
    super();
    this.properties = properties;
    this.bitmapText = new BitmapText(name, properties.font);
    this.bounds = this.bitmapText.getBounds();
    this.addChild(this.bitmapText);
  }
  bitmapText;
  bounds;
  set width(value) {
    if (this.properties.align === "left") {
      this.bitmapText.x = 8;
    } else if (this.properties.align === "right") {
      this.bitmapText.x = value - this.bounds.width - 8;
    } else {
      this.bitmapText.x = (value - this.bounds.width) / 2;
    }
  }
  set height(value) {
    this.bitmapText.y = (value - this.bounds.height) / 2;
  }
};

// src/frontend/lib/ui-elements/text.ts
var Text2 = class extends Flex {
  constructor(text, properties) {
    super(new CenteredBitmapText(text, properties));
  }
};

// src/frontend/lib/ui-elements/container.ts
var Container4 = class extends Flex {
  constructor(properties) {
    let innerComponent;
    if (properties?.variant === "custom") {
      innerComponent = new NineSlicePlane(properties.texture, properties.xBand ?? 10, properties.yBand ?? 10, properties.xBand ?? 10, properties.yBand ?? 10);
    } else {
      innerComponent = new NineSlicePlane(properties?.variant === "invisible" ? loadedAssets.panelInvisible : loadedAssets.panel2);
    }
    super(innerComponent);
  }
};

// src/frontend/lib/MarketWindow.ts
var MarketWindow = class {
  container;
  flexColumns;
  nextColumn = 0;
  constructor() {
    this.container = new Container4();
    this.container.width = gameWidth - 400;
    this.container.height = 200;
    const names = ["IMPORT", "EXPORT", "EXCHANGE"];
    const columnHeaders = new Container4();
    columnHeaders.width = "100%";
    columnHeaders.height = 30;
    columnHeaders.flexDirection = 2 /* ROW */;
    names.forEach((name) => {
      const columnHead = new Text2(name, { align: "center", font: {
        fontName: "buttontext_white",
        fontSize: 12
      } });
      columnHead.flex = 1;
      columnHeaders.addChild(columnHead);
    });
    this.container.addChild(columnHeaders);
    const dataColumns = new Container4();
    dataColumns.flex = 1;
    dataColumns.flexDirection = 2 /* ROW */;
    this.flexColumns = {
      IMPORT: new Container4(),
      EXPORT: new Container4(),
      EXCHANGE: new Container4()
    };
    names.forEach((name) => {
      this.flexColumns[name].flex = 1;
      this.flexColumns[name].flexDirection = 0 /* COLUMN */;
      dataColumns.addChild(this.flexColumns[name]);
    });
    this.container.addChild(dataColumns);
  }
  setGoods(goods) {
    goods.forEach((ship) => {
      this.addGood(ship);
    });
    this.container.updateLayout();
  }
  clearGoods() {
    this.nextColumn = 0;
    this.flexColumns.IMPORT.removeChildren();
    this.flexColumns.EXPORT.removeChildren();
    this.flexColumns.EXCHANGE.removeChildren();
  }
  addGood(good) {
    const flexRow = new Container4();
    flexRow.displayObject.tint = good.kind === "EXPORT" ? 65280 : good.kind === "IMPORT" ? 16711680 : 16777215;
    flexRow.flexDirection = 2 /* ROW */;
    flexRow.height = 30;
    flexRow.width = "100%";
    const fontStyle = {
      fontName: "buttontext_white",
      fontSize: 12
    };
    const firstText = new Text2(good.tradeGoodSymbol, { align: "left", font: fontStyle });
    firstText.flex = 1;
    firstText.width = "25%";
    flexRow.addChild(firstText);
    const fourText = new Text2(good.kind.toString(), { align: "left", font: fontStyle });
    fourText.width = "15%";
    flexRow.addChild(fourText);
    const sixText = new Text2(good.supply.toString(), { align: "left", font: fontStyle });
    sixText.width = "15%";
    flexRow.addChild(sixText);
    const fiveText = new Text2(good.tradeVolume.toString(), { align: "left", font: fontStyle });
    fiveText.width = "15%";
    flexRow.addChild(fiveText);
    const secondText = new Text2(good.purchasePrice.toString() + " P", { align: "right", font: fontStyle });
    secondText.width = "15%";
    flexRow.addChild(secondText);
    const thirdText = new Text2(good.sellPrice.toString() + " S", { align: "right", font: fontStyle });
    thirdText.width = "15%";
    flexRow.addChild(thirdText);
    const columns = ["IMPORT", "EXPORT", "EXCHANGE"];
    this.flexColumns[columns[this.nextColumn]].addChild(flexRow);
    this.nextColumn++;
    if (this.nextColumn >= columns.length)
      this.nextColumn = 0;
  }
};

// src/frontend/lib/ui-elements/button.ts
var Button = class extends Flex {
  constructor(text, properties, clickAction) {
    super(new BaseButton(text, properties, clickAction));
    this.clickAction = clickAction;
  }
  set disabled(value) {
    this.displayObject.disabled = value;
  }
};

// src/frontend/lib/switch.ts
var Switch = class extends Container4 {
  constructor(options, dimensions, clickAction) {
    super({
      variant: "invisible"
    });
    this.clickAction = clickAction;
    this.width = "100%";
    this.height = 41;
    this.flexDirection = 2 /* ROW */;
    this.selectedValue = dimensions.defaultSelected;
    options.forEach((option, index) => {
      this.optionSprites[option] = new Container4({
        variant: "custom",
        texture: option === this.selectedValue ? loadedAssets.select : loadedAssets.selectInactive,
        xBand: 15,
        yBand: 5
      });
      this.optionSprites[option].displayObject.interactive = true;
      this.optionSprites[option].flex = 1;
      this.addChild(this.optionSprites[option]);
      this.optionSprites[option].displayObject.cursor = "pointer";
      this.optionSprites[option].displayObject.on("mouseover", () => {
        this.optionSprites[option].displayObject.texture = loadedAssets.select;
      });
      this.optionSprites[option].displayObject.on("mouseout", () => {
        if (this.selectedValue !== option) {
          this.optionSprites[option].displayObject.texture = loadedAssets.selectInactive;
        }
      });
      this.optionSprites[option].displayObject.on("click", (event) => {
        event.stopPropagation();
        this.switchHighlight(option);
        if (this.clickAction) {
          this.clickAction(event, option);
        }
      });
      const textSize = dimensions.textSize ?? 20;
      const text = new Text2(option, {
        font: {
          fontName: "buttontext_white",
          fontSize: textSize,
          tint: 16777215
        },
        align: "center"
      });
      text.flex = 1;
      this.optionSprites[option].addChild(text);
    });
  }
  optionSprites = {};
  selectedValue;
  switchHighlight(value) {
    if (this.selectedValue) {
      this.optionSprites[this.selectedValue].displayObject.texture = loadedAssets.selectInactive;
    }
    this.selectedValue = value;
    this.optionSprites[this.selectedValue].displayObject.texture = loadedAssets.select;
  }
  setSelectedValue(value) {
    this.switchHighlight(value);
  }
};

// src/frontend/lib/BehaviorWindow.ts
var BehaviorWindow = class {
  container;
  selectedRange = 1500;
  homeSystem = "";
  switchRange;
  homeSystemText;
  constructor() {
    this.container = new Container4();
    this.container.width = gameWidth - 400;
    this.container.height = 600;
    this.container.flexDirection = 0 /* COLUMN */;
    this.container.padding = 10;
    this.container.updateLayout();
  }
  setHome(homeSystem) {
    this.homeSystem = homeSystem;
    this.homeSystemText.displayObject.bitmapText.text = `Home: ${homeSystem}`;
  }
  setBehaviors(behaviors) {
    const header = new Container4();
    header.width = "100%";
    header.height = 140;
    header.flexDirection = 0 /* COLUMN */;
    this.container.addChild(header);
    this.homeSystemText = new Text2("Home", {
      align: "left",
      font: {
        fontName: "buttontext_white",
        fontSize: 24
      }
    });
    this.homeSystemText.marginVertical = 10;
    this.homeSystemText.width = "100%";
    this.homeSystemText.height = 30;
    this.homeSystemText.paddingVertical = 6;
    header.addChild(this.homeSystemText);
    const headerText = new Text2("Range", {
      align: "left",
      font: {
        fontName: "buttontext_white",
        fontSize: 16
      }
    });
    headerText.width = "100%";
    headerText.height = 20;
    header.addChild(headerText);
    this.switchRange = new Switch(["1500", "2500", "3500", "5000"], {
      width: 100,
      defaultSelected: "1500"
    }, (event, value) => {
      this.selectedRange = parseInt(value);
    });
    header.addChild(this.switchRange);
    const behaviorsContainer = new Container4();
    behaviorsContainer.flex = 1;
    this.container.addChild(behaviorsContainer);
    behaviors.forEach((behavior) => {
      const row2 = new Container4();
      row2.flex = 1;
      row2.flexDirection = 2 /* ROW */;
      const texts = [behavior.symbol, behavior.name, behavior.description];
      texts.forEach((textString) => {
        const text = new Text2(textString, {
          align: "left",
          font: {
            fontName: "buttontext_white",
            fontSize: 16
          }
        });
        text.flex = 1;
        row2.addChild(text);
      });
      const button2 = new Button("Activate", {
        textSize: 16
      }, () => {
        trpc.startBehaviorForShip.mutate({ shipSymbol: GameState.selected.symbol, behavior: behavior.symbol, parameters: {
          systemSymbol: this.homeSystem,
          range: this.selectedRange
        } }).then(() => {
          alert("Behavior started");
          this.hide();
        });
      });
      button2.flex = 1;
      row2.addChild(button2);
      behaviorsContainer.addChild(row2);
    });
    const row = new Container4();
    row.flex = 1;
    row.flexDirection = 2 /* ROW */;
    const button = new Button("Cancel", {
      textSize: 16
    }, () => {
      trpc.cancelBehaviorForShip.mutate({ shipSymbol: GameState.selected.symbol }).then(() => {
        alert("Behavior canceled");
      });
      this.hide();
    });
    button.flex = 1;
    row.addChild(button);
    behaviorsContainer.addChild(row);
    this.container.updateLayout();
  }
  show() {
    this.selectedRange = 1500;
    this.switchRange.selectedValue = "1500";
    this.container.displayObject.visible = true;
    this.container.displayObject.x = 200;
    this.container.displayObject.y = 200;
  }
  hide() {
    this.container.displayObject.visible = false;
  }
};

// src/frontend/lib/positionShips.ts
var waypointShips = {};
function resetShipWaypoints() {
  waypointShips = {};
}
var planetOrbitSpeed = 2e4;
function positionWaypoint(waypoint, timeElapsed) {
  let x2, y2;
  if (waypoint.orbitsSymbol) {
    const orbitData = GameState.waypointData[waypoint.orbitsSymbol];
    const orbitDistance = Math.sqrt(Math.pow(waypoint.x, 2) + Math.pow(waypoint.y, 2));
    const orbitalPeriod = orbitDistance * planetOrbitSpeed;
    const currentAngle = (timeElapsed % orbitalPeriod / orbitalPeriod + orbitData.offset) * Math.PI * 2;
    x2 = (Math.abs(systemCoordinates.minX) + Math.cos(currentAngle) * orbitDistance) * systemScale;
    y2 = (Math.abs(systemCoordinates.minY) + Math.sin(currentAngle) * orbitDistance) * systemScale;
    const ownOrbitalPeriod = 60 * 500;
    const ownAngle = (timeElapsed % ownOrbitalPeriod / ownOrbitalPeriod + waypoint.offset) * Math.PI * 2;
    const offsetX = Math.cos(ownAngle) * 60;
    const offsetY = Math.sin(ownAngle) * 60;
    x2 += offsetX;
    y2 += offsetY;
  } else {
    const orbitDistance = Math.sqrt(Math.pow(waypoint.x, 2) + Math.pow(waypoint.y, 2));
    const orbitalPeriod = orbitDistance * planetOrbitSpeed;
    const currentAngle = (timeElapsed % orbitalPeriod / orbitalPeriod + waypoint.offset) * Math.PI * 2;
    x2 = (Math.abs(systemCoordinates.minX) + Math.cos(currentAngle) * orbitDistance) * systemScale;
    y2 = (Math.abs(systemCoordinates.minY) + Math.sin(currentAngle) * orbitDistance) * systemScale;
  }
  return {
    x: x2,
    y: y2
  };
}
function positionShip(ship) {
  let serverX, serverY, navRot, xOffset = 0, yOffset = 0;
  const arrivalOn = new Date(ship.arrivalOn);
  const departureOn = new Date(ship.departureOn);
  if (ship.destinationWaypoint.symbol !== ship.departureWaypoint.symbol && Date.now() < arrivalOn.getTime()) {
    const positionAlongPath = (Date.now() - departureOn.getTime()) / (arrivalOn.getTime() - departureOn.getTime());
    try {
      const from = GameState.waypoints[ship.departureWaypoint.symbol];
      const to = GameState.waypoints[ship.destinationWaypoint.symbol];
      serverX = from.x + (to.x - from.x) * positionAlongPath;
      serverY = from.y + (to.y - from.y) * positionAlongPath;
      navRot = Math.atan2(to.y - from.y, to.x - from.x) + Math.PI / 2;
    } catch (e3) {
      serverX = 0;
      serverY = 0;
      navRot = 0;
    }
  } else {
    const orbitSymbol = ship.currentWaypoint.orbitsSymbol ? ship.currentWaypoint.orbitsSymbol : ship.currentWaypoint.symbol;
    if (waypointShips[orbitSymbol] === void 0) {
      waypointShips[orbitSymbol] = 0;
    } else {
      waypointShips[orbitSymbol]++;
    }
    const curr = GameState.waypoints[ship.currentWaypoint.symbol];
    if (curr) {
      serverX = curr.x;
      serverY = curr.y;
      xOffset = 32 * waypointShips[orbitSymbol];
      yOffset = 80;
    } else {
      serverX = 0;
      serverY = 0;
      navRot = 0;
    }
  }
  const x2 = serverX + xOffset;
  const y2 = serverY + yOffset;
  return {
    x: x2,
    y: y2,
    navRot
  };
}
function positionUniverseShip(ship) {
  let serverX, serverY, navRot, xOffset = 0, yOffset = 0;
  const arrivalOn = new Date(ship.arrivalOn);
  const departureOn = new Date(ship.departureOn);
  const sizeMultiplier = universeView.worldScreenWidth / universeView.screenWidth;
  if (ship.destinationWaypoint.systemSymbol !== ship.departureWaypoint.systemSymbol && Date.now() < arrivalOn.getTime()) {
    const positionAlongPath = (Date.now() - departureOn.getTime()) / (arrivalOn.getTime() - departureOn.getTime());
    const departureSystem = GameState.systems[ship.departureWaypoint.systemSymbol];
    const destinationSystem = GameState.systems[ship.destinationWaypoint.systemSymbol];
    serverX = departureSystem.x + (destinationSystem.x - departureSystem.x) * positionAlongPath;
    serverY = departureSystem.y + (destinationSystem.y - departureSystem.y) * positionAlongPath;
    navRot = Math.atan2(destinationSystem.y - departureSystem.y, destinationSystem.x - departureSystem.x) + Math.PI / 2;
  } else {
    if (waypointShips[ship.currentWaypoint.systemSymbol] === void 0) {
      waypointShips[ship.currentWaypoint.systemSymbol] = 0;
    } else {
      waypointShips[ship.currentWaypoint.systemSymbol]++;
    }
    const currentSystem = GameState.systems[ship.currentWaypoint.systemSymbol];
    serverX = currentSystem.x;
    serverY = currentSystem.y;
    xOffset = 32 * waypointShips[ship.currentWaypoint.systemSymbol] * sizeMultiplier;
    yOffset = 80 * Math.min(sizeMultiplier, 8);
  }
  const x2 = serverX + xOffset;
  const y2 = serverY + yOffset;
  return {
    x: x2,
    y: y2,
    navRot
  };
}

// src/frontend/lib/loadSystem.ts
function createShipContainer(ship) {
  const shipGroup = new Container();
  const itemSprite = new Sprite(loadedAssets.spaceshipTextures[ship.frameSymbol] ? loadedAssets.spaceshipTextures[ship.frameSymbol] : loadedAssets.spaceshipTexture);
  itemSprite.name = "ship";
  itemSprite.pivot = {
    x: 32,
    y: 32
  };
  const navSprite = new Sprite(loadedAssets.navArrow);
  navSprite.pivot = {
    x: navSprite.width / 2,
    y: navSprite.height / 2
  };
  navSprite.name = "nav";
  navSprite.visible = false;
  shipGroup.addChild(navSprite);
  itemSprite.scale = { x: 0.5, y: 0.5 };
  const shipPosition = positionShip(ship);
  shipGroup.x = shipPosition.x;
  shipGroup.y = shipPosition.y;
  if (ship.agent !== GameState.agent.symbol) {
    itemSprite.tint = 14522777;
  }
  shipGroup.addChild(itemSprite);
  const text = new BitmapText(ship.symbol + " - " + ship.role, {
    fontName: "sans-serif",
    fontSize: 16,
    align: "right"
  });
  text.visible = false;
  text.x = 0;
  text.y = 32;
  shipGroup.addChild(text);
  makeInteractiveAndSelectable(shipGroup, {
    onMouseOver: () => {
      text.visible = true;
    },
    onMouseOut: () => {
      text.visible = false;
    },
    onSelect: {
      type: "ship",
      symbol: ship.symbol
    }
  });
  return shipGroup;
}
function createOrbitGraphics(item) {
  const orbit = new Graphics();
  orbit.lineStyle({
    width: 2,
    color: 4473924
  });
  orbit.drawCircle(Math.abs(systemCoordinates.minX) * systemScale, Math.abs(systemCoordinates.minY) * systemScale, Math.sqrt(Math.pow(item.x * systemScale, 2) + Math.pow(item.y * systemScale, 2)));
  return orbit;
}
function addTraitIcons(item, container) {
  let xOffset = 0;
  item.traits.forEach((trait) => {
    if (trait.symbol === "MARKETPLACE") {
      const sprite = new Sprite(loadedAssets.market);
      sprite.pivot = {
        x: 32,
        y: 32
      };
      sprite.scale = { x: 0.25, y: 0.25 };
      sprite.x = xOffset - 16;
      sprite.y = 24;
      container.addChild(sprite);
      xOffset += 16;
    }
    if (trait.symbol === "SHIPYARD") {
      const sprite = new Sprite(loadedAssets.shipyard);
      sprite.pivot = {
        x: 32,
        y: 32
      };
      sprite.scale = { x: 0.25, y: 0.24 };
      sprite.x = xOffset - 16;
      sprite.y = 24;
      container.addChild(sprite);
      xOffset += 16;
    }
  });
}
function createSystemItem(data, scale3 = 1, index = 0) {
  const orbitingGroup = new Container();
  let orbitingSprite;
  if (data.waypoint.type === "PLANET") {
    orbitingSprite = new AnimatedSprite(loadedAssets.planet.animations["planet/tile/planet.png_spin"], true);
    if (orbitingSprite instanceof AnimatedSprite) {
      orbitingSprite.animationSpeed = 1 / 20;
      orbitingSprite.play();
    }
  } else {
    orbitingSprite = new Sprite(loadedAssets.planetsheet.textures[`planets/tile/${data.waypoint.type}.png`]);
  }
  orbitingSprite.pivot = {
    x: 32,
    y: 32
  };
  orbitingSprite.scale = { x: scale3, y: scale3 };
  if (data.parent) {
    orbitingGroup.x = data.parent.x * systemScale + 32 + Math.abs(systemCoordinates.minX) * systemScale;
    orbitingGroup.y = data.parent.y * systemScale + 48 + 64 * index + Math.abs(systemCoordinates.minY) * systemScale;
  } else {
    orbitingGroup.x = (data.waypoint.x + Math.abs(systemCoordinates.minX)) * systemScale;
    orbitingGroup.y = (data.waypoint.y + Math.abs(systemCoordinates.minY)) * systemScale;
  }
  orbitingGroup.addChild(orbitingSprite);
  const orbitingText = new BitmapText(data.waypoint.symbol + " - " + data.waypoint.type, {
    fontName: "sans-serif",
    fontSize: 16,
    align: "right"
  });
  orbitingText.x = 24;
  orbitingText.y = -8;
  orbitingText.visible = false;
  orbitingGroup.addChild(orbitingText);
  makeInteractiveAndSelectable(orbitingGroup, {
    onMouseOver: () => {
      console.log("hovered", data.waypoint);
      GameState.hoveredWaypoint = data.waypoint;
      orbitingText.visible = true;
    },
    onMouseOut: () => {
      GameState.hoveredWaypoint = void 0;
      orbitingText.visible = false;
    },
    onSelect: {
      type: "waypoint",
      symbol: data.waypoint.symbol
    },
    onOrder: [
      {
        name: "navigate",
        withSelection: "ship",
        action: async (selectedSymbol) => {
          const res = await trpc.instructNavigate.mutate({
            shipSymbol: selectedSymbol,
            waypointSymbol: data.waypoint.symbol
          });
          GameState.shipData[res.symbol] = res;
          console.log("updated state for ship " + res.symbol);
        }
      }
    ]
  });
  addTraitIcons(data.waypoint, orbitingGroup);
  return orbitingGroup;
}
function clearSystem() {
  systemView.removeChildren();
  systemView.addChild(systemGraphics);
  systemView.addChild(systemGraphicsText);
}
function showSystemView() {
  universeView.visible = false;
  systemView.visible = true;
  GameState.currentView = "system";
}
async function loadSystem(systemSymbol, resetCamera = true) {
  Promise.all([
    trpc.shipsForSystem.query({
      system: systemSymbol
    }),
    trpc.waypointsForSystem.query({
      system: systemSymbol
    })
  ]).then(([ships, waypoints]) => {
    const starData = GameState.systemData[systemSymbol];
    ships.forEach((ship) => {
      GameState.shipData[ship.symbol] = ship;
    });
    waypoints.forEach((waypoint) => {
      GameState.waypointData[waypoint.symbol] = {
        ...waypoint,
        offset: Math.random()
      };
    });
    clearSystem();
    showSystemView();
    GameState.currentSystem = systemSymbol;
    backButton.disabled = false;
    systemCoordinates.minX = 0;
    systemCoordinates.minY = 0;
    waypoints.filter((item) => !item.orbitsSymbol).forEach((item) => {
      if (item.x < systemCoordinates.minX) {
        systemCoordinates.minX = item.x;
      }
      if (item.y < systemCoordinates.minY) {
        systemCoordinates.minY = item.y;
      }
    });
    let texture = loadedAssets.sheet.textures[`planets/tile/${starData.type}.png`];
    const star = new Sprite(texture);
    star.x = Math.abs(systemCoordinates.minX) * systemScale;
    star.y = Math.abs(systemCoordinates.minY) * systemScale;
    star.pivot = {
      x: 32,
      y: 32
    };
    systemView.addChild(star);
    resetShipWaypoints();
    GameState.systemShips = {};
    GameState.waypoints = {};
    Object.values(GameState.shipData).filter((ship) => ship.currentWaypoint.systemSymbol === starData.symbol).forEach((data) => {
      const ship = data;
      const shipGroup = createShipContainer(ship);
      systemView.addChild(shipGroup);
      GameState.systemShips[ship.symbol] = shipGroup;
    });
    waypoints.filter((item) => !item.orbitsSymbol && item.type !== "MOON" && item.type !== "ORBITAL_STATION").forEach((item) => {
      systemView.addChild(createOrbitGraphics(item));
      const itemGroup = createSystemItem({
        waypoint: item
      });
      waypoints.filter((orbitingThing) => orbitingThing.orbitsSymbol === item.symbol || orbitingThing.symbol !== item.symbol && orbitingThing.x == item.x && orbitingThing.y == item.y).forEach((orbitingThing, index) => {
        const orbitingGroup = createSystemItem({
          waypoint: orbitingThing,
          parent: item
        }, 0.5, index);
        GameState.waypoints[orbitingThing.symbol] = orbitingGroup;
        systemView.addChild(orbitingGroup);
      });
      GameState.waypoints[item.symbol] = itemGroup;
      systemView.addChild(itemGroup);
    });
    if (resetCamera) {
      systemView.moveCenter({
        x: Math.abs(systemCoordinates.minX) * systemScale,
        y: Math.abs(systemCoordinates.minY) * systemScale
      });
    }
  });
}

// src/frontend/lib/loadPlayerData.ts
async function loadPlayerData() {
  await trpc.updateAgentInfo.mutate();
  const ships = await trpc.getMyShips.query();
  console.log("my ships", ships);
  ships.forEach((ship) => {
    GameState.shipData[ship.symbol] = ship;
  });
  await updateCredits();
  const factions = await trpc.getFactions.query();
  GameState.factions = {};
  factions.forEach((faction) => {
    GameState.factions[faction.symbol] = faction;
  });
}
async function updateCredits() {
  const agent = await trpc.getAgentInfo.query();
  GameState.agent = agent;
}

// src/frontend/lib/ShipyardWindow.ts
var ShipyardWindow = class {
  constructor(ships, readonly = false) {
    this.readonly = readonly;
    this.container = new Container4();
    this.container.width = 1e3;
    this.container.height = 600;
    ships.forEach((ship) => {
      this.addGood(ship);
    });
    this.container.updateLayout();
  }
  container;
  addGood(ship) {
    const flexRow = new Container4();
    flexRow.flexDirection = 0 /* COLUMN */;
    flexRow.height = 80;
    flexRow.width = "100%";
    const firstRow = new Container4({ variant: "invisible" });
    firstRow.height = 40;
    firstRow.width = "100%";
    firstRow.flexDirection = 2 /* ROW */;
    const secondRow = new Container4({ variant: "invisible" });
    secondRow.height = 40;
    secondRow.width = "100%";
    secondRow.flexDirection = 2 /* ROW */;
    const fontStyle = {
      fontName: "buttontext_white",
      fontSize: 12
    };
    const displayFields = ["name", "frameSymbol", "engineSymbol", "reactorSymbol"];
    displayFields.forEach((field) => {
      const name = ship.shipConfiguration[field].includes("_") ? ship.shipConfiguration[field].split("_").slice(1).join("_") : ship.shipConfiguration[field];
      const firstText = new Text2(name, {
        align: "left",
        font: fontStyle
      });
      firstText.flex = 1;
      firstRow.addChild(firstText);
    });
    const thirdText = new Text2(ship.price ? ship.price.toString() : "???", {
      align: "right",
      font: fontStyle
    });
    thirdText.flex = 1;
    firstRow.addChild(thirdText);
    const buyButton = new Button("Buy", {}, async (event) => {
      event.stopPropagation();
      await trpc.instructBuyShip.mutate({
        waypointSymbol: ship.waypointSymbol,
        shipConfigurationSymbol: ship.shipConfigurationSymbol
      });
      await updateCredits();
      loadSystem(GameState.currentSystem, false);
    });
    buyButton.disabled = this.readonly;
    buyButton.flex = 1;
    firstRow.addChild(buyButton);
    const counts = {};
    ship.shipConfiguration.shipConfigurationModule.forEach((module2) => {
      if (!counts[module2.moduleSymbol]) {
        counts[module2.moduleSymbol] = 1;
      } else {
        counts[module2.moduleSymbol]++;
      }
    });
    const secondRowText = new Text2(Object.keys(counts).map((moduleKey) => `${moduleKey.replace("MODULE_", "")} x${counts[moduleKey]}`).join(", "), {
      align: "left",
      font: fontStyle
    });
    secondRowText.flex = 1;
    secondRow.addChild(secondRowText);
    flexRow.addChild(firstRow);
    flexRow.addChild(secondRow);
    this.container.addChild(flexRow);
  }
};

// src/frontend/lib/availableActions.ts
var availableActions = [{
  name: "Refuel",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const refuel = await trpc.instructRefuel.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[refuel.symbol] = refuel;
      await updateCredits();
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship") {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      return selectedShip.fuelAvailable < selectedShip.fuelCapacity && selectedShip.navStatus === "DOCKED";
    }
    return false;
  }
}, {
  name: "Dock",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const dock = await trpc.instructDock.mutate({
        shipSymbol: GameState.selected.symbol
      });
      console.log("dockresult", dock);
      GameState.shipData[dock.symbol] = dock;
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship") {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      return selectedShip.navStatus === "IN_ORBIT" || selectedShip.navStatus === "IN_TRANSIT" && new Date(selectedShip.arrivalOn).getTime() < Date.now();
    }
    return false;
  }
}, {
  name: "Orbit",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const orbit = await trpc.instructOrbit.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[orbit.symbol] = orbit;
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship") {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      return selectedShip.navStatus === "DOCKED";
    }
    return false;
  }
}, {
  name: "Extract",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const shipInfo = await trpc.instructExtract.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[shipInfo.symbol] = shipInfo;
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return selectedShip.navStatus === "IN_ORBIT" && GameState.waypointData[selectedShip.currentWaypoint.symbol].traits.filter((t2) => t2.symbol === "COMMON_METAL_DEPOSITS" || t2.symbol === "MINERAL_DEPOSITS" || t2.symbol === "PRECIOUS_METAL_DEPOSITS").length > 0 && Date.now() > new Date(selectedShip.reactorCooldownOn).getTime();
      }
    }
    return false;
  }
}, {
  name: "Sell All",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const shipInfo = await trpc.instructSellCargo.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[shipInfo.symbol] = shipInfo;
      await updateCredits();
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return selectedShip.navStatus === "DOCKED" && selectedShip.cargoUsed > 0;
      }
    }
    return false;
  }
}, {
  name: "Chart",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected) {
      const chartResult = await trpc.instructChart.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[chartResult.ship.symbol] = chartResult.ship;
      GameState.waypointData[chartResult.waypoint.symbol] = chartResult.waypoint;
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return selectedShip.navStatus === "IN_ORBIT" && !GameState.waypointData[selectedShip.currentWaypoint.symbol].chartSubmittedBy;
      }
    }
    return false;
  }
}, {
  name: "Scan Wpt",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected && GameState.currentSystem) {
      const waypoints = await trpc.instructScanWaypoints.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[waypoints.symbol] = waypoints;
      await loadSystem(GameState.currentSystem);
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship") {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      return selectedShip.navStatus === "IN_ORBIT" && Date.now() > new Date(selectedShip.reactorCooldownOn).getTime();
    }
    return false;
  }
}, {
  name: "Scan Shp",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected && GameState.currentSystem) {
      const waypoints = await trpc.instructScanShips.mutate({
        shipSymbol: GameState.selected.symbol
      });
      GameState.shipData[waypoints.symbol] = waypoints;
      await loadSystem(GameState.currentSystem);
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship") {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      return selectedShip.navStatus === "IN_ORBIT" && Date.now() > new Date(selectedShip.reactorCooldownOn).getTime() && selectedShip.mounts.filter((m2) => m2.effectName === "SENSOR_ARRAY").length > 0;
    }
    return false;
  }
}, {
  name: "Market",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected && GameState.currentSystem) {
      const market = await trpc.instructMarket.mutate({
        shipSymbol: GameState.selected.symbol,
        systemSymbol: GameState.currentSystem,
        waypointSymbol: GameState.shipData[GameState.selected.symbol].currentWaypoint.symbol
      });
      console.log(market);
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return selectedShip.navStatus === "DOCKED" && GameState.waypointData[selectedShip.currentWaypoint.symbol].traits.filter((t2) => t2.symbol === "MARKETPLACE").length > 0;
      }
    }
    return false;
  }
}, {
  name: "Shipyard",
  action: async (event) => {
    event.stopPropagation();
    console.log("click  shy");
    if (GameState.selected && GameState.currentSystem) {
      const waypointSymbol = GameState.selected?.type === "waypoint" ? GameState.selected.symbol : GameState.shipData[GameState.selected.symbol].currentWaypoint.symbol;
      const market = await trpc.instructShipyard.mutate({
        shipSymbol: GameState.selected.symbol,
        systemSymbol: GameState.currentSystem,
        waypointSymbol
      });
      console.log(market);
      const shipyardData = await trpc.getShipyard.query({
        waypointSymbol
      });
      const shipyardWindow = new ShipyardWindow(shipyardData, GameState.selected.type === "waypoint");
      uiOverlay.addChild(shipyardWindow.container.displayObject);
      shipyardWindow.container.displayObject.x = (window.innerWidth - 1e3) / 2;
      shipyardWindow.container.displayObject.y = (window.innerHeight - 600) / 2;
      deselectListeners.once("deselect", () => {
        uiOverlay.removeChild(shipyardWindow.container.displayObject);
      });
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "waypoint" && GameState.waypointData) {
      if (GameState.waypointData[GameState.selected.symbol]) {
        return GameState.waypointData[GameState.selected.symbol].traits.filter((t2) => t2.symbol === "SHIPYARD").length > 0;
      }
    }
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return selectedShip.navStatus === "DOCKED" && GameState.waypointData[selectedShip.currentWaypoint.symbol].traits.filter((t2) => t2.symbol === "SHIPYARD").length > 0;
      }
    }
    return false;
  }
}, {
  name: "Jumpgate",
  action: async (event) => {
    event.stopPropagation();
    if (GameState.selected && GameState.currentSystem) {
      let waypointSymbol;
      if (GameState.selected.type == "ship") {
        waypointSymbol = GameState.shipData[GameState.selected.symbol].currentWaypoint.symbol;
      } else {
        waypointSymbol = GameState.selected.symbol;
      }
      const jumpgateInfo = await trpc.instructJumpGate.mutate({
        shipSymbol: GameState.selected.symbol,
        systemSymbol: GameState.currentSystem,
        waypointSymbol
      });
      console.log(jumpgateInfo);
    }
  },
  isAvailable: () => {
    if (GameState.selected?.type === "waypoint") {
      return GameState.waypointData[GameState.selected.symbol].type === "JUMP_GATE";
    }
    if (GameState.selected?.type === "ship" && GameState.waypointData) {
      const selectedShip = GameState.shipData[GameState.selected.symbol];
      if (GameState.waypointData[selectedShip.currentWaypoint.symbol]) {
        return GameState.waypointData[selectedShip.currentWaypoint.symbol].type === "JUMP_GATE";
      }
    }
    return false;
  }
}, {
  name: "Behavior",
  action: async (event) => {
    event.stopPropagation();
    behaviorWindow.show();
    behaviorWindow.setHome(GameState.shipData[GameState.selected.symbol].currentSystemSymbol);
    deselectListeners.once("deselect", () => {
      behaviorWindow.hide();
    });
  },
  isAvailable: () => {
    return GameState.selected?.type === "ship";
  }
}];

// src/frontend/lib/application.ts
var app = new Application({
  //resizeTo: window,
  width: gameWidth,
  height: gameHeight,
  antialias: true
});

// src/frontend/lib/util.ts
var convertToDisplayCoordinates = (position) => {
  return {
    x: (position.x + Math.abs(universeCoordinates.minX)) / (universeCoordinates.maxX - universeCoordinates.minX) * totalSize,
    y: (position.y + Math.abs(universeCoordinates.minY)) / (universeCoordinates.maxY - universeCoordinates.minY) * totalSize
  };
};

// src/frontend/lib/highlightmodes.ts
var stringToColour = function(str) {
  var hash = 0;
  for (var i3 = 0; i3 < str.length; i3++) {
    hash = str.charCodeAt(i3) + ((hash << 5) - hash);
  }
  var colour = "#";
  for (var i3 = 0; i3 < 3; i3++) {
    var value = hash >> i3 * 8 & 255;
    colour += ("00" + value.toString(16)).substr(-2);
  }
  return colour;
};
var highlightmodes = {
  Factions: (graphics) => {
    for (const starData of Object.values(GameState.systemData)) {
      if (starData.majorityFaction) {
        const isHeadquarters = GameState.factions[starData.majorityFaction].headquartersSymbol.includes(starData.symbol);
        const displayCoords = convertToDisplayCoordinates(starData);
        graphics.beginFill(stringToColour(starData.majorityFaction));
        graphics.drawCircle(displayCoords.x, displayCoords.y, isHeadquarters ? 4500 : 1500);
      }
    }
    const colorMatrix = new AlphaFilter();
    colorMatrix.alpha = 0.1;
    graphics.filters = [colorMatrix];
  },
  Shipyards: (graphics) => {
    for (const starData of Object.values(GameState.systemData)) {
      if (starData.hasShipyard) {
        const displayCoords = convertToDisplayCoordinates(starData);
        graphics.beginFill(255);
        graphics.drawCircle(displayCoords.x, displayCoords.y, 1500);
      }
    }
    const colorMatrix = new AlphaFilter();
    colorMatrix.alpha = 0.1;
    graphics.filters = [colorMatrix];
  },
  "Market Update": (graphics) => {
    for (const shipData of Object.values(GameState.shipData)) {
      if (shipData.currentBehavior === "EXPLORE_MARKETS" || shipData.currentBehavior === "UPDATE_MARKETS") {
        const homeSystem = GameState.systemData[shipData.homeSystemSymbol];
        const displayCoords = convertToDisplayCoordinates(homeSystem);
        const range = shipData.behaviorRange * scale.universe;
        graphics.beginFill(6750054);
        graphics.drawRect(displayCoords.x - range, displayCoords.y - range, range * 2, range * 2);
      }
    }
    const colorMatrix = new AlphaFilter();
    colorMatrix.alpha = 0.1;
    graphics.filters = [colorMatrix];
  }
};

// src/frontend/lib/ui/action-buttons.ts
var actionPanelHeight = Math.ceil(availableActions.length / 2) * 48;
var actionPanelY = window.innerHeight - 16 - actionPanelHeight;
var createActionButtons = () => {
  const flex = new Container4();
  flex.maxWidth = "100%";
  flex.position = 0 /* RELATIVE */;
  flex.wrap = 1 /* WRAP_WRAP */;
  flex.flexDirection = 2 /* ROW */;
  availableActions.forEach((action, index) => {
    const button = new Button(action.name, {}, action.action);
    button.width = "50%";
    button.height = 36;
    app.ticker.add(() => {
      const isAvailable = action.isAvailable();
      button.disabled = !isAvailable;
    });
    button.disabled = true;
    flex.addChild(button);
  });
  return flex;
};
var createHighlightButtons = () => {
  const flex = new Container4();
  flex.maxWidth = "100%";
  flex.padding = 2;
  flex.wrap = 1 /* WRAP_WRAP */;
  flex.flexDirection = 2 /* ROW */;
  Object.keys(highlightmodes).forEach((action) => {
    const drawFunction = highlightmodes[action];
    const button = new Button(action, {}, () => {
      const highlight = universeView.getChildByName("highlight");
      highlight.clear();
      drawFunction(highlight);
    });
    button.width = "50%";
    button.height = 36;
    flex.addChild(button);
  });
  return flex;
};

// src/frontend/lib/createSidebar.ts
var credits;
var cruiseModeSelect;
var entityInfo;
var backButton;
var createSidebar = () => {
  const sidebarContainer = new Container4();
  sidebarContainer.height = gameHeight;
  sidebarContainer.width = 400;
  sidebarContainer.displayObject.x = 0;
  sidebarContainer.displayObject.y = 0;
  sidebarContainer.padding = 10;
  backButton = new Button("Back", {
    height: 64,
    width: 368
  }, (event) => {
    event.stopPropagation();
    universeView.visible = true;
    systemView.visible = false;
    GameState.currentView = "universe";
    systemView.removeChildren();
    backButton.disabled = true;
  });
  backButton.minHeight = 60;
  backButton.disabled = true;
  sidebarContainer.addChild(backButton);
  const creditsBackground = new Container4({
    variant: "custom",
    texture: loadedAssets.statsBlock
  });
  creditsBackground.width = "100%";
  creditsBackground.minHeight = 100;
  creditsBackground.padding = 8;
  sidebarContainer.addChild(creditsBackground);
  const creditsLabel = new Text2("Credits", {
    font: {
      fontName: "buttontext_white",
      tint: 65280,
      fontSize: 16
    },
    align: "left"
  });
  creditsLabel.height = 40;
  creditsBackground.addChild(creditsLabel);
  credits = new Text2("0", {
    font: {
      fontName: "segment",
      fontSize: 36,
      tint: 65280
    },
    align: "left"
  });
  creditsBackground.addChild(credits);
  const cruiseModeButtons = ["CRUISE", "DRIFT", "BURN", "STEALTH"];
  cruiseModeSelect = new Switch(cruiseModeButtons, {
    width: 368,
    textSize: 14,
    defaultSelected: "CRUISE"
  }, async (event, selectedOption) => {
    if (GameState.selected?.type === "ship") {
      const newShip = await trpc.instructPatchNavigate.mutate({
        shipSymbol: GameState.selected?.symbol,
        navMode: selectedOption
      });
      console.log("new state", newShip);
      GameState.shipData[GameState.selected.symbol] = newShip;
    }
  });
  sidebarContainer.addChild(cruiseModeSelect);
  const actionButtons = createActionButtons();
  sidebarContainer.addChild(actionButtons);
  const statsBlock = new Container4({
    variant: "custom",
    texture: loadedAssets.statsBlock
  });
  statsBlock.paddingVertical = 24;
  statsBlock.paddingHorizontal = 8;
  statsBlock.width = "100%";
  statsBlock.height = 200;
  sidebarContainer.addChild(statsBlock);
  entityInfo = new Text2("Entity Information", {
    font: {
      fontName: "buttontext_white",
      fontSize: 16,
      align: "left",
      maxWidth: 368,
      tint: 52224
    },
    align: "left"
  });
  statsBlock.addChild(entityInfo);
  const cargo = new Container4({
    variant: "default"
  });
  cargo.padding = 16;
  cargo.height = 100;
  const cargoInfo = new Text2("Cargo", {
    font: {
      fontName: "buttontext_white",
      fontSize: 16,
      align: "left",
      maxWidth: 368,
      tint: 52224
    },
    align: "left"
  });
  cargo.addChild(cargoInfo);
  app.ticker.add(() => {
    if (GameState.selected && GameState.selected.type === "ship") {
      const shipData = GameState.shipData[GameState.selected.symbol];
      if (shipData.cargo) {
        cargoInfo.displayObject.bitmapText.text = `Cargo:
${shipData.cargo.map((cargo2) => `- ${cargo2.tradeGoodSymbol} ${cargo2.units}`).join("\n")}`;
      } else {
        cargoInfo.displayObject.bitmapText.text = `Cargo: No data
`;
      }
    } else {
      cargoInfo.displayObject.bitmapText.text = `Cargo:
`;
    }
  });
  sidebarContainer.addChild(cargo);
  const highlightButtons = createHighlightButtons();
  sidebarContainer.addChild(highlightButtons);
  sidebarContainer.updateLayout();
  return sidebarContainer;
};

// src/frontend/lib/UIElements.ts
var universeView;
var systemView;
var uiOverlay;
var currentCoordinate;
var fps;
var universeCuller;
var universeGraphics;
var universeGraphicsText;
var systemGraphics;
var systemGraphicsText;
var marketWindow;
var behaviorWindow;
var createUIElements = (app2) => {
  let pointerDownPlace;
  systemView = new ht({
    screenWidth: window.innerWidth,
    screenHeight: window.innerHeight,
    worldWidth: 2e3,
    worldHeight: 2e3,
    events: app2.renderer.events
    // the interaction module is important for wheel to work properly when renderer.view is placed or scaled
  });
  systemView.on("pointerdown", (event) => {
    console.log("pointerdown");
    pointerDownPlace = new Point(event.globalX, event.globalY);
  });
  systemView.on("click", (event) => {
    console.log("click");
    if (pointerDownPlace) {
      const distance = Math.abs(pointerDownPlace.x - event.globalX) + Math.abs(pointerDownPlace.y - event.globalY);
      if (distance > 2) {
        console.log("cancelling drag event");
        event.stopPropagation();
      }
    }
  });
  systemGraphics = new Graphics();
  systemView.addChild(systemGraphics);
  systemGraphicsText = new BitmapText("", {
    fontName: "sans-serif",
    fontSize: 16,
    //tint: 0x0000FF,
    align: "right"
  });
  systemView.addChild(systemGraphicsText);
  systemView.drag().pinch().wheel().decelerate();
  systemView.visible = false;
  systemView.moveCenter(1e3, 1e3);
  universeView = new ht({
    screenWidth: window.innerWidth,
    screenHeight: window.innerHeight,
    worldWidth: totalSize,
    worldHeight: totalSize,
    events: app2.renderer.events
    // the interaction module is important for wheel to work properly when renderer.view is placed or scaled
  });
  universeView.on("pointerdown", (event) => {
    console.log("pointerdown");
    pointerDownPlace = new Point(event.globalX, event.globalY);
  });
  universeView.on("click", (event) => {
    console.log("click");
    if (pointerDownPlace) {
      const distance = Math.abs(pointerDownPlace.x - event.globalX) + Math.abs(pointerDownPlace.y - event.globalY);
      if (distance > 2) {
        console.log("cancelling drag event");
        event.stopPropagation();
      }
    }
  });
  universeView.drag().pinch().wheel().decelerate();
  universeView.moveCenter(totalSize / 2, totalSize / 2);
  const starContainer = new Container();
  starContainer.name = "stars";
  universeView.addChild(starContainer);
  universeCuller = new Simple();
  universeCuller.cull(universeView.getVisibleBounds());
  universeGraphics = new Graphics();
  universeView.addChild(universeGraphics);
  universeGraphicsText = new BitmapText("", {
    fontName: "sans-serif",
    fontSize: 16,
    //tint: 0x0000FF,
    align: "right"
  });
  universeView.addChild(universeGraphicsText);
  uiOverlay = new Container();
  const popupOverlay = new Container();
  const sidebar = createSidebar();
  uiOverlay.addChild(sidebar.displayObject);
  behaviorWindow = new BehaviorWindow();
  trpc.availableBehaviors.query().then((behaviors) => {
    behaviorWindow.setBehaviors(behaviors);
  });
  behaviorWindow.hide();
  marketWindow = new MarketWindow();
  marketWindow.container.displayObject.visible = false;
  uiOverlay.addChild(marketWindow.container.displayObject);
  popupOverlay.addChild(behaviorWindow.container.displayObject);
  currentCoordinate = new BitmapText("0, 0", {
    fontName: "sans-serif",
    fontSize: 18,
    align: "right"
  });
  currentCoordinate.x = gameWidth - 166;
  currentCoordinate.y = 16;
  currentCoordinate.maxWidth = 150;
  uiOverlay.addChild(currentCoordinate);
  fps = new BitmapText("FPS: 60", {
    fontName: "sans-serif",
    fontSize: 18,
    align: "right"
  });
  fps.x = gameWidth - 166;
  fps.y = 40;
  fps.maxWidth = 150;
  uiOverlay.addChild(fps);
  const bgContainer = new TilingSprite(loadedAssets.bgTexture, 4096, 4096);
  app2.stage.addChild(bgContainer);
  app2.stage.addChild(universeView);
  app2.stage.addChild(systemView);
  app2.stage.addChild(uiOverlay);
  app2.stage.addChild(popupOverlay);
};

// src/common/lib/getDistance.ts
var getDistance = (pos1, pos2) => {
  return Math.sqrt(Math.pow(pos1.x - pos2.x, 2) + Math.pow(pos1.y - pos2.y, 2));
};

// src/frontend/lib/loadUniverse.ts
var addTraitIcons2 = (item, container) => {
  let xOffset = 0;
  if (item.hasMarket) {
    const sprite = new Sprite(loadedAssets.market);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.25 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
  if (item.hasShipyard) {
    const sprite = new Sprite(loadedAssets.shipyard);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.24 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
  if (item.hasBelt) {
    const sprite = new Sprite(loadedAssets.asteroidBelt);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.24 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
  if (item.hasJumpGate) {
    const sprite = new Sprite(loadedAssets.jumpgate);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.24 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
  if (item.hasStation && !item.hasShipyard) {
    const sprite = new Sprite(loadedAssets.station);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.24 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
  if (item.hasUncharted) {
    const sprite = new Sprite(loadedAssets.treasure);
    sprite.pivot = {
      x: 32,
      y: 32
    };
    sprite.scale = { x: 0.25, y: 0.24 };
    sprite.x = xOffset - 16;
    sprite.y = 24;
    container.addChild(sprite);
    xOffset += 16;
  }
};
function createStar(starData) {
  let texture = loadedAssets.sheet.textures[`planets/tile/${starData.type}.png`];
  const star = new Sprite(texture);
  star.pivot = {
    x: 32,
    y: 32
  };
  const text = new BitmapText(starData.name + "\n(" + starData.symbol + ")", {
    fontName: "sans-serif",
    fontSize: 18,
    align: "left"
  });
  text.name = "label";
  text.x = 0;
  text.y = 40;
  const starContainer = new Container();
  starContainer.addChild(star);
  starContainer.addChild(text);
  addTraitIcons2(starData, starContainer);
  makeInteractiveAndSelectable(starContainer, {
    onMouseOut: () => {
      GameState.hoveredSystem = void 0;
    },
    onMouseOver: () => {
      GameState.hoveredSystem = starData;
    },
    onOrder: [
      {
        name: "Travel",
        withSelection: "ship",
        isAvailable: async () => {
          return true;
        },
        action: async () => {
          await trpc.orderTravel.mutate({
            shipSymbol: GameState.selected.symbol,
            systemSymbol: starData.symbol
          });
        }
      },
      {
        name: "Warp",
        withSelection: "ship",
        isAvailable: async () => {
          const shipData = GameState.shipData[GameState.selected.symbol];
          const warpRange = shipData.modules.find((m2) => m2.effectName === "WARP_DRIVE")?.value;
          const currentSystem = GameState.systemData[shipData.currentWaypoint.systemSymbol];
          return getDistance(currentSystem, GameState.hoveredSystem) < warpRange;
        },
        action: async () => {
          const waypoints = await trpc.waypointsForSystem.query({
            system: starData.symbol
          });
          console.log("waypoints", waypoints);
          const bestWaypoint = waypoints.find((w3) => w3.traits.find((t2) => t2.symbol === "MARKETPLACE"))?.symbol ?? waypoints[0].symbol;
          if (bestWaypoint) {
            console.log("warping to ", bestWaypoint);
            const res = await trpc.instructWarp.mutate({
              shipSymbol: GameState.selected.symbol,
              waypointSymbol: bestWaypoint
            });
            GameState.shipData[res.symbol] = res;
          } else {
            alert("Cannot warp to system without waypoints, nothing to target");
          }
        }
      },
      {
        name: "Jump using gate",
        withSelection: "ship",
        isAvailable: async () => {
          const shipData = GameState.shipData[GameState.selected.symbol];
          const currentSystemWaypoints = await trpc.waypointsForSystem.query({
            system: shipData.currentWaypoint.systemSymbol
          });
          const jumpGate = currentSystemWaypoints.find((wp) => wp.type === "JUMP_GATE" && wp.symbol === shipData.currentWaypoint.symbol);
          console.log("deve", { currentSystemWaypoints, jumpGate });
          return !!jumpGate;
        },
        action: async () => {
          const res = await trpc.instructJump.mutate({
            shipSymbol: GameState.selected.symbol,
            systemSymbol: starData.symbol
          });
          GameState.shipData[res.symbol] = res;
        }
      },
      {
        name: "Jump",
        withSelection: "ship",
        isAvailable: async () => {
          const shipData = GameState.shipData[GameState.selected.symbol];
          const jumpRange = shipData.modules.find((m2) => m2.effectName === "JUMP_DRIVE")?.value;
          const currentSystem = GameState.systemData[shipData.currentWaypoint.systemSymbol];
          return !!GameState.selected?.symbol && getDistance(currentSystem, GameState.hoveredSystem) < jumpRange;
        },
        action: async () => {
          const res = await trpc.instructJump.mutate({
            shipSymbol: GameState.selected.symbol,
            systemSymbol: starData.symbol
          });
          GameState.shipData[res.symbol] = res;
        }
      },
      {
        name: "Set behavior",
        withSelection: "ship",
        isAvailable: async () => {
          return true;
        },
        action: async (selectedSymbol) => {
          behaviorWindow.show();
          behaviorWindow.setHome(starData.symbol);
          deselectListeners.once("deselect", () => {
            behaviorWindow.hide();
          });
        }
      }
    ]
  });
  starContainer.on("click", () => {
    loadSystem(starData.symbol);
  });
  const displayCoords = convertToDisplayCoordinates(starData);
  starContainer.x = displayCoords.x;
  starContainer.y = displayCoords.y;
  return starContainer;
}
var loadUniverse = async () => {
  const references = {};
  const systems = await trpc.getSystems.query();
  for (const starData of systems) {
    GameState.systemData[starData.symbol] = starData;
    if (starData.x < universeCoordinates.minX)
      universeCoordinates.minX = starData.x;
    if (starData.x > universeCoordinates.maxX)
      universeCoordinates.maxX = starData.x;
    if (starData.y < universeCoordinates.minY)
      universeCoordinates.minY = starData.y;
    if (starData.y > universeCoordinates.maxY)
      universeCoordinates.maxY = starData.y;
  }
  GameState.systems = {};
  scale.universe = totalSize / (universeCoordinates.maxX - universeCoordinates.minX);
  const influenceGraphics = new Graphics();
  highlightmodes.Factions(influenceGraphics);
  influenceGraphics.name = "highlight";
  universeView.addChild(influenceGraphics);
  const jumpGraphics = new Graphics();
  for (const starData of systems) {
    const jumpGate = starData.hasJumpGate;
    if (jumpGate && starData.jumpgateRange) {
      const validJumpTargets = systems.filter((s2) => getDistance(s2, starData) <= starData.jumpgateRange && s2.hasJumpGate && s2.symbol !== starData.symbol);
      validJumpTargets.forEach((jumpTarget) => {
        const displayCoords = convertToDisplayCoordinates(starData);
        const targetCoords = convertToDisplayCoordinates(jumpTarget);
        jumpGraphics.lineStyle({
          width: starData.jumpgateRange / 250,
          color: 10066227,
          alpha: 0.1
        });
        jumpGraphics.moveTo(displayCoords.x, displayCoords.y);
        jumpGraphics.lineTo(targetCoords.x, targetCoords.y);
        jumpGraphics.closePath();
      });
    }
  }
  universeView.addChild(jumpGraphics);
  const routeGraphics = new Graphics();
  routeGraphics.name = "route";
  universeView.addChild(routeGraphics);
  const homeSystemGraphics = new Graphics();
  homeSystemGraphics.name = "homeSystem";
  universeView.addChild(homeSystemGraphics);
  const starsCont = new Container();
  for (const starData of systems) {
    const starContainer = createStar(starData);
    GameState.systems[starData.symbol] = starContainer;
    starsCont.addChild(starContainer);
    references[starData.symbol] = starContainer;
  }
  universeView.addChild(starsCont);
  universeCuller.addList(starsCont.children);
  resetShipWaypoints();
  GameState.universeShips = {};
  Object.values(GameState.shipData).forEach((ship) => {
    const shipGroup = new Container();
    const itemSprite = new Sprite(loadedAssets.spaceshipTextures[ship.frameSymbol] ? loadedAssets.spaceshipTextures[ship.frameSymbol] : loadedAssets.spaceshipTexture);
    itemSprite.name = "ship";
    itemSprite.pivot = {
      x: 32,
      y: 32
    };
    const navSprite = new Sprite(loadedAssets.navArrow);
    navSprite.pivot = {
      x: navSprite.width / 2,
      y: navSprite.height / 2
    };
    navSprite.name = "nav";
    navSprite.visible = false;
    shipGroup.addChild(navSprite);
    itemSprite.scale = { x: 0.5, y: 0.5 };
    const shipPosition = positionUniverseShip(ship);
    shipGroup.x = shipPosition.x;
    shipGroup.y = shipPosition.y;
    shipGroup.addChild(itemSprite);
    const text = new BitmapText(ship.symbol + " - " + ship.role, {
      fontName: "sans-serif",
      fontSize: 16,
      align: "right"
    });
    text.visible = false;
    text.x = 0;
    text.y = 32;
    shipGroup.addChild(text);
    makeInteractiveAndSelectable(shipGroup, {
      onMouseOver: () => {
        text.visible = true;
      },
      onMouseOut: () => {
        text.visible = false;
      },
      onSelect: {
        type: "ship",
        symbol: ship.symbol
      }
    });
    universeView.addChild(shipGroup);
    GameState.universeShips[ship.symbol] = shipGroup;
  });
  const graphics = new Graphics();
  graphics.lineStyle({
    width: 15,
    color: 30719
  });
  const multiFactor = 5e3 / (universeCoordinates.maxX - universeCoordinates.minX) * totalSize;
  const commandShip = Object.values(GameState.shipData).find((ship) => ship.role === "COMMAND");
  const commandShipLocation = commandShip?.currentWaypoint.systemSymbol;
  universeView.addChild(graphics);
  if (commandShipLocation) {
    universeView.moveCenter(references[commandShipLocation].x, references[commandShipLocation].y);
  }
  return {
    systems: references
  };
};

// src/frontend/lib/worldCoordinateToOriginal.ts
var worldCoordinateToOriginal = (point) => {
  const multiFactor = (universeCoordinates.maxX - universeCoordinates.minX) / totalSize;
  return {
    x: Math.round(universeCoordinates.minX + point.x * multiFactor),
    y: Math.round(universeCoordinates.minY + point.y * multiFactor)
  };
};
var systemCoordinateToOriginal = (point) => {
  return {
    x: Math.round(systemCoordinates.minX + point.x / systemScale),
    y: Math.round(systemCoordinates.minY + point.y / systemScale)
  };
};

// src/frontend/lib/targetingLine.ts
var clearGraphics = () => {
  universeGraphics.clear();
  systemGraphics.clear();
  universeGraphicsText.text = "";
  systemGraphicsText.text = "";
};
var warpColor = 4491229;
var jumpColor = 10066227;
var universeTargetingLine = (sizeMultiplier) => {
  if (GameState.hoveredSystem && GameState.currentView == "universe" && GameState.selected?.type === "ship") {
    const selectedShip = GameState.shipData[GameState.selected?.symbol];
    const warpRange = selectedShip.modules.find((m2) => m2.effectName === "WARP_DRIVE")?.value;
    const jumpRange = selectedShip.modules.find((m2) => m2.effectName === "JUMP_DRIVE")?.value;
    const jumpGateRange = GameState.waypointData[selectedShip.currentWaypoint.symbol]?.jumpgate?.range;
    const currentSystemSymbol = GameState.shipData[GameState.selected.symbol].currentWaypoint.systemSymbol;
    const hoveredSystemSymbol = GameState.hoveredSystem.symbol;
    const fromContainer = GameState.systems[currentSystemSymbol];
    const toContainer = GameState.systems[hoveredSystemSymbol];
    if (!fromContainer || !toContainer)
      return;
    const fromData = GameState.systemData[currentSystemSymbol];
    const toData = GameState.systemData[hoveredSystemSymbol];
    const distance = Math.round(Math.sqrt(Math.pow(fromData.x - toData.x, 2) + Math.pow(fromData.y - toData.y, 2)));
    if (jumpRange && distance < (jumpGateRange ?? jumpRange)) {
      universeGraphics.lineStyle({
        color: jumpColor,
        width: sizeMultiplier
      });
    } else if (warpRange && distance < warpRange) {
      universeGraphics.lineStyle({
        color: warpColor,
        width: sizeMultiplier
      });
    } else {
      universeGraphics.lineStyle({
        color: 16711680,
        width: sizeMultiplier
      });
    }
    universeGraphics.moveTo(fromContainer.x, fromContainer.y);
    universeGraphics.lineTo(toContainer.x, toContainer.y);
    universeGraphicsText.x = (fromContainer.x + toContainer.x) / 2;
    universeGraphicsText.y = (fromContainer.y + toContainer.y) / 2 + 120;
    universeGraphicsText.text = `Distance ${distance}`;
    universeGraphicsText.scale = { x: sizeMultiplier, y: sizeMultiplier };
  }
  if (GameState.currentView === "universe" && GameState.selected?.type === "ship") {
    const currentSystemSymbol = GameState.shipData[GameState.selected.symbol].currentWaypoint.systemSymbol;
    const fromContainer = GameState.systems[currentSystemSymbol];
    const selectedShip = GameState.shipData[GameState.selected?.symbol];
    const warpRange = selectedShip.modules.find((m2) => m2.effectName === "WARP_DRIVE")?.value;
    const jumpRange = selectedShip.modules.find((m2) => m2.effectName === "JUMP_DRIVE")?.value;
    const jumpGateRange = GameState.waypointData[selectedShip.currentWaypoint.symbol]?.jumpgate?.range;
    console.log("jumpgate range", jumpGateRange);
    if (warpRange) {
      universeGraphics.lineStyle({
        color: warpColor,
        width: sizeMultiplier
      });
      universeGraphics.drawCircle(fromContainer.x, fromContainer.y, warpRange * scale.universe);
    }
    if (jumpRange || jumpGateRange) {
      universeGraphics.lineStyle({
        color: jumpColor,
        width: sizeMultiplier
      });
      universeGraphics.drawCircle(fromContainer.x, fromContainer.y, (jumpGateRange ?? jumpRange) * scale.universe);
    }
  }
};
var systemTargetingLine = () => {
  if (GameState.hoveredWaypoint && GameState.selected?.type === "ship" && GameState.hoveredWaypoint.symbol !== GameState.shipData[GameState.selected.symbol].currentWaypoint.symbol) {
    console.log("shiptargeting");
    systemGraphics.clear();
    systemGraphics.lineStyle({
      color: 5583871,
      width: 10
    });
    const currentWaypointSymbol = GameState.shipData[GameState.selected.symbol].currentWaypoint.symbol;
    const hoveredWaypointSymbol = GameState.hoveredWaypoint.symbol;
    const fromContainer = GameState.waypoints[currentWaypointSymbol];
    const toContainer = GameState.waypoints[hoveredWaypointSymbol];
    if (!fromContainer || !toContainer)
      return;
    systemGraphics.moveTo(fromContainer.x, fromContainer.y);
    systemGraphics.lineTo(toContainer.x, toContainer.y);
    const fromData = GameState.waypointData[currentWaypointSymbol];
    const toData = GameState.waypointData[hoveredWaypointSymbol];
    systemGraphicsText.x = (toContainer.x - fromContainer.x) / 2;
    systemGraphicsText.y = (toContainer.y - fromContainer.y) / 2 + 120;
    systemGraphicsText.text = `Distance ${Math.round(Math.sqrt(Math.pow(fromData.x - toData.x, 2) + Math.pow(fromData.y - toData.y, 2)))}`;
  }
};

// src/frontend/index.ts
if (!localStorage.getItem("agent-token")) {
  const agentToken = prompt("Please enter your agent token");
  localStorage.setItem("agent-token", agentToken);
}
document.body.appendChild(app.view);
app.view.addEventListener("contextmenu", (e3) => {
  e3.preventDefault();
});
app.stage.interactive = true;
app.stage.hitArea = app.screen;
app.stage.on("click", (event) => {
  console.log(event);
  deselectListeners.emit("deselect");
  GameState.selected = void 0;
});
await loadAssets();
await createUIElements(app);
await loadPlayerData();
var loadedUniverse = await loadUniverse();
var format2 = Intl.NumberFormat("en");
var lastRefresh = Date.now();
var hidingLabels = false;
var currentRoute;
trpc.event.subscribe(void 0, {
  onData: (data) => {
    console.log("event", data);
    if (data.type == "NAVIGATE") {
      GameState.shipData[data.data.symbol] = data.data;
    }
  }
});
app.ticker.add((dt) => {
  const sizeMultiplier = Math.min(universeView.worldScreenWidth / universeView.screenWidth, 20);
  const shipSizeMultiplier = universeView.worldScreenWidth / universeView.screenWidth;
  credits.displayObject.bitmapText.text = `${format2.format(GameState.agent.credits)}`;
  if (GameState.currentView == "universe") {
    Object.values(loadedUniverse.systems).forEach((ref) => {
      ref.scale = { x: sizeMultiplier, y: sizeMultiplier };
    });
    if (!hidingLabels && shipSizeMultiplier > 15) {
      hidingLabels = true;
      Object.values(loadedUniverse.systems).forEach((ref) => {
        ref.getChildByName("label").visible = false;
        ref.interactive = false;
      });
    } else if (hidingLabels && shipSizeMultiplier < 15) {
      hidingLabels = false;
      Object.values(loadedUniverse.systems).forEach((ref) => {
        ref.getChildByName("label").visible = true;
        ref.interactive = true;
      });
    }
    const worldCoordinates = worldCoordinateToOriginal(universeView.toWorld(app.renderer.plugins.interaction.rootPointerEvent.offset));
    currentCoordinate.text = worldCoordinates.x + ", " + worldCoordinates.y;
    resetShipWaypoints();
    Object.keys(GameState.universeShips).forEach((shipKey) => {
      const shipData = GameState.shipData[shipKey];
      const shipContainer = GameState.universeShips[shipKey];
      shipContainer.scale = { x: shipSizeMultiplier, y: shipSizeMultiplier };
      const shipPosition = positionUniverseShip(shipData);
      shipContainer.x = shipPosition.x;
      shipContainer.y = shipPosition.y;
      const nav = shipContainer.getChildByName("nav");
      if (nav) {
        if (shipPosition.navRot) {
          nav.visible = true;
          shipContainer.getChildByName("ship").rotation = shipPosition.navRot;
          shipContainer.getChildByName("nav").rotation = shipPosition.navRot;
        } else {
          nav.visible = false;
          shipContainer.getChildByName("ship").rotation = 0;
          shipContainer.getChildByName("nav").rotation = 0;
        }
      }
      if (shipData.navStatus === "IN_TRANSIT" && new Date(shipData.arrivalOn).getTime() < Date.now()) {
        shipData.navStatus = "IN_ORBIT";
      }
    });
  } else {
    const systemCoordinate = systemCoordinateToOriginal(systemView.toWorld(app.renderer.plugins.interaction.rootPointerEvent.offset));
    currentCoordinate.text = systemCoordinate.x + ", " + systemCoordinate.y;
    Object.keys(GameState.waypoints).forEach((waypointSymbol) => {
      const waypointItem = GameState.waypoints[waypointSymbol];
      const waypointData = GameState.waypointData[waypointSymbol];
      const newPosition = positionWaypoint(waypointData, Date.now());
      waypointItem.x = newPosition.x;
      waypointItem.y = newPosition.y;
    });
    resetShipWaypoints();
    Object.keys(GameState.systemShips).forEach((shipKey) => {
      const shipData = GameState.shipData[shipKey];
      const shipContainer = GameState.systemShips[shipKey];
      const shipPosition = positionShip(shipData);
      shipContainer.x = shipPosition.x;
      shipContainer.y = shipPosition.y;
      const nav = shipContainer.getChildByName("nav");
      if (nav) {
        if (shipPosition.navRot) {
          nav.visible = true;
          shipContainer.getChildByName("ship").rotation = shipPosition.navRot;
          shipContainer.getChildByName("nav").rotation = shipPosition.navRot;
        } else {
          nav.visible = false;
          shipContainer.getChildByName("ship").rotation = 0;
          shipContainer.getChildByName("nav").rotation = 0;
        }
      }
      if (shipData.navStatus === "IN_TRANSIT" && new Date(shipData.arrivalOn).getTime() < Date.now()) {
        shipData.navStatus = "IN_ORBIT";
      }
    });
  }
  clearGraphics();
  universeTargetingLine(sizeMultiplier);
  systemTargetingLine();
  const homeGraphics = universeView.getChildByName("homeSystem");
  if (GameState.selected) {
    if (GameState.selected.type === "ship") {
      const shipInfo = GameState.shipData[GameState.selected.symbol];
      cruiseModeSelect.displayObject.visible = true;
      if (shipInfo.flightMode && cruiseModeSelect.selectedValue !== shipInfo.flightMode) {
        cruiseModeSelect.setSelectedValue(shipInfo.flightMode);
      }
      const cooldownTime = new Date(shipInfo.reactorCooldownOn).getTime();
      const cooldownValue = cooldownTime > Date.now() ? Math.round((cooldownTime - Date.now()) / 1e3) + "s" : "Ready";
      const navTime = new Date(shipInfo.arrivalOn).getTime();
      const arrivalValue = navTime > Date.now() ? Math.round((navTime - Date.now()) / 1e3) + "s" : "Ready";
      if (GameState.agent.symbol === shipInfo.agent) {
        entityInfo.displayObject.bitmapText.text = `Entity Information
Symbol: ${shipInfo.symbol}
Location: ${shipInfo.currentWaypoint.symbol}
Fuel: ${shipInfo.fuelAvailable}/${shipInfo.fuelCapacity}
Cargo: ${shipInfo.cargoUsed}/${shipInfo.cargoCapacity}
Nav Status: ${shipInfo.navStatus} ${arrivalValue}
Reactor Cooldown: ${cooldownValue}
Action: ${shipInfo.overalGoal}`;
      } else {
        entityInfo.displayObject.bitmapText.text = `Entity Information
Symbol: ${shipInfo.symbol}
Location: ${shipInfo.currentWaypoint.symbol}
Owner: ${shipInfo.agent}
Nav Status: ${shipInfo.navStatus} ${arrivalValue}
Last update: ${Math.round((Date.now() - new Date(shipInfo.updatedAt).getTime()) / 1e3)}s ago`;
      }
      if (GameState.hoveredSystem) {
        if (currentRoute != GameState.hoveredSystem + GameState.selected.symbol) {
          currentRoute = GameState.hoveredSystem + GameState.selected.symbol;
          const route = trpc.getRoute.query({
            fromSystemSymbol: shipInfo.currentSystemSymbol,
            toSystemSymbol: GameState.hoveredSystem.symbol
          }).then((data) => {
            const graphics = universeView.getChildByName("route");
            graphics.clear();
            data.finalPath.forEach((item) => {
              const fromSystem = GameState.systemData[item.source];
              const toSystem = GameState.systemData[item.target];
              const displayCoords = convertToDisplayCoordinates(fromSystem);
              const targetCoords = convertToDisplayCoordinates(toSystem);
              graphics.lineStyle({
                width: 10,
                color: 65280,
                alpha: 0.25
              });
              graphics.moveTo(displayCoords.x, displayCoords.y);
              graphics.lineTo(targetCoords.x, targetCoords.y);
              graphics.closePath();
            });
          });
        }
      } else {
        currentRoute = "";
        const graphics = universeView.getChildByName("route");
        graphics.clear();
      }
      if (GameState.currentView == "universe" && shipInfo.currentBehavior) {
        homeGraphics.clear();
        const homeSystem = GameState.systemData[shipInfo.homeSystemSymbol];
        const shipCoordinates = GameState.universeShips[shipInfo.symbol].position;
        const displayCoordinates = convertToDisplayCoordinates(homeSystem);
        homeGraphics.lineStyle({
          width: 10 * sizeMultiplier,
          color: 65280,
          alpha: 0.5
        });
        homeGraphics.moveTo(shipCoordinates.x, shipCoordinates.y);
        homeGraphics.lineTo(displayCoordinates.x, displayCoordinates.y);
        homeGraphics.closePath();
        homeGraphics.lineStyle({
          width: 10 * sizeMultiplier,
          color: 16777215,
          alpha: 0.5
        });
        const range = shipInfo.behaviorRange * scale.universe;
        homeGraphics.drawRect(displayCoordinates.x - range, displayCoordinates.y - range, range * 2, range * 2);
        homeGraphics.closePath();
      } else {
        homeGraphics.clear();
      }
    } else if (GameState.selected.type === "waypoint") {
      const waypointInfo = GameState.waypointData[GameState.selected.symbol];
      entityInfo.displayObject.bitmapText.text = `Entity Information
Symbol: ${GameState.selected.symbol}
Kind: ${waypointInfo.type}
Traits: ${waypointInfo.traits.length == 0 ? "UNKNOWN" : waypointInfo.traits.map((t2) => t2.name).join(", ")}
Faction: ${waypointInfo.factionSymbol}
Chart: ${waypointInfo.chartSubmittedBy ? `${waypointInfo.chartSubmittedBy} at ${waypointInfo.chartSubmittedOn}` : "None"}`;
      if (waypointInfo.traits.find((t2) => t2.symbol === "MARKETPLACE") && GameState.displayedMarket !== GameState.selected.symbol) {
        GameState.displayedMarket = GameState.selected.symbol;
        trpc.getMarketInfo.query({
          waypoint: GameState.selected.symbol
        }).then((data) => {
          console.log("marketinfo", data);
          marketWindow.clearGoods();
          marketWindow.setGoods(data);
          marketWindow.container.displayObject.x = 400;
          marketWindow.container.displayObject.y = gameHeight - 200;
          marketWindow.container.displayObject.visible = true;
        });
      }
    }
  } else {
    currentRoute = "";
    const graphics = universeView.getChildByName("route");
    graphics.clear();
    homeGraphics.clear();
    GameState.displayedMarket = void 0;
    marketWindow.container.displayObject.visible = false;
    cruiseModeSelect.displayObject.visible = false;
    entityInfo.displayObject.bitmapText.text = `Entity Information`;
  }
  if (universeView.dirty) {
    universeCuller.cull(universeView.getVisibleBounds());
    universeView.dirty = false;
  }
  fps.text = `FPS: ${Math.round(app.ticker.FPS)}`;
});
/*! Bundled license information:

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

@trpc/client/dist/httpUtils-1efcb902.mjs:
  (* istanbul ignore if -- @preserve *)

@trpc/client/dist/links/wsLink.mjs:
  (* istanbul ignore next -- @preserve *)

@pixi/filter-glow/dist/filter-glow.mjs:
  (*!
   * @pixi/filter-glow - v5.2.1
   * Compiled Fri, 24 Mar 2023 22:12:11 UTC
   *
   * @pixi/filter-glow is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)

pixi-cull/dist/pixi-cull.es.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
